"bundle";
System.registerDynamic("github:VitalStorm/backbone.stickit@master.json", [], false, function() {
  return {
    "main": "backbone.stickit.js"
  };
});

(function() {
var define = System.amdDefine;
(function(factory) {
  if (typeof define === 'function' && define.amd)
    define("github:VitalStorm/backbone.stickit@master/backbone.stickit.js", ["underscore", "backbone", "exports"], factory);
  else if (typeof exports === 'object')
    factory(require('underscore'), require('backbone'), exports);
  else
    factory(_, Backbone, {});
}(function(_, Backbone, Stickit) {
  Backbone.Stickit = Stickit;
  Stickit._handlers = [];
  Stickit.addHandler = function(handlers) {
    handlers = _.map(_.flatten([handlers]), function(handler) {
      return _.defaults({}, handler, {
        updateModel: true,
        updateView: true,
        updateMethod: 'text'
      });
    });
    this._handlers = this._handlers.concat(handlers);
  };
  Stickit._deserializationHandlers = [];
  Stickit.addDeserializationHandler = function(objectConstructor, handler) {
    if (typeof objectConstructor !== 'object') {
      throw 'First arg must be a constructor.';
    }
    Stickit._deserializationHandlers.push({
      type: objectConstructor,
      handler: handler
    });
  };
  Stickit.ViewMixin = {
    _modelBindings: null,
    unstickit: function(model, bindingSelector) {
      if (_.isObject(bindingSelector)) {
        _.each(bindingSelector, function(v, selector) {
          this.unstickit(model, selector);
        }, this);
        return;
      }
      var models = [],
          destroyFns = [];
      this._modelBindings = _.reject(this._modelBindings, function(binding) {
        if (model && binding.model !== model)
          return;
        if (bindingSelector && binding.config.selector != bindingSelector)
          return;
        binding.model.off(binding.event, binding.fn);
        destroyFns.push(binding.config._destroy);
        models.push(binding.model);
        return true;
      });
      _.invoke(_.uniq(models), 'trigger', 'stickit:unstuck', this.cid);
      _.each(_.uniq(destroyFns), function(fn) {
        fn.call(this);
      }, this);
      this.$el.off('.stickit' + (model ? '.' + model.cid : ''), bindingSelector);
    },
    stickit: function(optionalModel, optionalBindingsConfig) {
      var model = optionalModel || this.model,
          bindings = optionalBindingsConfig || _.result(this, "bindings") || {};
      this._modelBindings || (this._modelBindings = []);
      this.addBinding(model, bindings);
      var remove = this.remove;
      if (!remove.stickitWrapped) {
        this.remove = function() {
          var ret = this;
          this.unstickit();
          if (remove)
            ret = remove.apply(this, arguments);
          return ret;
        };
      }
      this.remove.stickitWrapped = true;
      return this;
    },
    addBinding: function(optionalModel, selector, binding) {
      var model = optionalModel || this.model,
          namespace = '.stickit.' + model.cid;
      binding = binding || {};
      if (_.isObject(selector)) {
        var bindings = selector;
        _.each(bindings, function(val, key) {
          this.addBinding(model, key, val);
        }, this);
        return;
      }
      var $el = selector === ':el' ? this.$el : this.$(selector);
      this.unstickit(model, selector);
      if (!$el.length)
        return;
      if (_.isString(binding))
        binding = {observe: binding};
      if (_.isFunction(binding.observe))
        binding.observe = binding.observe.call(this);
      var config = getConfiguration($el, binding);
      var modelAttr = config.observe;
      config.selector = selector;
      config.view = this;
      var bindId = config.bindId = _.uniqueId();
      var options = _.extend({stickitChange: config}, config.setOptions);
      config._destroy = function() {
        applyViewFn.call(this, config.destroy, $el, model, config);
      };
      initializeAttributes($el, config, model, modelAttr);
      initializeVisible($el, config, model, modelAttr);
      initializeClasses($el, config, model, modelAttr);
      if (modelAttr) {
        _.each(config.events, function(type) {
          var eventName = type + namespace;
          var listener = function(event) {
            var val = applyViewFn.call(this, config.getVal, $el, event, config, slice.call(arguments, 1));
            var currentVal = evaluateBoolean(config.updateModel, val, event, config);
            if (currentVal)
              setAttr(model, modelAttr, val, options, config);
          };
          var sel = selector === ':el' ? '' : selector;
          this.$el.on(eventName, sel, _.bind(listener, this));
        }, this);
        _.each(_.flatten([modelAttr]), function(attr) {
          observeModelEvent(model, 'change:' + attr, config, function(m, val, options) {
            var changeId = options && options.stickitChange && options.stickitChange.bindId;
            if (changeId !== bindId) {
              var currentVal = getAttr(model, modelAttr, config);
              updateViewBindEl($el, config, currentVal, model);
            }
          });
        });
        var currentVal = getAttr(model, modelAttr, config);
        updateViewBindEl($el, config, currentVal, model, true);
      }
      applyViewFn.call(this, config.initialize, $el, model, config);
    }
  };
  _.extend(Backbone.View.prototype, Stickit.ViewMixin);
  var slice = [].slice;
  var evaluatePath = function(obj, path) {
    var parts = (path || '').split('.');
    var result = _.reduce(parts, function(memo, i) {
      return memo[i];
    }, obj);
    return result == null ? obj : result;
  };
  var applyViewFn = function(fn) {
    fn = _.isString(fn) ? evaluatePath(this, fn) : fn;
    if (fn)
      return (fn).apply(this, slice.call(arguments, 1));
  };
  var evaluateBoolean = function(reference, val, config) {
    if (_.isBoolean(reference)) {
      return reference;
    } else if (_.isFunction(reference) || _.isString(reference)) {
      var view = _.last(arguments).view;
      return applyViewFn.apply(view, arguments);
    }
    return false;
  };
  var observeModelEvent = function(model, event, config, fn) {
    var view = config.view;
    model.on(event, fn, view);
    view._modelBindings.push({
      model: model,
      event: event,
      fn: fn,
      config: config
    });
  };
  var setAttr = function(model, attr, val, options, config) {
    var value = {},
        view = config.view;
    if (config.onSet) {
      val = applyViewFn.call(view, config.onSet, val, config);
    }
    if (config.set) {
      applyViewFn.call(view, config.set, attr, val, options, config);
    } else {
      value[attr] = val;
      if (_.isArray(attr) && _.isArray(val)) {
        value = _.reduce(attr, function(memo, attribute, index) {
          memo[attribute] = _.has(val, index) ? val[index] : null;
          return memo;
        }, {});
      }
      model.set(value, options);
    }
  };
  var getAttr = function(model, attr, config) {
    var view = config.view;
    var retrieveVal = function(field) {
      return model[config.escape ? 'escape' : 'get'](field);
    };
    var sanitizeVal = function(val) {
      return val == null ? '' : val;
    };
    var val = _.isArray(attr) ? _.map(attr, retrieveVal) : retrieveVal(attr);
    if (config.onGet)
      val = applyViewFn.call(view, config.onGet, val, config);
    return _.isArray(val) ? _.map(val, sanitizeVal) : sanitizeVal(val);
  };
  var getConfiguration = Stickit.getConfiguration = function($el, binding) {
    var handlers = [{
      updateModel: false,
      updateMethod: 'text',
      update: function($el, val, m, opts) {
        if ($el[opts.updateMethod])
          $el[opts.updateMethod](val);
      },
      getVal: function($el, e, opts) {
        return $el[opts.updateMethod]();
      }
    }];
    handlers = handlers.concat(_.filter(Stickit._handlers, function(handler) {
      return $el.is(handler.selector);
    }));
    handlers.push(binding);
    var config = _.extend.apply(_, handlers);
    if (!_.has(config, 'updateView'))
      config.updateView = !config.visible;
    return config;
  };
  var initializeAttributes = function($el, config, model, modelAttr) {
    var props = ['autofocus', 'autoplay', 'async', 'checked', 'controls', 'defer', 'disabled', 'hidden', 'indeterminate', 'loop', 'multiple', 'open', 'readonly', 'required', 'scoped', 'selected'];
    var view = config.view;
    _.each(config.attributes || [], function(attrConfig) {
      attrConfig = _.clone(attrConfig);
      attrConfig.view = view;
      var lastClass = '';
      var observed = attrConfig.observe || (attrConfig.observe = modelAttr);
      var updateAttr = function() {
        var updateType = _.contains(props, attrConfig.name) ? 'prop' : 'attr',
            val = getAttr(model, observed, attrConfig);
        if (attrConfig.name === 'class') {
          $el.removeClass(lastClass).addClass(val);
          lastClass = val;
        } else {
          $el[updateType](attrConfig.name, val);
        }
      };
      _.each(_.flatten([observed]), function(attr) {
        observeModelEvent(model, 'change:' + attr, config, updateAttr);
      });
      updateAttr();
    });
  };
  var initializeClasses = function($el, config, model, modelAttr) {
    _.each(config.classes || [], function(classConfig, name) {
      if (_.isString(classConfig))
        classConfig = {observe: classConfig};
      classConfig.view = config.view;
      var observed = classConfig.observe;
      var updateClass = function() {
        var val = getAttr(model, observed, classConfig);
        $el.toggleClass(name, !!val);
      };
      _.each(_.flatten([observed]), function(attr) {
        observeModelEvent(model, 'change:' + attr, config, updateClass);
      });
      updateClass();
    });
  };
  var initializeVisible = function($el, config, model, modelAttr) {
    if (config.visible == null)
      return;
    var view = config.view;
    var visibleCb = function() {
      var visible = config.visible,
          visibleFn = config.visibleFn,
          val = getAttr(model, modelAttr, config),
          isVisible = !!val;
      if (_.isFunction(visible) || _.isString(visible)) {
        isVisible = !!applyViewFn.call(view, visible, val, config);
      }
      if (visibleFn) {
        applyViewFn.call(view, visibleFn, $el, isVisible, config);
      } else {
        $el.toggle(isVisible);
      }
    };
    _.each(_.flatten([modelAttr]), function(attr) {
      observeModelEvent(model, 'change:' + attr, config, visibleCb);
    });
    visibleCb();
  };
  var updateViewBindEl = function($el, config, val, model, isInitializing) {
    var view = config.view;
    if (!evaluateBoolean(config.updateView, val, config))
      return;
    applyViewFn.call(view, config.update, $el, val, model, config);
    if (!isInitializing)
      applyViewFn.call(view, config.afterUpdate, $el, val, config);
  };
  Stickit.addHandler([{
    selector: '[contenteditable]',
    updateMethod: 'html',
    events: ['input', 'change']
  }, {
    selector: 'input',
    events: ['propertychange', 'input', 'change'],
    update: function($el, val) {
      $el.val(val);
    },
    getVal: function($el) {
      return $el.val();
    }
  }, {
    selector: 'textarea',
    events: ['propertychange', 'input', 'change'],
    update: function($el, val) {
      $el.val(val);
    },
    getVal: function($el) {
      return $el.val();
    }
  }, {
    selector: 'input[type="radio"]',
    events: ['change'],
    update: function($el, val) {
      $el.filter('[value="' + val + '"]').prop('checked', true);
    },
    getVal: function($el) {
      return $el.filter(':checked').val();
    }
  }, {
    selector: 'input[type="checkbox"]',
    events: ['change'],
    update: function($el, val, model, options) {
      if ($el.length > 1) {
        val || (val = []);
        $el.each(function(i, el) {
          var checkbox = Backbone.$(el);
          var checkboxVal = checkbox.val();
          var checked = _.some(val, function(item) {
            return '' + item === checkboxVal;
          });
          checkbox.prop('checked', checked);
        });
      } else {
        var checked = _.isBoolean(val) ? val : '' + val === $el.val();
        $el.prop('checked', checked);
      }
    },
    getVal: function($el) {
      var val;
      if ($el.length > 1) {
        val = _.reduce($el, function(memo, el) {
          var checkbox = Backbone.$(el);
          if (checkbox.prop('checked'))
            memo.push(checkbox.val());
          return memo;
        }, []);
      } else {
        val = $el.prop('checked');
        var boxval = $el.val();
        if (boxval !== 'on' && boxval != null) {
          val = val ? $el.val() : null;
        }
      }
      return val;
    }
  }, {
    selector: 'select',
    events: ['change'],
    update: function($el, val, model, options) {
      var optList,
          selectConfig = options.selectOptions,
          list = selectConfig && selectConfig.collection || undefined,
          isMultiple = $el.prop('multiple');
      if (!selectConfig) {
        selectConfig = {};
        var getList = function($el) {
          return $el.map(function(index, option) {
            var dataVal = Backbone.$(option).data('stickit-bind-val');
            return {
              value: dataVal !== undefined ? dataVal : option.value,
              label: option.text
            };
          }).get();
        };
        if ($el.find('optgroup').length) {
          list = {opt_labels: []};
          if ($el.find('> option').length) {
            list.opt_labels.push(undefined);
            _.each($el.find('> option'), function(el) {
              list[undefined] = getList(Backbone.$(el));
            });
          }
          _.each($el.find('optgroup'), function(el) {
            var label = Backbone.$(el).attr('label');
            list.opt_labels.push(label);
            list[label] = getList(Backbone.$(el).find('option'));
          });
        } else {
          list = getList($el.find('option'));
        }
      }
      selectConfig.valuePath = selectConfig.valuePath || 'value';
      selectConfig.labelPath = selectConfig.labelPath || 'label';
      selectConfig.disabledPath = selectConfig.disabledPath || 'disabled';
      var addSelectOptions = function(optList, $el, fieldVal) {
        _.each(optList, function(obj) {
          var option = Backbone.$('<option/>'),
              optionVal = obj;
          var fillOption = function(text, val, disabled) {
            option.text(text);
            optionVal = val;
            option.data('stickit-bind-val', optionVal);
            if (!_.isArray(optionVal) && !_.isObject(optionVal))
              option.val(optionVal);
            if (disabled === true)
              option.prop('disabled', 'disabled');
          };
          var text,
              val,
              disabled;
          if (obj === '__default__') {
            text = fieldVal.label, val = fieldVal.value, disabled = fieldVal.disabled;
          } else {
            if (typeof selectConfig.labelPath === 'function') {
              text = selectConfig.labelPath(obj);
            } else {
              text = evaluatePath(obj, selectConfig.labelPath);
            }
            val = evaluatePath(obj, selectConfig.valuePath), disabled = evaluatePath(obj, selectConfig.disabledPath);
          }
          fillOption(text, val, disabled);
          var isSelected = function() {
            if (!isMultiple && optionVal != null && fieldVal != null && optionVal === fieldVal) {
              return true;
            } else if (_.isObject(fieldVal) && _.isEqual(optionVal, fieldVal)) {
              return true;
            } else if (fieldVal instanceof Backbone.Model) {
              if (_.isObject(optionVal) && fieldVal.id === optionVal.id) {
                return true;
              }
            }
            return false;
          };
          if (isSelected()) {
            option.prop('selected', true);
          } else if (isMultiple && _.isArray(fieldVal)) {
            _.each(fieldVal, function(val) {
              if (_.isObject(val))
                val = evaluatePath(val, selectConfig.valuePath);
              if (val === optionVal || (_.isObject(val) && _.isEqual(optionVal, val)))
                option.prop('selected', true);
            });
          }
          $el.append(option);
        });
      };
      $el.find('*').remove();
      if (_.isString(list)) {
        var context = window;
        if (list.indexOf('this.') === 0)
          context = this;
        list = list.replace(/^[a-z]*\.(.+)$/, '$1');
        optList = evaluatePath(context, list);
      } else if (_.isFunction(list)) {
        optList = applyViewFn.call(this, list, $el, options);
      } else {
        optList = list;
      }
      if (optList instanceof Backbone.Collection) {
        var collection = optList;
        var refreshSelectOptions = function() {
          var currentVal = getAttr(model, options.observe, options);
          applyViewFn.call(this, options.update, $el, currentVal, model, options);
        };
        var removeCollectionListeners = function() {
          collection.off('add remove reset sort', refreshSelectOptions);
        };
        var removeAllListeners = function() {
          removeCollectionListeners();
          collection.off('stickit:selectRefresh');
          collection.off('stickit:selectRefreshForView');
          model.off('stickit:selectRefresh');
        };
        collection.trigger('stickit:selectRefreshForView', this.cid);
        collection.once('stickit:selectRefreshForView', function(viewCid) {
          if (this.cid == viewCid) {
            collection.trigger('stickit:selectRefresh');
          }
        }, this);
        collection.once('stickit:selectRefresh', removeCollectionListeners, this);
        collection.on('add remove reset sort', refreshSelectOptions, this);
        model.trigger('stickit:selectRefresh');
        model.once('stickit:selectRefresh', function() {
          model.off('stickit:unstuck', removeAllListeners);
        });
        model.once('stickit:unstuck', removeAllListeners, this);
        var modelReferenceList = [];
        var getModelAttribute = function(attr, options) {
          if (attr instanceof Backbone.Collection) {
            return getModelsOfCollection(attr);
          } else if (attr instanceof Backbone.Model) {
            if (_.indexOf(modelReferenceList, attr) > -1) {
              return attr.id;
            } else {
              modelReferenceList.push(attr);
              return getAttributesOfModel(attr);
            }
          } else {
            var handlerElem = _.find(Stickit._deserializationHandlers, function(elem) {
              return (attr instanceof elem.type);
            });
            if (handlerElem) {
              return handlerElem.handler(attr);
            } else {
              return attr;
            }
          }
        };
        var getAttributesOfModel = function(model, options) {
          var data = {};
          var pairs = model.pairs();
          for (var i = 0,
              pLen = pairs.length; i < pLen; i++) {
            data[pairs[i][0]] = getModelAttribute(pairs[i][1], options);
          }
          return data;
        };
        var getModelsOfCollection = function(collection, options) {
          var data = [];
          collection.each(function(model) {
            if (options && options.useBackboneModels) {
              data.push(model);
            } else {
              data.push(getAttributesOfModel(model, options));
            }
          });
          return data;
        };
        optList = getModelsOfCollection(optList, options);
      }
      if (selectConfig.defaultOption) {
        var option = _.isFunction(selectConfig.defaultOption) ? selectConfig.defaultOption.call(this, $el, options) : selectConfig.defaultOption;
        addSelectOptions(["__default__"], $el, option);
      }
      if (_.isArray(optList)) {
        addSelectOptions(optList, $el, val);
      } else if (optList.opt_labels) {
        _.each(optList.opt_labels, function(label) {
          var $group = Backbone.$('<optgroup/>').attr('label', label);
          addSelectOptions(optList[label], $group, val);
          $el.append($group);
        });
      } else {
        var opts = [],
            opt;
        for (var i in optList) {
          opt = {};
          opt[selectConfig.valuePath] = i;
          opt[selectConfig.labelPath] = optList[i];
          opts.push(opt);
        }
        opts = _.sortBy(opts, selectConfig.comparator || selectConfig.labelPath);
        addSelectOptions(opts, $el, val);
      }
    },
    getVal: function($el) {
      var selected = $el.find('option:selected');
      if ($el.prop('multiple')) {
        return _.map(selected, function(el) {
          return Backbone.$(el).data('stickit-bind-val');
        });
      } else {
        return selected.data('stickit-bind-val');
      }
    }
  }]);
  return Stickit;
}));

})();
//credit to https://github.com/bazineta for the original

'use strict';

//import * as _ from 'underscore';
//import * as Marionette from 'marionette';

System.register('lib/shims/marionette.stickit.shim.js', ['underscore', 'marionette'], function (_export, _context) {
  "use strict";

  var _, Marionette, _stickit, _addBinding, _unstickit, normalizeUIString, normalizeSelector, uiBindings;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _stickit = Marionette.View.prototype.stickit;
      _addBinding = Marionette.View.prototype.addBinding;
      _unstickit = Marionette.View.prototype.unstickit;

      normalizeUIString = function normalizeUIString(uiString, ui) {
        return uiString.replace(/@ui\.[a-zA-Z_$0-9]*/g, function (r) {
          return ui[r.slice(4)];
        });
      };

      normalizeSelector = function normalizeSelector(selector, ui) {
        switch (false) {
          case !_.isObject(selector):
            return Marionette.View.prototype.normalizeUIKeys(selector, ui);
          case !_.isString(selector):
            return normalizeUIString(selector, ui);
          default:
            return selector;
        }
      };

      uiBindings = function uiBindings(view) {
        return _.result(view, '_uiBindings') || _.result(view, 'ui');
      };

      // Shim the three standard Stickit calls into Marionette View objects so
      // that we can use the @ui syntax for bindings; this eliminates repetition of
      // possibly long and complex selectors and allows us to have one definition
      // for them, in the ui hash or function for the View.
      _.extend(Marionette.View.prototype, {
        stickit: function stickit(optionalModel, optionalBindings) {
          return _stickit.call(this, optionalModel, this.normalizeUIKeys(optionalBindings || _.result(this, 'bindings') || {}));
        },
        addBinding: function addBinding(optionalModel, selector, configuration) {
          return _addBinding.call(this, optionalModel, normalizeSelector(selector, uiBindings(this)), configuration);
        },
        unstickit: function unstickit(optionalModel, optionalSelector) {
          return _unstickit.call(this, optionalModel, normalizeSelector(optionalSelector, uiBindings(this)));
        }
      });
    }
  };
});
System.registerDynamic("github:systemjs/plugin-text@0.0.9.json", [], false, function() {
  return {
    "main": "text"
  };
});

System.register("css/step-inventory.css!github:systemjs/plugin-text@0.0.9/text.js", [], function (_export, _context) {
  "use strict";

  var __useDefault;

  return {
    setters: [],
    execute: function () {
      _export("__useDefault", __useDefault = true);

      _export("__useDefault", __useDefault);

      _export("default", "@charset \"UTF-8\";\r\n/*!\r\n *  Font Awesome 4.7.0 by @davegandy - http://fontawesome.io - @fontawesome\r\n *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)\r\n */\r\n/* FONT PATH\r\n * -------------------------- */\r\n@font-face {\r\n  font-family: 'FontAwesome';\r\n  src: url(\"../fonts/fontawesome-webfont.eot?v=4.7.0\");\r\n  src: url(\"../fonts/fontawesome-webfont.eot?#iefix&v=4.7.0\") format(\"embedded-opentype\"), url(\"../fonts/fontawesome-webfont.woff2?v=4.7.0\") format(\"woff2\"), url(\"../fonts/fontawesome-webfont.woff?v=4.7.0\") format(\"woff\"), url(\"../fonts/fontawesome-webfont.ttf?v=4.7.0\") format(\"truetype\"), url(\"../fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular\") format(\"svg\");\r\n  font-weight: normal;\r\n  font-style: normal; }\r\n\r\n.fa {\r\n  display: inline-block;\r\n  font: normal normal normal 14px/1 FontAwesome;\r\n  font-size: inherit;\r\n  text-rendering: auto;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale; }\r\n\r\n/* makes the font 33% larger relative to the icon container */\r\n.fa-lg {\r\n  font-size: 1.33333em;\r\n  line-height: 0.75em;\r\n  vertical-align: -15%; }\r\n\r\n.fa-2x {\r\n  font-size: 2em; }\r\n\r\n.fa-3x {\r\n  font-size: 3em; }\r\n\r\n.fa-4x {\r\n  font-size: 4em; }\r\n\r\n.fa-5x {\r\n  font-size: 5em; }\r\n\r\n.fa-fw {\r\n  width: 1.28571em;\r\n  text-align: center; }\r\n\r\n.fa-ul {\r\n  padding-left: 0;\r\n  margin-left: 2.14286em;\r\n  list-style-type: none; }\r\n  .fa-ul > li {\r\n    position: relative; }\r\n\r\n.fa-li {\r\n  position: absolute;\r\n  left: -2.14286em;\r\n  width: 2.14286em;\r\n  top: 0.14286em;\r\n  text-align: center; }\r\n  .fa-li.fa-lg {\r\n    left: -1.85714em; }\r\n\r\n.fa-border {\r\n  padding: .2em .25em .15em;\r\n  border: solid 0.08em #eee;\r\n  border-radius: .1em; }\r\n\r\n.fa-pull-left {\r\n  float: left; }\r\n\r\n.fa-pull-right {\r\n  float: right; }\r\n\r\n.fa.fa-pull-left {\r\n  margin-right: .3em; }\r\n\r\n.fa.fa-pull-right {\r\n  margin-left: .3em; }\r\n\r\n/* Deprecated as of 4.4.0 */\r\n.pull-right {\r\n  float: right; }\r\n\r\n.pull-left {\r\n  float: left; }\r\n\r\n.fa.pull-left {\r\n  margin-right: .3em; }\r\n\r\n.fa.pull-right {\r\n  margin-left: .3em; }\r\n\r\n.fa-spin {\r\n  -webkit-animation: fa-spin 2s infinite linear;\r\n  animation: fa-spin 2s infinite linear; }\r\n\r\n.fa-pulse {\r\n  -webkit-animation: fa-spin 1s infinite steps(8);\r\n  animation: fa-spin 1s infinite steps(8); }\r\n\r\n@-webkit-keyframes fa-spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg); }\r\n  100% {\r\n    -webkit-transform: rotate(359deg);\r\n    transform: rotate(359deg); } }\r\n\r\n@keyframes fa-spin {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg); }\r\n  100% {\r\n    -webkit-transform: rotate(359deg);\r\n    transform: rotate(359deg); } }\r\n\r\n.fa-rotate-90 {\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\";\r\n  -webkit-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  transform: rotate(90deg); }\r\n\r\n.fa-rotate-180 {\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\";\r\n  -webkit-transform: rotate(180deg);\r\n  -ms-transform: rotate(180deg);\r\n  transform: rotate(180deg); }\r\n\r\n.fa-rotate-270 {\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\";\r\n  -webkit-transform: rotate(270deg);\r\n  -ms-transform: rotate(270deg);\r\n  transform: rotate(270deg); }\r\n\r\n.fa-flip-horizontal {\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\";\r\n  -webkit-transform: scale(-1, 1);\r\n  -ms-transform: scale(-1, 1);\r\n  transform: scale(-1, 1); }\r\n\r\n.fa-flip-vertical {\r\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\";\r\n  -webkit-transform: scale(1, -1);\r\n  -ms-transform: scale(1, -1);\r\n  transform: scale(1, -1); }\r\n\r\n:root .fa-rotate-90,\r\n:root .fa-rotate-180,\r\n:root .fa-rotate-270,\r\n:root .fa-flip-horizontal,\r\n:root .fa-flip-vertical {\r\n  filter: none; }\r\n\r\n.fa-stack {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 2em;\r\n  height: 2em;\r\n  line-height: 2em;\r\n  vertical-align: middle; }\r\n\r\n.fa-stack-1x, .fa-stack-2x {\r\n  position: absolute;\r\n  left: 0;\r\n  width: 100%;\r\n  text-align: center; }\r\n\r\n.fa-stack-1x {\r\n  line-height: inherit; }\r\n\r\n.fa-stack-2x {\r\n  font-size: 2em; }\r\n\r\n.fa-inverse {\r\n  color: #fff; }\r\n\r\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\r\n   readers do not read off random characters that represent icons */\r\n.fa-glass:before {\r\n  content: \"\"; }\r\n\r\n.fa-music:before {\r\n  content: \"\"; }\r\n\r\n.fa-search:before {\r\n  content: \"\"; }\r\n\r\n.fa-envelope-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-heart:before {\r\n  content: \"\"; }\r\n\r\n.fa-star:before {\r\n  content: \"\"; }\r\n\r\n.fa-star-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-user:before {\r\n  content: \"\"; }\r\n\r\n.fa-film:before {\r\n  content: \"\"; }\r\n\r\n.fa-th-large:before {\r\n  content: \"\"; }\r\n\r\n.fa-th:before {\r\n  content: \"\"; }\r\n\r\n.fa-th-list:before {\r\n  content: \"\"; }\r\n\r\n.fa-check:before {\r\n  content: \"\"; }\r\n\r\n.fa-remove:before,\r\n.fa-close:before,\r\n.fa-times:before {\r\n  content: \"\"; }\r\n\r\n.fa-search-plus:before {\r\n  content: \"\"; }\r\n\r\n.fa-search-minus:before {\r\n  content: \"\"; }\r\n\r\n.fa-power-off:before {\r\n  content: \"\"; }\r\n\r\n.fa-signal:before {\r\n  content: \"\"; }\r\n\r\n.fa-gear:before,\r\n.fa-cog:before {\r\n  content: \"\"; }\r\n\r\n.fa-trash-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-home:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-clock-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-road:before {\r\n  content: \"\"; }\r\n\r\n.fa-download:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-o-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-o-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-inbox:before {\r\n  content: \"\"; }\r\n\r\n.fa-play-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-rotate-right:before,\r\n.fa-repeat:before {\r\n  content: \"\"; }\r\n\r\n.fa-refresh:before {\r\n  content: \"\"; }\r\n\r\n.fa-list-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-lock:before {\r\n  content: \"\"; }\r\n\r\n.fa-flag:before {\r\n  content: \"\"; }\r\n\r\n.fa-headphones:before {\r\n  content: \"\"; }\r\n\r\n.fa-volume-off:before {\r\n  content: \"\"; }\r\n\r\n.fa-volume-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-volume-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-qrcode:before {\r\n  content: \"\"; }\r\n\r\n.fa-barcode:before {\r\n  content: \"\"; }\r\n\r\n.fa-tag:before {\r\n  content: \"\"; }\r\n\r\n.fa-tags:before {\r\n  content: \"\"; }\r\n\r\n.fa-book:before {\r\n  content: \"\"; }\r\n\r\n.fa-bookmark:before {\r\n  content: \"\"; }\r\n\r\n.fa-print:before {\r\n  content: \"\"; }\r\n\r\n.fa-camera:before {\r\n  content: \"\"; }\r\n\r\n.fa-font:before {\r\n  content: \"\"; }\r\n\r\n.fa-bold:before {\r\n  content: \"\"; }\r\n\r\n.fa-italic:before {\r\n  content: \"\"; }\r\n\r\n.fa-text-height:before {\r\n  content: \"\"; }\r\n\r\n.fa-text-width:before {\r\n  content: \"\"; }\r\n\r\n.fa-align-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-align-center:before {\r\n  content: \"\"; }\r\n\r\n.fa-align-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-align-justify:before {\r\n  content: \"\"; }\r\n\r\n.fa-list:before {\r\n  content: \"\"; }\r\n\r\n.fa-dedent:before,\r\n.fa-outdent:before {\r\n  content: \"\"; }\r\n\r\n.fa-indent:before {\r\n  content: \"\"; }\r\n\r\n.fa-video-camera:before {\r\n  content: \"\"; }\r\n\r\n.fa-photo:before,\r\n.fa-image:before,\r\n.fa-picture-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-pencil:before {\r\n  content: \"\"; }\r\n\r\n.fa-map-marker:before {\r\n  content: \"\"; }\r\n\r\n.fa-adjust:before {\r\n  content: \"\"; }\r\n\r\n.fa-tint:before {\r\n  content: \"\"; }\r\n\r\n.fa-edit:before,\r\n.fa-pencil-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-share-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-check-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrows:before {\r\n  content: \"\"; }\r\n\r\n.fa-step-backward:before {\r\n  content: \"\"; }\r\n\r\n.fa-fast-backward:before {\r\n  content: \"\"; }\r\n\r\n.fa-backward:before {\r\n  content: \"\"; }\r\n\r\n.fa-play:before {\r\n  content: \"\"; }\r\n\r\n.fa-pause:before {\r\n  content: \"\"; }\r\n\r\n.fa-stop:before {\r\n  content: \"\"; }\r\n\r\n.fa-forward:before {\r\n  content: \"\"; }\r\n\r\n.fa-fast-forward:before {\r\n  content: \"\"; }\r\n\r\n.fa-step-forward:before {\r\n  content: \"\"; }\r\n\r\n.fa-eject:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-plus-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-minus-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-times-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-check-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-question-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-info-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-crosshairs:before {\r\n  content: \"\"; }\r\n\r\n.fa-times-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-check-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-ban:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-mail-forward:before,\r\n.fa-share:before {\r\n  content: \"\"; }\r\n\r\n.fa-expand:before {\r\n  content: \"\"; }\r\n\r\n.fa-compress:before {\r\n  content: \"\"; }\r\n\r\n.fa-plus:before {\r\n  content: \"\"; }\r\n\r\n.fa-minus:before {\r\n  content: \"\"; }\r\n\r\n.fa-asterisk:before {\r\n  content: \"\"; }\r\n\r\n.fa-exclamation-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-gift:before {\r\n  content: \"\"; }\r\n\r\n.fa-leaf:before {\r\n  content: \"\"; }\r\n\r\n.fa-fire:before {\r\n  content: \"\"; }\r\n\r\n.fa-eye:before {\r\n  content: \"\"; }\r\n\r\n.fa-eye-slash:before {\r\n  content: \"\"; }\r\n\r\n.fa-warning:before,\r\n.fa-exclamation-triangle:before {\r\n  content: \"\"; }\r\n\r\n.fa-plane:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar:before {\r\n  content: \"\"; }\r\n\r\n.fa-random:before {\r\n  content: \"\"; }\r\n\r\n.fa-comment:before {\r\n  content: \"\"; }\r\n\r\n.fa-magnet:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-retweet:before {\r\n  content: \"\"; }\r\n\r\n.fa-shopping-cart:before {\r\n  content: \"\"; }\r\n\r\n.fa-folder:before {\r\n  content: \"\"; }\r\n\r\n.fa-folder-open:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrows-v:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrows-h:before {\r\n  content: \"\"; }\r\n\r\n.fa-bar-chart-o:before,\r\n.fa-bar-chart:before {\r\n  content: \"\"; }\r\n\r\n.fa-twitter-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-facebook-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-camera-retro:before {\r\n  content: \"\"; }\r\n\r\n.fa-key:before {\r\n  content: \"\"; }\r\n\r\n.fa-gears:before,\r\n.fa-cogs:before {\r\n  content: \"\"; }\r\n\r\n.fa-comments:before {\r\n  content: \"\"; }\r\n\r\n.fa-thumbs-o-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-thumbs-o-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-star-half:before {\r\n  content: \"\"; }\r\n\r\n.fa-heart-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-sign-out:before {\r\n  content: \"\"; }\r\n\r\n.fa-linkedin-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-thumb-tack:before {\r\n  content: \"\"; }\r\n\r\n.fa-external-link:before {\r\n  content: \"\"; }\r\n\r\n.fa-sign-in:before {\r\n  content: \"\"; }\r\n\r\n.fa-trophy:before {\r\n  content: \"\"; }\r\n\r\n.fa-github-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-upload:before {\r\n  content: \"\"; }\r\n\r\n.fa-lemon-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-phone:before {\r\n  content: \"\"; }\r\n\r\n.fa-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-bookmark-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-phone-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-twitter:before {\r\n  content: \"\"; }\r\n\r\n.fa-facebook-f:before,\r\n.fa-facebook:before {\r\n  content: \"\"; }\r\n\r\n.fa-github:before {\r\n  content: \"\"; }\r\n\r\n.fa-unlock:before {\r\n  content: \"\"; }\r\n\r\n.fa-credit-card:before {\r\n  content: \"\"; }\r\n\r\n.fa-feed:before,\r\n.fa-rss:before {\r\n  content: \"\"; }\r\n\r\n.fa-hdd-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-bullhorn:before {\r\n  content: \"\"; }\r\n\r\n.fa-bell:before {\r\n  content: \"\"; }\r\n\r\n.fa-certificate:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-o-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-o-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-o-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-o-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-globe:before {\r\n  content: \"\"; }\r\n\r\n.fa-wrench:before {\r\n  content: \"\"; }\r\n\r\n.fa-tasks:before {\r\n  content: \"\"; }\r\n\r\n.fa-filter:before {\r\n  content: \"\"; }\r\n\r\n.fa-briefcase:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrows-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-group:before,\r\n.fa-users:before {\r\n  content: \"\"; }\r\n\r\n.fa-chain:before,\r\n.fa-link:before {\r\n  content: \"\"; }\r\n\r\n.fa-cloud:before {\r\n  content: \"\"; }\r\n\r\n.fa-flask:before {\r\n  content: \"\"; }\r\n\r\n.fa-cut:before,\r\n.fa-scissors:before {\r\n  content: \"\"; }\r\n\r\n.fa-copy:before,\r\n.fa-files-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-paperclip:before {\r\n  content: \"\"; }\r\n\r\n.fa-save:before,\r\n.fa-floppy-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-navicon:before,\r\n.fa-reorder:before,\r\n.fa-bars:before {\r\n  content: \"\"; }\r\n\r\n.fa-list-ul:before {\r\n  content: \"\"; }\r\n\r\n.fa-list-ol:before {\r\n  content: \"\"; }\r\n\r\n.fa-strikethrough:before {\r\n  content: \"\"; }\r\n\r\n.fa-underline:before {\r\n  content: \"\"; }\r\n\r\n.fa-table:before {\r\n  content: \"\"; }\r\n\r\n.fa-magic:before {\r\n  content: \"\"; }\r\n\r\n.fa-truck:before {\r\n  content: \"\"; }\r\n\r\n.fa-pinterest:before {\r\n  content: \"\"; }\r\n\r\n.fa-pinterest-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-google-plus-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-google-plus:before {\r\n  content: \"\"; }\r\n\r\n.fa-money:before {\r\n  content: \"\"; }\r\n\r\n.fa-caret-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-caret-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-caret-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-caret-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-columns:before {\r\n  content: \"\"; }\r\n\r\n.fa-unsorted:before,\r\n.fa-sort:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-down:before,\r\n.fa-sort-desc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-up:before,\r\n.fa-sort-asc:before {\r\n  content: \"\"; }\r\n\r\n.fa-envelope:before {\r\n  content: \"\"; }\r\n\r\n.fa-linkedin:before {\r\n  content: \"\"; }\r\n\r\n.fa-rotate-left:before,\r\n.fa-undo:before {\r\n  content: \"\"; }\r\n\r\n.fa-legal:before,\r\n.fa-gavel:before {\r\n  content: \"\"; }\r\n\r\n.fa-dashboard:before,\r\n.fa-tachometer:before {\r\n  content: \"\"; }\r\n\r\n.fa-comment-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-comments-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-flash:before,\r\n.fa-bolt:before {\r\n  content: \"\"; }\r\n\r\n.fa-sitemap:before {\r\n  content: \"\"; }\r\n\r\n.fa-umbrella:before {\r\n  content: \"\"; }\r\n\r\n.fa-paste:before,\r\n.fa-clipboard:before {\r\n  content: \"\"; }\r\n\r\n.fa-lightbulb-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-exchange:before {\r\n  content: \"\"; }\r\n\r\n.fa-cloud-download:before {\r\n  content: \"\"; }\r\n\r\n.fa-cloud-upload:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-md:before {\r\n  content: \"\"; }\r\n\r\n.fa-stethoscope:before {\r\n  content: \"\"; }\r\n\r\n.fa-suitcase:before {\r\n  content: \"\"; }\r\n\r\n.fa-bell-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-coffee:before {\r\n  content: \"\"; }\r\n\r\n.fa-cutlery:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-text-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-building-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hospital-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-ambulance:before {\r\n  content: \"\"; }\r\n\r\n.fa-medkit:before {\r\n  content: \"\"; }\r\n\r\n.fa-fighter-jet:before {\r\n  content: \"\"; }\r\n\r\n.fa-beer:before {\r\n  content: \"\"; }\r\n\r\n.fa-h-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-plus-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-double-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-double-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-double-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-double-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-angle-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-desktop:before {\r\n  content: \"\"; }\r\n\r\n.fa-laptop:before {\r\n  content: \"\"; }\r\n\r\n.fa-tablet:before {\r\n  content: \"\"; }\r\n\r\n.fa-mobile-phone:before,\r\n.fa-mobile:before {\r\n  content: \"\"; }\r\n\r\n.fa-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-quote-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-quote-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-spinner:before {\r\n  content: \"\"; }\r\n\r\n.fa-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-mail-reply:before,\r\n.fa-reply:before {\r\n  content: \"\"; }\r\n\r\n.fa-github-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-folder-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-folder-open-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-smile-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-frown-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-meh-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-gamepad:before {\r\n  content: \"\"; }\r\n\r\n.fa-keyboard-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-flag-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-flag-checkered:before {\r\n  content: \"\"; }\r\n\r\n.fa-terminal:before {\r\n  content: \"\"; }\r\n\r\n.fa-code:before {\r\n  content: \"\"; }\r\n\r\n.fa-mail-reply-all:before,\r\n.fa-reply-all:before {\r\n  content: \"\"; }\r\n\r\n.fa-star-half-empty:before,\r\n.fa-star-half-full:before,\r\n.fa-star-half-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-location-arrow:before {\r\n  content: \"\"; }\r\n\r\n.fa-crop:before {\r\n  content: \"\"; }\r\n\r\n.fa-code-fork:before {\r\n  content: \"\"; }\r\n\r\n.fa-unlink:before,\r\n.fa-chain-broken:before {\r\n  content: \"\"; }\r\n\r\n.fa-question:before {\r\n  content: \"\"; }\r\n\r\n.fa-info:before {\r\n  content: \"\"; }\r\n\r\n.fa-exclamation:before {\r\n  content: \"\"; }\r\n\r\n.fa-superscript:before {\r\n  content: \"\"; }\r\n\r\n.fa-subscript:before {\r\n  content: \"\"; }\r\n\r\n.fa-eraser:before {\r\n  content: \"\"; }\r\n\r\n.fa-puzzle-piece:before {\r\n  content: \"\"; }\r\n\r\n.fa-microphone:before {\r\n  content: \"\"; }\r\n\r\n.fa-microphone-slash:before {\r\n  content: \"\"; }\r\n\r\n.fa-shield:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-fire-extinguisher:before {\r\n  content: \"\"; }\r\n\r\n.fa-rocket:before {\r\n  content: \"\"; }\r\n\r\n.fa-maxcdn:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-circle-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-circle-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-circle-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-chevron-circle-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-html5:before {\r\n  content: \"\"; }\r\n\r\n.fa-css3:before {\r\n  content: \"\"; }\r\n\r\n.fa-anchor:before {\r\n  content: \"\"; }\r\n\r\n.fa-unlock-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-bullseye:before {\r\n  content: \"\"; }\r\n\r\n.fa-ellipsis-h:before {\r\n  content: \"\"; }\r\n\r\n.fa-ellipsis-v:before {\r\n  content: \"\"; }\r\n\r\n.fa-rss-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-play-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-ticket:before {\r\n  content: \"\"; }\r\n\r\n.fa-minus-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-minus-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-level-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-level-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-check-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-pencil-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-external-link-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-share-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-compass:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-down:before,\r\n.fa-caret-square-o-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-up:before,\r\n.fa-caret-square-o-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-right:before,\r\n.fa-caret-square-o-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-euro:before,\r\n.fa-eur:before {\r\n  content: \"\"; }\r\n\r\n.fa-gbp:before {\r\n  content: \"\"; }\r\n\r\n.fa-dollar:before,\r\n.fa-usd:before {\r\n  content: \"\"; }\r\n\r\n.fa-rupee:before,\r\n.fa-inr:before {\r\n  content: \"\"; }\r\n\r\n.fa-cny:before,\r\n.fa-rmb:before,\r\n.fa-yen:before,\r\n.fa-jpy:before {\r\n  content: \"\"; }\r\n\r\n.fa-ruble:before,\r\n.fa-rouble:before,\r\n.fa-rub:before {\r\n  content: \"\"; }\r\n\r\n.fa-won:before,\r\n.fa-krw:before {\r\n  content: \"\"; }\r\n\r\n.fa-bitcoin:before,\r\n.fa-btc:before {\r\n  content: \"\"; }\r\n\r\n.fa-file:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-text:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-alpha-asc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-alpha-desc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-amount-asc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-amount-desc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-numeric-asc:before {\r\n  content: \"\"; }\r\n\r\n.fa-sort-numeric-desc:before {\r\n  content: \"\"; }\r\n\r\n.fa-thumbs-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-thumbs-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-youtube-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-youtube:before {\r\n  content: \"\"; }\r\n\r\n.fa-xing:before {\r\n  content: \"\"; }\r\n\r\n.fa-xing-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-youtube-play:before {\r\n  content: \"\"; }\r\n\r\n.fa-dropbox:before {\r\n  content: \"\"; }\r\n\r\n.fa-stack-overflow:before {\r\n  content: \"\"; }\r\n\r\n.fa-instagram:before {\r\n  content: \"\"; }\r\n\r\n.fa-flickr:before {\r\n  content: \"\"; }\r\n\r\n.fa-adn:before {\r\n  content: \"\"; }\r\n\r\n.fa-bitbucket:before {\r\n  content: \"\"; }\r\n\r\n.fa-bitbucket-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-tumblr:before {\r\n  content: \"\"; }\r\n\r\n.fa-tumblr-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-long-arrow-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-long-arrow-up:before {\r\n  content: \"\"; }\r\n\r\n.fa-long-arrow-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-long-arrow-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-apple:before {\r\n  content: \"\"; }\r\n\r\n.fa-windows:before {\r\n  content: \"\"; }\r\n\r\n.fa-android:before {\r\n  content: \"\"; }\r\n\r\n.fa-linux:before {\r\n  content: \"\"; }\r\n\r\n.fa-dribbble:before {\r\n  content: \"\"; }\r\n\r\n.fa-skype:before {\r\n  content: \"\"; }\r\n\r\n.fa-foursquare:before {\r\n  content: \"\"; }\r\n\r\n.fa-trello:before {\r\n  content: \"\"; }\r\n\r\n.fa-female:before {\r\n  content: \"\"; }\r\n\r\n.fa-male:before {\r\n  content: \"\"; }\r\n\r\n.fa-gittip:before,\r\n.fa-gratipay:before {\r\n  content: \"\"; }\r\n\r\n.fa-sun-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-moon-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-archive:before {\r\n  content: \"\"; }\r\n\r\n.fa-bug:before {\r\n  content: \"\"; }\r\n\r\n.fa-vk:before {\r\n  content: \"\"; }\r\n\r\n.fa-weibo:before {\r\n  content: \"\"; }\r\n\r\n.fa-renren:before {\r\n  content: \"\"; }\r\n\r\n.fa-pagelines:before {\r\n  content: \"\"; }\r\n\r\n.fa-stack-exchange:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-o-right:before {\r\n  content: \"\"; }\r\n\r\n.fa-arrow-circle-o-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-left:before,\r\n.fa-caret-square-o-left:before {\r\n  content: \"\"; }\r\n\r\n.fa-dot-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-wheelchair:before {\r\n  content: \"\"; }\r\n\r\n.fa-vimeo-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-turkish-lira:before,\r\n.fa-try:before {\r\n  content: \"\"; }\r\n\r\n.fa-plus-square-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-space-shuttle:before {\r\n  content: \"\"; }\r\n\r\n.fa-slack:before {\r\n  content: \"\"; }\r\n\r\n.fa-envelope-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-wordpress:before {\r\n  content: \"\"; }\r\n\r\n.fa-openid:before {\r\n  content: \"\"; }\r\n\r\n.fa-institution:before,\r\n.fa-bank:before,\r\n.fa-university:before {\r\n  content: \"\"; }\r\n\r\n.fa-mortar-board:before,\r\n.fa-graduation-cap:before {\r\n  content: \"\"; }\r\n\r\n.fa-yahoo:before {\r\n  content: \"\"; }\r\n\r\n.fa-google:before {\r\n  content: \"\"; }\r\n\r\n.fa-reddit:before {\r\n  content: \"\"; }\r\n\r\n.fa-reddit-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-stumbleupon-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-stumbleupon:before {\r\n  content: \"\"; }\r\n\r\n.fa-delicious:before {\r\n  content: \"\"; }\r\n\r\n.fa-digg:before {\r\n  content: \"\"; }\r\n\r\n.fa-pied-piper-pp:before {\r\n  content: \"\"; }\r\n\r\n.fa-pied-piper-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-drupal:before {\r\n  content: \"\"; }\r\n\r\n.fa-joomla:before {\r\n  content: \"\"; }\r\n\r\n.fa-language:before {\r\n  content: \"\"; }\r\n\r\n.fa-fax:before {\r\n  content: \"\"; }\r\n\r\n.fa-building:before {\r\n  content: \"\"; }\r\n\r\n.fa-child:before {\r\n  content: \"\"; }\r\n\r\n.fa-paw:before {\r\n  content: \"\"; }\r\n\r\n.fa-spoon:before {\r\n  content: \"\"; }\r\n\r\n.fa-cube:before {\r\n  content: \"\"; }\r\n\r\n.fa-cubes:before {\r\n  content: \"\"; }\r\n\r\n.fa-behance:before {\r\n  content: \"\"; }\r\n\r\n.fa-behance-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-steam:before {\r\n  content: \"\"; }\r\n\r\n.fa-steam-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-recycle:before {\r\n  content: \"\"; }\r\n\r\n.fa-automobile:before,\r\n.fa-car:before {\r\n  content: \"\"; }\r\n\r\n.fa-cab:before,\r\n.fa-taxi:before {\r\n  content: \"\"; }\r\n\r\n.fa-tree:before {\r\n  content: \"\"; }\r\n\r\n.fa-spotify:before {\r\n  content: \"\"; }\r\n\r\n.fa-deviantart:before {\r\n  content: \"\"; }\r\n\r\n.fa-soundcloud:before {\r\n  content: \"\"; }\r\n\r\n.fa-database:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-pdf-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-word-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-excel-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-powerpoint-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-photo-o:before,\r\n.fa-file-picture-o:before,\r\n.fa-file-image-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-zip-o:before,\r\n.fa-file-archive-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-sound-o:before,\r\n.fa-file-audio-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-movie-o:before,\r\n.fa-file-video-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-file-code-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-vine:before {\r\n  content: \"\"; }\r\n\r\n.fa-codepen:before {\r\n  content: \"\"; }\r\n\r\n.fa-jsfiddle:before {\r\n  content: \"\"; }\r\n\r\n.fa-life-bouy:before,\r\n.fa-life-buoy:before,\r\n.fa-life-saver:before,\r\n.fa-support:before,\r\n.fa-life-ring:before {\r\n  content: \"\"; }\r\n\r\n.fa-circle-o-notch:before {\r\n  content: \"\"; }\r\n\r\n.fa-ra:before,\r\n.fa-resistance:before,\r\n.fa-rebel:before {\r\n  content: \"\"; }\r\n\r\n.fa-ge:before,\r\n.fa-empire:before {\r\n  content: \"\"; }\r\n\r\n.fa-git-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-git:before {\r\n  content: \"\"; }\r\n\r\n.fa-y-combinator-square:before,\r\n.fa-yc-square:before,\r\n.fa-hacker-news:before {\r\n  content: \"\"; }\r\n\r\n.fa-tencent-weibo:before {\r\n  content: \"\"; }\r\n\r\n.fa-qq:before {\r\n  content: \"\"; }\r\n\r\n.fa-wechat:before,\r\n.fa-weixin:before {\r\n  content: \"\"; }\r\n\r\n.fa-send:before,\r\n.fa-paper-plane:before {\r\n  content: \"\"; }\r\n\r\n.fa-send-o:before,\r\n.fa-paper-plane-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-history:before {\r\n  content: \"\"; }\r\n\r\n.fa-circle-thin:before {\r\n  content: \"\"; }\r\n\r\n.fa-header:before {\r\n  content: \"\"; }\r\n\r\n.fa-paragraph:before {\r\n  content: \"\"; }\r\n\r\n.fa-sliders:before {\r\n  content: \"\"; }\r\n\r\n.fa-share-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-share-alt-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-bomb:before {\r\n  content: \"\"; }\r\n\r\n.fa-soccer-ball-o:before,\r\n.fa-futbol-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-tty:before {\r\n  content: \"\"; }\r\n\r\n.fa-binoculars:before {\r\n  content: \"\"; }\r\n\r\n.fa-plug:before {\r\n  content: \"\"; }\r\n\r\n.fa-slideshare:before {\r\n  content: \"\"; }\r\n\r\n.fa-twitch:before {\r\n  content: \"\"; }\r\n\r\n.fa-yelp:before {\r\n  content: \"\"; }\r\n\r\n.fa-newspaper-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-wifi:before {\r\n  content: \"\"; }\r\n\r\n.fa-calculator:before {\r\n  content: \"\"; }\r\n\r\n.fa-paypal:before {\r\n  content: \"\"; }\r\n\r\n.fa-google-wallet:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-visa:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-mastercard:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-discover:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-amex:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-paypal:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-stripe:before {\r\n  content: \"\"; }\r\n\r\n.fa-bell-slash:before {\r\n  content: \"\"; }\r\n\r\n.fa-bell-slash-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-trash:before {\r\n  content: \"\"; }\r\n\r\n.fa-copyright:before {\r\n  content: \"\"; }\r\n\r\n.fa-at:before {\r\n  content: \"\"; }\r\n\r\n.fa-eyedropper:before {\r\n  content: \"\"; }\r\n\r\n.fa-paint-brush:before {\r\n  content: \"\"; }\r\n\r\n.fa-birthday-cake:before {\r\n  content: \"\"; }\r\n\r\n.fa-area-chart:before {\r\n  content: \"\"; }\r\n\r\n.fa-pie-chart:before {\r\n  content: \"\"; }\r\n\r\n.fa-line-chart:before {\r\n  content: \"\"; }\r\n\r\n.fa-lastfm:before {\r\n  content: \"\"; }\r\n\r\n.fa-lastfm-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-off:before {\r\n  content: \"\"; }\r\n\r\n.fa-toggle-on:before {\r\n  content: \"\"; }\r\n\r\n.fa-bicycle:before {\r\n  content: \"\"; }\r\n\r\n.fa-bus:before {\r\n  content: \"\"; }\r\n\r\n.fa-ioxhost:before {\r\n  content: \"\"; }\r\n\r\n.fa-angellist:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc:before {\r\n  content: \"\"; }\r\n\r\n.fa-shekel:before,\r\n.fa-sheqel:before,\r\n.fa-ils:before {\r\n  content: \"\"; }\r\n\r\n.fa-meanpath:before {\r\n  content: \"\"; }\r\n\r\n.fa-buysellads:before {\r\n  content: \"\"; }\r\n\r\n.fa-connectdevelop:before {\r\n  content: \"\"; }\r\n\r\n.fa-dashcube:before {\r\n  content: \"\"; }\r\n\r\n.fa-forumbee:before {\r\n  content: \"\"; }\r\n\r\n.fa-leanpub:before {\r\n  content: \"\"; }\r\n\r\n.fa-sellsy:before {\r\n  content: \"\"; }\r\n\r\n.fa-shirtsinbulk:before {\r\n  content: \"\"; }\r\n\r\n.fa-simplybuilt:before {\r\n  content: \"\"; }\r\n\r\n.fa-skyatlas:before {\r\n  content: \"\"; }\r\n\r\n.fa-cart-plus:before {\r\n  content: \"\"; }\r\n\r\n.fa-cart-arrow-down:before {\r\n  content: \"\"; }\r\n\r\n.fa-diamond:before {\r\n  content: \"\"; }\r\n\r\n.fa-ship:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-secret:before {\r\n  content: \"\"; }\r\n\r\n.fa-motorcycle:before {\r\n  content: \"\"; }\r\n\r\n.fa-street-view:before {\r\n  content: \"\"; }\r\n\r\n.fa-heartbeat:before {\r\n  content: \"\"; }\r\n\r\n.fa-venus:before {\r\n  content: \"\"; }\r\n\r\n.fa-mars:before {\r\n  content: \"\"; }\r\n\r\n.fa-mercury:before {\r\n  content: \"\"; }\r\n\r\n.fa-intersex:before,\r\n.fa-transgender:before {\r\n  content: \"\"; }\r\n\r\n.fa-transgender-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-venus-double:before {\r\n  content: \"\"; }\r\n\r\n.fa-mars-double:before {\r\n  content: \"\"; }\r\n\r\n.fa-venus-mars:before {\r\n  content: \"\"; }\r\n\r\n.fa-mars-stroke:before {\r\n  content: \"\"; }\r\n\r\n.fa-mars-stroke-v:before {\r\n  content: \"\"; }\r\n\r\n.fa-mars-stroke-h:before {\r\n  content: \"\"; }\r\n\r\n.fa-neuter:before {\r\n  content: \"\"; }\r\n\r\n.fa-genderless:before {\r\n  content: \"\"; }\r\n\r\n.fa-facebook-official:before {\r\n  content: \"\"; }\r\n\r\n.fa-pinterest-p:before {\r\n  content: \"\"; }\r\n\r\n.fa-whatsapp:before {\r\n  content: \"\"; }\r\n\r\n.fa-server:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-plus:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-times:before {\r\n  content: \"\"; }\r\n\r\n.fa-hotel:before,\r\n.fa-bed:before {\r\n  content: \"\"; }\r\n\r\n.fa-viacoin:before {\r\n  content: \"\"; }\r\n\r\n.fa-train:before {\r\n  content: \"\"; }\r\n\r\n.fa-subway:before {\r\n  content: \"\"; }\r\n\r\n.fa-medium:before {\r\n  content: \"\"; }\r\n\r\n.fa-yc:before,\r\n.fa-y-combinator:before {\r\n  content: \"\"; }\r\n\r\n.fa-optin-monster:before {\r\n  content: \"\"; }\r\n\r\n.fa-opencart:before {\r\n  content: \"\"; }\r\n\r\n.fa-expeditedssl:before {\r\n  content: \"\"; }\r\n\r\n.fa-battery-4:before,\r\n.fa-battery:before,\r\n.fa-battery-full:before {\r\n  content: \"\"; }\r\n\r\n.fa-battery-3:before,\r\n.fa-battery-three-quarters:before {\r\n  content: \"\"; }\r\n\r\n.fa-battery-2:before,\r\n.fa-battery-half:before {\r\n  content: \"\"; }\r\n\r\n.fa-battery-1:before,\r\n.fa-battery-quarter:before {\r\n  content: \"\"; }\r\n\r\n.fa-battery-0:before,\r\n.fa-battery-empty:before {\r\n  content: \"\"; }\r\n\r\n.fa-mouse-pointer:before {\r\n  content: \"\"; }\r\n\r\n.fa-i-cursor:before {\r\n  content: \"\"; }\r\n\r\n.fa-object-group:before {\r\n  content: \"\"; }\r\n\r\n.fa-object-ungroup:before {\r\n  content: \"\"; }\r\n\r\n.fa-sticky-note:before {\r\n  content: \"\"; }\r\n\r\n.fa-sticky-note-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-jcb:before {\r\n  content: \"\"; }\r\n\r\n.fa-cc-diners-club:before {\r\n  content: \"\"; }\r\n\r\n.fa-clone:before {\r\n  content: \"\"; }\r\n\r\n.fa-balance-scale:before {\r\n  content: \"\"; }\r\n\r\n.fa-hourglass-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hourglass-1:before,\r\n.fa-hourglass-start:before {\r\n  content: \"\"; }\r\n\r\n.fa-hourglass-2:before,\r\n.fa-hourglass-half:before {\r\n  content: \"\"; }\r\n\r\n.fa-hourglass-3:before,\r\n.fa-hourglass-end:before {\r\n  content: \"\"; }\r\n\r\n.fa-hourglass:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-grab-o:before,\r\n.fa-hand-rock-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-stop-o:before,\r\n.fa-hand-paper-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-scissors-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-lizard-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-spock-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-pointer-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-hand-peace-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-trademark:before {\r\n  content: \"\"; }\r\n\r\n.fa-registered:before {\r\n  content: \"\"; }\r\n\r\n.fa-creative-commons:before {\r\n  content: \"\"; }\r\n\r\n.fa-gg:before {\r\n  content: \"\"; }\r\n\r\n.fa-gg-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-tripadvisor:before {\r\n  content: \"\"; }\r\n\r\n.fa-odnoklassniki:before {\r\n  content: \"\"; }\r\n\r\n.fa-odnoklassniki-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-get-pocket:before {\r\n  content: \"\"; }\r\n\r\n.fa-wikipedia-w:before {\r\n  content: \"\"; }\r\n\r\n.fa-safari:before {\r\n  content: \"\"; }\r\n\r\n.fa-chrome:before {\r\n  content: \"\"; }\r\n\r\n.fa-firefox:before {\r\n  content: \"\"; }\r\n\r\n.fa-opera:before {\r\n  content: \"\"; }\r\n\r\n.fa-internet-explorer:before {\r\n  content: \"\"; }\r\n\r\n.fa-tv:before,\r\n.fa-television:before {\r\n  content: \"\"; }\r\n\r\n.fa-contao:before {\r\n  content: \"\"; }\r\n\r\n.fa-500px:before {\r\n  content: \"\"; }\r\n\r\n.fa-amazon:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar-plus-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar-minus-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar-times-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-calendar-check-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-industry:before {\r\n  content: \"\"; }\r\n\r\n.fa-map-pin:before {\r\n  content: \"\"; }\r\n\r\n.fa-map-signs:before {\r\n  content: \"\"; }\r\n\r\n.fa-map-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-map:before {\r\n  content: \"\"; }\r\n\r\n.fa-commenting:before {\r\n  content: \"\"; }\r\n\r\n.fa-commenting-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-houzz:before {\r\n  content: \"\"; }\r\n\r\n.fa-vimeo:before {\r\n  content: \"\"; }\r\n\r\n.fa-black-tie:before {\r\n  content: \"\"; }\r\n\r\n.fa-fonticons:before {\r\n  content: \"\"; }\r\n\r\n.fa-reddit-alien:before {\r\n  content: \"\"; }\r\n\r\n.fa-edge:before {\r\n  content: \"\"; }\r\n\r\n.fa-credit-card-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-codiepie:before {\r\n  content: \"\"; }\r\n\r\n.fa-modx:before {\r\n  content: \"\"; }\r\n\r\n.fa-fort-awesome:before {\r\n  content: \"\"; }\r\n\r\n.fa-usb:before {\r\n  content: \"\"; }\r\n\r\n.fa-product-hunt:before {\r\n  content: \"\"; }\r\n\r\n.fa-mixcloud:before {\r\n  content: \"\"; }\r\n\r\n.fa-scribd:before {\r\n  content: \"\"; }\r\n\r\n.fa-pause-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-pause-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-stop-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-stop-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-shopping-bag:before {\r\n  content: \"\"; }\r\n\r\n.fa-shopping-basket:before {\r\n  content: \"\"; }\r\n\r\n.fa-hashtag:before {\r\n  content: \"\"; }\r\n\r\n.fa-bluetooth:before {\r\n  content: \"\"; }\r\n\r\n.fa-bluetooth-b:before {\r\n  content: \"\"; }\r\n\r\n.fa-percent:before {\r\n  content: \"\"; }\r\n\r\n.fa-gitlab:before {\r\n  content: \"\"; }\r\n\r\n.fa-wpbeginner:before {\r\n  content: \"\"; }\r\n\r\n.fa-wpforms:before {\r\n  content: \"\"; }\r\n\r\n.fa-envira:before {\r\n  content: \"\"; }\r\n\r\n.fa-universal-access:before {\r\n  content: \"\"; }\r\n\r\n.fa-wheelchair-alt:before {\r\n  content: \"\"; }\r\n\r\n.fa-question-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-blind:before {\r\n  content: \"\"; }\r\n\r\n.fa-audio-description:before {\r\n  content: \"\"; }\r\n\r\n.fa-volume-control-phone:before {\r\n  content: \"\"; }\r\n\r\n.fa-braille:before {\r\n  content: \"\"; }\r\n\r\n.fa-assistive-listening-systems:before {\r\n  content: \"\"; }\r\n\r\n.fa-asl-interpreting:before,\r\n.fa-american-sign-language-interpreting:before {\r\n  content: \"\"; }\r\n\r\n.fa-deafness:before,\r\n.fa-hard-of-hearing:before,\r\n.fa-deaf:before {\r\n  content: \"\"; }\r\n\r\n.fa-glide:before {\r\n  content: \"\"; }\r\n\r\n.fa-glide-g:before {\r\n  content: \"\"; }\r\n\r\n.fa-signing:before,\r\n.fa-sign-language:before {\r\n  content: \"\"; }\r\n\r\n.fa-low-vision:before {\r\n  content: \"\"; }\r\n\r\n.fa-viadeo:before {\r\n  content: \"\"; }\r\n\r\n.fa-viadeo-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-snapchat:before {\r\n  content: \"\"; }\r\n\r\n.fa-snapchat-ghost:before {\r\n  content: \"\"; }\r\n\r\n.fa-snapchat-square:before {\r\n  content: \"\"; }\r\n\r\n.fa-pied-piper:before {\r\n  content: \"\"; }\r\n\r\n.fa-first-order:before {\r\n  content: \"\"; }\r\n\r\n.fa-yoast:before {\r\n  content: \"\"; }\r\n\r\n.fa-themeisle:before {\r\n  content: \"\"; }\r\n\r\n.fa-google-plus-circle:before,\r\n.fa-google-plus-official:before {\r\n  content: \"\"; }\r\n\r\n.fa-fa:before,\r\n.fa-font-awesome:before {\r\n  content: \"\"; }\r\n\r\n.fa-handshake-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-envelope-open:before {\r\n  content: \"\"; }\r\n\r\n.fa-envelope-open-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-linode:before {\r\n  content: \"\"; }\r\n\r\n.fa-address-book:before {\r\n  content: \"\"; }\r\n\r\n.fa-address-book-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-vcard:before,\r\n.fa-address-card:before {\r\n  content: \"\"; }\r\n\r\n.fa-vcard-o:before,\r\n.fa-address-card-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-circle:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-circle-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-user-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-id-badge:before {\r\n  content: \"\"; }\r\n\r\n.fa-drivers-license:before,\r\n.fa-id-card:before {\r\n  content: \"\"; }\r\n\r\n.fa-drivers-license-o:before,\r\n.fa-id-card-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-quora:before {\r\n  content: \"\"; }\r\n\r\n.fa-free-code-camp:before {\r\n  content: \"\"; }\r\n\r\n.fa-telegram:before {\r\n  content: \"\"; }\r\n\r\n.fa-thermometer-4:before,\r\n.fa-thermometer:before,\r\n.fa-thermometer-full:before {\r\n  content: \"\"; }\r\n\r\n.fa-thermometer-3:before,\r\n.fa-thermometer-three-quarters:before {\r\n  content: \"\"; }\r\n\r\n.fa-thermometer-2:before,\r\n.fa-thermometer-half:before {\r\n  content: \"\"; }\r\n\r\n.fa-thermometer-1:before,\r\n.fa-thermometer-quarter:before {\r\n  content: \"\"; }\r\n\r\n.fa-thermometer-0:before,\r\n.fa-thermometer-empty:before {\r\n  content: \"\"; }\r\n\r\n.fa-shower:before {\r\n  content: \"\"; }\r\n\r\n.fa-bathtub:before,\r\n.fa-s15:before,\r\n.fa-bath:before {\r\n  content: \"\"; }\r\n\r\n.fa-podcast:before {\r\n  content: \"\"; }\r\n\r\n.fa-window-maximize:before {\r\n  content: \"\"; }\r\n\r\n.fa-window-minimize:before {\r\n  content: \"\"; }\r\n\r\n.fa-window-restore:before {\r\n  content: \"\"; }\r\n\r\n.fa-times-rectangle:before,\r\n.fa-window-close:before {\r\n  content: \"\"; }\r\n\r\n.fa-times-rectangle-o:before,\r\n.fa-window-close-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-bandcamp:before {\r\n  content: \"\"; }\r\n\r\n.fa-grav:before {\r\n  content: \"\"; }\r\n\r\n.fa-etsy:before {\r\n  content: \"\"; }\r\n\r\n.fa-imdb:before {\r\n  content: \"\"; }\r\n\r\n.fa-ravelry:before {\r\n  content: \"\"; }\r\n\r\n.fa-eercast:before {\r\n  content: \"\"; }\r\n\r\n.fa-microchip:before {\r\n  content: \"\"; }\r\n\r\n.fa-snowflake-o:before {\r\n  content: \"\"; }\r\n\r\n.fa-superpowers:before {\r\n  content: \"\"; }\r\n\r\n.fa-wpexplorer:before {\r\n  content: \"\"; }\r\n\r\n.fa-meetup:before {\r\n  content: \"\"; }\r\n\r\n.sr-only {\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  margin: -1px;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  border: 0; }\r\n\r\n.sr-only-focusable:active, .sr-only-focusable:focus {\r\n  position: static;\r\n  width: auto;\r\n  height: auto;\r\n  margin: 0;\r\n  overflow: visible;\r\n  clip: auto; }\r\n\r\n/*! bulma.io v0.3.2 | MIT License | github.com/jgthms/bulma */\r\n@keyframes spinAround {\r\n  from {\r\n    transform: rotate(0deg); }\r\n  to {\r\n    transform: rotate(359deg); } }\r\n\r\n/*! minireset.css v0.0.2 | MIT License | github.com/jgthms/minireset.css */\r\nhtml,\r\nbody,\r\np,\r\nol,\r\nul,\r\nli,\r\ndl,\r\ndt,\r\ndd,\r\nblockquote,\r\nfigure,\r\nfieldset,\r\nlegend,\r\ntextarea,\r\npre,\r\niframe,\r\nhr,\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  margin: 0;\r\n  padding: 0; }\r\n\r\nh1,\r\nh2,\r\nh3,\r\nh4,\r\nh5,\r\nh6 {\r\n  font-size: 100%;\r\n  font-weight: normal; }\r\n\r\nul {\r\n  list-style: none; }\r\n\r\nbutton,\r\ninput,\r\nselect,\r\ntextarea {\r\n  margin: 0; }\r\n\r\nhtml {\r\n  box-sizing: border-box; }\r\n\r\n* {\r\n  box-sizing: inherit; }\r\n  *:before, *:after {\r\n    box-sizing: inherit; }\r\n\r\nimg,\r\nembed,\r\nobject,\r\naudio,\r\nvideo {\r\n  height: auto;\r\n  max-width: 100%; }\r\n\r\niframe {\r\n  border: 0; }\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  border-spacing: 0; }\r\n\r\ntd,\r\nth {\r\n  padding: 0;\r\n  text-align: left; }\r\n\r\nhtml {\r\n  background-color: white;\r\n  font-size: 14px;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  -webkit-font-smoothing: antialiased;\r\n  min-width: 300px;\r\n  overflow-x: hidden;\r\n  overflow-y: scroll;\r\n  text-rendering: optimizeLegibility; }\r\n\r\narticle,\r\naside,\r\nfigure,\r\nfooter,\r\nheader,\r\nhgroup,\r\nsection {\r\n  display: block; }\r\n\r\nbody,\r\nbutton,\r\ninput,\r\nselect,\r\ntextarea {\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", \"Helvetica\", \"Arial\", sans-serif; }\r\n\r\ncode,\r\npre {\r\n  -moz-osx-font-smoothing: auto;\r\n  -webkit-font-smoothing: auto;\r\n  font-family: \"Inconsolata\", \"Consolas\", \"Monaco\", monospace; }\r\n\r\nbody {\r\n  color: #4a4a4a;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  line-height: 1.5; }\r\n\r\na {\r\n  color: #55a79a;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  transition: none 86ms ease-out; }\r\n  a:hover {\r\n    color: #363636; }\r\n\r\ncode {\r\n  background-color: whitesmoke;\r\n  color: #ff3860;\r\n  font-size: 0.8em;\r\n  font-weight: normal;\r\n  padding: 0.25em 0.5em 0.25em; }\r\n\r\nhr {\r\n  background-color: #dbdbdb;\r\n  border: none;\r\n  display: block;\r\n  height: 1px;\r\n  margin: 1.5rem 0; }\r\n\r\nimg {\r\n  max-width: 100%; }\r\n\r\ninput[type=\"checkbox\"],\r\ninput[type=\"radio\"] {\r\n  vertical-align: baseline; }\r\n\r\nsmall {\r\n  font-size: 0.8em; }\r\n\r\nspan {\r\n  font-style: inherit;\r\n  font-weight: inherit; }\r\n\r\nstrong {\r\n  color: #363636;\r\n  font-weight: 700; }\r\n\r\npre {\r\n  background-color: whitesmoke;\r\n  color: #4a4a4a;\r\n  font-size: 0.8em;\r\n  white-space: pre;\r\n  word-wrap: normal; }\r\n  pre code {\r\n    background: none;\r\n    color: inherit;\r\n    display: block;\r\n    font-size: 1em;\r\n    overflow-x: auto;\r\n    padding: 1.25rem 1.5rem; }\r\n\r\ntable {\r\n  width: 100%; }\r\n  table td,\r\n  table th {\r\n    text-align: left;\r\n    vertical-align: top; }\r\n  table th {\r\n    color: #363636; }\r\n\r\n.is-block {\r\n  display: block; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-block-mobile {\r\n    display: block !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-block-tablet {\r\n    display: block !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-block-tablet-only {\r\n    display: block !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-block-touch {\r\n    display: block !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-block-desktop {\r\n    display: block !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-block-desktop-only {\r\n    display: block !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-block-widescreen {\r\n    display: block !important; } }\r\n\r\n.is-flex {\r\n  display: flex; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-flex-mobile {\r\n    display: flex !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-flex-tablet {\r\n    display: flex !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-flex-tablet-only {\r\n    display: flex !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-flex-touch {\r\n    display: flex !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-flex-desktop {\r\n    display: flex !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-flex-desktop-only {\r\n    display: flex !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-flex-widescreen {\r\n    display: flex !important; } }\r\n\r\n.is-inline {\r\n  display: inline; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-inline-mobile {\r\n    display: inline !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-inline-tablet {\r\n    display: inline !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-inline-tablet-only {\r\n    display: inline !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-inline-touch {\r\n    display: inline !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-inline-desktop {\r\n    display: inline !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-inline-desktop-only {\r\n    display: inline !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-inline-widescreen {\r\n    display: inline !important; } }\r\n\r\n.is-inline-block {\r\n  display: inline-block; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-inline-block-mobile {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-inline-block-tablet {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-inline-block-tablet-only {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-inline-block-touch {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-inline-block-desktop {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-inline-block-desktop-only {\r\n    display: inline-block !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-inline-block-widescreen {\r\n    display: inline-block !important; } }\r\n\r\n.is-inline-flex {\r\n  display: inline-flex; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-inline-flex-mobile {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-inline-flex-tablet {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-inline-flex-tablet-only {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-inline-flex-touch {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-inline-flex-desktop {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-inline-flex-desktop-only {\r\n    display: inline-flex !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-inline-flex-widescreen {\r\n    display: inline-flex !important; } }\r\n\r\n.is-clearfix:after {\r\n  clear: both;\r\n  content: \" \";\r\n  display: table; }\r\n\r\n.is-pulled-left {\r\n  float: left; }\r\n\r\n.is-pulled-right {\r\n  float: right; }\r\n\r\n.is-clipped {\r\n  overflow: hidden !important; }\r\n\r\n.is-overlay {\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0; }\r\n\r\n.has-text-centered {\r\n  text-align: center; }\r\n\r\n.has-text-left {\r\n  text-align: left; }\r\n\r\n.has-text-right {\r\n  text-align: right; }\r\n\r\n.is-hidden {\r\n  display: none !important; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .is-hidden-mobile {\r\n    display: none !important; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .is-hidden-tablet {\r\n    display: none !important; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .is-hidden-tablet-only {\r\n    display: none !important; } }\r\n\r\n@media screen and (max-width: 999px) {\r\n  .is-hidden-touch {\r\n    display: none !important; } }\r\n\r\n@media screen and (min-width: 1000px) {\r\n  .is-hidden-desktop {\r\n    display: none !important; } }\r\n\r\n@media screen and (min-width: 1000px) and (max-width: 1191px) {\r\n  .is-hidden-desktop-only {\r\n    display: none !important; } }\r\n\r\n@media screen and (min-width: 1192px) {\r\n  .is-hidden-widescreen {\r\n    display: none !important; } }\r\n\r\n.is-disabled {\r\n  pointer-events: none; }\r\n\r\n.is-marginless {\r\n  margin: 0 !important; }\r\n\r\n.is-paddingless {\r\n  padding: 0 !important; }\r\n\r\n.is-unselectable {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none; }\r\n\r\n.box {\r\n  background-color: white;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  display: block;\r\n  padding: 1.25rem; }\r\n  .box:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n\r\na.box:hover, a.box:focus {\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px #55a79a; }\r\n\r\na.box:active {\r\n  box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2), 0 0 0 1px #55a79a; }\r\n\r\n.button {\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  align-items: center;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  display: inline-flex;\r\n  font-size: 1rem;\r\n  height: 2.285em;\r\n  justify-content: flex-start;\r\n  line-height: 1.5;\r\n  padding-left: 0.75em;\r\n  padding-right: 0.75em;\r\n  position: relative;\r\n  vertical-align: top;\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  background-color: white;\r\n  border: 1px solid #dbdbdb;\r\n  color: #363636;\r\n  cursor: pointer;\r\n  justify-content: center;\r\n  padding-left: 0.75em;\r\n  padding-right: 0.75em;\r\n  text-align: center;\r\n  white-space: nowrap; }\r\n  .button:focus, .button.is-focused, .button:active, .button.is-active {\r\n    outline: none; }\r\n  .button[disabled], .button.is-disabled {\r\n    pointer-events: none; }\r\n  .button strong {\r\n    color: inherit; }\r\n  .button .icon:first-child:not(:last-child) {\r\n    margin-left: -0.25rem;\r\n    margin-right: 0.5rem; }\r\n  .button .icon:last-child:not(:first-child) {\r\n    margin-left: 0.5rem;\r\n    margin-right: -0.25rem; }\r\n  .button .icon:first-child:last-child {\r\n    margin-left: calc(-1px + -0.25rem);\r\n    margin-right: calc(-1px + -0.25rem); }\r\n  .button .icon.is-small:first-child:not(:last-child) {\r\n    margin-left: 0rem; }\r\n  .button .icon.is-small:last-child:not(:first-child) {\r\n    margin-right: 0rem; }\r\n  .button .icon.is-small:first-child:last-child {\r\n    margin-left: calc(-1px + 0rem);\r\n    margin-right: calc(-1px + 0rem); }\r\n  .button .icon.is-medium:first-child:not(:last-child) {\r\n    margin-left: -0.5rem; }\r\n  .button .icon.is-medium:last-child:not(:first-child) {\r\n    margin-right: -0.5rem; }\r\n  .button .icon.is-medium:first-child:last-child {\r\n    margin-left: calc(-1px + -0.5rem);\r\n    margin-right: calc(-1px + -0.5rem); }\r\n  .button .icon.is-large:first-child:not(:last-child) {\r\n    margin-left: -1rem; }\r\n  .button .icon.is-large:last-child:not(:first-child) {\r\n    margin-right: -1rem; }\r\n  .button .icon.is-large:first-child:last-child {\r\n    margin-left: calc(-1px + -1rem);\r\n    margin-right: calc(-1px + -1rem); }\r\n  .button:hover, .button.is-hovered {\r\n    border-color: #b5b5b5;\r\n    color: #363636; }\r\n  .button:focus, .button.is-focused {\r\n    border-color: #55a79a;\r\n    box-shadow: 0 0 0.5em rgba(85, 167, 154, 0.25);\r\n    color: #363636; }\r\n  .button:active, .button.is-active {\r\n    border-color: #4a4a4a;\r\n    box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n    color: #363636; }\r\n  .button.is-link {\r\n    background-color: transparent;\r\n    border-color: transparent;\r\n    color: #4a4a4a;\r\n    text-decoration: underline; }\r\n    .button.is-link:hover, .button.is-link.is-hovered, .button.is-link:focus, .button.is-link.is-focused, .button.is-link:active, .button.is-link.is-active {\r\n      background-color: whitesmoke;\r\n      color: #363636; }\r\n  .button.is-white {\r\n    background-color: white;\r\n    border-color: transparent;\r\n    color: #0a0a0a; }\r\n    .button.is-white:hover, .button.is-white.is-hovered {\r\n      background-color: #f9f9f9;\r\n      border-color: transparent;\r\n      color: #0a0a0a; }\r\n    .button.is-white:focus, .button.is-white.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(255, 255, 255, 0.25);\r\n      color: #0a0a0a; }\r\n    .button.is-white:active, .button.is-white.is-active {\r\n      background-color: #f2f2f2;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #0a0a0a; }\r\n    .button.is-white.is-inverted {\r\n      background-color: #0a0a0a;\r\n      color: white; }\r\n      .button.is-white.is-inverted:hover {\r\n        background-color: black; }\r\n    .button.is-white.is-loading:after {\r\n      border-color: transparent transparent #0a0a0a #0a0a0a !important; }\r\n    .button.is-white.is-outlined {\r\n      background-color: transparent;\r\n      border-color: white;\r\n      color: white; }\r\n      .button.is-white.is-outlined:hover, .button.is-white.is-outlined:focus {\r\n        background-color: white;\r\n        border-color: white;\r\n        color: #0a0a0a; }\r\n      .button.is-white.is-outlined.is-loading:after {\r\n        border-color: transparent transparent white white !important; }\r\n    .button.is-white.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #0a0a0a;\r\n      color: #0a0a0a; }\r\n      .button.is-white.is-inverted.is-outlined:hover, .button.is-white.is-inverted.is-outlined:focus {\r\n        background-color: #0a0a0a;\r\n        color: white; }\r\n  .button.is-black {\r\n    background-color: #0a0a0a;\r\n    border-color: transparent;\r\n    color: white; }\r\n    .button.is-black:hover, .button.is-black.is-hovered {\r\n      background-color: #040404;\r\n      border-color: transparent;\r\n      color: white; }\r\n    .button.is-black:focus, .button.is-black.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(10, 10, 10, 0.25);\r\n      color: white; }\r\n    .button.is-black:active, .button.is-black.is-active {\r\n      background-color: black;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: white; }\r\n    .button.is-black.is-inverted {\r\n      background-color: white;\r\n      color: #0a0a0a; }\r\n      .button.is-black.is-inverted:hover {\r\n        background-color: #f2f2f2; }\r\n    .button.is-black.is-loading:after {\r\n      border-color: transparent transparent white white !important; }\r\n    .button.is-black.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #0a0a0a;\r\n      color: #0a0a0a; }\r\n      .button.is-black.is-outlined:hover, .button.is-black.is-outlined:focus {\r\n        background-color: #0a0a0a;\r\n        border-color: #0a0a0a;\r\n        color: white; }\r\n      .button.is-black.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #0a0a0a #0a0a0a !important; }\r\n    .button.is-black.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: white;\r\n      color: white; }\r\n      .button.is-black.is-inverted.is-outlined:hover, .button.is-black.is-inverted.is-outlined:focus {\r\n        background-color: white;\r\n        color: #0a0a0a; }\r\n  .button.is-light {\r\n    background-color: whitesmoke;\r\n    border-color: transparent;\r\n    color: #363636; }\r\n    .button.is-light:hover, .button.is-light.is-hovered {\r\n      background-color: #eeeeee;\r\n      border-color: transparent;\r\n      color: #363636; }\r\n    .button.is-light:focus, .button.is-light.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(245, 245, 245, 0.25);\r\n      color: #363636; }\r\n    .button.is-light:active, .button.is-light.is-active {\r\n      background-color: #e8e8e8;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #363636; }\r\n    .button.is-light.is-inverted {\r\n      background-color: #363636;\r\n      color: whitesmoke; }\r\n      .button.is-light.is-inverted:hover {\r\n        background-color: #292929; }\r\n    .button.is-light.is-loading:after {\r\n      border-color: transparent transparent #363636 #363636 !important; }\r\n    .button.is-light.is-outlined {\r\n      background-color: transparent;\r\n      border-color: whitesmoke;\r\n      color: whitesmoke; }\r\n      .button.is-light.is-outlined:hover, .button.is-light.is-outlined:focus {\r\n        background-color: whitesmoke;\r\n        border-color: whitesmoke;\r\n        color: #363636; }\r\n      .button.is-light.is-outlined.is-loading:after {\r\n        border-color: transparent transparent whitesmoke whitesmoke !important; }\r\n    .button.is-light.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #363636;\r\n      color: #363636; }\r\n      .button.is-light.is-inverted.is-outlined:hover, .button.is-light.is-inverted.is-outlined:focus {\r\n        background-color: #363636;\r\n        color: whitesmoke; }\r\n  .button.is-dark {\r\n    background-color: #363636;\r\n    border-color: transparent;\r\n    color: whitesmoke; }\r\n    .button.is-dark:hover, .button.is-dark.is-hovered {\r\n      background-color: #2f2f2f;\r\n      border-color: transparent;\r\n      color: whitesmoke; }\r\n    .button.is-dark:focus, .button.is-dark.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(54, 54, 54, 0.25);\r\n      color: whitesmoke; }\r\n    .button.is-dark:active, .button.is-dark.is-active {\r\n      background-color: #292929;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: whitesmoke; }\r\n    .button.is-dark.is-inverted {\r\n      background-color: whitesmoke;\r\n      color: #363636; }\r\n      .button.is-dark.is-inverted:hover {\r\n        background-color: #e8e8e8; }\r\n    .button.is-dark.is-loading:after {\r\n      border-color: transparent transparent whitesmoke whitesmoke !important; }\r\n    .button.is-dark.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #363636;\r\n      color: #363636; }\r\n      .button.is-dark.is-outlined:hover, .button.is-dark.is-outlined:focus {\r\n        background-color: #363636;\r\n        border-color: #363636;\r\n        color: whitesmoke; }\r\n      .button.is-dark.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #363636 #363636 !important; }\r\n    .button.is-dark.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: whitesmoke;\r\n      color: whitesmoke; }\r\n      .button.is-dark.is-inverted.is-outlined:hover, .button.is-dark.is-inverted.is-outlined:focus {\r\n        background-color: whitesmoke;\r\n        color: #363636; }\r\n  .button.is-primary {\r\n    background-color: #55a79a;\r\n    border-color: transparent;\r\n    color: #fff; }\r\n    .button.is-primary:hover, .button.is-primary.is-hovered {\r\n      background-color: #519f92;\r\n      border-color: transparent;\r\n      color: #fff; }\r\n    .button.is-primary:focus, .button.is-primary.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(85, 167, 154, 0.25);\r\n      color: #fff; }\r\n    .button.is-primary:active, .button.is-primary.is-active {\r\n      background-color: #4c968a;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #fff; }\r\n    .button.is-primary.is-inverted {\r\n      background-color: #fff;\r\n      color: #55a79a; }\r\n      .button.is-primary.is-inverted:hover {\r\n        background-color: #f2f2f2; }\r\n    .button.is-primary.is-loading:after {\r\n      border-color: transparent transparent #fff #fff !important; }\r\n    .button.is-primary.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #55a79a;\r\n      color: #55a79a; }\r\n      .button.is-primary.is-outlined:hover, .button.is-primary.is-outlined:focus {\r\n        background-color: #55a79a;\r\n        border-color: #55a79a;\r\n        color: #fff; }\r\n      .button.is-primary.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #55a79a #55a79a !important; }\r\n    .button.is-primary.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #fff;\r\n      color: #fff; }\r\n      .button.is-primary.is-inverted.is-outlined:hover, .button.is-primary.is-inverted.is-outlined:focus {\r\n        background-color: #fff;\r\n        color: #55a79a; }\r\n  .button.is-info {\r\n    background-color: #3273dc;\r\n    border-color: transparent;\r\n    color: #fff; }\r\n    .button.is-info:hover, .button.is-info.is-hovered {\r\n      background-color: #276cda;\r\n      border-color: transparent;\r\n      color: #fff; }\r\n    .button.is-info:focus, .button.is-info.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(50, 115, 220, 0.25);\r\n      color: #fff; }\r\n    .button.is-info:active, .button.is-info.is-active {\r\n      background-color: #2366d1;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #fff; }\r\n    .button.is-info.is-inverted {\r\n      background-color: #fff;\r\n      color: #3273dc; }\r\n      .button.is-info.is-inverted:hover {\r\n        background-color: #f2f2f2; }\r\n    .button.is-info.is-loading:after {\r\n      border-color: transparent transparent #fff #fff !important; }\r\n    .button.is-info.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #3273dc;\r\n      color: #3273dc; }\r\n      .button.is-info.is-outlined:hover, .button.is-info.is-outlined:focus {\r\n        background-color: #3273dc;\r\n        border-color: #3273dc;\r\n        color: #fff; }\r\n      .button.is-info.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #3273dc #3273dc !important; }\r\n    .button.is-info.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #fff;\r\n      color: #fff; }\r\n      .button.is-info.is-inverted.is-outlined:hover, .button.is-info.is-inverted.is-outlined:focus {\r\n        background-color: #fff;\r\n        color: #3273dc; }\r\n  .button.is-success {\r\n    background-color: #23d160;\r\n    border-color: transparent;\r\n    color: #fff; }\r\n    .button.is-success:hover, .button.is-success.is-hovered {\r\n      background-color: #22c65b;\r\n      border-color: transparent;\r\n      color: #fff; }\r\n    .button.is-success:focus, .button.is-success.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(35, 209, 96, 0.25);\r\n      color: #fff; }\r\n    .button.is-success:active, .button.is-success.is-active {\r\n      background-color: #20bc56;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #fff; }\r\n    .button.is-success.is-inverted {\r\n      background-color: #fff;\r\n      color: #23d160; }\r\n      .button.is-success.is-inverted:hover {\r\n        background-color: #f2f2f2; }\r\n    .button.is-success.is-loading:after {\r\n      border-color: transparent transparent #fff #fff !important; }\r\n    .button.is-success.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #23d160;\r\n      color: #23d160; }\r\n      .button.is-success.is-outlined:hover, .button.is-success.is-outlined:focus {\r\n        background-color: #23d160;\r\n        border-color: #23d160;\r\n        color: #fff; }\r\n      .button.is-success.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #23d160 #23d160 !important; }\r\n    .button.is-success.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #fff;\r\n      color: #fff; }\r\n      .button.is-success.is-inverted.is-outlined:hover, .button.is-success.is-inverted.is-outlined:focus {\r\n        background-color: #fff;\r\n        color: #23d160; }\r\n  .button.is-warning {\r\n    background-color: #ffdd57;\r\n    border-color: transparent;\r\n    color: rgba(0, 0, 0, 0.7); }\r\n    .button.is-warning:hover, .button.is-warning.is-hovered {\r\n      background-color: #ffdb4a;\r\n      border-color: transparent;\r\n      color: rgba(0, 0, 0, 0.7); }\r\n    .button.is-warning:focus, .button.is-warning.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(255, 221, 87, 0.25);\r\n      color: rgba(0, 0, 0, 0.7); }\r\n    .button.is-warning:active, .button.is-warning.is-active {\r\n      background-color: #ffd83d;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: rgba(0, 0, 0, 0.7); }\r\n    .button.is-warning.is-inverted {\r\n      background-color: rgba(0, 0, 0, 0.7);\r\n      color: #ffdd57; }\r\n      .button.is-warning.is-inverted:hover {\r\n        background-color: rgba(0, 0, 0, 0.7); }\r\n    .button.is-warning.is-loading:after {\r\n      border-color: transparent transparent rgba(0, 0, 0, 0.7) rgba(0, 0, 0, 0.7) !important; }\r\n    .button.is-warning.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #ffdd57;\r\n      color: #ffdd57; }\r\n      .button.is-warning.is-outlined:hover, .button.is-warning.is-outlined:focus {\r\n        background-color: #ffdd57;\r\n        border-color: #ffdd57;\r\n        color: rgba(0, 0, 0, 0.7); }\r\n      .button.is-warning.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #ffdd57 #ffdd57 !important; }\r\n    .button.is-warning.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: rgba(0, 0, 0, 0.7);\r\n      color: rgba(0, 0, 0, 0.7); }\r\n      .button.is-warning.is-inverted.is-outlined:hover, .button.is-warning.is-inverted.is-outlined:focus {\r\n        background-color: rgba(0, 0, 0, 0.7);\r\n        color: #ffdd57; }\r\n  .button.is-danger {\r\n    background-color: #ff3860;\r\n    border-color: transparent;\r\n    color: #fff; }\r\n    .button.is-danger:hover, .button.is-danger.is-hovered {\r\n      background-color: #ff2b56;\r\n      border-color: transparent;\r\n      color: #fff; }\r\n    .button.is-danger:focus, .button.is-danger.is-focused {\r\n      border-color: transparent;\r\n      box-shadow: 0 0 0.5em rgba(255, 56, 96, 0.25);\r\n      color: #fff; }\r\n    .button.is-danger:active, .button.is-danger.is-active {\r\n      background-color: #ff1f4b;\r\n      border-color: transparent;\r\n      box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2);\r\n      color: #fff; }\r\n    .button.is-danger.is-inverted {\r\n      background-color: #fff;\r\n      color: #ff3860; }\r\n      .button.is-danger.is-inverted:hover {\r\n        background-color: #f2f2f2; }\r\n    .button.is-danger.is-loading:after {\r\n      border-color: transparent transparent #fff #fff !important; }\r\n    .button.is-danger.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #ff3860;\r\n      color: #ff3860; }\r\n      .button.is-danger.is-outlined:hover, .button.is-danger.is-outlined:focus {\r\n        background-color: #ff3860;\r\n        border-color: #ff3860;\r\n        color: #fff; }\r\n      .button.is-danger.is-outlined.is-loading:after {\r\n        border-color: transparent transparent #ff3860 #ff3860 !important; }\r\n    .button.is-danger.is-inverted.is-outlined {\r\n      background-color: transparent;\r\n      border-color: #fff;\r\n      color: #fff; }\r\n      .button.is-danger.is-inverted.is-outlined:hover, .button.is-danger.is-inverted.is-outlined:focus {\r\n        background-color: #fff;\r\n        color: #ff3860; }\r\n  .button.is-small {\r\n    border-radius: 2px;\r\n    font-size: 0.75rem; }\r\n    .button.is-small .icon:first-child:not(:last-child) {\r\n      margin-left: -0.375rem;\r\n      margin-right: 0.375rem; }\r\n    .button.is-small .icon:last-child:not(:first-child) {\r\n      margin-left: 0.375rem;\r\n      margin-right: -0.375rem; }\r\n    .button.is-small .icon:first-child:last-child {\r\n      margin-left: calc(-1px + -0.375rem);\r\n      margin-right: calc(-1px + -0.375rem); }\r\n    .button.is-small .icon.is-small:first-child:not(:last-child) {\r\n      margin-left: -0.125rem; }\r\n    .button.is-small .icon.is-small:last-child:not(:first-child) {\r\n      margin-right: -0.125rem; }\r\n    .button.is-small .icon.is-small:first-child:last-child {\r\n      margin-left: calc(-1px + -0.125rem);\r\n      margin-right: calc(-1px + -0.125rem); }\r\n    .button.is-small .icon.is-medium:first-child:not(:last-child) {\r\n      margin-left: -0.625rem; }\r\n    .button.is-small .icon.is-medium:last-child:not(:first-child) {\r\n      margin-right: -0.625rem; }\r\n    .button.is-small .icon.is-medium:first-child:last-child {\r\n      margin-left: calc(-1px + -0.625rem);\r\n      margin-right: calc(-1px + -0.625rem); }\r\n    .button.is-small .icon.is-large:first-child:not(:last-child) {\r\n      margin-left: -1.125rem; }\r\n    .button.is-small .icon.is-large:last-child:not(:first-child) {\r\n      margin-right: -1.125rem; }\r\n    .button.is-small .icon.is-large:first-child:last-child {\r\n      margin-left: calc(-1px + -1.125rem);\r\n      margin-right: calc(-1px + -1.125rem); }\r\n  .button.is-medium {\r\n    font-size: 1.25rem; }\r\n    .button.is-medium .icon:first-child:not(:last-child) {\r\n      margin-left: -0.125rem;\r\n      margin-right: 0.625rem; }\r\n    .button.is-medium .icon:last-child:not(:first-child) {\r\n      margin-left: 0.625rem;\r\n      margin-right: -0.125rem; }\r\n    .button.is-medium .icon:first-child:last-child {\r\n      margin-left: calc(-1px + -0.125rem);\r\n      margin-right: calc(-1px + -0.125rem); }\r\n    .button.is-medium .icon.is-small:first-child:not(:last-child) {\r\n      margin-left: 0.125rem; }\r\n    .button.is-medium .icon.is-small:last-child:not(:first-child) {\r\n      margin-right: 0.125rem; }\r\n    .button.is-medium .icon.is-small:first-child:last-child {\r\n      margin-left: calc(-1px + 0.125rem);\r\n      margin-right: calc(-1px + 0.125rem); }\r\n    .button.is-medium .icon.is-medium:first-child:not(:last-child) {\r\n      margin-left: -0.375rem; }\r\n    .button.is-medium .icon.is-medium:last-child:not(:first-child) {\r\n      margin-right: -0.375rem; }\r\n    .button.is-medium .icon.is-medium:first-child:last-child {\r\n      margin-left: calc(-1px + -0.375rem);\r\n      margin-right: calc(-1px + -0.375rem); }\r\n    .button.is-medium .icon.is-large:first-child:not(:last-child) {\r\n      margin-left: -0.875rem; }\r\n    .button.is-medium .icon.is-large:last-child:not(:first-child) {\r\n      margin-right: -0.875rem; }\r\n    .button.is-medium .icon.is-large:first-child:last-child {\r\n      margin-left: calc(-1px + -0.875rem);\r\n      margin-right: calc(-1px + -0.875rem); }\r\n  .button.is-large {\r\n    font-size: 1.5rem; }\r\n    .button.is-large .icon:first-child:not(:last-child) {\r\n      margin-left: 0rem;\r\n      margin-right: 0.75rem; }\r\n    .button.is-large .icon:last-child:not(:first-child) {\r\n      margin-left: 0.75rem;\r\n      margin-right: 0rem; }\r\n    .button.is-large .icon:first-child:last-child {\r\n      margin-left: calc(-1px + 0rem);\r\n      margin-right: calc(-1px + 0rem); }\r\n    .button.is-large .icon.is-small:first-child:not(:last-child) {\r\n      margin-left: 0.25rem; }\r\n    .button.is-large .icon.is-small:last-child:not(:first-child) {\r\n      margin-right: 0.25rem; }\r\n    .button.is-large .icon.is-small:first-child:last-child {\r\n      margin-left: calc(-1px + 0.25rem);\r\n      margin-right: calc(-1px + 0.25rem); }\r\n    .button.is-large .icon.is-medium:first-child:not(:last-child) {\r\n      margin-left: -0.25rem; }\r\n    .button.is-large .icon.is-medium:last-child:not(:first-child) {\r\n      margin-right: -0.25rem; }\r\n    .button.is-large .icon.is-medium:first-child:last-child {\r\n      margin-left: calc(-1px + -0.25rem);\r\n      margin-right: calc(-1px + -0.25rem); }\r\n    .button.is-large .icon.is-large:first-child:not(:last-child) {\r\n      margin-left: -0.75rem; }\r\n    .button.is-large .icon.is-large:last-child:not(:first-child) {\r\n      margin-right: -0.75rem; }\r\n    .button.is-large .icon.is-large:first-child:last-child {\r\n      margin-left: calc(-1px + -0.75rem);\r\n      margin-right: calc(-1px + -0.75rem); }\r\n  .button[disabled], .button.is-disabled {\r\n    opacity: 0.5; }\r\n  .button.is-fullwidth {\r\n    display: flex;\r\n    width: 100%; }\r\n  .button.is-loading {\r\n    color: transparent !important;\r\n    pointer-events: none; }\r\n    .button.is-loading:after {\r\n      animation: spinAround 500ms infinite linear;\r\n      border: 2px solid #dbdbdb;\r\n      border-radius: 290486px;\r\n      border-right-color: transparent;\r\n      border-top-color: transparent;\r\n      content: \"\";\r\n      display: block;\r\n      height: 1rem;\r\n      position: relative;\r\n      width: 1rem;\r\n      left: 50%;\r\n      margin-left: -8px;\r\n      margin-top: -8px;\r\n      position: absolute;\r\n      top: 50%;\r\n      position: absolute !important; }\r\n\r\n.content {\r\n  color: #4a4a4a; }\r\n  .content:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .content li + li {\r\n    margin-top: 0.25em; }\r\n  .content p:not(:last-child),\r\n  .content ol:not(:last-child),\r\n  .content ul:not(:last-child),\r\n  .content blockquote:not(:last-child),\r\n  .content table:not(:last-child) {\r\n    margin-bottom: 1em; }\r\n  .content h1,\r\n  .content h2,\r\n  .content h3,\r\n  .content h4,\r\n  .content h5,\r\n  .content h6 {\r\n    color: #363636;\r\n    font-weight: 400;\r\n    line-height: 1.125; }\r\n  .content h1 {\r\n    font-size: 2em;\r\n    margin-bottom: 0.5em; }\r\n    .content h1:not(:first-child) {\r\n      margin-top: 1em; }\r\n  .content h2 {\r\n    font-size: 1.75em;\r\n    margin-bottom: 0.5714em; }\r\n    .content h2:not(:first-child) {\r\n      margin-top: 1.1428em; }\r\n  .content h3 {\r\n    font-size: 1.5em;\r\n    margin-bottom: 0.6666em; }\r\n    .content h3:not(:first-child) {\r\n      margin-top: 1.3333em; }\r\n  .content h4 {\r\n    font-size: 1.25em;\r\n    margin-bottom: 0.8em; }\r\n  .content h5 {\r\n    font-size: 1.125em;\r\n    margin-bottom: 0.8888em; }\r\n  .content h6 {\r\n    font-size: 1em;\r\n    margin-bottom: 1em; }\r\n  .content blockquote {\r\n    background-color: whitesmoke;\r\n    border-left: 5px solid #dbdbdb;\r\n    padding: 1.25em 1.5em; }\r\n  .content ol {\r\n    list-style: decimal outside;\r\n    margin-left: 2em;\r\n    margin-right: 2em;\r\n    margin-top: 1em; }\r\n  .content ul {\r\n    list-style: disc outside;\r\n    margin-left: 2em;\r\n    margin-right: 2em;\r\n    margin-top: 1em; }\r\n    .content ul ul {\r\n      list-style-type: circle;\r\n      margin-top: 0.5em; }\r\n      .content ul ul ul {\r\n        list-style-type: square; }\r\n  .content table {\r\n    width: 100%; }\r\n    .content table td,\r\n    .content table th {\r\n      border: 1px solid #dbdbdb;\r\n      border-width: 0 0 1px;\r\n      padding: 0.5em 0.75em;\r\n      vertical-align: top; }\r\n    .content table th {\r\n      color: #363636;\r\n      text-align: left; }\r\n    .content table tr:hover {\r\n      background-color: whitesmoke; }\r\n    .content table thead td,\r\n    .content table thead th {\r\n      border-width: 0 0 2px;\r\n      color: #363636; }\r\n    .content table tfoot td,\r\n    .content table tfoot th {\r\n      border-width: 2px 0 0;\r\n      color: #363636; }\r\n    .content table tbody tr:last-child td,\r\n    .content table tbody tr:last-child th {\r\n      border-bottom-width: 0; }\r\n  .content.is-small {\r\n    font-size: 0.75rem; }\r\n  .content.is-medium {\r\n    font-size: 1.25rem; }\r\n  .content.is-large {\r\n    font-size: 1.5rem; }\r\n\r\n.input,\r\n.textarea {\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  align-items: center;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  display: inline-flex;\r\n  font-size: 1rem;\r\n  height: 2.285em;\r\n  justify-content: flex-start;\r\n  line-height: 1.5;\r\n  padding-left: 0.75em;\r\n  padding-right: 0.75em;\r\n  position: relative;\r\n  vertical-align: top;\r\n  background-color: white;\r\n  border: 1px solid #dbdbdb;\r\n  color: #363636;\r\n  box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);\r\n  max-width: 100%;\r\n  width: 100%; }\r\n  .input:focus, .input.is-focused, .input:active, .input.is-active,\r\n  .textarea:focus,\r\n  .textarea.is-focused,\r\n  .textarea:active,\r\n  .textarea.is-active {\r\n    outline: none; }\r\n  .input[disabled], .input.is-disabled,\r\n  .textarea[disabled],\r\n  .textarea.is-disabled {\r\n    pointer-events: none; }\r\n  .input:hover, .input.is-hovered,\r\n  .textarea:hover,\r\n  .textarea.is-hovered {\r\n    border-color: #b5b5b5; }\r\n  .input:focus, .input.is-focused, .input:active, .input.is-active,\r\n  .textarea:focus,\r\n  .textarea.is-focused,\r\n  .textarea:active,\r\n  .textarea.is-active {\r\n    border-color: #55a79a; }\r\n  .input[disabled], .input.is-disabled,\r\n  .textarea[disabled],\r\n  .textarea.is-disabled {\r\n    background-color: whitesmoke;\r\n    border-color: whitesmoke;\r\n    box-shadow: none;\r\n    color: #7a7a7a; }\r\n    .input[disabled]::-moz-placeholder, .input.is-disabled::-moz-placeholder,\r\n    .textarea[disabled]::-moz-placeholder,\r\n    .textarea.is-disabled::-moz-placeholder {\r\n      color: rgba(54, 54, 54, 0.3); }\r\n    .input[disabled]::-webkit-input-placeholder, .input.is-disabled::-webkit-input-placeholder,\r\n    .textarea[disabled]::-webkit-input-placeholder,\r\n    .textarea.is-disabled::-webkit-input-placeholder {\r\n      color: rgba(54, 54, 54, 0.3); }\r\n    .input[disabled]:-moz-placeholder, .input.is-disabled:-moz-placeholder,\r\n    .textarea[disabled]:-moz-placeholder,\r\n    .textarea.is-disabled:-moz-placeholder {\r\n      color: rgba(54, 54, 54, 0.3); }\r\n    .input[disabled]:-ms-input-placeholder, .input.is-disabled:-ms-input-placeholder,\r\n    .textarea[disabled]:-ms-input-placeholder,\r\n    .textarea.is-disabled:-ms-input-placeholder {\r\n      color: rgba(54, 54, 54, 0.3); }\r\n  .input[type=\"search\"],\r\n  .textarea[type=\"search\"] {\r\n    border-radius: 290486px; }\r\n  .input.is-white,\r\n  .textarea.is-white {\r\n    border-color: white; }\r\n  .input.is-black,\r\n  .textarea.is-black {\r\n    border-color: #0a0a0a; }\r\n  .input.is-light,\r\n  .textarea.is-light {\r\n    border-color: whitesmoke; }\r\n  .input.is-dark,\r\n  .textarea.is-dark {\r\n    border-color: #363636; }\r\n  .input.is-primary,\r\n  .textarea.is-primary {\r\n    border-color: #55a79a; }\r\n  .input.is-info,\r\n  .textarea.is-info {\r\n    border-color: #3273dc; }\r\n  .input.is-success,\r\n  .textarea.is-success {\r\n    border-color: #23d160; }\r\n  .input.is-warning,\r\n  .textarea.is-warning {\r\n    border-color: #ffdd57; }\r\n  .input.is-danger,\r\n  .textarea.is-danger {\r\n    border-color: #ff3860; }\r\n  .input.is-small,\r\n  .textarea.is-small {\r\n    border-radius: 2px;\r\n    font-size: 0.75rem; }\r\n  .input.is-medium,\r\n  .textarea.is-medium {\r\n    font-size: 1.25rem; }\r\n  .input.is-large,\r\n  .textarea.is-large {\r\n    font-size: 1.5rem; }\r\n  .input.is-fullwidth,\r\n  .textarea.is-fullwidth {\r\n    display: block;\r\n    width: 100%; }\r\n  .input.is-inline,\r\n  .textarea.is-inline {\r\n    display: inline;\r\n    width: auto; }\r\n\r\n.textarea {\r\n  display: block;\r\n  line-height: 1.25;\r\n  max-height: 600px;\r\n  max-width: 100%;\r\n  min-height: 120px;\r\n  min-width: 100%;\r\n  padding: 10px;\r\n  resize: vertical; }\r\n\r\n.checkbox,\r\n.radio {\r\n  align-items: center;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  position: relative;\r\n  vertical-align: top; }\r\n  .checkbox input,\r\n  .radio input {\r\n    cursor: pointer;\r\n    margin-right: 0.5em; }\r\n  .checkbox:hover,\r\n  .radio:hover {\r\n    color: #363636; }\r\n  .checkbox.is-disabled,\r\n  .radio.is-disabled {\r\n    color: #7a7a7a;\r\n    pointer-events: none; }\r\n    .checkbox.is-disabled input,\r\n    .radio.is-disabled input {\r\n      pointer-events: none; }\r\n\r\n.radio + .radio {\r\n  margin-left: 0.5em; }\r\n\r\n.select {\r\n  display: inline-block;\r\n  height: 2.5em;\r\n  position: relative;\r\n  vertical-align: top; }\r\n  .select:after {\r\n    border: 1px solid #55a79a;\r\n    border-right: 0;\r\n    border-top: 0;\r\n    content: \" \";\r\n    display: block;\r\n    height: 0.5em;\r\n    pointer-events: none;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    width: 0.5em;\r\n    margin-top: -0.375em;\r\n    right: 1.125em;\r\n    top: 50%;\r\n    z-index: 4; }\r\n  .select select {\r\n    -moz-appearance: none;\r\n    -webkit-appearance: none;\r\n    align-items: center;\r\n    border: none;\r\n    border-radius: 3px;\r\n    box-shadow: none;\r\n    display: inline-flex;\r\n    font-size: 1rem;\r\n    height: 2.285em;\r\n    justify-content: flex-start;\r\n    line-height: 1.5;\r\n    padding-left: 0.75em;\r\n    padding-right: 0.75em;\r\n    position: relative;\r\n    vertical-align: top;\r\n    background-color: white;\r\n    border: 1px solid #dbdbdb;\r\n    color: #363636;\r\n    cursor: pointer;\r\n    display: block;\r\n    font-size: 1em;\r\n    outline: none;\r\n    padding-right: 2.5em; }\r\n    .select select:focus, .select select.is-focused, .select select:active, .select select.is-active {\r\n      outline: none; }\r\n    .select select[disabled], .select select.is-disabled {\r\n      pointer-events: none; }\r\n    .select select:hover, .select select.is-hovered {\r\n      border-color: #b5b5b5; }\r\n    .select select:focus, .select select.is-focused, .select select:active, .select select.is-active {\r\n      border-color: #55a79a; }\r\n    .select select[disabled], .select select.is-disabled {\r\n      background-color: whitesmoke;\r\n      border-color: whitesmoke;\r\n      box-shadow: none;\r\n      color: #7a7a7a; }\r\n      .select select[disabled]::-moz-placeholder, .select select.is-disabled::-moz-placeholder {\r\n        color: rgba(54, 54, 54, 0.3); }\r\n      .select select[disabled]::-webkit-input-placeholder, .select select.is-disabled::-webkit-input-placeholder {\r\n        color: rgba(54, 54, 54, 0.3); }\r\n      .select select[disabled]:-moz-placeholder, .select select.is-disabled:-moz-placeholder {\r\n        color: rgba(54, 54, 54, 0.3); }\r\n      .select select[disabled]:-ms-input-placeholder, .select select.is-disabled:-ms-input-placeholder {\r\n        color: rgba(54, 54, 54, 0.3); }\r\n    .select select:hover {\r\n      border-color: #b5b5b5; }\r\n    .select select::ms-expand {\r\n      display: none; }\r\n  .select:hover:after {\r\n    border-color: #363636; }\r\n  .select.is-small {\r\n    border-radius: 2px;\r\n    font-size: 0.75rem; }\r\n  .select.is-medium {\r\n    font-size: 1.25rem; }\r\n  .select.is-large {\r\n    font-size: 1.5rem; }\r\n  .select.is-fullwidth {\r\n    width: 100%; }\r\n    .select.is-fullwidth select {\r\n      width: 100%; }\r\n\r\n.label {\r\n  color: #363636;\r\n  display: block;\r\n  font-weight: bold; }\r\n  .label:not(:last-child) {\r\n    margin-bottom: 0.5em; }\r\n\r\n.help {\r\n  display: block;\r\n  font-size: 0.75rem;\r\n  margin-top: 5px; }\r\n  .help.is-white {\r\n    color: white; }\r\n  .help.is-black {\r\n    color: #0a0a0a; }\r\n  .help.is-light {\r\n    color: whitesmoke; }\r\n  .help.is-dark {\r\n    color: #363636; }\r\n  .help.is-primary {\r\n    color: #55a79a; }\r\n  .help.is-info {\r\n    color: #3273dc; }\r\n  .help.is-success {\r\n    color: #23d160; }\r\n  .help.is-warning {\r\n    color: #ffdd57; }\r\n  .help.is-danger {\r\n    color: #ff3860; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .control-label {\r\n    margin-bottom: 0.5em; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .control-label {\r\n    flex-basis: 0;\r\n    flex-grow: 1;\r\n    flex-shrink: 0;\r\n    margin-right: 1.5em;\r\n    padding-top: 0.5em;\r\n    text-align: right; } }\r\n\r\n.control {\r\n  position: relative;\r\n  text-align: left; }\r\n  .control:not(:last-child) {\r\n    margin-bottom: 0.75rem; }\r\n  .control.has-addons {\r\n    display: flex;\r\n    justify-content: flex-start; }\r\n    .control.has-addons .button,\r\n    .control.has-addons .input,\r\n    .control.has-addons .select {\r\n      border-radius: 0;\r\n      margin-right: -1px;\r\n      width: auto; }\r\n      .control.has-addons .button:hover,\r\n      .control.has-addons .input:hover,\r\n      .control.has-addons .select:hover {\r\n        z-index: 2; }\r\n      .control.has-addons .button:focus, .control.has-addons .button:active,\r\n      .control.has-addons .input:focus,\r\n      .control.has-addons .input:active,\r\n      .control.has-addons .select:focus,\r\n      .control.has-addons .select:active {\r\n        z-index: 3; }\r\n      .control.has-addons .button:first-child,\r\n      .control.has-addons .input:first-child,\r\n      .control.has-addons .select:first-child {\r\n        border-radius: 3px 0 0 3px; }\r\n        .control.has-addons .button:first-child select,\r\n        .control.has-addons .input:first-child select,\r\n        .control.has-addons .select:first-child select {\r\n          border-radius: 3px 0 0 3px; }\r\n      .control.has-addons .button:last-child,\r\n      .control.has-addons .input:last-child,\r\n      .control.has-addons .select:last-child {\r\n        border-radius: 0 3px 3px 0; }\r\n        .control.has-addons .button:last-child select,\r\n        .control.has-addons .input:last-child select,\r\n        .control.has-addons .select:last-child select {\r\n          border-radius: 0 3px 3px 0; }\r\n      .control.has-addons .button.is-expanded,\r\n      .control.has-addons .input.is-expanded,\r\n      .control.has-addons .select.is-expanded {\r\n        flex-grow: 1;\r\n        flex-shrink: 0; }\r\n    .control.has-addons .select select:hover {\r\n      z-index: 2; }\r\n    .control.has-addons .select select:focus, .control.has-addons .select select:active {\r\n      z-index: 3; }\r\n    .control.has-addons.has-addons-centered {\r\n      justify-content: center; }\r\n    .control.has-addons.has-addons-right {\r\n      justify-content: flex-end; }\r\n    .control.has-addons.has-addons-fullwidth .button,\r\n    .control.has-addons.has-addons-fullwidth .input,\r\n    .control.has-addons.has-addons-fullwidth .select {\r\n      flex-grow: 1;\r\n      flex-shrink: 0; }\r\n  .control.has-icon .icon {\r\n    color: #dbdbdb;\r\n    pointer-events: none;\r\n    position: absolute;\r\n    top: 1.25rem;\r\n    z-index: 4; }\r\n  .control.has-icon .input:focus + .icon {\r\n    color: #7a7a7a; }\r\n  .control.has-icon .input.is-small + .icon {\r\n    top: 0.9375rem; }\r\n  .control.has-icon .input.is-medium + .icon {\r\n    top: 1.5625rem; }\r\n  .control.has-icon .input.is-large + .icon {\r\n    top: 1.875rem; }\r\n  .control.has-icon:not(.has-icon-right) .icon {\r\n    left: 1.25rem;\r\n    transform: translateX(-50%) translateY(-50%); }\r\n  .control.has-icon:not(.has-icon-right) .input {\r\n    padding-left: 2.5em; }\r\n    .control.has-icon:not(.has-icon-right) .input.is-small + .icon {\r\n      left: 0.9375rem; }\r\n    .control.has-icon:not(.has-icon-right) .input.is-medium + .icon {\r\n      left: 1.5625rem; }\r\n    .control.has-icon:not(.has-icon-right) .input.is-large + .icon {\r\n      left: 1.875rem; }\r\n  .control.has-icon.has-icon-right .icon {\r\n    right: 1.25rem;\r\n    transform: translateX(50%) translateY(-50%); }\r\n  .control.has-icon.has-icon-right .input {\r\n    padding-right: 2.5em; }\r\n    .control.has-icon.has-icon-right .input.is-small + .icon {\r\n      right: 0.9375rem; }\r\n    .control.has-icon.has-icon-right .input.is-medium + .icon {\r\n      right: 1.5625rem; }\r\n    .control.has-icon.has-icon-right .input.is-large + .icon {\r\n      right: 1.875rem; }\r\n  .control.is-grouped {\r\n    display: flex;\r\n    justify-content: flex-start; }\r\n    .control.is-grouped > .control {\r\n      flex-basis: 0;\r\n      flex-shrink: 0; }\r\n      .control.is-grouped > .control:not(:last-child) {\r\n        margin-bottom: 0;\r\n        margin-right: 0.75rem; }\r\n      .control.is-grouped > .control.is-expanded {\r\n        flex-grow: 1;\r\n        flex-shrink: 1; }\r\n    .control.is-grouped.is-grouped-centered {\r\n      justify-content: center; }\r\n    .control.is-grouped.is-grouped-right {\r\n      justify-content: flex-end; }\r\n  @media screen and (min-width: 769px) {\r\n    .control.is-horizontal {\r\n      display: flex; }\r\n      .control.is-horizontal > .control {\r\n        display: flex;\r\n        flex-basis: 0;\r\n        flex-grow: 5;\r\n        flex-shrink: 1; } }\r\n  .control.is-loading:after {\r\n    animation: spinAround 500ms infinite linear;\r\n    border: 2px solid #dbdbdb;\r\n    border-radius: 290486px;\r\n    border-right-color: transparent;\r\n    border-top-color: transparent;\r\n    content: \"\";\r\n    display: block;\r\n    height: 1rem;\r\n    position: relative;\r\n    width: 1rem;\r\n    position: absolute !important;\r\n    right: 0.75em;\r\n    top: 0.75em; }\r\n\r\n.icon {\r\n  display: inline-block;\r\n  font-size: 21px;\r\n  height: 1.5rem;\r\n  line-height: 1.5rem;\r\n  text-align: center;\r\n  vertical-align: top;\r\n  width: 1.5rem; }\r\n  .icon .fa {\r\n    font-size: inherit;\r\n    line-height: inherit; }\r\n  .icon.is-small {\r\n    display: inline-block;\r\n    font-size: 14px;\r\n    height: 1rem;\r\n    line-height: 1rem;\r\n    text-align: center;\r\n    vertical-align: top;\r\n    width: 1rem; }\r\n  .icon.is-medium {\r\n    display: inline-block;\r\n    font-size: 28px;\r\n    height: 2rem;\r\n    line-height: 2rem;\r\n    text-align: center;\r\n    vertical-align: top;\r\n    width: 2rem; }\r\n  .icon.is-large {\r\n    display: inline-block;\r\n    font-size: 42px;\r\n    height: 3rem;\r\n    line-height: 3rem;\r\n    text-align: center;\r\n    vertical-align: top;\r\n    width: 3rem; }\r\n\r\n.image {\r\n  display: block;\r\n  position: relative; }\r\n  .image img {\r\n    display: block;\r\n    height: auto;\r\n    width: 100%; }\r\n  .image.is-square img, .image.is-1by1 img, .image.is-4by3 img, .image.is-3by2 img, .image.is-16by9 img, .image.is-2by1 img {\r\n    bottom: 0;\r\n    left: 0;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    height: 100%;\r\n    width: 100%; }\r\n  .image.is-square, .image.is-1by1 {\r\n    padding-top: 100%; }\r\n  .image.is-4by3 {\r\n    padding-top: 75%; }\r\n  .image.is-3by2 {\r\n    padding-top: 66.6666%; }\r\n  .image.is-16by9 {\r\n    padding-top: 56.25%; }\r\n  .image.is-2by1 {\r\n    padding-top: 50%; }\r\n  .image.is-16x16 {\r\n    height: 16px;\r\n    width: 16px; }\r\n  .image.is-24x24 {\r\n    height: 24px;\r\n    width: 24px; }\r\n  .image.is-32x32 {\r\n    height: 32px;\r\n    width: 32px; }\r\n  .image.is-48x48 {\r\n    height: 48px;\r\n    width: 48px; }\r\n  .image.is-64x64 {\r\n    height: 64px;\r\n    width: 64px; }\r\n  .image.is-96x96 {\r\n    height: 96px;\r\n    width: 96px; }\r\n  .image.is-128x128 {\r\n    height: 128px;\r\n    width: 128px; }\r\n\r\n.notification {\r\n  background-color: whitesmoke;\r\n  border-radius: 3px;\r\n  padding: 1.25rem 2.5rem 1.25rem 1.5rem;\r\n  position: relative; }\r\n  .notification:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .notification code,\r\n  .notification pre {\r\n    background: white; }\r\n  .notification pre code {\r\n    background: transparent; }\r\n  .notification .delete {\r\n    position: absolute;\r\n    right: 0.5em;\r\n    top: 0.5em; }\r\n  .notification .title,\r\n  .notification .subtitle,\r\n  .notification .content {\r\n    color: inherit; }\r\n  .notification.is-white {\r\n    background-color: white;\r\n    color: #0a0a0a; }\r\n  .notification.is-black {\r\n    background-color: #0a0a0a;\r\n    color: white; }\r\n  .notification.is-light {\r\n    background-color: whitesmoke;\r\n    color: #363636; }\r\n  .notification.is-dark {\r\n    background-color: #363636;\r\n    color: whitesmoke; }\r\n  .notification.is-primary {\r\n    background-color: #55a79a;\r\n    color: #fff; }\r\n  .notification.is-info {\r\n    background-color: #3273dc;\r\n    color: #fff; }\r\n  .notification.is-success {\r\n    background-color: #23d160;\r\n    color: #fff; }\r\n  .notification.is-warning {\r\n    background-color: #ffdd57;\r\n    color: rgba(0, 0, 0, 0.7); }\r\n  .notification.is-danger {\r\n    background-color: #ff3860;\r\n    color: #fff; }\r\n\r\n.progress {\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  border: none;\r\n  border-radius: 290486px;\r\n  display: block;\r\n  height: 1rem;\r\n  overflow: hidden;\r\n  padding: 0;\r\n  width: 100%; }\r\n  .progress:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .progress::-webkit-progress-bar {\r\n    background-color: #dbdbdb; }\r\n  .progress::-webkit-progress-value {\r\n    background-color: #4a4a4a; }\r\n  .progress::-moz-progress-bar {\r\n    background-color: #4a4a4a; }\r\n  .progress.is-white::-webkit-progress-value {\r\n    background-color: white; }\r\n  .progress.is-white::-moz-progress-bar {\r\n    background-color: white; }\r\n  .progress.is-black::-webkit-progress-value {\r\n    background-color: #0a0a0a; }\r\n  .progress.is-black::-moz-progress-bar {\r\n    background-color: #0a0a0a; }\r\n  .progress.is-light::-webkit-progress-value {\r\n    background-color: whitesmoke; }\r\n  .progress.is-light::-moz-progress-bar {\r\n    background-color: whitesmoke; }\r\n  .progress.is-dark::-webkit-progress-value {\r\n    background-color: #363636; }\r\n  .progress.is-dark::-moz-progress-bar {\r\n    background-color: #363636; }\r\n  .progress.is-primary::-webkit-progress-value {\r\n    background-color: #55a79a; }\r\n  .progress.is-primary::-moz-progress-bar {\r\n    background-color: #55a79a; }\r\n  .progress.is-info::-webkit-progress-value {\r\n    background-color: #3273dc; }\r\n  .progress.is-info::-moz-progress-bar {\r\n    background-color: #3273dc; }\r\n  .progress.is-success::-webkit-progress-value {\r\n    background-color: #23d160; }\r\n  .progress.is-success::-moz-progress-bar {\r\n    background-color: #23d160; }\r\n  .progress.is-warning::-webkit-progress-value {\r\n    background-color: #ffdd57; }\r\n  .progress.is-warning::-moz-progress-bar {\r\n    background-color: #ffdd57; }\r\n  .progress.is-danger::-webkit-progress-value {\r\n    background-color: #ff3860; }\r\n  .progress.is-danger::-moz-progress-bar {\r\n    background-color: #ff3860; }\r\n  .progress.is-small {\r\n    height: 0.75rem; }\r\n  .progress.is-medium {\r\n    height: 1.25rem; }\r\n  .progress.is-large {\r\n    height: 1.5rem; }\r\n\r\n.table {\r\n  background-color: white;\r\n  color: #363636;\r\n  margin-bottom: 1.5rem;\r\n  width: 100%; }\r\n  .table td,\r\n  .table th {\r\n    border: 1px solid #dbdbdb;\r\n    border-width: 0 0 1px;\r\n    padding: 0.5em 0.75em;\r\n    vertical-align: top; }\r\n    .table td.is-narrow,\r\n    .table th.is-narrow {\r\n      white-space: nowrap;\r\n      width: 1%; }\r\n  .table th {\r\n    color: #363636;\r\n    text-align: left; }\r\n  .table tr:hover {\r\n    background-color: #fafafa; }\r\n  .table thead td,\r\n  .table thead th {\r\n    border-width: 0 0 2px;\r\n    color: #7a7a7a; }\r\n  .table tfoot td,\r\n  .table tfoot th {\r\n    border-width: 2px 0 0;\r\n    color: #7a7a7a; }\r\n  .table tbody tr:last-child td,\r\n  .table tbody tr:last-child th {\r\n    border-bottom-width: 0; }\r\n  .table.is-bordered td,\r\n  .table.is-bordered th {\r\n    border-width: 1px; }\r\n  .table.is-bordered tr:last-child td,\r\n  .table.is-bordered tr:last-child th {\r\n    border-bottom-width: 1px; }\r\n  .table.is-narrow td,\r\n  .table.is-narrow th {\r\n    padding: 0.25em 0.5em; }\r\n  .table.is-striped tbody tr:nth-child(even) {\r\n    background-color: #fafafa; }\r\n    .table.is-striped tbody tr:nth-child(even):hover {\r\n      background-color: whitesmoke; }\r\n\r\n.tag {\r\n  align-items: center;\r\n  background-color: whitesmoke;\r\n  border-radius: 290486px;\r\n  color: #4a4a4a;\r\n  display: inline-flex;\r\n  font-size: 0.75rem;\r\n  height: 2em;\r\n  justify-content: center;\r\n  line-height: 1.5;\r\n  padding-left: 0.875em;\r\n  padding-right: 0.875em;\r\n  vertical-align: top;\r\n  white-space: nowrap; }\r\n  .tag .delete {\r\n    margin-left: 0.25em;\r\n    margin-right: -0.5em; }\r\n  .tag.is-white {\r\n    background-color: white;\r\n    color: #0a0a0a; }\r\n  .tag.is-black {\r\n    background-color: #0a0a0a;\r\n    color: white; }\r\n  .tag.is-light {\r\n    background-color: whitesmoke;\r\n    color: #363636; }\r\n  .tag.is-dark {\r\n    background-color: #363636;\r\n    color: whitesmoke; }\r\n  .tag.is-primary {\r\n    background-color: #55a79a;\r\n    color: #fff; }\r\n  .tag.is-info {\r\n    background-color: #3273dc;\r\n    color: #fff; }\r\n  .tag.is-success {\r\n    background-color: #23d160;\r\n    color: #fff; }\r\n  .tag.is-warning {\r\n    background-color: #ffdd57;\r\n    color: rgba(0, 0, 0, 0.7); }\r\n  .tag.is-danger {\r\n    background-color: #ff3860;\r\n    color: #fff; }\r\n  .tag.is-medium {\r\n    font-size: 1rem; }\r\n  .tag.is-large {\r\n    font-size: 1.25rem; }\r\n\r\n.title,\r\n.subtitle {\r\n  word-break: break-word; }\r\n  .title:not(:last-child),\r\n  .subtitle:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .title em,\r\n  .title span,\r\n  .subtitle em,\r\n  .subtitle span {\r\n    font-weight: 300; }\r\n  .title strong,\r\n  .subtitle strong {\r\n    font-weight: 500; }\r\n  .title .tag,\r\n  .subtitle .tag {\r\n    vertical-align: middle; }\r\n\r\n.title {\r\n  color: #363636;\r\n  font-size: 2rem;\r\n  font-weight: 300;\r\n  line-height: 1.125; }\r\n  .title strong {\r\n    color: inherit; }\r\n  .title + .highlight {\r\n    margin-top: -0.75rem; }\r\n  .title + .subtitle {\r\n    margin-top: -1.25rem; }\r\n  .title.is-1 {\r\n    font-size: 3.5rem; }\r\n  .title.is-2 {\r\n    font-size: 2.75rem; }\r\n  .title.is-3 {\r\n    font-size: 2rem; }\r\n  .title.is-4 {\r\n    font-size: 1.5rem; }\r\n  .title.is-5 {\r\n    font-size: 1.25rem; }\r\n  .title.is-6 {\r\n    font-size: 14px; }\r\n\r\n.subtitle {\r\n  color: #4a4a4a;\r\n  font-size: 1.25rem;\r\n  font-weight: 300;\r\n  line-height: 1.25; }\r\n  .subtitle strong {\r\n    color: #363636; }\r\n  .subtitle + .title {\r\n    margin-top: -1.5rem; }\r\n  .subtitle.is-1 {\r\n    font-size: 3.5rem; }\r\n  .subtitle.is-2 {\r\n    font-size: 2.75rem; }\r\n  .subtitle.is-3 {\r\n    font-size: 2rem; }\r\n  .subtitle.is-4 {\r\n    font-size: 1.5rem; }\r\n  .subtitle.is-5 {\r\n    font-size: 1.25rem; }\r\n  .subtitle.is-6 {\r\n    font-size: 14px; }\r\n\r\n.block:not(:last-child) {\r\n  margin-bottom: 1.5rem; }\r\n\r\n.container {\r\n  position: relative; }\r\n  @media screen and (min-width: 1000px) {\r\n    .container {\r\n      margin: 0 auto;\r\n      max-width: 960px; }\r\n      .container.is-fluid {\r\n        margin: 0 20px;\r\n        max-width: none; } }\r\n  @media screen and (min-width: 1192px) {\r\n    .container {\r\n      max-width: 1152px; } }\r\n\r\n.delete {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  background-color: rgba(10, 10, 10, 0.2);\r\n  border: none;\r\n  border-radius: 290486px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-size: 1rem;\r\n  height: 20px;\r\n  outline: none;\r\n  position: relative;\r\n  transform: rotate(45deg);\r\n  transform-origin: center center;\r\n  vertical-align: top;\r\n  width: 20px; }\r\n  .delete:before, .delete:after {\r\n    background-color: white;\r\n    content: \"\";\r\n    display: block;\r\n    left: 50%;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateX(-50%) translateY(-50%); }\r\n  .delete:before {\r\n    height: 2px;\r\n    width: 50%; }\r\n  .delete:after {\r\n    height: 50%;\r\n    width: 2px; }\r\n  .delete:hover, .delete:focus {\r\n    background-color: rgba(10, 10, 10, 0.3); }\r\n  .delete:active {\r\n    background-color: rgba(10, 10, 10, 0.4); }\r\n  .delete.is-small {\r\n    height: 14px;\r\n    width: 14px; }\r\n  .delete.is-medium {\r\n    height: 26px;\r\n    width: 26px; }\r\n  .delete.is-large {\r\n    height: 30px;\r\n    width: 30px; }\r\n\r\n.fa {\r\n  font-size: 21px;\r\n  text-align: center;\r\n  vertical-align: top; }\r\n\r\n.heading {\r\n  display: block;\r\n  font-size: 11px;\r\n  letter-spacing: 1px;\r\n  margin-bottom: 5px;\r\n  text-transform: uppercase; }\r\n\r\n.highlight {\r\n  font-weight: 400;\r\n  max-width: 100%;\r\n  overflow: hidden;\r\n  padding: 0; }\r\n  .highlight:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .highlight pre {\r\n    overflow: auto;\r\n    max-width: 100%; }\r\n\r\n.loader {\r\n  animation: spinAround 500ms infinite linear;\r\n  border: 2px solid #dbdbdb;\r\n  border-radius: 290486px;\r\n  border-right-color: transparent;\r\n  border-top-color: transparent;\r\n  content: \"\";\r\n  display: block;\r\n  height: 1rem;\r\n  position: relative;\r\n  width: 1rem; }\r\n\r\n.number {\r\n  align-items: center;\r\n  background-color: whitesmoke;\r\n  border-radius: 290486px;\r\n  display: inline-flex;\r\n  font-size: 1.25rem;\r\n  height: 2em;\r\n  justify-content: center;\r\n  margin-right: 1.5rem;\r\n  min-width: 2.5em;\r\n  padding: 0.25rem 0.5rem;\r\n  text-align: center;\r\n  vertical-align: top; }\r\n\r\n.card-header {\r\n  align-items: stretch;\r\n  box-shadow: 0 1px 2px rgba(10, 10, 10, 0.1);\r\n  display: flex; }\r\n\r\n.card-header-title {\r\n  align-items: center;\r\n  color: #363636;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  font-weight: 700;\r\n  padding: 0.75rem; }\r\n\r\n.card-header-icon {\r\n  align-items: center;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0.75rem; }\r\n\r\n.card-image {\r\n  display: block;\r\n  position: relative; }\r\n\r\n.card-content {\r\n  padding: 1.5rem; }\r\n  .card-content .title + .subtitle {\r\n    margin-top: -1.5rem; }\r\n\r\n.card-footer {\r\n  border-top: 1px solid #dbdbdb;\r\n  align-items: stretch;\r\n  display: flex; }\r\n\r\n.card-footer-item {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-basis: 0;\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n  padding: 0.75rem; }\r\n  .card-footer-item:not(:last-child) {\r\n    border-right: 1px solid #dbdbdb; }\r\n\r\n.card {\r\n  background-color: white;\r\n  box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1), 0 0 0 1px rgba(10, 10, 10, 0.1);\r\n  color: #4a4a4a;\r\n  max-width: 100%;\r\n  position: relative; }\r\n  .card .media:not(:last-child) {\r\n    margin-bottom: 0.75rem; }\r\n\r\n.level-item {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-basis: auto;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n  justify-content: center; }\r\n  .level-item .title,\r\n  .level-item .subtitle {\r\n    margin-bottom: 0; }\r\n  @media screen and (max-width: 768px) {\r\n    .level-item:not(:last-child) {\r\n      margin-bottom: 0.75rem; } }\r\n\r\n.level-left,\r\n.level-right {\r\n  flex-basis: auto;\r\n  flex-grow: 0;\r\n  flex-shrink: 0; }\r\n  .level-left .level-item:not(:last-child),\r\n  .level-right .level-item:not(:last-child) {\r\n    margin-right: 0.75rem; }\r\n  .level-left .level-item.is-flexible,\r\n  .level-right .level-item.is-flexible {\r\n    flex-grow: 1; }\r\n\r\n.level-left {\r\n  align-items: center;\r\n  justify-content: flex-start; }\r\n  @media screen and (max-width: 768px) {\r\n    .level-left + .level-right {\r\n      margin-top: 1.5rem; } }\r\n  @media screen and (min-width: 769px) {\r\n    .level-left {\r\n      display: flex; } }\r\n\r\n.level-right {\r\n  align-items: center;\r\n  justify-content: flex-end; }\r\n  @media screen and (min-width: 769px) {\r\n    .level-right {\r\n      display: flex; } }\r\n\r\n.level {\r\n  align-items: center;\r\n  justify-content: space-between; }\r\n  .level:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .level code {\r\n    border-radius: 3px; }\r\n  .level img {\r\n    display: inline-block;\r\n    vertical-align: top; }\r\n  .level.is-mobile {\r\n    display: flex; }\r\n    .level.is-mobile > .level-item:not(:last-child) {\r\n      margin-bottom: 0; }\r\n    .level.is-mobile > .level-item:not(.is-narrow) {\r\n      flex-grow: 1; }\r\n  @media screen and (min-width: 769px) {\r\n    .level {\r\n      display: flex; }\r\n      .level > .level-item:not(.is-narrow) {\r\n        flex-grow: 1; } }\r\n\r\n.media-left,\r\n.media-right {\r\n  flex-basis: auto;\r\n  flex-grow: 0;\r\n  flex-shrink: 0; }\r\n\r\n.media-left {\r\n  margin-right: 1rem; }\r\n\r\n.media-right {\r\n  margin-left: 1rem; }\r\n\r\n.media-content {\r\n  flex-basis: auto;\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  text-align: left; }\r\n\r\n.media {\r\n  align-items: flex-start;\r\n  display: flex;\r\n  text-align: left; }\r\n  .media .content:not(:last-child) {\r\n    margin-bottom: 0.75rem; }\r\n  .media .media {\r\n    border-top: 1px solid rgba(219, 219, 219, 0.5);\r\n    display: flex;\r\n    padding-top: 0.75rem; }\r\n    .media .media .content:not(:last-child),\r\n    .media .media .control:not(:last-child) {\r\n      margin-bottom: 0.5rem; }\r\n    .media .media .media {\r\n      padding-top: 0.5rem; }\r\n      .media .media .media + .media {\r\n        margin-top: 0.5rem; }\r\n  .media + .media {\r\n    border-top: 1px solid rgba(219, 219, 219, 0.5);\r\n    margin-top: 1rem;\r\n    padding-top: 1rem; }\r\n  .media.is-large + .media {\r\n    margin-top: 1.5rem;\r\n    padding-top: 1.5rem; }\r\n\r\n.menu {\r\n  font-size: 1rem; }\r\n\r\n.menu-list {\r\n  line-height: 1.25; }\r\n  .menu-list a {\r\n    border-radius: 2px;\r\n    color: #4a4a4a;\r\n    display: block;\r\n    padding: 0.5em 0.75em; }\r\n    .menu-list a:hover {\r\n      background-color: whitesmoke;\r\n      color: #55a79a; }\r\n    .menu-list a.is-active {\r\n      background-color: #55a79a;\r\n      color: #fff; }\r\n  .menu-list li ul {\r\n    border-left: 1px solid #dbdbdb;\r\n    margin: 0.75em;\r\n    padding-left: 0.75em; }\r\n\r\n.menu-label {\r\n  color: #7a7a7a;\r\n  font-size: 0.8em;\r\n  letter-spacing: 0.1em;\r\n  text-transform: uppercase; }\r\n  .menu-label:not(:first-child) {\r\n    margin-top: 1em; }\r\n  .menu-label:not(:last-child) {\r\n    margin-bottom: 1em; }\r\n\r\n.message {\r\n  background-color: whitesmoke;\r\n  border-radius: 3px;\r\n  font-size: 1rem; }\r\n  .message:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .message.is-white {\r\n    background-color: white; }\r\n    .message.is-white .message-header {\r\n      background-color: white;\r\n      color: #0a0a0a; }\r\n    .message.is-white .message-body {\r\n      border-color: white;\r\n      color: #4d4d4d; }\r\n  .message.is-black {\r\n    background-color: #fafafa; }\r\n    .message.is-black .message-header {\r\n      background-color: #0a0a0a;\r\n      color: white; }\r\n    .message.is-black .message-body {\r\n      border-color: #0a0a0a;\r\n      color: #090909; }\r\n  .message.is-light {\r\n    background-color: #fafafa; }\r\n    .message.is-light .message-header {\r\n      background-color: whitesmoke;\r\n      color: #363636; }\r\n    .message.is-light .message-body {\r\n      border-color: whitesmoke;\r\n      color: #505050; }\r\n  .message.is-dark {\r\n    background-color: #fafafa; }\r\n    .message.is-dark .message-header {\r\n      background-color: #363636;\r\n      color: whitesmoke; }\r\n    .message.is-dark .message-body {\r\n      border-color: #363636;\r\n      color: #2a2a2a; }\r\n  .message.is-primary {\r\n    background-color: #f8fcfb; }\r\n    .message.is-primary .message-header {\r\n      background-color: #55a79a;\r\n      color: #fff; }\r\n    .message.is-primary .message-body {\r\n      border-color: #55a79a;\r\n      color: #2e4642; }\r\n  .message.is-info {\r\n    background-color: #f6f9fe; }\r\n    .message.is-info .message-header {\r\n      background-color: #3273dc;\r\n      color: #fff; }\r\n    .message.is-info .message-body {\r\n      border-color: #3273dc;\r\n      color: #22509a; }\r\n  .message.is-success {\r\n    background-color: #f6fef9; }\r\n    .message.is-success .message-header {\r\n      background-color: #23d160;\r\n      color: #fff; }\r\n    .message.is-success .message-body {\r\n      border-color: #23d160;\r\n      color: #0e301a; }\r\n  .message.is-warning {\r\n    background-color: #fffdf5; }\r\n    .message.is-warning .message-header {\r\n      background-color: #ffdd57;\r\n      color: rgba(0, 0, 0, 0.7); }\r\n    .message.is-warning .message-body {\r\n      border-color: #ffdd57;\r\n      color: #3b3108; }\r\n  .message.is-danger {\r\n    background-color: #fff5f7; }\r\n    .message.is-danger .message-header {\r\n      background-color: #ff3860;\r\n      color: #fff; }\r\n    .message.is-danger .message-body {\r\n      border-color: #ff3860;\r\n      color: #cd0930; }\r\n\r\n.message-header {\r\n  align-items: center;\r\n  background-color: #4a4a4a;\r\n  border-radius: 3px 3px 0 0;\r\n  color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  line-height: 1.25;\r\n  padding: 0.5em 0.75em;\r\n  position: relative; }\r\n  .message-header a,\r\n  .message-header strong {\r\n    color: inherit; }\r\n  .message-header a {\r\n    text-decoration: underline; }\r\n  .message-header .delete {\r\n    flex-grow: 0;\r\n    flex-shrink: 0;\r\n    margin-left: 0.75em; }\r\n  .message-header + .message-body {\r\n    border-top-left-radius: 0;\r\n    border-top-right-radius: 0;\r\n    border-top: none; }\r\n\r\n.message-body {\r\n  border: 1px solid #dbdbdb;\r\n  border-radius: 3px;\r\n  color: #4a4a4a;\r\n  padding: 1em 1.25em; }\r\n  .message-body a,\r\n  .message-body strong {\r\n    color: inherit; }\r\n  .message-body a {\r\n    text-decoration: underline; }\r\n  .message-body code,\r\n  .message-body pre {\r\n    background: white; }\r\n  .message-body pre code {\r\n    background: transparent; }\r\n\r\n.modal-background {\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  background-color: rgba(10, 10, 10, 0.86); }\r\n\r\n.modal-content,\r\n.modal-card {\r\n  margin: 0 20px;\r\n  max-height: calc(100vh - 160px);\r\n  overflow: auto;\r\n  position: relative;\r\n  width: 100%; }\r\n  @media screen and (min-width: 769px) {\r\n    .modal-content,\r\n    .modal-card {\r\n      margin: 0 auto;\r\n      max-height: calc(100vh - 40px);\r\n      width: 640px; } }\r\n\r\n.modal-close {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  background-color: rgba(10, 10, 10, 0.2);\r\n  border: none;\r\n  border-radius: 290486px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-size: 1rem;\r\n  height: 20px;\r\n  outline: none;\r\n  position: relative;\r\n  transform: rotate(45deg);\r\n  transform-origin: center center;\r\n  vertical-align: top;\r\n  width: 20px;\r\n  background: none;\r\n  height: 40px;\r\n  position: fixed;\r\n  right: 20px;\r\n  top: 20px;\r\n  width: 40px; }\r\n  .modal-close:before, .modal-close:after {\r\n    background-color: white;\r\n    content: \"\";\r\n    display: block;\r\n    left: 50%;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateX(-50%) translateY(-50%); }\r\n  .modal-close:before {\r\n    height: 2px;\r\n    width: 50%; }\r\n  .modal-close:after {\r\n    height: 50%;\r\n    width: 2px; }\r\n  .modal-close:hover, .modal-close:focus {\r\n    background-color: rgba(10, 10, 10, 0.3); }\r\n  .modal-close:active {\r\n    background-color: rgba(10, 10, 10, 0.4); }\r\n  .modal-close.is-small {\r\n    height: 14px;\r\n    width: 14px; }\r\n  .modal-close.is-medium {\r\n    height: 26px;\r\n    width: 26px; }\r\n  .modal-close.is-large {\r\n    height: 30px;\r\n    width: 30px; }\r\n\r\n.modal-card {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: calc(100vh - 40px);\r\n  overflow: hidden; }\r\n\r\n.modal-card-head,\r\n.modal-card-foot {\r\n  align-items: center;\r\n  background-color: whitesmoke;\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  justify-content: flex-start;\r\n  padding: 20px;\r\n  position: relative; }\r\n\r\n.modal-card-head {\r\n  border-bottom: 1px solid #dbdbdb;\r\n  border-top-left-radius: 5px;\r\n  border-top-right-radius: 5px; }\r\n\r\n.modal-card-title {\r\n  color: #363636;\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n  font-size: 1.5rem;\r\n  line-height: 1; }\r\n\r\n.modal-card-foot {\r\n  border-bottom-left-radius: 5px;\r\n  border-bottom-right-radius: 5px;\r\n  border-top: 1px solid #dbdbdb; }\r\n  .modal-card-foot .button:not(:last-child) {\r\n    margin-right: 10px; }\r\n\r\n.modal-card-body {\r\n  -webkit-overflow-scrolling: touch;\r\n  background-color: white;\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  overflow: auto;\r\n  padding: 20px; }\r\n\r\n.modal {\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  align-items: center;\r\n  display: none;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n  position: fixed;\r\n  z-index: 1986; }\r\n  .modal.is-active {\r\n    display: flex; }\r\n\r\n.nav-toggle {\r\n  cursor: pointer;\r\n  display: block;\r\n  height: 3.5rem;\r\n  position: relative;\r\n  width: 3.5rem; }\r\n  .nav-toggle span {\r\n    background-color: #4a4a4a;\r\n    display: block;\r\n    height: 1px;\r\n    left: 50%;\r\n    margin-left: -7px;\r\n    position: absolute;\r\n    top: 50%;\r\n    transition: none 86ms ease-out;\r\n    transition-property: background, left, opacity, transform;\r\n    width: 15px; }\r\n    .nav-toggle span:nth-child(1) {\r\n      margin-top: -6px; }\r\n    .nav-toggle span:nth-child(2) {\r\n      margin-top: -1px; }\r\n    .nav-toggle span:nth-child(3) {\r\n      margin-top: 4px; }\r\n  .nav-toggle:hover {\r\n    background-color: whitesmoke; }\r\n  .nav-toggle.is-active span {\r\n    background-color: #55a79a; }\r\n    .nav-toggle.is-active span:nth-child(1) {\r\n      margin-left: -5px;\r\n      transform: rotate(45deg);\r\n      transform-origin: left top; }\r\n    .nav-toggle.is-active span:nth-child(2) {\r\n      opacity: 0; }\r\n    .nav-toggle.is-active span:nth-child(3) {\r\n      margin-left: -5px;\r\n      transform: rotate(-45deg);\r\n      transform-origin: left bottom; }\r\n  @media screen and (min-width: 769px) {\r\n    .nav-toggle {\r\n      display: none; } }\r\n\r\n.nav-item {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n  font-size: 1rem;\r\n  justify-content: center;\r\n  padding: 0.5rem 0.75rem; }\r\n  .nav-item a {\r\n    flex-grow: 1;\r\n    flex-shrink: 0; }\r\n  .nav-item img {\r\n    max-height: 1.75rem; }\r\n  .nav-item .button + .button {\r\n    margin-left: 0.75rem; }\r\n  .nav-item .tag:first-child:not(:last-child) {\r\n    margin-right: 0.5rem; }\r\n  .nav-item .tag:last-child:not(:first-child) {\r\n    margin-left: 0.5rem; }\r\n  @media screen and (max-width: 768px) {\r\n    .nav-item {\r\n      justify-content: flex-start; } }\r\n\r\n.nav-item a,\r\na.nav-item {\r\n  color: #7a7a7a; }\r\n  .nav-item a:hover,\r\n  a.nav-item:hover {\r\n    color: #363636; }\r\n  .nav-item a.is-active,\r\n  a.nav-item.is-active {\r\n    color: #363636; }\r\n  .nav-item a.is-tab,\r\n  a.nav-item.is-tab {\r\n    border-bottom: 1px solid transparent;\r\n    border-top: 1px solid transparent;\r\n    padding-bottom: calc(0.5rem - 1px);\r\n    padding-left: 1rem;\r\n    padding-right: 1rem;\r\n    padding-top: calc(0.5rem - 1px); }\r\n    .nav-item a.is-tab:hover,\r\n    a.nav-item.is-tab:hover {\r\n      border-bottom-color: #55a79a;\r\n      border-top-color: transparent; }\r\n    .nav-item a.is-tab.is-active,\r\n    a.nav-item.is-tab.is-active {\r\n      border-bottom: 3px solid #55a79a;\r\n      color: #55a79a;\r\n      padding-bottom: calc(0.5rem - 3px); }\r\n  @media screen and (min-width: 1000px) {\r\n    .nav-item a.is-brand,\r\n    a.nav-item.is-brand {\r\n      padding-left: 0; } }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .nav-menu {\r\n    background-color: white;\r\n    box-shadow: 0 4px 7px rgba(10, 10, 10, 0.1);\r\n    left: 0;\r\n    display: none;\r\n    right: 0;\r\n    top: 100%;\r\n    position: absolute; }\r\n    .nav-menu .nav-item {\r\n      border-top: 1px solid rgba(219, 219, 219, 0.5);\r\n      padding: 0.75rem; }\r\n    .nav-menu.is-active {\r\n      display: block; } }\r\n\r\n@media screen and (min-width: 769px) and (max-width: 999px) {\r\n  .nav-menu {\r\n    padding-right: 1.5rem; } }\r\n\r\n.nav-left,\r\n.nav-right {\r\n  align-items: stretch;\r\n  flex-basis: 0;\r\n  flex-grow: 1;\r\n  flex-shrink: 0; }\r\n\r\n.nav-left {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  overflow: hidden;\r\n  overflow-x: auto;\r\n  white-space: nowrap; }\r\n\r\n.nav-center {\r\n  align-items: stretch;\r\n  display: flex;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n  margin-left: auto;\r\n  margin-right: auto; }\r\n\r\n.nav-right {\r\n  justify-content: flex-end; }\r\n  @media screen and (min-width: 769px) {\r\n    .nav-right {\r\n      display: flex; } }\r\n\r\n.nav {\r\n  align-items: stretch;\r\n  background-color: white;\r\n  display: flex;\r\n  min-height: 3.5rem;\r\n  position: relative;\r\n  text-align: center;\r\n  z-index: 2; }\r\n  .nav > .container {\r\n    align-items: stretch;\r\n    display: flex;\r\n    min-height: 3.5rem;\r\n    width: 100%; }\r\n  .nav.has-shadow {\r\n    box-shadow: 0 2px 3px rgba(10, 10, 10, 0.1); }\r\n\r\n.pagination,\r\n.pagination-list {\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  text-align: center; }\r\n\r\n.pagination-previous,\r\n.pagination-next,\r\n.pagination-link,\r\n.pagination-ellipsis {\r\n  -moz-appearance: none;\r\n  -webkit-appearance: none;\r\n  align-items: center;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: none;\r\n  display: inline-flex;\r\n  font-size: 1rem;\r\n  height: 2.285em;\r\n  justify-content: flex-start;\r\n  line-height: 1.5;\r\n  padding-left: 0.75em;\r\n  padding-right: 0.75em;\r\n  position: relative;\r\n  vertical-align: top;\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  font-size: 0.875rem;\r\n  padding-left: 0.5em;\r\n  padding-right: 0.5em;\r\n  justify-content: center;\r\n  text-align: center; }\r\n  .pagination-previous:focus, .pagination-previous.is-focused, .pagination-previous:active, .pagination-previous.is-active,\r\n  .pagination-next:focus,\r\n  .pagination-next.is-focused,\r\n  .pagination-next:active,\r\n  .pagination-next.is-active,\r\n  .pagination-link:focus,\r\n  .pagination-link.is-focused,\r\n  .pagination-link:active,\r\n  .pagination-link.is-active,\r\n  .pagination-ellipsis:focus,\r\n  .pagination-ellipsis.is-focused,\r\n  .pagination-ellipsis:active,\r\n  .pagination-ellipsis.is-active {\r\n    outline: none; }\r\n  .pagination-previous[disabled], .pagination-previous.is-disabled,\r\n  .pagination-next[disabled],\r\n  .pagination-next.is-disabled,\r\n  .pagination-link[disabled],\r\n  .pagination-link.is-disabled,\r\n  .pagination-ellipsis[disabled],\r\n  .pagination-ellipsis.is-disabled {\r\n    pointer-events: none; }\r\n\r\n.pagination-previous,\r\n.pagination-next,\r\n.pagination-link {\r\n  border: 1px solid #dbdbdb;\r\n  min-width: 2.5em; }\r\n  .pagination-previous:hover,\r\n  .pagination-next:hover,\r\n  .pagination-link:hover {\r\n    border-color: #b5b5b5;\r\n    color: #363636; }\r\n  .pagination-previous:focus,\r\n  .pagination-next:focus,\r\n  .pagination-link:focus {\r\n    border-color: #55a79a; }\r\n  .pagination-previous:active,\r\n  .pagination-next:active,\r\n  .pagination-link:active {\r\n    box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.2); }\r\n  .pagination-previous[disabled], .pagination-previous.is-disabled,\r\n  .pagination-next[disabled],\r\n  .pagination-next.is-disabled,\r\n  .pagination-link[disabled],\r\n  .pagination-link.is-disabled {\r\n    background: #dbdbdb;\r\n    color: #7a7a7a;\r\n    opacity: 0.5;\r\n    pointer-events: none; }\r\n\r\n.pagination-previous,\r\n.pagination-next {\r\n  padding-left: 0.75em;\r\n  padding-right: 0.75em; }\r\n\r\n.pagination-link.is-current {\r\n  background-color: #55a79a;\r\n  border-color: #55a79a;\r\n  color: #fff; }\r\n\r\n.pagination-ellipsis {\r\n  color: #b5b5b5;\r\n  pointer-events: none; }\r\n\r\n.pagination-list li:not(:first-child) {\r\n  margin-left: 0.375rem; }\r\n\r\n@media screen and (max-width: 768px) {\r\n  .pagination {\r\n    flex-wrap: wrap; }\r\n  .pagination-previous,\r\n  .pagination-next {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    width: calc(50% - 0.375rem); }\r\n  .pagination-next {\r\n    margin-left: 0.75rem; }\r\n  .pagination-list {\r\n    margin-top: 0.75rem; }\r\n    .pagination-list li {\r\n      flex-grow: 1;\r\n      flex-shrink: 1; } }\r\n\r\n@media screen and (min-width: 769px) {\r\n  .pagination-list {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    justify-content: flex-start;\r\n    order: 1; }\r\n  .pagination-previous,\r\n  .pagination-next {\r\n    margin-left: 0.75rem; }\r\n  .pagination-previous {\r\n    order: 2; }\r\n  .pagination-next {\r\n    order: 3; }\r\n  .pagination {\r\n    justify-content: space-between; }\r\n    .pagination.is-centered .pagination-previous {\r\n      margin-left: 0;\r\n      order: 1; }\r\n    .pagination.is-centered .pagination-list {\r\n      justify-content: center;\r\n      order: 2; }\r\n    .pagination.is-centered .pagination-next {\r\n      order: 3; }\r\n    .pagination.is-right .pagination-previous {\r\n      margin-left: 0;\r\n      order: 1; }\r\n    .pagination.is-right .pagination-next {\r\n      order: 2;\r\n      margin-right: 0.75rem; }\r\n    .pagination.is-right .pagination-list {\r\n      justify-content: flex-end;\r\n      order: 3; } }\r\n\r\n.panel {\r\n  font-size: 1rem; }\r\n  .panel:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n\r\n.panel-heading,\r\n.panel-tabs,\r\n.panel-block {\r\n  border-bottom: 1px solid #dbdbdb;\r\n  border-left: 1px solid #dbdbdb;\r\n  border-right: 1px solid #dbdbdb; }\r\n  .panel-heading:first-child,\r\n  .panel-tabs:first-child,\r\n  .panel-block:first-child {\r\n    border-top: 1px solid #dbdbdb; }\r\n\r\n.panel-heading {\r\n  background-color: whitesmoke;\r\n  border-radius: 3px 3px 0 0;\r\n  color: #363636;\r\n  font-size: 1.25em;\r\n  font-weight: 300;\r\n  line-height: 1.25;\r\n  padding: 0.5em 0.75em; }\r\n\r\n.panel-tabs {\r\n  align-items: flex-end;\r\n  display: flex;\r\n  font-size: 0.875em;\r\n  justify-content: center; }\r\n  .panel-tabs a {\r\n    border-bottom: 1px solid #dbdbdb;\r\n    margin-bottom: -1px;\r\n    padding: 0.5em; }\r\n    .panel-tabs a.is-active {\r\n      border-bottom-color: #4a4a4a;\r\n      color: #363636; }\r\n\r\n.panel-list a {\r\n  color: #4a4a4a; }\r\n  .panel-list a:hover {\r\n    color: #55a79a; }\r\n\r\n.panel-block {\r\n  align-items: center;\r\n  color: #363636;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  padding: 0.5em 0.75em; }\r\n  .panel-block input[type=\"checkbox\"] {\r\n    margin-right: 0.75em; }\r\n  .panel-block > .control {\r\n    flex-grow: 1;\r\n    flex-shrink: 1;\r\n    width: 100%; }\r\n  .panel-block.is-active {\r\n    border-left-color: #55a79a;\r\n    color: #363636; }\r\n    .panel-block.is-active .panel-icon {\r\n      color: #55a79a; }\r\n\r\na.panel-block,\r\nlabel.panel-block {\r\n  cursor: pointer; }\r\n  a.panel-block:hover,\r\n  label.panel-block:hover {\r\n    background-color: whitesmoke; }\r\n\r\n.panel-icon {\r\n  display: inline-block;\r\n  font-size: 14px;\r\n  height: 1em;\r\n  line-height: 1em;\r\n  text-align: center;\r\n  vertical-align: top;\r\n  width: 1em;\r\n  color: #7a7a7a;\r\n  margin-right: 0.75em; }\r\n  .panel-icon .fa {\r\n    font-size: inherit;\r\n    line-height: inherit; }\r\n\r\n.tabs {\r\n  -webkit-touch-callout: none;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n  align-items: stretch;\r\n  display: flex;\r\n  font-size: 1rem;\r\n  justify-content: space-between;\r\n  overflow: hidden;\r\n  overflow-x: auto;\r\n  white-space: nowrap; }\r\n  .tabs:not(:last-child) {\r\n    margin-bottom: 1.5rem; }\r\n  .tabs a {\r\n    align-items: center;\r\n    border-bottom: 1px solid #dbdbdb;\r\n    color: #4a4a4a;\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: -1px;\r\n    padding: 0.5em 1em;\r\n    vertical-align: top; }\r\n    .tabs a:hover {\r\n      border-bottom-color: #363636;\r\n      color: #363636; }\r\n  .tabs li {\r\n    display: block; }\r\n    .tabs li.is-active a {\r\n      border-bottom-color: #55a79a;\r\n      color: #55a79a; }\r\n  .tabs ul {\r\n    align-items: center;\r\n    border-bottom: 1px solid #dbdbdb;\r\n    display: flex;\r\n    flex-grow: 1;\r\n    flex-shrink: 0;\r\n    justify-content: flex-start; }\r\n    .tabs ul.is-left {\r\n      padding-right: 0.75em; }\r\n    .tabs ul.is-center {\r\n      flex: none;\r\n      justify-content: center;\r\n      padding-left: 0.75em;\r\n      padding-right: 0.75em; }\r\n    .tabs ul.is-right {\r\n      justify-content: flex-end;\r\n      padding-left: 0.75em; }\r\n  .tabs .icon:first-child {\r\n    margin-right: 0.5em; }\r\n  .tabs .icon:last-child {\r\n    margin-left: 0.5em; }\r\n  .tabs.is-centered ul {\r\n    justify-content: center; }\r\n  .tabs.is-right ul {\r\n    justify-content: flex-end; }\r\n  .tabs.is-boxed a {\r\n    border: 1px solid transparent;\r\n    border-radius: 3px 3px 0 0; }\r\n    .tabs.is-boxed a:hover {\r\n      background-color: whitesmoke;\r\n      border-bottom-color: #dbdbdb; }\r\n  .tabs.is-boxed li.is-active a {\r\n    background-color: white;\r\n    border-color: #dbdbdb;\r\n    border-bottom-color: transparent !important; }\r\n  .tabs.is-fullwidth li {\r\n    flex-grow: 1;\r\n    flex-shrink: 0; }\r\n  .tabs.is-toggle a {\r\n    border: 1px solid #dbdbdb;\r\n    margin-bottom: 0;\r\n    position: relative; }\r\n    .tabs.is-toggle a:hover {\r\n      background-color: whitesmoke;\r\n      border-color: #b5b5b5;\r\n      z-index: 2; }\r\n  .tabs.is-toggle li + li {\r\n    margin-left: -1px; }\r\n  .tabs.is-toggle li:first-child a {\r\n    border-radius: 3px 0 0 3px; }\r\n  .tabs.is-toggle li:last-child a {\r\n    border-radius: 0 3px 3px 0; }\r\n  .tabs.is-toggle li.is-active a {\r\n    background-color: #55a79a;\r\n    border-color: #55a79a;\r\n    color: #fff;\r\n    z-index: 1; }\r\n  .tabs.is-toggle ul {\r\n    border-bottom: none; }\r\n  .tabs.is-small {\r\n    font-size: 0.75rem; }\r\n  .tabs.is-medium {\r\n    font-size: 1.25rem; }\r\n  .tabs.is-large {\r\n    font-size: 1.5rem; }\r\n\r\n.column {\r\n  display: block;\r\n  flex-basis: 0;\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  padding: 0.75rem; }\r\n  .columns.is-mobile > .column.is-narrow {\r\n    flex: none; }\r\n  .columns.is-mobile > .column.is-full {\r\n    flex: none;\r\n    width: 100%; }\r\n  .columns.is-mobile > .column.is-three-quarters {\r\n    flex: none;\r\n    width: 75%; }\r\n  .columns.is-mobile > .column.is-two-thirds {\r\n    flex: none;\r\n    width: 66.6666%; }\r\n  .columns.is-mobile > .column.is-half {\r\n    flex: none;\r\n    width: 50%; }\r\n  .columns.is-mobile > .column.is-one-third {\r\n    flex: none;\r\n    width: 33.3333%; }\r\n  .columns.is-mobile > .column.is-one-quarter {\r\n    flex: none;\r\n    width: 25%; }\r\n  .columns.is-mobile > .column.is-offset-three-quarters {\r\n    margin-left: 75%; }\r\n  .columns.is-mobile > .column.is-offset-two-thirds {\r\n    margin-left: 66.6666%; }\r\n  .columns.is-mobile > .column.is-offset-half {\r\n    margin-left: 50%; }\r\n  .columns.is-mobile > .column.is-offset-one-third {\r\n    margin-left: 33.3333%; }\r\n  .columns.is-mobile > .column.is-offset-one-quarter {\r\n    margin-left: 25%; }\r\n  .columns.is-mobile > .column.is-1 {\r\n    flex: none;\r\n    width: 8.33333%; }\r\n  .columns.is-mobile > .column.is-offset-1 {\r\n    margin-left: 8.33333%; }\r\n  .columns.is-mobile > .column.is-2 {\r\n    flex: none;\r\n    width: 16.66667%; }\r\n  .columns.is-mobile > .column.is-offset-2 {\r\n    margin-left: 16.66667%; }\r\n  .columns.is-mobile > .column.is-3 {\r\n    flex: none;\r\n    width: 25%; }\r\n  .columns.is-mobile > .column.is-offset-3 {\r\n    margin-left: 25%; }\r\n  .columns.is-mobile > .column.is-4 {\r\n    flex: none;\r\n    width: 33.33333%; }\r\n  .columns.is-mobile > .column.is-offset-4 {\r\n    margin-left: 33.33333%; }\r\n  .columns.is-mobile > .column.is-5 {\r\n    flex: none;\r\n    width: 41.66667%; }\r\n  .columns.is-mobile > .column.is-offset-5 {\r\n    margin-left: 41.66667%; }\r\n  .columns.is-mobile > .column.is-6 {\r\n    flex: none;\r\n    width: 50%; }\r\n  .columns.is-mobile > .column.is-offset-6 {\r\n    margin-left: 50%; }\r\n  .columns.is-mobile > .column.is-7 {\r\n    flex: none;\r\n    width: 58.33333%; }\r\n  .columns.is-mobile > .column.is-offset-7 {\r\n    margin-left: 58.33333%; }\r\n  .columns.is-mobile > .column.is-8 {\r\n    flex: none;\r\n    width: 66.66667%; }\r\n  .columns.is-mobile > .column.is-offset-8 {\r\n    margin-left: 66.66667%; }\r\n  .columns.is-mobile > .column.is-9 {\r\n    flex: none;\r\n    width: 75%; }\r\n  .columns.is-mobile > .column.is-offset-9 {\r\n    margin-left: 75%; }\r\n  .columns.is-mobile > .column.is-10 {\r\n    flex: none;\r\n    width: 83.33333%; }\r\n  .columns.is-mobile > .column.is-offset-10 {\r\n    margin-left: 83.33333%; }\r\n  .columns.is-mobile > .column.is-11 {\r\n    flex: none;\r\n    width: 91.66667%; }\r\n  .columns.is-mobile > .column.is-offset-11 {\r\n    margin-left: 91.66667%; }\r\n  .columns.is-mobile > .column.is-12 {\r\n    flex: none;\r\n    width: 100%; }\r\n  .columns.is-mobile > .column.is-offset-12 {\r\n    margin-left: 100%; }\r\n  @media screen and (max-width: 768px) {\r\n    .column.is-narrow-mobile {\r\n      flex: none; }\r\n    .column.is-full-mobile {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-three-quarters-mobile {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-two-thirds-mobile {\r\n      flex: none;\r\n      width: 66.6666%; }\r\n    .column.is-half-mobile {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-one-third-mobile {\r\n      flex: none;\r\n      width: 33.3333%; }\r\n    .column.is-one-quarter-mobile {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-three-quarters-mobile {\r\n      margin-left: 75%; }\r\n    .column.is-offset-two-thirds-mobile {\r\n      margin-left: 66.6666%; }\r\n    .column.is-offset-half-mobile {\r\n      margin-left: 50%; }\r\n    .column.is-offset-one-third-mobile {\r\n      margin-left: 33.3333%; }\r\n    .column.is-offset-one-quarter-mobile {\r\n      margin-left: 25%; }\r\n    .column.is-1-mobile {\r\n      flex: none;\r\n      width: 8.33333%; }\r\n    .column.is-offset-1-mobile {\r\n      margin-left: 8.33333%; }\r\n    .column.is-2-mobile {\r\n      flex: none;\r\n      width: 16.66667%; }\r\n    .column.is-offset-2-mobile {\r\n      margin-left: 16.66667%; }\r\n    .column.is-3-mobile {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-3-mobile {\r\n      margin-left: 25%; }\r\n    .column.is-4-mobile {\r\n      flex: none;\r\n      width: 33.33333%; }\r\n    .column.is-offset-4-mobile {\r\n      margin-left: 33.33333%; }\r\n    .column.is-5-mobile {\r\n      flex: none;\r\n      width: 41.66667%; }\r\n    .column.is-offset-5-mobile {\r\n      margin-left: 41.66667%; }\r\n    .column.is-6-mobile {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-offset-6-mobile {\r\n      margin-left: 50%; }\r\n    .column.is-7-mobile {\r\n      flex: none;\r\n      width: 58.33333%; }\r\n    .column.is-offset-7-mobile {\r\n      margin-left: 58.33333%; }\r\n    .column.is-8-mobile {\r\n      flex: none;\r\n      width: 66.66667%; }\r\n    .column.is-offset-8-mobile {\r\n      margin-left: 66.66667%; }\r\n    .column.is-9-mobile {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-offset-9-mobile {\r\n      margin-left: 75%; }\r\n    .column.is-10-mobile {\r\n      flex: none;\r\n      width: 83.33333%; }\r\n    .column.is-offset-10-mobile {\r\n      margin-left: 83.33333%; }\r\n    .column.is-11-mobile {\r\n      flex: none;\r\n      width: 91.66667%; }\r\n    .column.is-offset-11-mobile {\r\n      margin-left: 91.66667%; }\r\n    .column.is-12-mobile {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-offset-12-mobile {\r\n      margin-left: 100%; } }\r\n  @media screen and (min-width: 769px) {\r\n    .column.is-narrow, .column.is-narrow-tablet {\r\n      flex: none; }\r\n    .column.is-full, .column.is-full-tablet {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-three-quarters, .column.is-three-quarters-tablet {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-two-thirds, .column.is-two-thirds-tablet {\r\n      flex: none;\r\n      width: 66.6666%; }\r\n    .column.is-half, .column.is-half-tablet {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-one-third, .column.is-one-third-tablet {\r\n      flex: none;\r\n      width: 33.3333%; }\r\n    .column.is-one-quarter, .column.is-one-quarter-tablet {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-three-quarters, .column.is-offset-three-quarters-tablet {\r\n      margin-left: 75%; }\r\n    .column.is-offset-two-thirds, .column.is-offset-two-thirds-tablet {\r\n      margin-left: 66.6666%; }\r\n    .column.is-offset-half, .column.is-offset-half-tablet {\r\n      margin-left: 50%; }\r\n    .column.is-offset-one-third, .column.is-offset-one-third-tablet {\r\n      margin-left: 33.3333%; }\r\n    .column.is-offset-one-quarter, .column.is-offset-one-quarter-tablet {\r\n      margin-left: 25%; }\r\n    .column.is-1, .column.is-1-tablet {\r\n      flex: none;\r\n      width: 8.33333%; }\r\n    .column.is-offset-1, .column.is-offset-1-tablet {\r\n      margin-left: 8.33333%; }\r\n    .column.is-2, .column.is-2-tablet {\r\n      flex: none;\r\n      width: 16.66667%; }\r\n    .column.is-offset-2, .column.is-offset-2-tablet {\r\n      margin-left: 16.66667%; }\r\n    .column.is-3, .column.is-3-tablet {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-3, .column.is-offset-3-tablet {\r\n      margin-left: 25%; }\r\n    .column.is-4, .column.is-4-tablet {\r\n      flex: none;\r\n      width: 33.33333%; }\r\n    .column.is-offset-4, .column.is-offset-4-tablet {\r\n      margin-left: 33.33333%; }\r\n    .column.is-5, .column.is-5-tablet {\r\n      flex: none;\r\n      width: 41.66667%; }\r\n    .column.is-offset-5, .column.is-offset-5-tablet {\r\n      margin-left: 41.66667%; }\r\n    .column.is-6, .column.is-6-tablet {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-offset-6, .column.is-offset-6-tablet {\r\n      margin-left: 50%; }\r\n    .column.is-7, .column.is-7-tablet {\r\n      flex: none;\r\n      width: 58.33333%; }\r\n    .column.is-offset-7, .column.is-offset-7-tablet {\r\n      margin-left: 58.33333%; }\r\n    .column.is-8, .column.is-8-tablet {\r\n      flex: none;\r\n      width: 66.66667%; }\r\n    .column.is-offset-8, .column.is-offset-8-tablet {\r\n      margin-left: 66.66667%; }\r\n    .column.is-9, .column.is-9-tablet {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-offset-9, .column.is-offset-9-tablet {\r\n      margin-left: 75%; }\r\n    .column.is-10, .column.is-10-tablet {\r\n      flex: none;\r\n      width: 83.33333%; }\r\n    .column.is-offset-10, .column.is-offset-10-tablet {\r\n      margin-left: 83.33333%; }\r\n    .column.is-11, .column.is-11-tablet {\r\n      flex: none;\r\n      width: 91.66667%; }\r\n    .column.is-offset-11, .column.is-offset-11-tablet {\r\n      margin-left: 91.66667%; }\r\n    .column.is-12, .column.is-12-tablet {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-offset-12, .column.is-offset-12-tablet {\r\n      margin-left: 100%; } }\r\n  @media screen and (min-width: 1000px) {\r\n    .column.is-narrow-desktop {\r\n      flex: none; }\r\n    .column.is-full-desktop {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-three-quarters-desktop {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-two-thirds-desktop {\r\n      flex: none;\r\n      width: 66.6666%; }\r\n    .column.is-half-desktop {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-one-third-desktop {\r\n      flex: none;\r\n      width: 33.3333%; }\r\n    .column.is-one-quarter-desktop {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-three-quarters-desktop {\r\n      margin-left: 75%; }\r\n    .column.is-offset-two-thirds-desktop {\r\n      margin-left: 66.6666%; }\r\n    .column.is-offset-half-desktop {\r\n      margin-left: 50%; }\r\n    .column.is-offset-one-third-desktop {\r\n      margin-left: 33.3333%; }\r\n    .column.is-offset-one-quarter-desktop {\r\n      margin-left: 25%; }\r\n    .column.is-1-desktop {\r\n      flex: none;\r\n      width: 8.33333%; }\r\n    .column.is-offset-1-desktop {\r\n      margin-left: 8.33333%; }\r\n    .column.is-2-desktop {\r\n      flex: none;\r\n      width: 16.66667%; }\r\n    .column.is-offset-2-desktop {\r\n      margin-left: 16.66667%; }\r\n    .column.is-3-desktop {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-3-desktop {\r\n      margin-left: 25%; }\r\n    .column.is-4-desktop {\r\n      flex: none;\r\n      width: 33.33333%; }\r\n    .column.is-offset-4-desktop {\r\n      margin-left: 33.33333%; }\r\n    .column.is-5-desktop {\r\n      flex: none;\r\n      width: 41.66667%; }\r\n    .column.is-offset-5-desktop {\r\n      margin-left: 41.66667%; }\r\n    .column.is-6-desktop {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-offset-6-desktop {\r\n      margin-left: 50%; }\r\n    .column.is-7-desktop {\r\n      flex: none;\r\n      width: 58.33333%; }\r\n    .column.is-offset-7-desktop {\r\n      margin-left: 58.33333%; }\r\n    .column.is-8-desktop {\r\n      flex: none;\r\n      width: 66.66667%; }\r\n    .column.is-offset-8-desktop {\r\n      margin-left: 66.66667%; }\r\n    .column.is-9-desktop {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-offset-9-desktop {\r\n      margin-left: 75%; }\r\n    .column.is-10-desktop {\r\n      flex: none;\r\n      width: 83.33333%; }\r\n    .column.is-offset-10-desktop {\r\n      margin-left: 83.33333%; }\r\n    .column.is-11-desktop {\r\n      flex: none;\r\n      width: 91.66667%; }\r\n    .column.is-offset-11-desktop {\r\n      margin-left: 91.66667%; }\r\n    .column.is-12-desktop {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-offset-12-desktop {\r\n      margin-left: 100%; } }\r\n  @media screen and (min-width: 1192px) {\r\n    .column.is-narrow-widescreen {\r\n      flex: none; }\r\n    .column.is-full-widescreen {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-three-quarters-widescreen {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-two-thirds-widescreen {\r\n      flex: none;\r\n      width: 66.6666%; }\r\n    .column.is-half-widescreen {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-one-third-widescreen {\r\n      flex: none;\r\n      width: 33.3333%; }\r\n    .column.is-one-quarter-widescreen {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-three-quarters-widescreen {\r\n      margin-left: 75%; }\r\n    .column.is-offset-two-thirds-widescreen {\r\n      margin-left: 66.6666%; }\r\n    .column.is-offset-half-widescreen {\r\n      margin-left: 50%; }\r\n    .column.is-offset-one-third-widescreen {\r\n      margin-left: 33.3333%; }\r\n    .column.is-offset-one-quarter-widescreen {\r\n      margin-left: 25%; }\r\n    .column.is-1-widescreen {\r\n      flex: none;\r\n      width: 8.33333%; }\r\n    .column.is-offset-1-widescreen {\r\n      margin-left: 8.33333%; }\r\n    .column.is-2-widescreen {\r\n      flex: none;\r\n      width: 16.66667%; }\r\n    .column.is-offset-2-widescreen {\r\n      margin-left: 16.66667%; }\r\n    .column.is-3-widescreen {\r\n      flex: none;\r\n      width: 25%; }\r\n    .column.is-offset-3-widescreen {\r\n      margin-left: 25%; }\r\n    .column.is-4-widescreen {\r\n      flex: none;\r\n      width: 33.33333%; }\r\n    .column.is-offset-4-widescreen {\r\n      margin-left: 33.33333%; }\r\n    .column.is-5-widescreen {\r\n      flex: none;\r\n      width: 41.66667%; }\r\n    .column.is-offset-5-widescreen {\r\n      margin-left: 41.66667%; }\r\n    .column.is-6-widescreen {\r\n      flex: none;\r\n      width: 50%; }\r\n    .column.is-offset-6-widescreen {\r\n      margin-left: 50%; }\r\n    .column.is-7-widescreen {\r\n      flex: none;\r\n      width: 58.33333%; }\r\n    .column.is-offset-7-widescreen {\r\n      margin-left: 58.33333%; }\r\n    .column.is-8-widescreen {\r\n      flex: none;\r\n      width: 66.66667%; }\r\n    .column.is-offset-8-widescreen {\r\n      margin-left: 66.66667%; }\r\n    .column.is-9-widescreen {\r\n      flex: none;\r\n      width: 75%; }\r\n    .column.is-offset-9-widescreen {\r\n      margin-left: 75%; }\r\n    .column.is-10-widescreen {\r\n      flex: none;\r\n      width: 83.33333%; }\r\n    .column.is-offset-10-widescreen {\r\n      margin-left: 83.33333%; }\r\n    .column.is-11-widescreen {\r\n      flex: none;\r\n      width: 91.66667%; }\r\n    .column.is-offset-11-widescreen {\r\n      margin-left: 91.66667%; }\r\n    .column.is-12-widescreen {\r\n      flex: none;\r\n      width: 100%; }\r\n    .column.is-offset-12-widescreen {\r\n      margin-left: 100%; } }\r\n\r\n.columns {\r\n  margin-left: -0.75rem;\r\n  margin-right: -0.75rem;\r\n  margin-top: -0.75rem; }\r\n  .columns:last-child {\r\n    margin-bottom: -0.75rem; }\r\n  .columns:not(:last-child) {\r\n    margin-bottom: 0.75rem; }\r\n  .columns.is-centered {\r\n    justify-content: center; }\r\n  .columns.is-gapless {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n    margin-top: 0; }\r\n    .columns.is-gapless:last-child {\r\n      margin-bottom: 0; }\r\n    .columns.is-gapless:not(:last-child) {\r\n      margin-bottom: 1.5rem; }\r\n    .columns.is-gapless > .column {\r\n      margin: 0;\r\n      padding: 0; }\r\n  @media screen and (min-width: 769px) {\r\n    .columns.is-grid {\r\n      flex-wrap: wrap; }\r\n      .columns.is-grid > .column {\r\n        max-width: 33.3333%;\r\n        padding: 0.75rem;\r\n        width: 33.3333%; }\r\n        .columns.is-grid > .column + .column {\r\n          margin-left: 0; } }\r\n  .columns.is-mobile {\r\n    display: flex; }\r\n  .columns.is-multiline {\r\n    flex-wrap: wrap; }\r\n  .columns.is-vcentered {\r\n    align-items: center; }\r\n  @media screen and (min-width: 769px) {\r\n    .columns:not(.is-desktop) {\r\n      display: flex; } }\r\n  @media screen and (min-width: 1000px) {\r\n    .columns.is-desktop {\r\n      display: flex; } }\r\n\r\n.tile {\r\n  align-items: stretch;\r\n  display: block;\r\n  flex-basis: 0;\r\n  flex-grow: 1;\r\n  flex-shrink: 1;\r\n  min-height: min-content; }\r\n  .tile.is-ancestor {\r\n    margin-left: -0.75rem;\r\n    margin-right: -0.75rem;\r\n    margin-top: -0.75rem; }\r\n    .tile.is-ancestor:last-child {\r\n      margin-bottom: -0.75rem; }\r\n    .tile.is-ancestor:not(:last-child) {\r\n      margin-bottom: 0.75rem; }\r\n  .tile.is-child {\r\n    margin: 0 !important; }\r\n  .tile.is-parent {\r\n    padding: 0.75rem; }\r\n  .tile.is-vertical {\r\n    flex-direction: column; }\r\n    .tile.is-vertical > .tile.is-child:not(:last-child) {\r\n      margin-bottom: 1.5rem !important; }\r\n  @media screen and (min-width: 769px) {\r\n    .tile:not(.is-child) {\r\n      display: flex; }\r\n    .tile.is-1 {\r\n      flex: none;\r\n      width: 8.33333%; }\r\n    .tile.is-2 {\r\n      flex: none;\r\n      width: 16.66667%; }\r\n    .tile.is-3 {\r\n      flex: none;\r\n      width: 25%; }\r\n    .tile.is-4 {\r\n      flex: none;\r\n      width: 33.33333%; }\r\n    .tile.is-5 {\r\n      flex: none;\r\n      width: 41.66667%; }\r\n    .tile.is-6 {\r\n      flex: none;\r\n      width: 50%; }\r\n    .tile.is-7 {\r\n      flex: none;\r\n      width: 58.33333%; }\r\n    .tile.is-8 {\r\n      flex: none;\r\n      width: 66.66667%; }\r\n    .tile.is-9 {\r\n      flex: none;\r\n      width: 75%; }\r\n    .tile.is-10 {\r\n      flex: none;\r\n      width: 83.33333%; }\r\n    .tile.is-11 {\r\n      flex: none;\r\n      width: 91.66667%; }\r\n    .tile.is-12 {\r\n      flex: none;\r\n      width: 100%; } }\r\n\r\n.hero-video {\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  overflow: hidden; }\r\n  .hero-video video {\r\n    left: 50%;\r\n    min-height: 100%;\r\n    min-width: 100%;\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translate3d(-50%, -50%, 0); }\r\n  .hero-video.is-transparent {\r\n    opacity: 0.3; }\r\n  @media screen and (max-width: 768px) {\r\n    .hero-video {\r\n      display: none; } }\r\n\r\n.hero-buttons {\r\n  margin-top: 1.5rem; }\r\n  @media screen and (max-width: 768px) {\r\n    .hero-buttons .button {\r\n      display: flex; }\r\n      .hero-buttons .button:not(:last-child) {\r\n        margin-bottom: 0.75rem; } }\r\n  @media screen and (min-width: 769px) {\r\n    .hero-buttons {\r\n      display: flex;\r\n      justify-content: center; }\r\n      .hero-buttons .button:not(:last-child) {\r\n        margin-right: 1.5rem; } }\r\n\r\n.hero-head,\r\n.hero-foot {\r\n  flex-grow: 0;\r\n  flex-shrink: 0; }\r\n\r\n.hero-body {\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n  padding: 3rem 1.5rem; }\r\n  @media screen and (min-width: 1192px) {\r\n    .hero-body {\r\n      padding-left: 0;\r\n      padding-right: 0; } }\r\n\r\n.hero {\r\n  align-items: stretch;\r\n  background-color: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between; }\r\n  .hero .nav {\r\n    background: none;\r\n    box-shadow: 0 1px 0 rgba(219, 219, 219, 0.3); }\r\n  .hero .tabs ul {\r\n    border-bottom: none; }\r\n  .hero.is-white {\r\n    background-color: white;\r\n    color: #0a0a0a; }\r\n    .hero.is-white a,\r\n    .hero.is-white strong {\r\n      color: inherit; }\r\n    .hero.is-white .title {\r\n      color: #0a0a0a; }\r\n    .hero.is-white .subtitle {\r\n      color: rgba(10, 10, 10, 0.9); }\r\n      .hero.is-white .subtitle a,\r\n      .hero.is-white .subtitle strong {\r\n        color: #0a0a0a; }\r\n    .hero.is-white .nav {\r\n      box-shadow: 0 1px 0 rgba(10, 10, 10, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-white .nav-menu {\r\n        background-color: white; } }\r\n    .hero.is-white a.nav-item,\r\n    .hero.is-white .nav-item a:not(.button) {\r\n      color: rgba(10, 10, 10, 0.7); }\r\n      .hero.is-white a.nav-item:hover, .hero.is-white a.nav-item.is-active,\r\n      .hero.is-white .nav-item a:not(.button):hover,\r\n      .hero.is-white .nav-item a:not(.button).is-active {\r\n        color: #0a0a0a; }\r\n    .hero.is-white .tabs a {\r\n      color: #0a0a0a;\r\n      opacity: 0.9; }\r\n      .hero.is-white .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-white .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-white .tabs.is-boxed a, .hero.is-white .tabs.is-toggle a {\r\n      color: #0a0a0a; }\r\n      .hero.is-white .tabs.is-boxed a:hover, .hero.is-white .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-white .tabs.is-boxed li.is-active a, .hero.is-white .tabs.is-boxed li.is-active a:hover, .hero.is-white .tabs.is-toggle li.is-active a, .hero.is-white .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #0a0a0a;\r\n      border-color: #0a0a0a;\r\n      color: white; }\r\n    .hero.is-white.is-bold {\r\n      background-image: linear-gradient(141deg, #e6e6e6 0%, white 71%, white 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-white .nav-toggle span {\r\n        background-color: #0a0a0a; }\r\n      .hero.is-white .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-white .nav-toggle.is-active span {\r\n        background-color: #0a0a0a; }\r\n      .hero.is-white .nav-menu .nav-item {\r\n        border-top-color: rgba(10, 10, 10, 0.2); } }\r\n  .hero.is-black {\r\n    background-color: #0a0a0a;\r\n    color: white; }\r\n    .hero.is-black a,\r\n    .hero.is-black strong {\r\n      color: inherit; }\r\n    .hero.is-black .title {\r\n      color: white; }\r\n    .hero.is-black .subtitle {\r\n      color: rgba(255, 255, 255, 0.9); }\r\n      .hero.is-black .subtitle a,\r\n      .hero.is-black .subtitle strong {\r\n        color: white; }\r\n    .hero.is-black .nav {\r\n      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-black .nav-menu {\r\n        background-color: #0a0a0a; } }\r\n    .hero.is-black a.nav-item,\r\n    .hero.is-black .nav-item a:not(.button) {\r\n      color: rgba(255, 255, 255, 0.7); }\r\n      .hero.is-black a.nav-item:hover, .hero.is-black a.nav-item.is-active,\r\n      .hero.is-black .nav-item a:not(.button):hover,\r\n      .hero.is-black .nav-item a:not(.button).is-active {\r\n        color: white; }\r\n    .hero.is-black .tabs a {\r\n      color: white;\r\n      opacity: 0.9; }\r\n      .hero.is-black .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-black .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-black .tabs.is-boxed a, .hero.is-black .tabs.is-toggle a {\r\n      color: white; }\r\n      .hero.is-black .tabs.is-boxed a:hover, .hero.is-black .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-black .tabs.is-boxed li.is-active a, .hero.is-black .tabs.is-boxed li.is-active a:hover, .hero.is-black .tabs.is-toggle li.is-active a, .hero.is-black .tabs.is-toggle li.is-active a:hover {\r\n      background-color: white;\r\n      border-color: white;\r\n      color: #0a0a0a; }\r\n    .hero.is-black.is-bold {\r\n      background-image: linear-gradient(141deg, black 0%, #0a0a0a 71%, #181616 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-black .nav-toggle span {\r\n        background-color: white; }\r\n      .hero.is-black .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-black .nav-toggle.is-active span {\r\n        background-color: white; }\r\n      .hero.is-black .nav-menu .nav-item {\r\n        border-top-color: rgba(255, 255, 255, 0.2); } }\r\n  .hero.is-light {\r\n    background-color: whitesmoke;\r\n    color: #363636; }\r\n    .hero.is-light a,\r\n    .hero.is-light strong {\r\n      color: inherit; }\r\n    .hero.is-light .title {\r\n      color: #363636; }\r\n    .hero.is-light .subtitle {\r\n      color: rgba(54, 54, 54, 0.9); }\r\n      .hero.is-light .subtitle a,\r\n      .hero.is-light .subtitle strong {\r\n        color: #363636; }\r\n    .hero.is-light .nav {\r\n      box-shadow: 0 1px 0 rgba(54, 54, 54, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-light .nav-menu {\r\n        background-color: whitesmoke; } }\r\n    .hero.is-light a.nav-item,\r\n    .hero.is-light .nav-item a:not(.button) {\r\n      color: rgba(54, 54, 54, 0.7); }\r\n      .hero.is-light a.nav-item:hover, .hero.is-light a.nav-item.is-active,\r\n      .hero.is-light .nav-item a:not(.button):hover,\r\n      .hero.is-light .nav-item a:not(.button).is-active {\r\n        color: #363636; }\r\n    .hero.is-light .tabs a {\r\n      color: #363636;\r\n      opacity: 0.9; }\r\n      .hero.is-light .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-light .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-light .tabs.is-boxed a, .hero.is-light .tabs.is-toggle a {\r\n      color: #363636; }\r\n      .hero.is-light .tabs.is-boxed a:hover, .hero.is-light .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-light .tabs.is-boxed li.is-active a, .hero.is-light .tabs.is-boxed li.is-active a:hover, .hero.is-light .tabs.is-toggle li.is-active a, .hero.is-light .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #363636;\r\n      border-color: #363636;\r\n      color: whitesmoke; }\r\n    .hero.is-light.is-bold {\r\n      background-image: linear-gradient(141deg, #dfd8d9 0%, whitesmoke 71%, white 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-light .nav-toggle span {\r\n        background-color: #363636; }\r\n      .hero.is-light .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-light .nav-toggle.is-active span {\r\n        background-color: #363636; }\r\n      .hero.is-light .nav-menu .nav-item {\r\n        border-top-color: rgba(54, 54, 54, 0.2); } }\r\n  .hero.is-dark {\r\n    background-color: #363636;\r\n    color: whitesmoke; }\r\n    .hero.is-dark a,\r\n    .hero.is-dark strong {\r\n      color: inherit; }\r\n    .hero.is-dark .title {\r\n      color: whitesmoke; }\r\n    .hero.is-dark .subtitle {\r\n      color: rgba(245, 245, 245, 0.9); }\r\n      .hero.is-dark .subtitle a,\r\n      .hero.is-dark .subtitle strong {\r\n        color: whitesmoke; }\r\n    .hero.is-dark .nav {\r\n      box-shadow: 0 1px 0 rgba(245, 245, 245, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-dark .nav-menu {\r\n        background-color: #363636; } }\r\n    .hero.is-dark a.nav-item,\r\n    .hero.is-dark .nav-item a:not(.button) {\r\n      color: rgba(245, 245, 245, 0.7); }\r\n      .hero.is-dark a.nav-item:hover, .hero.is-dark a.nav-item.is-active,\r\n      .hero.is-dark .nav-item a:not(.button):hover,\r\n      .hero.is-dark .nav-item a:not(.button).is-active {\r\n        color: whitesmoke; }\r\n    .hero.is-dark .tabs a {\r\n      color: whitesmoke;\r\n      opacity: 0.9; }\r\n      .hero.is-dark .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-dark .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-dark .tabs.is-boxed a, .hero.is-dark .tabs.is-toggle a {\r\n      color: whitesmoke; }\r\n      .hero.is-dark .tabs.is-boxed a:hover, .hero.is-dark .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-dark .tabs.is-boxed li.is-active a, .hero.is-dark .tabs.is-boxed li.is-active a:hover, .hero.is-dark .tabs.is-toggle li.is-active a, .hero.is-dark .tabs.is-toggle li.is-active a:hover {\r\n      background-color: whitesmoke;\r\n      border-color: whitesmoke;\r\n      color: #363636; }\r\n    .hero.is-dark.is-bold {\r\n      background-image: linear-gradient(141deg, #1f191a 0%, #363636 71%, #46403f 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-dark .nav-toggle span {\r\n        background-color: whitesmoke; }\r\n      .hero.is-dark .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-dark .nav-toggle.is-active span {\r\n        background-color: whitesmoke; }\r\n      .hero.is-dark .nav-menu .nav-item {\r\n        border-top-color: rgba(245, 245, 245, 0.2); } }\r\n  .hero.is-primary {\r\n    background-color: #55a79a;\r\n    color: #fff; }\r\n    .hero.is-primary a,\r\n    .hero.is-primary strong {\r\n      color: inherit; }\r\n    .hero.is-primary .title {\r\n      color: #fff; }\r\n    .hero.is-primary .subtitle {\r\n      color: rgba(255, 255, 255, 0.9); }\r\n      .hero.is-primary .subtitle a,\r\n      .hero.is-primary .subtitle strong {\r\n        color: #fff; }\r\n    .hero.is-primary .nav {\r\n      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-primary .nav-menu {\r\n        background-color: #55a79a; } }\r\n    .hero.is-primary a.nav-item,\r\n    .hero.is-primary .nav-item a:not(.button) {\r\n      color: rgba(255, 255, 255, 0.7); }\r\n      .hero.is-primary a.nav-item:hover, .hero.is-primary a.nav-item.is-active,\r\n      .hero.is-primary .nav-item a:not(.button):hover,\r\n      .hero.is-primary .nav-item a:not(.button).is-active {\r\n        color: #fff; }\r\n    .hero.is-primary .tabs a {\r\n      color: #fff;\r\n      opacity: 0.9; }\r\n      .hero.is-primary .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-primary .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-primary .tabs.is-boxed a, .hero.is-primary .tabs.is-toggle a {\r\n      color: #fff; }\r\n      .hero.is-primary .tabs.is-boxed a:hover, .hero.is-primary .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-primary .tabs.is-boxed li.is-active a, .hero.is-primary .tabs.is-boxed li.is-active a:hover, .hero.is-primary .tabs.is-toggle li.is-active a, .hero.is-primary .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #fff;\r\n      border-color: #fff;\r\n      color: #55a79a; }\r\n    .hero.is-primary.is-bold {\r\n      background-image: linear-gradient(141deg, #3a8f73 0%, #55a79a 71%, #5fb6b6 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-primary .nav-toggle span {\r\n        background-color: #fff; }\r\n      .hero.is-primary .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-primary .nav-toggle.is-active span {\r\n        background-color: #fff; }\r\n      .hero.is-primary .nav-menu .nav-item {\r\n        border-top-color: rgba(255, 255, 255, 0.2); } }\r\n  .hero.is-info {\r\n    background-color: #3273dc;\r\n    color: #fff; }\r\n    .hero.is-info a,\r\n    .hero.is-info strong {\r\n      color: inherit; }\r\n    .hero.is-info .title {\r\n      color: #fff; }\r\n    .hero.is-info .subtitle {\r\n      color: rgba(255, 255, 255, 0.9); }\r\n      .hero.is-info .subtitle a,\r\n      .hero.is-info .subtitle strong {\r\n        color: #fff; }\r\n    .hero.is-info .nav {\r\n      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-info .nav-menu {\r\n        background-color: #3273dc; } }\r\n    .hero.is-info a.nav-item,\r\n    .hero.is-info .nav-item a:not(.button) {\r\n      color: rgba(255, 255, 255, 0.7); }\r\n      .hero.is-info a.nav-item:hover, .hero.is-info a.nav-item.is-active,\r\n      .hero.is-info .nav-item a:not(.button):hover,\r\n      .hero.is-info .nav-item a:not(.button).is-active {\r\n        color: #fff; }\r\n    .hero.is-info .tabs a {\r\n      color: #fff;\r\n      opacity: 0.9; }\r\n      .hero.is-info .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-info .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-info .tabs.is-boxed a, .hero.is-info .tabs.is-toggle a {\r\n      color: #fff; }\r\n      .hero.is-info .tabs.is-boxed a:hover, .hero.is-info .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-info .tabs.is-boxed li.is-active a, .hero.is-info .tabs.is-boxed li.is-active a:hover, .hero.is-info .tabs.is-toggle li.is-active a, .hero.is-info .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #fff;\r\n      border-color: #fff;\r\n      color: #3273dc; }\r\n    .hero.is-info.is-bold {\r\n      background-image: linear-gradient(141deg, #1577c6 0%, #3273dc 71%, #4366e5 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-info .nav-toggle span {\r\n        background-color: #fff; }\r\n      .hero.is-info .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-info .nav-toggle.is-active span {\r\n        background-color: #fff; }\r\n      .hero.is-info .nav-menu .nav-item {\r\n        border-top-color: rgba(255, 255, 255, 0.2); } }\r\n  .hero.is-success {\r\n    background-color: #23d160;\r\n    color: #fff; }\r\n    .hero.is-success a,\r\n    .hero.is-success strong {\r\n      color: inherit; }\r\n    .hero.is-success .title {\r\n      color: #fff; }\r\n    .hero.is-success .subtitle {\r\n      color: rgba(255, 255, 255, 0.9); }\r\n      .hero.is-success .subtitle a,\r\n      .hero.is-success .subtitle strong {\r\n        color: #fff; }\r\n    .hero.is-success .nav {\r\n      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-success .nav-menu {\r\n        background-color: #23d160; } }\r\n    .hero.is-success a.nav-item,\r\n    .hero.is-success .nav-item a:not(.button) {\r\n      color: rgba(255, 255, 255, 0.7); }\r\n      .hero.is-success a.nav-item:hover, .hero.is-success a.nav-item.is-active,\r\n      .hero.is-success .nav-item a:not(.button):hover,\r\n      .hero.is-success .nav-item a:not(.button).is-active {\r\n        color: #fff; }\r\n    .hero.is-success .tabs a {\r\n      color: #fff;\r\n      opacity: 0.9; }\r\n      .hero.is-success .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-success .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-success .tabs.is-boxed a, .hero.is-success .tabs.is-toggle a {\r\n      color: #fff; }\r\n      .hero.is-success .tabs.is-boxed a:hover, .hero.is-success .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-success .tabs.is-boxed li.is-active a, .hero.is-success .tabs.is-boxed li.is-active a:hover, .hero.is-success .tabs.is-toggle li.is-active a, .hero.is-success .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #fff;\r\n      border-color: #fff;\r\n      color: #23d160; }\r\n    .hero.is-success.is-bold {\r\n      background-image: linear-gradient(141deg, #12af2f 0%, #23d160 71%, #2ce28a 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-success .nav-toggle span {\r\n        background-color: #fff; }\r\n      .hero.is-success .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-success .nav-toggle.is-active span {\r\n        background-color: #fff; }\r\n      .hero.is-success .nav-menu .nav-item {\r\n        border-top-color: rgba(255, 255, 255, 0.2); } }\r\n  .hero.is-warning {\r\n    background-color: #ffdd57;\r\n    color: rgba(0, 0, 0, 0.7); }\r\n    .hero.is-warning a,\r\n    .hero.is-warning strong {\r\n      color: inherit; }\r\n    .hero.is-warning .title {\r\n      color: rgba(0, 0, 0, 0.7); }\r\n    .hero.is-warning .subtitle {\r\n      color: rgba(0, 0, 0, 0.9); }\r\n      .hero.is-warning .subtitle a,\r\n      .hero.is-warning .subtitle strong {\r\n        color: rgba(0, 0, 0, 0.7); }\r\n    .hero.is-warning .nav {\r\n      box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-warning .nav-menu {\r\n        background-color: #ffdd57; } }\r\n    .hero.is-warning a.nav-item,\r\n    .hero.is-warning .nav-item a:not(.button) {\r\n      color: rgba(0, 0, 0, 0.7); }\r\n      .hero.is-warning a.nav-item:hover, .hero.is-warning a.nav-item.is-active,\r\n      .hero.is-warning .nav-item a:not(.button):hover,\r\n      .hero.is-warning .nav-item a:not(.button).is-active {\r\n        color: rgba(0, 0, 0, 0.7); }\r\n    .hero.is-warning .tabs a {\r\n      color: rgba(0, 0, 0, 0.7);\r\n      opacity: 0.9; }\r\n      .hero.is-warning .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-warning .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-warning .tabs.is-boxed a, .hero.is-warning .tabs.is-toggle a {\r\n      color: rgba(0, 0, 0, 0.7); }\r\n      .hero.is-warning .tabs.is-boxed a:hover, .hero.is-warning .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-warning .tabs.is-boxed li.is-active a, .hero.is-warning .tabs.is-boxed li.is-active a:hover, .hero.is-warning .tabs.is-toggle li.is-active a, .hero.is-warning .tabs.is-toggle li.is-active a:hover {\r\n      background-color: rgba(0, 0, 0, 0.7);\r\n      border-color: rgba(0, 0, 0, 0.7);\r\n      color: #ffdd57; }\r\n    .hero.is-warning.is-bold {\r\n      background-image: linear-gradient(141deg, #ffaf24 0%, #ffdd57 71%, #fffa70 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-warning .nav-toggle span {\r\n        background-color: rgba(0, 0, 0, 0.7); }\r\n      .hero.is-warning .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-warning .nav-toggle.is-active span {\r\n        background-color: rgba(0, 0, 0, 0.7); }\r\n      .hero.is-warning .nav-menu .nav-item {\r\n        border-top-color: rgba(0, 0, 0, 0.2); } }\r\n  .hero.is-danger {\r\n    background-color: #ff3860;\r\n    color: #fff; }\r\n    .hero.is-danger a,\r\n    .hero.is-danger strong {\r\n      color: inherit; }\r\n    .hero.is-danger .title {\r\n      color: #fff; }\r\n    .hero.is-danger .subtitle {\r\n      color: rgba(255, 255, 255, 0.9); }\r\n      .hero.is-danger .subtitle a,\r\n      .hero.is-danger .subtitle strong {\r\n        color: #fff; }\r\n    .hero.is-danger .nav {\r\n      box-shadow: 0 1px 0 rgba(255, 255, 255, 0.2); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-danger .nav-menu {\r\n        background-color: #ff3860; } }\r\n    .hero.is-danger a.nav-item,\r\n    .hero.is-danger .nav-item a:not(.button) {\r\n      color: rgba(255, 255, 255, 0.7); }\r\n      .hero.is-danger a.nav-item:hover, .hero.is-danger a.nav-item.is-active,\r\n      .hero.is-danger .nav-item a:not(.button):hover,\r\n      .hero.is-danger .nav-item a:not(.button).is-active {\r\n        color: #fff; }\r\n    .hero.is-danger .tabs a {\r\n      color: #fff;\r\n      opacity: 0.9; }\r\n      .hero.is-danger .tabs a:hover {\r\n        opacity: 1; }\r\n    .hero.is-danger .tabs li.is-active a {\r\n      opacity: 1; }\r\n    .hero.is-danger .tabs.is-boxed a, .hero.is-danger .tabs.is-toggle a {\r\n      color: #fff; }\r\n      .hero.is-danger .tabs.is-boxed a:hover, .hero.is-danger .tabs.is-toggle a:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n    .hero.is-danger .tabs.is-boxed li.is-active a, .hero.is-danger .tabs.is-boxed li.is-active a:hover, .hero.is-danger .tabs.is-toggle li.is-active a, .hero.is-danger .tabs.is-toggle li.is-active a:hover {\r\n      background-color: #fff;\r\n      border-color: #fff;\r\n      color: #ff3860; }\r\n    .hero.is-danger.is-bold {\r\n      background-image: linear-gradient(141deg, #ff0561 0%, #ff3860 71%, #ff5257 100%); }\r\n    @media screen and (max-width: 768px) {\r\n      .hero.is-danger .nav-toggle span {\r\n        background-color: #fff; }\r\n      .hero.is-danger .nav-toggle:hover {\r\n        background-color: rgba(10, 10, 10, 0.1); }\r\n      .hero.is-danger .nav-toggle.is-active span {\r\n        background-color: #fff; }\r\n      .hero.is-danger .nav-menu .nav-item {\r\n        border-top-color: rgba(255, 255, 255, 0.2); } }\r\n  @media screen and (min-width: 769px) {\r\n    .hero.is-medium .hero-body {\r\n      padding-bottom: 9rem;\r\n      padding-top: 9rem; } }\r\n  @media screen and (min-width: 769px) {\r\n    .hero.is-large .hero-body {\r\n      padding-bottom: 18rem;\r\n      padding-top: 18rem; } }\r\n  .hero.is-fullheight {\r\n    min-height: 100vh; }\r\n    .hero.is-fullheight .hero-body {\r\n      align-items: center;\r\n      display: flex; }\r\n      .hero.is-fullheight .hero-body > .container {\r\n        flex-grow: 1;\r\n        flex-shrink: 1; }\r\n\r\n.section {\r\n  background-color: white;\r\n  padding: 3rem 1.5rem; }\r\n  @media screen and (min-width: 1000px) {\r\n    .section.is-medium {\r\n      padding: 9rem 1.5rem; }\r\n    .section.is-large {\r\n      padding: 18rem 1.5rem; } }\r\n\r\n.footer {\r\n  background-color: whitesmoke;\r\n  padding: 3rem 1.5rem 6rem; }\r\n\r\nnav.si-nav {\r\n  border-bottom: 1px solid #55a79a;\r\n  background: gainsboro; }\r\n\r\n#main-section {\r\n  min-height: calc(99vh - 270px); }\r\n\r\n.menu.si-side-menu {\r\n  min-width: 15em;\r\n  margin-left: .5em; }\r\n\r\n.mobile-menu.si-side-menu {\r\n  position: absolute;\r\n  z-index: 100;\r\n  background-color: whitesmoke;\r\n  -webkit-transition: all 0.5s;\r\n  transition: all 0.5s;\r\n  visibility: visible;\r\n  -webkit-transform: translate3d(calc(-100%), 0, 0);\r\n  transform: translate3d(calc(-100%), 0, 0); }\r\n\r\n.si-side-menu.si-side-menu-open {\r\n  visibility: visible;\r\n  -webkit-transform: translate3d(0, 0, 0);\r\n  transform: translate3d(0, 0, 0); }\r\n\r\n.si-side-menu-toggle {\r\n  background-color: whitesmoke; }\r\n\r\n.si-side-icon-list {\r\n  list-style: none;\r\n  position: relative;\r\n  top: 50%;\r\n  transform: translateY(-50%); }\r\n\r\n.si-change-outline-alert-alert {\r\n  border: 2px solid rgba(200, 25, 25, 0.75);\r\n  border-radius: 5px; }\r\n\r\n.si-tid-card {\r\n  width: 25em; }\r\n\r\n.si-uploaded-img-figure-container {\r\n  max-width: 640px; }\r\n\r\nimg.si-org-logo {\r\n  max-height: 128px !important; }\r\n\r\n.si-is-void, .si-is-void text {\r\n  color: #ff1f4b !important; }\r\n\r\n.si-has-transform, .si-has-transform text {\r\n  text-decoration: line-through; }\r\n\r\n.si-help {\r\n  width: 20%; }\r\n  .si-help .content {\r\n    width: 100%; }\r\n  .si-help .accordion .ui-state-active {\r\n    background-color: #55a79a;\r\n    border-color: #dbdbdb; }\r\n\r\n.si-help-panel {\r\n  margin-top: 1em;\r\n  margin-right: .5em; }\r\n\r\na.si-brand {\r\n  font-size: 40px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n  line-height: 1;\r\n  font-family: \"Rambla\";\r\n  color: #55a79a !important; }\r\n  a.si-brand span {\r\n    color: rgba(27, 27, 27, 0.8);\r\n    font-weight: 700; }\r\n\r\n.si-slogan {\r\n  border-left: 1px solid #e6e6e6;\r\n  margin-left: 1em;\r\n  padding-left: 1em; }\r\n\r\n.tabs.has-dropdown {\r\n  overflow: visible; }\r\n\r\n.tabs .si-tabs-dropdown {\r\n  position: relative; }\r\n\r\n.tabs .si-tabs-dropdown ul {\r\n  z-index: 1;\r\n  display: block;\r\n  visibility: hidden;\r\n  position: absolute;\r\n  top: 100%;\r\n  opacity: 0;\r\n  transition: opacity 0.35s linear; }\r\n  .tabs .si-tabs-dropdown ul li.not-active a {\r\n    background-color: white;\r\n    border-color: #dbdbdb;\r\n    color: inherit; }\r\n  .tabs .si-tabs-dropdown ul li.not-active a:hover {\r\n    background-color: whitesmoke;\r\n    border-color: #b5b5b5; }\r\n\r\n.tabs .si-tabs-dropdown:hover ul {\r\n  visibility: visible;\r\n  opacity: 1;\r\n  transition-delay: 0; }\r\n\r\n.tag .si-tag-button {\r\n  margin-left: 2px; }\r\n  .tag .si-tag-button .icon {\r\n    background-color: inherit; }\r\n\r\nul.si-large-tag-list li {\r\n  margin-bottom: 0.33em; }\r\n\r\nul.si-import-property-list {\r\n  display: flex;\r\n  margin-bottom: .5em; }\r\n  ul.si-import-property-list li {\r\n    border-bottom: 2px solid black;\r\n    border-right: 1px solid black;\r\n    padding: .25em; }\r\n  ul.si-import-property-list li:last-child {\r\n    border-right: none; }\r\n  ul.si-import-property-list .is-required {\r\n    color: red; }\r\n\r\n.table a.entity-link {\r\n  color: #55a79a; }\r\n\r\n.si-stripe-element {\r\n  padding: .5em;\r\n  margin: .5em;\r\n  border: 1px solid #ccc;\r\n  border-radius: 3px; }\r\n\r\n.si-transform-ratio-input {\r\n  min-width: 12em; }\r\n");
    }
  };
});
System.registerDynamic("lib/appLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<nav class=\"nav has-shadow si-nav\"></nav>\r\n<div class=\"si-main\">\r\n	<menu class=\"mobile-menu si-side-menu is-hidden-desktop\"></menu>\r\n	<div class=\"columns is-mobile\">\r\n		<menu class=\"column menu is-narrow si-side-menu is-hidden-touch\"></menu>\r\n		<div class=\"column is-narrow is-hidden-desktop si-side-menu-toggle\">\r\n			<ul class=\"si-side-icon-list\">\r\n				<li><span class=\"icon\"><span class=\"fa fa-navicon\"></span></span></li>\r\n				<li><span class=\"icon\"><span data-ui=\"sideMenuDirectionIcons\" class=\"fa fa-toggle-right\"></span></span></li>\r\n			</ul>\r\n		</div>\r\n		<div class=\"column\">\r\n			<section class=\"section\">\r\n				<div class=\"container is-fluid\" id=\"main-section\"></div>\r\n			</section>\r\n		</div>\r\n		<div class=\"column is-narrow si-help is-hidden-touch\" id=\"help-panel\"></div>\r\n	</div>\r\n</div>\r\n<footer class=\"footer has-text-centered\">&copy; StepInventory 2018</footer>\r\n<div id=\"dialog\"><div id=\"dialog-content\"></div></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("github:components/jqueryui@1.12.1/themes/base/jquery-ui.css!github:systemjs/plugin-css@0.1.32/css.js", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
'use strict';

System.register('lib/common/regions/dialogRegion.js', ['jquery', 'marionette', 'jquery-ui/themes/base/jquery-ui.css!'], function (_export, _context) {
	"use strict";

	var jquery, Marionette;
	return {
		setters: [function (_jquery) {
			jquery = _jquery.default;
		}, function (_marionette) {
			Marionette = _marionette.default;
		}, function (_jqueryUiThemesBaseJqueryUiCss) {}],
		execute: function () {
			_export('default', Marionette.Region.extend({
				el: '#dialog-content',
				getEl: function getEl(el) {
					return jquery(el);
				}
			}));
		}
	};
});
System.registerDynamic("lib/common/views/navLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<div class=\"nav-left\"></div>\r\n<div class=\"nav-center\">\r\n	<div class=\"nav-item\">\r\n		<h1 class=\"title is-1\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.organization : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</h1>\r\n	</div>\r\n</div>\r\n<div class=\"nav-right\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/navLeftView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<div class=\"nav-item\">\r\n  <a href=\"/\" class=\"si-brand\"><span>Step</span>Inventory<span>.</span></a>\r\n  <span class=\"si-slogan\">Track It Easy©</span>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/navLeftView.js', ['marionette', './navLeftView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_navLeftViewHbs) {
      viewTpl = _navLeftViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        className: 'nav-left'
      }));
    }
  };
});
System.registerDynamic("lib/common/views/navRightView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<!--\r\n<div class=\"nav-item\">\r\n  <div class=\"control is-horizontal\">\r\n    <div class=\"control-label\">\r\n      <label class=\"label is-small\">Office:</label>\r\n    </div>\r\n    <div class=\"control\">\r\n      <span class=\"select is-small\">\r\n        <select id=\"menu-office-select\"></select>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"nav-item\">\r\n  <div class=\"control is-horizontal\">\r\n    <div class=\"control-label\">\r\n      <label class=\"label is-small\">Department:</label>\r\n    </div>\r\n    <div class=\"control\">\r\n      <span class=\"select is-small\">\r\n        <select id=\"menu-department-select\"></select>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n-->\r\n<div class=\"nav-item\">\r\n  <a class=\"icon\" href=\"/profile\" title=\"Edit " + container.escapeExpression((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "username", "hash": {}, "data": data }) : helper)) + "'s Profile\">\r\n    <i class=\"fa fa-user\"></i>\r\n  </a>\r\n  <a data-ui=\"account-info\" class=\"icon\" href=\"/account\" title=\"Edit Account Info\">\r\n    <i class=\"fa fa-gear\"></i>\r\n  </a>\r\n</div>\r\n<div class=\"nav-item\">\r\n  <a class=\"button\" href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/logout\" data-default-nav-action=\"true\">Logout</a>\r\n  <span id=\"loading-icon-container\" class=\"icon\"></span>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/navRightView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './navRightView.hbs!', 'lib/common/models/officeCollection.js', 'lib/common/models/departmentCollection.js', 'lib/common/models/menuItemCollection.js', 'lib/common/views/loadingView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, OfficeCollection, DepartmentCollection, MenuItemCollection, LoadingView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_navRightViewHbs) {
      viewTpl = _navRightViewHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_libCommonModelsDepartmentCollectionJs) {
      DepartmentCollection = _libCommonModelsDepartmentCollectionJs.default;
    }, function (_libCommonModelsMenuItemCollectionJs) {
      MenuItemCollection = _libCommonModelsMenuItemCollectionJs.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.officeCollection = Radio.channel('data').request('collection', OfficeCollection);
          this.departmentCollection = new DepartmentCollection();
          this.setupDefaultDepartMent();
        },

        className: 'nav-right',
        behaviors: {
          Stickit: {}
        },
        template: viewTpl,
        regions: {
          loading: "#loading-icon-container"
        },
        ui: {
          officeSelect: "#menu-office-select",
          departmentSelect: "#menu-department-select",
          accountInfoLink: '[data-ui="account-info"]'
        },
        events: {
          "click a": "navigate"
        },
        modelEvents: {
          "change:office": "onOfficeChange",
          "change:department": "onDepartmentChange"
        },
        bindings: {
          '@ui.officeSelect': {
            observe: 'office',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: 'this.officeCollection',
              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.departmentSelect': {
            observe: 'department',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: 'this.departmentCollection',
              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        onRender: function onRender() {
          this.listenTo(Radio.channel('app'), 'loading:show', this._showLoading);
          this.listenTo(Radio.channel('app'), 'loading:hide', this._hideLoading);
          if (!this.model.isAccountOwner()) {
            this.ui.accountInfoLink.hide();
          }
        },
        onOfficeChange: function onOfficeChange() {
          if (this.model.get('office')) {
            this.departmentCollection.reset(this.model.get('office').get('departments').models);
          }
        },
        onDepartmentChange: function onDepartmentChange() {
          if (this.model.get('department')) {
            var menuItemsCollection = new MenuItemCollection(this.model.get('department').get('menuItems').models);
            Radio.channel('app').trigger('change:menuItems', menuItemsCollection);
            var myself = Radio.channel('data').request('myself');
            myself.set('currentDepartment', this.model.get('department'));
            myself.save();
          }
        },
        setupDefaultDepartMent: function setupDefaultDepartMent() {
          var _this = this;

          var myself = Radio.channel('data').request('myself');
          if (myself.get('currentDepartment')) {
            this.setupOfficeCollectionListener(myself);
          } else {
            this.listenToOnce(myself, 'change:currentDepartment', function () {
              _this.setupOfficeCollectionListener(myself);
            });
          }
        },
        setupOfficeCollectionListener: function setupOfficeCollectionListener(myself) {
          var _this2 = this;

          if (this.officeCollection.length > 0) {
            this.setOfficeAndDepartmentFromMyself(myself);
          } else {
            this.listenToOnce(this.officeCollection, 'update', function () {
              _this2.setOfficeAndDepartmentFromMyself(myself);
            });
          }
        },
        setOfficeAndDepartmentFromMyself: function setOfficeAndDepartmentFromMyself(myself) {
          if (myself.get('currentDepartment') && myself.get('currentDepartment') instanceof Backbone.Model) {
            this.model.set('office', myself.get('currentDepartment').get('office'));
            this.model.set('department', myself.get('currentDepartment'));
          }
        },

        navigate: function navigate(e) {
          var href = e.currentTarget.getAttribute('href');
          if (href !== '/account' || this.model.isAccountOwner()) {
            if (e.currentTarget.dataset.defaultNavAction !== 'true') {
              e.preventDefault();
              e.stopPropagation();
              Radio.channel('app').trigger('navigate', href);
            }
          }
        },
        _showLoading: function _showLoading() {
          this.showChildView('loading', new LoadingView());
        },
        _hideLoading: function _hideLoading() {
          this.getRegion('loading').empty();
        }
      }));
    }
  };
});
"use strict";

System.register('lib/common/views/navLayoutView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './navLayoutView.hbs!', './navLeftView.js', './navRightView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, NavLeftView, NavRightView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_navLayoutViewHbs) {
      viewTpl = _navLayoutViewHbs.default;
    }, function (_navLeftViewJs) {
      NavLeftView = _navLeftViewJs.default;
    }, function (_navRightViewJs) {
      NavRightView = _navRightViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.listenTo(Radio.channel('data').request('myself'), 'change:organization', this.render);
        },

        template: viewTpl,
        tagName: 'nav',
        className: 'nav has-shadow si-nav',
        regions: {
          navLeft: {
            el: ".nav-left",
            replaceElement: true
          },
          navRight: {
            el: ".nav-right",
            replaceElement: true
          }
        },
        modelEvents: {
          'change:organization': 'render'
        },
        onRender: function onRender() {
          this.showChildView('navLeft', new NavLeftView());
          this.showChildView('navRight', new NavRightView({
            model: this.model
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/menuLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<ul class=\"menu-list\"></ul>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/menuLayoutView.js', ['marionette', './menuLayoutView.hbs!', './menuListView.js'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl, MenuListView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_menuLayoutViewHbs) {
      viewTpl = _menuLayoutViewHbs.default;
    }, function (_menuListViewJs) {
      MenuListView = _menuListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'menu',
        className: 'column menu si-side-menu is-narrow',
        regions: {
          menuList: {
            el: 'ul',
            replaceElement: true
          }
        },
        onRender: function onRender() {
          var menuListView = new MenuListView({
            collection: this.collection
          });
          this.showChildView('menuList', menuListView);
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/menuStaticView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<div class=\"columns is-mobile\">\r\n	<div class=\"column\">\r\n		<ul class=\"menu-list\"></ul>\r\n	</div>\r\n	<div data-ui=\"closeSideMenu\" class=\"column is-narrow is-hidden-desktop\">\r\n		<ul class=\"si-side-icon-list\">\r\n			<li><span class=\"icon\"><span class=\"fa fa-navicon\"></span></span></li>\r\n			<li><span class=\"icon\"><span data-ui=\"sideMenuDirectionIcons\" class=\"fa fa-toggle-left\"></span></span></li>\r\n		</ul>\r\n	</div>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/menuItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "	<a href=\"" + container.escapeExpression((helpers.baseUrl || depth0 && depth0.baseUrl || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.url : stack1, { "name": "baseUrl", "hash": {}, "data": data })) + "\" class=\"" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.uiIsActive : depth0, { "name": "if", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</a>\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "4": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "	" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.url : stack1, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(4, data, 0), "data": data })) != null ? stack1 : "") + "<ul></ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/common/views/menuItemListView.js', ['lib/globalNamespace.js', 'marionette'], function (_export, _context) {
  "use strict";

  var globalNamespace, Marionette;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: function childView(item) {
          return globalNamespace.Views.MenuItemView;
        },

        tagName: 'ul'
      }));
    }
  };
});
"use strict";

System.register('lib/common/views/menuItemView.js', ['lib/globalNamespace.js', 'underscore', 'marionette', 'backbone.radio', './menuItemView.hbs!', './menuItemListView.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, Marionette, Radio, menuItemTpl, MenuItemListView, View;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_menuItemViewHbs) {
      menuItemTpl = _menuItemViewHbs.default;
    }, function (_menuItemListViewJs) {
      MenuItemListView = _menuItemListViewJs.default;
    }],
    execute: function () {
      View = Marionette.View.extend({
        template: menuItemTpl,
        tagName: "li",
        events: {
          "click a": "navigate"
        },
        modelEvents: {
          'change': 'render'
        },
        regions: {
          menuItemChildren: {
            el: 'ul',
            replaceElement: true
          }
        },
        onRender: function onRender() {
          var menuItemListView = new MenuItemListView({
            collection: this.model.get('children')
          });
          this.showChildView('menuItemChildren', menuItemListView);
        },

        navigate: function navigate(e) {
          e.preventDefault();
          e.stopPropagation();
          Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
        }
      });


      globalNamespace.Views.MenuItemView = View;

      _export('default', View);
    }
  };
});
"use strict";

System.register('lib/common/views/menuListView.js', ['marionette', './menuItemView.js'], function (_export, _context) {
    "use strict";

    var Marionette, MenuItemView;
    return {
        setters: [function (_marionette) {
            Marionette = _marionette.default;
        }, function (_menuItemViewJs) {
            MenuItemView = _menuItemViewJs.default;
        }],
        execute: function () {
            _export('default', Marionette.CollectionView.extend({
                childView: MenuItemView,
                tagName: 'ul',
                className: 'menu-list'
            }));
        }
    };
});
"use strict";

System.register('lib/common/views/menuStaticView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './menuStaticView.hbs!', './menuListView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, MenuListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_menuStaticViewHbs) {
      viewTpl = _menuStaticViewHbs.default;
    }, function (_menuListViewJs) {
      MenuListView = _menuListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.myself = Radio.channel('data').request('myself');
        },

        template: viewTpl,
        tagName: 'menu',
        className: function className() {
          if (this.options.isMobile) {
            return 'mobile-menu si-side-menu is-narrow is-hidden-desktop';
          } else {
            return 'column menu si-side-menu is-narrow is-hidden-touch';
          }
        },

        ui: {
          'closeSideMenu': '[data-ui="closeSideMenu"]'
        },
        regions: {
          menuList: {
            el: 'ul.menu-list',
            replaceElement: true
          }
        },
        events: {
          'click @ui.closeSideMenu': 'closeSideMenu'
        },
        onRender: function onRender() {
          var menuListView = new MenuListView({
            collection: this.myself.get('menuItems')
          });
          this.showChildView('menuList', menuListView);
        },
        closeSideMenu: function closeSideMenu() {
          Radio.channel('sideMenu').trigger('toggle');
        }
      }));
    }
  };
});
System.registerDynamic("github:components/jqueryui@1.12.1.json", [], false, function() {
  return {
    "main": "jquery-ui.js"
  };
});

(function() {
var define = System.amdDefine;
(function(factory) {
  if (typeof define === "function" && define.amd) {
    define("github:components/jqueryui@1.12.1/jquery-ui.js", ["jquery"], factory);
  } else {
    factory(jQuery);
  }
}(function($) {
  $.ui = $.ui || {};
  var version = $.ui.version = "1.12.1";
  var widgetUuid = 0;
  var widgetSlice = Array.prototype.slice;
  $.cleanData = (function(orig) {
    return function(elems) {
      var events,
          elem,
          i;
      for (i = 0; (elem = elems[i]) != null; i++) {
        try {
          events = $._data(elem, "events");
          if (events && events.remove) {
            $(elem).triggerHandler("remove");
          }
        } catch (e) {}
      }
      orig(elems);
    };
  })($.cleanData);
  $.widget = function(name, base, prototype) {
    var existingConstructor,
        constructor,
        basePrototype;
    var proxiedPrototype = {};
    var namespace = name.split(".")[0];
    name = name.split(".")[1];
    var fullName = namespace + "-" + name;
    if (!prototype) {
      prototype = base;
      base = $.Widget;
    }
    if ($.isArray(prototype)) {
      prototype = $.extend.apply(null, [{}].concat(prototype));
    }
    $.expr[":"][fullName.toLowerCase()] = function(elem) {
      return !!$.data(elem, fullName);
    };
    $[namespace] = $[namespace] || {};
    existingConstructor = $[namespace][name];
    constructor = $[namespace][name] = function(options, element) {
      if (!this._createWidget) {
        return new constructor(options, element);
      }
      if (arguments.length) {
        this._createWidget(options, element);
      }
    };
    $.extend(constructor, existingConstructor, {
      version: prototype.version,
      _proto: $.extend({}, prototype),
      _childConstructors: []
    });
    basePrototype = new base();
    basePrototype.options = $.widget.extend({}, basePrototype.options);
    $.each(prototype, function(prop, value) {
      if (!$.isFunction(value)) {
        proxiedPrototype[prop] = value;
        return;
      }
      proxiedPrototype[prop] = (function() {
        function _super() {
          return base.prototype[prop].apply(this, arguments);
        }
        function _superApply(args) {
          return base.prototype[prop].apply(this, args);
        }
        return function() {
          var __super = this._super;
          var __superApply = this._superApply;
          var returnValue;
          this._super = _super;
          this._superApply = _superApply;
          returnValue = value.apply(this, arguments);
          this._super = __super;
          this._superApply = __superApply;
          return returnValue;
        };
      })();
    });
    constructor.prototype = $.widget.extend(basePrototype, {widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name}, proxiedPrototype, {
      constructor: constructor,
      namespace: namespace,
      widgetName: name,
      widgetFullName: fullName
    });
    if (existingConstructor) {
      $.each(existingConstructor._childConstructors, function(i, child) {
        var childPrototype = child.prototype;
        $.widget(childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto);
      });
      delete existingConstructor._childConstructors;
    } else {
      base._childConstructors.push(constructor);
    }
    $.widget.bridge(name, constructor);
    return constructor;
  };
  $.widget.extend = function(target) {
    var input = widgetSlice.call(arguments, 1);
    var inputIndex = 0;
    var inputLength = input.length;
    var key;
    var value;
    for (; inputIndex < inputLength; inputIndex++) {
      for (key in input[inputIndex]) {
        value = input[inputIndex][key];
        if (input[inputIndex].hasOwnProperty(key) && value !== undefined) {
          if ($.isPlainObject(value)) {
            target[key] = $.isPlainObject(target[key]) ? $.widget.extend({}, target[key], value) : $.widget.extend({}, value);
          } else {
            target[key] = value;
          }
        }
      }
    }
    return target;
  };
  $.widget.bridge = function(name, object) {
    var fullName = object.prototype.widgetFullName || name;
    $.fn[name] = function(options) {
      var isMethodCall = typeof options === "string";
      var args = widgetSlice.call(arguments, 1);
      var returnValue = this;
      if (isMethodCall) {
        if (!this.length && options === "instance") {
          returnValue = undefined;
        } else {
          this.each(function() {
            var methodValue;
            var instance = $.data(this, fullName);
            if (options === "instance") {
              returnValue = instance;
              return false;
            }
            if (!instance) {
              return $.error("cannot call methods on " + name + " prior to initialization; " + "attempted to call method '" + options + "'");
            }
            if (!$.isFunction(instance[options]) || options.charAt(0) === "_") {
              return $.error("no such method '" + options + "' for " + name + " widget instance");
            }
            methodValue = instance[options].apply(instance, args);
            if (methodValue !== instance && methodValue !== undefined) {
              returnValue = methodValue && methodValue.jquery ? returnValue.pushStack(methodValue.get()) : methodValue;
              return false;
            }
          });
        }
      } else {
        if (args.length) {
          options = $.widget.extend.apply(null, [options].concat(args));
        }
        this.each(function() {
          var instance = $.data(this, fullName);
          if (instance) {
            instance.option(options || {});
            if (instance._init) {
              instance._init();
            }
          } else {
            $.data(this, fullName, new object(options, this));
          }
        });
      }
      return returnValue;
    };
  };
  $.Widget = function() {};
  $.Widget._childConstructors = [];
  $.Widget.prototype = {
    widgetName: "widget",
    widgetEventPrefix: "",
    defaultElement: "<div>",
    options: {
      classes: {},
      disabled: false,
      create: null
    },
    _createWidget: function(options, element) {
      element = $(element || this.defaultElement || this)[0];
      this.element = $(element);
      this.uuid = widgetUuid++;
      this.eventNamespace = "." + this.widgetName + this.uuid;
      this.bindings = $();
      this.hoverable = $();
      this.focusable = $();
      this.classesElementLookup = {};
      if (element !== this) {
        $.data(element, this.widgetFullName, this);
        this._on(true, this.element, {remove: function(event) {
            if (event.target === element) {
              this.destroy();
            }
          }});
        this.document = $(element.style ? element.ownerDocument : element.document || element);
        this.window = $(this.document[0].defaultView || this.document[0].parentWindow);
      }
      this.options = $.widget.extend({}, this.options, this._getCreateOptions(), options);
      this._create();
      if (this.options.disabled) {
        this._setOptionDisabled(this.options.disabled);
      }
      this._trigger("create", null, this._getCreateEventData());
      this._init();
    },
    _getCreateOptions: function() {
      return {};
    },
    _getCreateEventData: $.noop,
    _create: $.noop,
    _init: $.noop,
    destroy: function() {
      var that = this;
      this._destroy();
      $.each(this.classesElementLookup, function(key, value) {
        that._removeClass(value, key);
      });
      this.element.off(this.eventNamespace).removeData(this.widgetFullName);
      this.widget().off(this.eventNamespace).removeAttr("aria-disabled");
      this.bindings.off(this.eventNamespace);
    },
    _destroy: $.noop,
    widget: function() {
      return this.element;
    },
    option: function(key, value) {
      var options = key;
      var parts;
      var curOption;
      var i;
      if (arguments.length === 0) {
        return $.widget.extend({}, this.options);
      }
      if (typeof key === "string") {
        options = {};
        parts = key.split(".");
        key = parts.shift();
        if (parts.length) {
          curOption = options[key] = $.widget.extend({}, this.options[key]);
          for (i = 0; i < parts.length - 1; i++) {
            curOption[parts[i]] = curOption[parts[i]] || {};
            curOption = curOption[parts[i]];
          }
          key = parts.pop();
          if (arguments.length === 1) {
            return curOption[key] === undefined ? null : curOption[key];
          }
          curOption[key] = value;
        } else {
          if (arguments.length === 1) {
            return this.options[key] === undefined ? null : this.options[key];
          }
          options[key] = value;
        }
      }
      this._setOptions(options);
      return this;
    },
    _setOptions: function(options) {
      var key;
      for (key in options) {
        this._setOption(key, options[key]);
      }
      return this;
    },
    _setOption: function(key, value) {
      if (key === "classes") {
        this._setOptionClasses(value);
      }
      this.options[key] = value;
      if (key === "disabled") {
        this._setOptionDisabled(value);
      }
      return this;
    },
    _setOptionClasses: function(value) {
      var classKey,
          elements,
          currentElements;
      for (classKey in value) {
        currentElements = this.classesElementLookup[classKey];
        if (value[classKey] === this.options.classes[classKey] || !currentElements || !currentElements.length) {
          continue;
        }
        elements = $(currentElements.get());
        this._removeClass(currentElements, classKey);
        elements.addClass(this._classes({
          element: elements,
          keys: classKey,
          classes: value,
          add: true
        }));
      }
    },
    _setOptionDisabled: function(value) {
      this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, !!value);
      if (value) {
        this._removeClass(this.hoverable, null, "ui-state-hover");
        this._removeClass(this.focusable, null, "ui-state-focus");
      }
    },
    enable: function() {
      return this._setOptions({disabled: false});
    },
    disable: function() {
      return this._setOptions({disabled: true});
    },
    _classes: function(options) {
      var full = [];
      var that = this;
      options = $.extend({
        element: this.element,
        classes: this.options.classes || {}
      }, options);
      function processClassString(classes, checkOption) {
        var current,
            i;
        for (i = 0; i < classes.length; i++) {
          current = that.classesElementLookup[classes[i]] || $();
          if (options.add) {
            current = $($.unique(current.get().concat(options.element.get())));
          } else {
            current = $(current.not(options.element).get());
          }
          that.classesElementLookup[classes[i]] = current;
          full.push(classes[i]);
          if (checkOption && options.classes[classes[i]]) {
            full.push(options.classes[classes[i]]);
          }
        }
      }
      this._on(options.element, {"remove": "_untrackClassesElement"});
      if (options.keys) {
        processClassString(options.keys.match(/\S+/g) || [], true);
      }
      if (options.extra) {
        processClassString(options.extra.match(/\S+/g) || []);
      }
      return full.join(" ");
    },
    _untrackClassesElement: function(event) {
      var that = this;
      $.each(that.classesElementLookup, function(key, value) {
        if ($.inArray(event.target, value) !== -1) {
          that.classesElementLookup[key] = $(value.not(event.target).get());
        }
      });
    },
    _removeClass: function(element, keys, extra) {
      return this._toggleClass(element, keys, extra, false);
    },
    _addClass: function(element, keys, extra) {
      return this._toggleClass(element, keys, extra, true);
    },
    _toggleClass: function(element, keys, extra, add) {
      add = (typeof add === "boolean") ? add : extra;
      var shift = (typeof element === "string" || element === null),
          options = {
            extra: shift ? keys : extra,
            keys: shift ? element : keys,
            element: shift ? this.element : element,
            add: add
          };
      options.element.toggleClass(this._classes(options), add);
      return this;
    },
    _on: function(suppressDisabledCheck, element, handlers) {
      var delegateElement;
      var instance = this;
      if (typeof suppressDisabledCheck !== "boolean") {
        handlers = element;
        element = suppressDisabledCheck;
        suppressDisabledCheck = false;
      }
      if (!handlers) {
        handlers = element;
        element = this.element;
        delegateElement = this.widget();
      } else {
        element = delegateElement = $(element);
        this.bindings = this.bindings.add(element);
      }
      $.each(handlers, function(event, handler) {
        function handlerProxy() {
          if (!suppressDisabledCheck && (instance.options.disabled === true || $(this).hasClass("ui-state-disabled"))) {
            return;
          }
          return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments);
        }
        if (typeof handler !== "string") {
          handlerProxy.guid = handler.guid = handler.guid || handlerProxy.guid || $.guid++;
        }
        var match = event.match(/^([\w:-]*)\s*(.*)$/);
        var eventName = match[1] + instance.eventNamespace;
        var selector = match[2];
        if (selector) {
          delegateElement.on(eventName, selector, handlerProxy);
        } else {
          element.on(eventName, handlerProxy);
        }
      });
    },
    _off: function(element, eventName) {
      eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
      element.off(eventName).off(eventName);
      this.bindings = $(this.bindings.not(element).get());
      this.focusable = $(this.focusable.not(element).get());
      this.hoverable = $(this.hoverable.not(element).get());
    },
    _delay: function(handler, delay) {
      function handlerProxy() {
        return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments);
      }
      var instance = this;
      return setTimeout(handlerProxy, delay || 0);
    },
    _hoverable: function(element) {
      this.hoverable = this.hoverable.add(element);
      this._on(element, {
        mouseenter: function(event) {
          this._addClass($(event.currentTarget), null, "ui-state-hover");
        },
        mouseleave: function(event) {
          this._removeClass($(event.currentTarget), null, "ui-state-hover");
        }
      });
    },
    _focusable: function(element) {
      this.focusable = this.focusable.add(element);
      this._on(element, {
        focusin: function(event) {
          this._addClass($(event.currentTarget), null, "ui-state-focus");
        },
        focusout: function(event) {
          this._removeClass($(event.currentTarget), null, "ui-state-focus");
        }
      });
    },
    _trigger: function(type, event, data) {
      var prop,
          orig;
      var callback = this.options[type];
      data = data || {};
      event = $.Event(event);
      event.type = (type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type).toLowerCase();
      event.target = this.element[0];
      orig = event.originalEvent;
      if (orig) {
        for (prop in orig) {
          if (!(prop in event)) {
            event[prop] = orig[prop];
          }
        }
      }
      this.element.trigger(event, data);
      return !($.isFunction(callback) && callback.apply(this.element[0], [event].concat(data)) === false || event.isDefaultPrevented());
    }
  };
  $.each({
    show: "fadeIn",
    hide: "fadeOut"
  }, function(method, defaultEffect) {
    $.Widget.prototype["_" + method] = function(element, options, callback) {
      if (typeof options === "string") {
        options = {effect: options};
      }
      var hasOptions;
      var effectName = !options ? method : options === true || typeof options === "number" ? defaultEffect : options.effect || defaultEffect;
      options = options || {};
      if (typeof options === "number") {
        options = {duration: options};
      }
      hasOptions = !$.isEmptyObject(options);
      options.complete = callback;
      if (options.delay) {
        element.delay(options.delay);
      }
      if (hasOptions && $.effects && $.effects.effect[effectName]) {
        element[method](options);
      } else if (effectName !== method && element[effectName]) {
        element[effectName](options.duration, options.easing, callback);
      } else {
        element.queue(function(next) {
          $(this)[method]();
          if (callback) {
            callback.call(element[0]);
          }
          next();
        });
      }
    };
  });
  var widget = $.widget;
  (function() {
    var cachedScrollbarWidth,
        max = Math.max,
        abs = Math.abs,
        rhorizontal = /left|center|right/,
        rvertical = /top|center|bottom/,
        roffset = /[\+\-]\d+(\.[\d]+)?%?/,
        rposition = /^\w+/,
        rpercent = /%$/,
        _position = $.fn.position;
    function getOffsets(offsets, width, height) {
      return [parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1), parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)];
    }
    function parseCss(element, property) {
      return parseInt($.css(element, property), 10) || 0;
    }
    function getDimensions(elem) {
      var raw = elem[0];
      if (raw.nodeType === 9) {
        return {
          width: elem.width(),
          height: elem.height(),
          offset: {
            top: 0,
            left: 0
          }
        };
      }
      if ($.isWindow(raw)) {
        return {
          width: elem.width(),
          height: elem.height(),
          offset: {
            top: elem.scrollTop(),
            left: elem.scrollLeft()
          }
        };
      }
      if (raw.preventDefault) {
        return {
          width: 0,
          height: 0,
          offset: {
            top: raw.pageY,
            left: raw.pageX
          }
        };
      }
      return {
        width: elem.outerWidth(),
        height: elem.outerHeight(),
        offset: elem.offset()
      };
    }
    $.position = {
      scrollbarWidth: function() {
        if (cachedScrollbarWidth !== undefined) {
          return cachedScrollbarWidth;
        }
        var w1,
            w2,
            div = $("<div " + "style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>" + "<div style='height:100px;width:auto;'></div></div>"),
            innerDiv = div.children()[0];
        $("body").append(div);
        w1 = innerDiv.offsetWidth;
        div.css("overflow", "scroll");
        w2 = innerDiv.offsetWidth;
        if (w1 === w2) {
          w2 = div[0].clientWidth;
        }
        div.remove();
        return (cachedScrollbarWidth = w1 - w2);
      },
      getScrollInfo: function(within) {
        var overflowX = within.isWindow || within.isDocument ? "" : within.element.css("overflow-x"),
            overflowY = within.isWindow || within.isDocument ? "" : within.element.css("overflow-y"),
            hasOverflowX = overflowX === "scroll" || (overflowX === "auto" && within.width < within.element[0].scrollWidth),
            hasOverflowY = overflowY === "scroll" || (overflowY === "auto" && within.height < within.element[0].scrollHeight);
        return {
          width: hasOverflowY ? $.position.scrollbarWidth() : 0,
          height: hasOverflowX ? $.position.scrollbarWidth() : 0
        };
      },
      getWithinInfo: function(element) {
        var withinElement = $(element || window),
            isWindow = $.isWindow(withinElement[0]),
            isDocument = !!withinElement[0] && withinElement[0].nodeType === 9,
            hasOffset = !isWindow && !isDocument;
        return {
          element: withinElement,
          isWindow: isWindow,
          isDocument: isDocument,
          offset: hasOffset ? $(element).offset() : {
            left: 0,
            top: 0
          },
          scrollLeft: withinElement.scrollLeft(),
          scrollTop: withinElement.scrollTop(),
          width: withinElement.outerWidth(),
          height: withinElement.outerHeight()
        };
      }
    };
    $.fn.position = function(options) {
      if (!options || !options.of) {
        return _position.apply(this, arguments);
      }
      options = $.extend({}, options);
      var atOffset,
          targetWidth,
          targetHeight,
          targetOffset,
          basePosition,
          dimensions,
          target = $(options.of),
          within = $.position.getWithinInfo(options.within),
          scrollInfo = $.position.getScrollInfo(within),
          collision = (options.collision || "flip").split(" "),
          offsets = {};
      dimensions = getDimensions(target);
      if (target[0].preventDefault) {
        options.at = "left top";
      }
      targetWidth = dimensions.width;
      targetHeight = dimensions.height;
      targetOffset = dimensions.offset;
      basePosition = $.extend({}, targetOffset);
      $.each(["my", "at"], function() {
        var pos = (options[this] || "").split(" "),
            horizontalOffset,
            verticalOffset;
        if (pos.length === 1) {
          pos = rhorizontal.test(pos[0]) ? pos.concat(["center"]) : rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"];
        }
        pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center";
        pos[1] = rvertical.test(pos[1]) ? pos[1] : "center";
        horizontalOffset = roffset.exec(pos[0]);
        verticalOffset = roffset.exec(pos[1]);
        offsets[this] = [horizontalOffset ? horizontalOffset[0] : 0, verticalOffset ? verticalOffset[0] : 0];
        options[this] = [rposition.exec(pos[0])[0], rposition.exec(pos[1])[0]];
      });
      if (collision.length === 1) {
        collision[1] = collision[0];
      }
      if (options.at[0] === "right") {
        basePosition.left += targetWidth;
      } else if (options.at[0] === "center") {
        basePosition.left += targetWidth / 2;
      }
      if (options.at[1] === "bottom") {
        basePosition.top += targetHeight;
      } else if (options.at[1] === "center") {
        basePosition.top += targetHeight / 2;
      }
      atOffset = getOffsets(offsets.at, targetWidth, targetHeight);
      basePosition.left += atOffset[0];
      basePosition.top += atOffset[1];
      return this.each(function() {
        var collisionPosition,
            using,
            elem = $(this),
            elemWidth = elem.outerWidth(),
            elemHeight = elem.outerHeight(),
            marginLeft = parseCss(this, "marginLeft"),
            marginTop = parseCss(this, "marginTop"),
            collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width,
            collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height,
            position = $.extend({}, basePosition),
            myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());
        if (options.my[0] === "right") {
          position.left -= elemWidth;
        } else if (options.my[0] === "center") {
          position.left -= elemWidth / 2;
        }
        if (options.my[1] === "bottom") {
          position.top -= elemHeight;
        } else if (options.my[1] === "center") {
          position.top -= elemHeight / 2;
        }
        position.left += myOffset[0];
        position.top += myOffset[1];
        collisionPosition = {
          marginLeft: marginLeft,
          marginTop: marginTop
        };
        $.each(["left", "top"], function(i, dir) {
          if ($.ui.position[collision[i]]) {
            $.ui.position[collision[i]][dir](position, {
              targetWidth: targetWidth,
              targetHeight: targetHeight,
              elemWidth: elemWidth,
              elemHeight: elemHeight,
              collisionPosition: collisionPosition,
              collisionWidth: collisionWidth,
              collisionHeight: collisionHeight,
              offset: [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
              my: options.my,
              at: options.at,
              within: within,
              elem: elem
            });
          }
        });
        if (options.using) {
          using = function(props) {
            var left = targetOffset.left - position.left,
                right = left + targetWidth - elemWidth,
                top = targetOffset.top - position.top,
                bottom = top + targetHeight - elemHeight,
                feedback = {
                  target: {
                    element: target,
                    left: targetOffset.left,
                    top: targetOffset.top,
                    width: targetWidth,
                    height: targetHeight
                  },
                  element: {
                    element: elem,
                    left: position.left,
                    top: position.top,
                    width: elemWidth,
                    height: elemHeight
                  },
                  horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
                  vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
                };
            if (targetWidth < elemWidth && abs(left + right) < targetWidth) {
              feedback.horizontal = "center";
            }
            if (targetHeight < elemHeight && abs(top + bottom) < targetHeight) {
              feedback.vertical = "middle";
            }
            if (max(abs(left), abs(right)) > max(abs(top), abs(bottom))) {
              feedback.important = "horizontal";
            } else {
              feedback.important = "vertical";
            }
            options.using.call(this, props, feedback);
          };
        }
        elem.offset($.extend(position, {using: using}));
      });
    };
    $.ui.position = {
      fit: {
        left: function(position, data) {
          var within = data.within,
              withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
              outerWidth = within.width,
              collisionPosLeft = position.left - data.collisionPosition.marginLeft,
              overLeft = withinOffset - collisionPosLeft,
              overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
              newOverRight;
          if (data.collisionWidth > outerWidth) {
            if (overLeft > 0 && overRight <= 0) {
              newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
              position.left += overLeft - newOverRight;
            } else if (overRight > 0 && overLeft <= 0) {
              position.left = withinOffset;
            } else {
              if (overLeft > overRight) {
                position.left = withinOffset + outerWidth - data.collisionWidth;
              } else {
                position.left = withinOffset;
              }
            }
          } else if (overLeft > 0) {
            position.left += overLeft;
          } else if (overRight > 0) {
            position.left -= overRight;
          } else {
            position.left = max(position.left - collisionPosLeft, position.left);
          }
        },
        top: function(position, data) {
          var within = data.within,
              withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
              outerHeight = data.within.height,
              collisionPosTop = position.top - data.collisionPosition.marginTop,
              overTop = withinOffset - collisionPosTop,
              overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
              newOverBottom;
          if (data.collisionHeight > outerHeight) {
            if (overTop > 0 && overBottom <= 0) {
              newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
              position.top += overTop - newOverBottom;
            } else if (overBottom > 0 && overTop <= 0) {
              position.top = withinOffset;
            } else {
              if (overTop > overBottom) {
                position.top = withinOffset + outerHeight - data.collisionHeight;
              } else {
                position.top = withinOffset;
              }
            }
          } else if (overTop > 0) {
            position.top += overTop;
          } else if (overBottom > 0) {
            position.top -= overBottom;
          } else {
            position.top = max(position.top - collisionPosTop, position.top);
          }
        }
      },
      flip: {
        left: function(position, data) {
          var within = data.within,
              withinOffset = within.offset.left + within.scrollLeft,
              outerWidth = within.width,
              offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
              collisionPosLeft = position.left - data.collisionPosition.marginLeft,
              overLeft = collisionPosLeft - offsetLeft,
              overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
              myOffset = data.my[0] === "left" ? -data.elemWidth : data.my[0] === "right" ? data.elemWidth : 0,
              atOffset = data.at[0] === "left" ? data.targetWidth : data.at[0] === "right" ? -data.targetWidth : 0,
              offset = -2 * data.offset[0],
              newOverRight,
              newOverLeft;
          if (overLeft < 0) {
            newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
            if (newOverRight < 0 || newOverRight < abs(overLeft)) {
              position.left += myOffset + atOffset + offset;
            }
          } else if (overRight > 0) {
            newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
            if (newOverLeft > 0 || abs(newOverLeft) < overRight) {
              position.left += myOffset + atOffset + offset;
            }
          }
        },
        top: function(position, data) {
          var within = data.within,
              withinOffset = within.offset.top + within.scrollTop,
              outerHeight = within.height,
              offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
              collisionPosTop = position.top - data.collisionPosition.marginTop,
              overTop = collisionPosTop - offsetTop,
              overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
              top = data.my[1] === "top",
              myOffset = top ? -data.elemHeight : data.my[1] === "bottom" ? data.elemHeight : 0,
              atOffset = data.at[1] === "top" ? data.targetHeight : data.at[1] === "bottom" ? -data.targetHeight : 0,
              offset = -2 * data.offset[1],
              newOverTop,
              newOverBottom;
          if (overTop < 0) {
            newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
            if (newOverBottom < 0 || newOverBottom < abs(overTop)) {
              position.top += myOffset + atOffset + offset;
            }
          } else if (overBottom > 0) {
            newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
            if (newOverTop > 0 || abs(newOverTop) < overBottom) {
              position.top += myOffset + atOffset + offset;
            }
          }
        }
      },
      flipfit: {
        left: function() {
          $.ui.position.flip.left.apply(this, arguments);
          $.ui.position.fit.left.apply(this, arguments);
        },
        top: function() {
          $.ui.position.flip.top.apply(this, arguments);
          $.ui.position.fit.top.apply(this, arguments);
        }
      }
    };
  })();
  var position = $.ui.position;
  var data = $.extend($.expr[":"], {data: $.expr.createPseudo ? $.expr.createPseudo(function(dataName) {
      return function(elem) {
        return !!$.data(elem, dataName);
      };
    }) : function(elem, i, match) {
      return !!$.data(elem, match[3]);
    }});
  var disableSelection = $.fn.extend({
    disableSelection: (function() {
      var eventType = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
      return function() {
        return this.on(eventType + ".ui-disableSelection", function(event) {
          event.preventDefault();
        });
      };
    })(),
    enableSelection: function() {
      return this.off(".ui-disableSelection");
    }
  });
  var dataSpace = "ui-effects-",
      dataSpaceStyle = "ui-effects-style",
      dataSpaceAnimated = "ui-effects-animated",
      jQuery = $;
  $.effects = {effect: {}};
  (function(jQuery, undefined) {
    var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor " + "borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
        rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,
        stringParsers = [{
          re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          parse: function(execResult) {
            return [execResult[1], execResult[2], execResult[3], execResult[4]];
          }
        }, {
          re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          parse: function(execResult) {
            return [execResult[1] * 2.55, execResult[2] * 2.55, execResult[3] * 2.55, execResult[4]];
          }
        }, {
          re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
          parse: function(execResult) {
            return [parseInt(execResult[1], 16), parseInt(execResult[2], 16), parseInt(execResult[3], 16)];
          }
        }, {
          re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
          parse: function(execResult) {
            return [parseInt(execResult[1] + execResult[1], 16), parseInt(execResult[2] + execResult[2], 16), parseInt(execResult[3] + execResult[3], 16)];
          }
        }, {
          re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
          space: "hsla",
          parse: function(execResult) {
            return [execResult[1], execResult[2] / 100, execResult[3] / 100, execResult[4]];
          }
        }],
        color = jQuery.Color = function(color, green, blue, alpha) {
          return new jQuery.Color.fn.parse(color, green, blue, alpha);
        },
        spaces = {
          rgba: {props: {
              red: {
                idx: 0,
                type: "byte"
              },
              green: {
                idx: 1,
                type: "byte"
              },
              blue: {
                idx: 2,
                type: "byte"
              }
            }},
          hsla: {props: {
              hue: {
                idx: 0,
                type: "degrees"
              },
              saturation: {
                idx: 1,
                type: "percent"
              },
              lightness: {
                idx: 2,
                type: "percent"
              }
            }}
        },
        propTypes = {
          "byte": {
            floor: true,
            max: 255
          },
          "percent": {max: 1},
          "degrees": {
            mod: 360,
            floor: true
          }
        },
        support = color.support = {},
        supportElem = jQuery("<p>")[0],
        colors,
        each = jQuery.each;
    supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
    support.rgba = supportElem.style.backgroundColor.indexOf("rgba") > -1;
    each(spaces, function(spaceName, space) {
      space.cache = "_" + spaceName;
      space.props.alpha = {
        idx: 3,
        type: "percent",
        def: 1
      };
    });
    function clamp(value, prop, allowEmpty) {
      var type = propTypes[prop.type] || {};
      if (value == null) {
        return (allowEmpty || !prop.def) ? null : prop.def;
      }
      value = type.floor ? ~~value : parseFloat(value);
      if (isNaN(value)) {
        return prop.def;
      }
      if (type.mod) {
        return (value + type.mod) % type.mod;
      }
      return 0 > value ? 0 : type.max < value ? type.max : value;
    }
    function stringParse(string) {
      var inst = color(),
          rgba = inst._rgba = [];
      string = string.toLowerCase();
      each(stringParsers, function(i, parser) {
        var parsed,
            match = parser.re.exec(string),
            values = match && parser.parse(match),
            spaceName = parser.space || "rgba";
        if (values) {
          parsed = inst[spaceName](values);
          inst[spaces[spaceName].cache] = parsed[spaces[spaceName].cache];
          rgba = inst._rgba = parsed._rgba;
          return false;
        }
      });
      if (rgba.length) {
        if (rgba.join() === "0,0,0,0") {
          jQuery.extend(rgba, colors.transparent);
        }
        return inst;
      }
      return colors[string];
    }
    color.fn = jQuery.extend(color.prototype, {
      parse: function(red, green, blue, alpha) {
        if (red === undefined) {
          this._rgba = [null, null, null, null];
          return this;
        }
        if (red.jquery || red.nodeType) {
          red = jQuery(red).css(green);
          green = undefined;
        }
        var inst = this,
            type = jQuery.type(red),
            rgba = this._rgba = [];
        if (green !== undefined) {
          red = [red, green, blue, alpha];
          type = "array";
        }
        if (type === "string") {
          return this.parse(stringParse(red) || colors._default);
        }
        if (type === "array") {
          each(spaces.rgba.props, function(key, prop) {
            rgba[prop.idx] = clamp(red[prop.idx], prop);
          });
          return this;
        }
        if (type === "object") {
          if (red instanceof color) {
            each(spaces, function(spaceName, space) {
              if (red[space.cache]) {
                inst[space.cache] = red[space.cache].slice();
              }
            });
          } else {
            each(spaces, function(spaceName, space) {
              var cache = space.cache;
              each(space.props, function(key, prop) {
                if (!inst[cache] && space.to) {
                  if (key === "alpha" || red[key] == null) {
                    return;
                  }
                  inst[cache] = space.to(inst._rgba);
                }
                inst[cache][prop.idx] = clamp(red[key], prop, true);
              });
              if (inst[cache] && jQuery.inArray(null, inst[cache].slice(0, 3)) < 0) {
                inst[cache][3] = 1;
                if (space.from) {
                  inst._rgba = space.from(inst[cache]);
                }
              }
            });
          }
          return this;
        }
      },
      is: function(compare) {
        var is = color(compare),
            same = true,
            inst = this;
        each(spaces, function(_, space) {
          var localCache,
              isCache = is[space.cache];
          if (isCache) {
            localCache = inst[space.cache] || space.to && space.to(inst._rgba) || [];
            each(space.props, function(_, prop) {
              if (isCache[prop.idx] != null) {
                same = (isCache[prop.idx] === localCache[prop.idx]);
                return same;
              }
            });
          }
          return same;
        });
        return same;
      },
      _space: function() {
        var used = [],
            inst = this;
        each(spaces, function(spaceName, space) {
          if (inst[space.cache]) {
            used.push(spaceName);
          }
        });
        return used.pop();
      },
      transition: function(other, distance) {
        var end = color(other),
            spaceName = end._space(),
            space = spaces[spaceName],
            startColor = this.alpha() === 0 ? color("transparent") : this,
            start = startColor[space.cache] || space.to(startColor._rgba),
            result = start.slice();
        end = end[space.cache];
        each(space.props, function(key, prop) {
          var index = prop.idx,
              startValue = start[index],
              endValue = end[index],
              type = propTypes[prop.type] || {};
          if (endValue === null) {
            return;
          }
          if (startValue === null) {
            result[index] = endValue;
          } else {
            if (type.mod) {
              if (endValue - startValue > type.mod / 2) {
                startValue += type.mod;
              } else if (startValue - endValue > type.mod / 2) {
                startValue -= type.mod;
              }
            }
            result[index] = clamp((endValue - startValue) * distance + startValue, prop);
          }
        });
        return this[spaceName](result);
      },
      blend: function(opaque) {
        if (this._rgba[3] === 1) {
          return this;
        }
        var rgb = this._rgba.slice(),
            a = rgb.pop(),
            blend = color(opaque)._rgba;
        return color(jQuery.map(rgb, function(v, i) {
          return (1 - a) * blend[i] + a * v;
        }));
      },
      toRgbaString: function() {
        var prefix = "rgba(",
            rgba = jQuery.map(this._rgba, function(v, i) {
              return v == null ? (i > 2 ? 1 : 0) : v;
            });
        if (rgba[3] === 1) {
          rgba.pop();
          prefix = "rgb(";
        }
        return prefix + rgba.join() + ")";
      },
      toHslaString: function() {
        var prefix = "hsla(",
            hsla = jQuery.map(this.hsla(), function(v, i) {
              if (v == null) {
                v = i > 2 ? 1 : 0;
              }
              if (i && i < 3) {
                v = Math.round(v * 100) + "%";
              }
              return v;
            });
        if (hsla[3] === 1) {
          hsla.pop();
          prefix = "hsl(";
        }
        return prefix + hsla.join() + ")";
      },
      toHexString: function(includeAlpha) {
        var rgba = this._rgba.slice(),
            alpha = rgba.pop();
        if (includeAlpha) {
          rgba.push(~~(alpha * 255));
        }
        return "#" + jQuery.map(rgba, function(v) {
          v = (v || 0).toString(16);
          return v.length === 1 ? "0" + v : v;
        }).join("");
      },
      toString: function() {
        return this._rgba[3] === 0 ? "transparent" : this.toRgbaString();
      }
    });
    color.fn.parse.prototype = color.fn;
    function hue2rgb(p, q, h) {
      h = (h + 1) % 1;
      if (h * 6 < 1) {
        return p + (q - p) * h * 6;
      }
      if (h * 2 < 1) {
        return q;
      }
      if (h * 3 < 2) {
        return p + (q - p) * ((2 / 3) - h) * 6;
      }
      return p;
    }
    spaces.hsla.to = function(rgba) {
      if (rgba[0] == null || rgba[1] == null || rgba[2] == null) {
        return [null, null, null, rgba[3]];
      }
      var r = rgba[0] / 255,
          g = rgba[1] / 255,
          b = rgba[2] / 255,
          a = rgba[3],
          max = Math.max(r, g, b),
          min = Math.min(r, g, b),
          diff = max - min,
          add = max + min,
          l = add * 0.5,
          h,
          s;
      if (min === max) {
        h = 0;
      } else if (r === max) {
        h = (60 * (g - b) / diff) + 360;
      } else if (g === max) {
        h = (60 * (b - r) / diff) + 120;
      } else {
        h = (60 * (r - g) / diff) + 240;
      }
      if (diff === 0) {
        s = 0;
      } else if (l <= 0.5) {
        s = diff / add;
      } else {
        s = diff / (2 - add);
      }
      return [Math.round(h) % 360, s, l, a == null ? 1 : a];
    };
    spaces.hsla.from = function(hsla) {
      if (hsla[0] == null || hsla[1] == null || hsla[2] == null) {
        return [null, null, null, hsla[3]];
      }
      var h = hsla[0] / 360,
          s = hsla[1],
          l = hsla[2],
          a = hsla[3],
          q = l <= 0.5 ? l * (1 + s) : l + s - l * s,
          p = 2 * l - q;
      return [Math.round(hue2rgb(p, q, h + (1 / 3)) * 255), Math.round(hue2rgb(p, q, h) * 255), Math.round(hue2rgb(p, q, h - (1 / 3)) * 255), a];
    };
    each(spaces, function(spaceName, space) {
      var props = space.props,
          cache = space.cache,
          to = space.to,
          from = space.from;
      color.fn[spaceName] = function(value) {
        if (to && !this[cache]) {
          this[cache] = to(this._rgba);
        }
        if (value === undefined) {
          return this[cache].slice();
        }
        var ret,
            type = jQuery.type(value),
            arr = (type === "array" || type === "object") ? value : arguments,
            local = this[cache].slice();
        each(props, function(key, prop) {
          var val = arr[type === "object" ? key : prop.idx];
          if (val == null) {
            val = local[prop.idx];
          }
          local[prop.idx] = clamp(val, prop);
        });
        if (from) {
          ret = color(from(local));
          ret[cache] = local;
          return ret;
        } else {
          return color(local);
        }
      };
      each(props, function(key, prop) {
        if (color.fn[key]) {
          return;
        }
        color.fn[key] = function(value) {
          var vtype = jQuery.type(value),
              fn = (key === "alpha" ? (this._hsla ? "hsla" : "rgba") : spaceName),
              local = this[fn](),
              cur = local[prop.idx],
              match;
          if (vtype === "undefined") {
            return cur;
          }
          if (vtype === "function") {
            value = value.call(this, cur);
            vtype = jQuery.type(value);
          }
          if (value == null && prop.empty) {
            return this;
          }
          if (vtype === "string") {
            match = rplusequals.exec(value);
            if (match) {
              value = cur + parseFloat(match[2]) * (match[1] === "+" ? 1 : -1);
            }
          }
          local[prop.idx] = value;
          return this[fn](local);
        };
      });
    });
    color.hook = function(hook) {
      var hooks = hook.split(" ");
      each(hooks, function(i, hook) {
        jQuery.cssHooks[hook] = {set: function(elem, value) {
            var parsed,
                curElem,
                backgroundColor = "";
            if (value !== "transparent" && (jQuery.type(value) !== "string" || (parsed = stringParse(value)))) {
              value = color(parsed || value);
              if (!support.rgba && value._rgba[3] !== 1) {
                curElem = hook === "backgroundColor" ? elem.parentNode : elem;
                while ((backgroundColor === "" || backgroundColor === "transparent") && curElem && curElem.style) {
                  try {
                    backgroundColor = jQuery.css(curElem, "backgroundColor");
                    curElem = curElem.parentNode;
                  } catch (e) {}
                }
                value = value.blend(backgroundColor && backgroundColor !== "transparent" ? backgroundColor : "_default");
              }
              value = value.toRgbaString();
            }
            try {
              elem.style[hook] = value;
            } catch (e) {}
          }};
        jQuery.fx.step[hook] = function(fx) {
          if (!fx.colorInit) {
            fx.start = color(fx.elem, hook);
            fx.end = color(fx.end);
            fx.colorInit = true;
          }
          jQuery.cssHooks[hook].set(fx.elem, fx.start.transition(fx.end, fx.pos));
        };
      });
    };
    color.hook(stepHooks);
    jQuery.cssHooks.borderColor = {expand: function(value) {
        var expanded = {};
        each(["Top", "Right", "Bottom", "Left"], function(i, part) {
          expanded["border" + part + "Color"] = value;
        });
        return expanded;
      }};
    colors = jQuery.Color.names = {
      aqua: "#00ffff",
      black: "#000000",
      blue: "#0000ff",
      fuchsia: "#ff00ff",
      gray: "#808080",
      green: "#008000",
      lime: "#00ff00",
      maroon: "#800000",
      navy: "#000080",
      olive: "#808000",
      purple: "#800080",
      red: "#ff0000",
      silver: "#c0c0c0",
      teal: "#008080",
      white: "#ffffff",
      yellow: "#ffff00",
      transparent: [null, null, null, 0],
      _default: "#ffffff"
    };
  })(jQuery);
  (function() {
    var classAnimationActions = ["add", "remove", "toggle"],
        shorthandStyles = {
          border: 1,
          borderBottom: 1,
          borderColor: 1,
          borderLeft: 1,
          borderRight: 1,
          borderTop: 1,
          borderWidth: 1,
          margin: 1,
          padding: 1
        };
    $.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(_, prop) {
      $.fx.step[prop] = function(fx) {
        if (fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr) {
          jQuery.style(fx.elem, prop, fx.end);
          fx.setAttr = true;
        }
      };
    });
    function getElementStyles(elem) {
      var key,
          len,
          style = elem.ownerDocument.defaultView ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.currentStyle,
          styles = {};
      if (style && style.length && style[0] && style[style[0]]) {
        len = style.length;
        while (len--) {
          key = style[len];
          if (typeof style[key] === "string") {
            styles[$.camelCase(key)] = style[key];
          }
        }
      } else {
        for (key in style) {
          if (typeof style[key] === "string") {
            styles[key] = style[key];
          }
        }
      }
      return styles;
    }
    function styleDifference(oldStyle, newStyle) {
      var diff = {},
          name,
          value;
      for (name in newStyle) {
        value = newStyle[name];
        if (oldStyle[name] !== value) {
          if (!shorthandStyles[name]) {
            if ($.fx.step[name] || !isNaN(parseFloat(value))) {
              diff[name] = value;
            }
          }
        }
      }
      return diff;
    }
    if (!$.fn.addBack) {
      $.fn.addBack = function(selector) {
        return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
      };
    }
    $.effects.animateClass = function(value, duration, easing, callback) {
      var o = $.speed(duration, easing, callback);
      return this.queue(function() {
        var animated = $(this),
            baseClass = animated.attr("class") || "",
            applyClassChange,
            allAnimations = o.children ? animated.find("*").addBack() : animated;
        allAnimations = allAnimations.map(function() {
          var el = $(this);
          return {
            el: el,
            start: getElementStyles(this)
          };
        });
        applyClassChange = function() {
          $.each(classAnimationActions, function(i, action) {
            if (value[action]) {
              animated[action + "Class"](value[action]);
            }
          });
        };
        applyClassChange();
        allAnimations = allAnimations.map(function() {
          this.end = getElementStyles(this.el[0]);
          this.diff = styleDifference(this.start, this.end);
          return this;
        });
        animated.attr("class", baseClass);
        allAnimations = allAnimations.map(function() {
          var styleInfo = this,
              dfd = $.Deferred(),
              opts = $.extend({}, o, {
                queue: false,
                complete: function() {
                  dfd.resolve(styleInfo);
                }
              });
          this.el.animate(this.diff, opts);
          return dfd.promise();
        });
        $.when.apply($, allAnimations.get()).done(function() {
          applyClassChange();
          $.each(arguments, function() {
            var el = this.el;
            $.each(this.diff, function(key) {
              el.css(key, "");
            });
          });
          o.complete.call(animated[0]);
        });
      });
    };
    $.fn.extend({
      addClass: (function(orig) {
        return function(classNames, speed, easing, callback) {
          return speed ? $.effects.animateClass.call(this, {add: classNames}, speed, easing, callback) : orig.apply(this, arguments);
        };
      })($.fn.addClass),
      removeClass: (function(orig) {
        return function(classNames, speed, easing, callback) {
          return arguments.length > 1 ? $.effects.animateClass.call(this, {remove: classNames}, speed, easing, callback) : orig.apply(this, arguments);
        };
      })($.fn.removeClass),
      toggleClass: (function(orig) {
        return function(classNames, force, speed, easing, callback) {
          if (typeof force === "boolean" || force === undefined) {
            if (!speed) {
              return orig.apply(this, arguments);
            } else {
              return $.effects.animateClass.call(this, (force ? {add: classNames} : {remove: classNames}), speed, easing, callback);
            }
          } else {
            return $.effects.animateClass.call(this, {toggle: classNames}, force, speed, easing);
          }
        };
      })($.fn.toggleClass),
      switchClass: function(remove, add, speed, easing, callback) {
        return $.effects.animateClass.call(this, {
          add: add,
          remove: remove
        }, speed, easing, callback);
      }
    });
  })();
  (function() {
    if ($.expr && $.expr.filters && $.expr.filters.animated) {
      $.expr.filters.animated = (function(orig) {
        return function(elem) {
          return !!$(elem).data(dataSpaceAnimated) || orig(elem);
        };
      })($.expr.filters.animated);
    }
    if ($.uiBackCompat !== false) {
      $.extend($.effects, {
        save: function(element, set) {
          var i = 0,
              length = set.length;
          for (; i < length; i++) {
            if (set[i] !== null) {
              element.data(dataSpace + set[i], element[0].style[set[i]]);
            }
          }
        },
        restore: function(element, set) {
          var val,
              i = 0,
              length = set.length;
          for (; i < length; i++) {
            if (set[i] !== null) {
              val = element.data(dataSpace + set[i]);
              element.css(set[i], val);
            }
          }
        },
        setMode: function(el, mode) {
          if (mode === "toggle") {
            mode = el.is(":hidden") ? "show" : "hide";
          }
          return mode;
        },
        createWrapper: function(element) {
          if (element.parent().is(".ui-effects-wrapper")) {
            return element.parent();
          }
          var props = {
            width: element.outerWidth(true),
            height: element.outerHeight(true),
            "float": element.css("float")
          },
              wrapper = $("<div></div>").addClass("ui-effects-wrapper").css({
                fontSize: "100%",
                background: "transparent",
                border: "none",
                margin: 0,
                padding: 0
              }),
              size = {
                width: element.width(),
                height: element.height()
              },
              active = document.activeElement;
          try {
            active.id;
          } catch (e) {
            active = document.body;
          }
          element.wrap(wrapper);
          if (element[0] === active || $.contains(element[0], active)) {
            $(active).trigger("focus");
          }
          wrapper = element.parent();
          if (element.css("position") === "static") {
            wrapper.css({position: "relative"});
            element.css({position: "relative"});
          } else {
            $.extend(props, {
              position: element.css("position"),
              zIndex: element.css("z-index")
            });
            $.each(["top", "left", "bottom", "right"], function(i, pos) {
              props[pos] = element.css(pos);
              if (isNaN(parseInt(props[pos], 10))) {
                props[pos] = "auto";
              }
            });
            element.css({
              position: "relative",
              top: 0,
              left: 0,
              right: "auto",
              bottom: "auto"
            });
          }
          element.css(size);
          return wrapper.css(props).show();
        },
        removeWrapper: function(element) {
          var active = document.activeElement;
          if (element.parent().is(".ui-effects-wrapper")) {
            element.parent().replaceWith(element);
            if (element[0] === active || $.contains(element[0], active)) {
              $(active).trigger("focus");
            }
          }
          return element;
        }
      });
    }
    $.extend($.effects, {
      version: "1.12.1",
      define: function(name, mode, effect) {
        if (!effect) {
          effect = mode;
          mode = "effect";
        }
        $.effects.effect[name] = effect;
        $.effects.effect[name].mode = mode;
        return effect;
      },
      scaledDimensions: function(element, percent, direction) {
        if (percent === 0) {
          return {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
          };
        }
        var x = direction !== "horizontal" ? ((percent || 100) / 100) : 1,
            y = direction !== "vertical" ? ((percent || 100) / 100) : 1;
        return {
          height: element.height() * y,
          width: element.width() * x,
          outerHeight: element.outerHeight() * y,
          outerWidth: element.outerWidth() * x
        };
      },
      clipToBox: function(animation) {
        return {
          width: animation.clip.right - animation.clip.left,
          height: animation.clip.bottom - animation.clip.top,
          left: animation.clip.left,
          top: animation.clip.top
        };
      },
      unshift: function(element, queueLength, count) {
        var queue = element.queue();
        if (queueLength > 1) {
          queue.splice.apply(queue, [1, 0].concat(queue.splice(queueLength, count)));
        }
        element.dequeue();
      },
      saveStyle: function(element) {
        element.data(dataSpaceStyle, element[0].style.cssText);
      },
      restoreStyle: function(element) {
        element[0].style.cssText = element.data(dataSpaceStyle) || "";
        element.removeData(dataSpaceStyle);
      },
      mode: function(element, mode) {
        var hidden = element.is(":hidden");
        if (mode === "toggle") {
          mode = hidden ? "show" : "hide";
        }
        if (hidden ? mode === "hide" : mode === "show") {
          mode = "none";
        }
        return mode;
      },
      getBaseline: function(origin, original) {
        var y,
            x;
        switch (origin[0]) {
          case "top":
            y = 0;
            break;
          case "middle":
            y = 0.5;
            break;
          case "bottom":
            y = 1;
            break;
          default:
            y = origin[0] / original.height;
        }
        switch (origin[1]) {
          case "left":
            x = 0;
            break;
          case "center":
            x = 0.5;
            break;
          case "right":
            x = 1;
            break;
          default:
            x = origin[1] / original.width;
        }
        return {
          x: x,
          y: y
        };
      },
      createPlaceholder: function(element) {
        var placeholder,
            cssPosition = element.css("position"),
            position = element.position();
        element.css({
          marginTop: element.css("marginTop"),
          marginBottom: element.css("marginBottom"),
          marginLeft: element.css("marginLeft"),
          marginRight: element.css("marginRight")
        }).outerWidth(element.outerWidth()).outerHeight(element.outerHeight());
        if (/^(static|relative)/.test(cssPosition)) {
          cssPosition = "absolute";
          placeholder = $("<" + element[0].nodeName + ">").insertAfter(element).css({
            display: /^(inline|ruby)/.test(element.css("display")) ? "inline-block" : "block",
            visibility: "hidden",
            marginTop: element.css("marginTop"),
            marginBottom: element.css("marginBottom"),
            marginLeft: element.css("marginLeft"),
            marginRight: element.css("marginRight"),
            "float": element.css("float")
          }).outerWidth(element.outerWidth()).outerHeight(element.outerHeight()).addClass("ui-effects-placeholder");
          element.data(dataSpace + "placeholder", placeholder);
        }
        element.css({
          position: cssPosition,
          left: position.left,
          top: position.top
        });
        return placeholder;
      },
      removePlaceholder: function(element) {
        var dataKey = dataSpace + "placeholder",
            placeholder = element.data(dataKey);
        if (placeholder) {
          placeholder.remove();
          element.removeData(dataKey);
        }
      },
      cleanUp: function(element) {
        $.effects.restoreStyle(element);
        $.effects.removePlaceholder(element);
      },
      setTransition: function(element, list, factor, value) {
        value = value || {};
        $.each(list, function(i, x) {
          var unit = element.cssUnit(x);
          if (unit[0] > 0) {
            value[x] = unit[0] * factor + unit[1];
          }
        });
        return value;
      }
    });
    function _normalizeArguments(effect, options, speed, callback) {
      if ($.isPlainObject(effect)) {
        options = effect;
        effect = effect.effect;
      }
      effect = {effect: effect};
      if (options == null) {
        options = {};
      }
      if ($.isFunction(options)) {
        callback = options;
        speed = null;
        options = {};
      }
      if (typeof options === "number" || $.fx.speeds[options]) {
        callback = speed;
        speed = options;
        options = {};
      }
      if ($.isFunction(speed)) {
        callback = speed;
        speed = null;
      }
      if (options) {
        $.extend(effect, options);
      }
      speed = speed || options.duration;
      effect.duration = $.fx.off ? 0 : typeof speed === "number" ? speed : speed in $.fx.speeds ? $.fx.speeds[speed] : $.fx.speeds._default;
      effect.complete = callback || options.complete;
      return effect;
    }
    function standardAnimationOption(option) {
      if (!option || typeof option === "number" || $.fx.speeds[option]) {
        return true;
      }
      if (typeof option === "string" && !$.effects.effect[option]) {
        return true;
      }
      if ($.isFunction(option)) {
        return true;
      }
      if (typeof option === "object" && !option.effect) {
        return true;
      }
      return false;
    }
    $.fn.extend({
      effect: function() {
        var args = _normalizeArguments.apply(this, arguments),
            effectMethod = $.effects.effect[args.effect],
            defaultMode = effectMethod.mode,
            queue = args.queue,
            queueName = queue || "fx",
            complete = args.complete,
            mode = args.mode,
            modes = [],
            prefilter = function(next) {
              var el = $(this),
                  normalizedMode = $.effects.mode(el, mode) || defaultMode;
              el.data(dataSpaceAnimated, true);
              modes.push(normalizedMode);
              if (defaultMode && (normalizedMode === "show" || (normalizedMode === defaultMode && normalizedMode === "hide"))) {
                el.show();
              }
              if (!defaultMode || normalizedMode !== "none") {
                $.effects.saveStyle(el);
              }
              if ($.isFunction(next)) {
                next();
              }
            };
        if ($.fx.off || !effectMethod) {
          if (mode) {
            return this[mode](args.duration, complete);
          } else {
            return this.each(function() {
              if (complete) {
                complete.call(this);
              }
            });
          }
        }
        function run(next) {
          var elem = $(this);
          function cleanup() {
            elem.removeData(dataSpaceAnimated);
            $.effects.cleanUp(elem);
            if (args.mode === "hide") {
              elem.hide();
            }
            done();
          }
          function done() {
            if ($.isFunction(complete)) {
              complete.call(elem[0]);
            }
            if ($.isFunction(next)) {
              next();
            }
          }
          args.mode = modes.shift();
          if ($.uiBackCompat !== false && !defaultMode) {
            if (elem.is(":hidden") ? mode === "hide" : mode === "show") {
              elem[mode]();
              done();
            } else {
              effectMethod.call(elem[0], args, done);
            }
          } else {
            if (args.mode === "none") {
              elem[mode]();
              done();
            } else {
              effectMethod.call(elem[0], args, cleanup);
            }
          }
        }
        return queue === false ? this.each(prefilter).each(run) : this.queue(queueName, prefilter).queue(queueName, run);
      },
      show: (function(orig) {
        return function(option) {
          if (standardAnimationOption(option)) {
            return orig.apply(this, arguments);
          } else {
            var args = _normalizeArguments.apply(this, arguments);
            args.mode = "show";
            return this.effect.call(this, args);
          }
        };
      })($.fn.show),
      hide: (function(orig) {
        return function(option) {
          if (standardAnimationOption(option)) {
            return orig.apply(this, arguments);
          } else {
            var args = _normalizeArguments.apply(this, arguments);
            args.mode = "hide";
            return this.effect.call(this, args);
          }
        };
      })($.fn.hide),
      toggle: (function(orig) {
        return function(option) {
          if (standardAnimationOption(option) || typeof option === "boolean") {
            return orig.apply(this, arguments);
          } else {
            var args = _normalizeArguments.apply(this, arguments);
            args.mode = "toggle";
            return this.effect.call(this, args);
          }
        };
      })($.fn.toggle),
      cssUnit: function(key) {
        var style = this.css(key),
            val = [];
        $.each(["em", "px", "%", "pt"], function(i, unit) {
          if (style.indexOf(unit) > 0) {
            val = [parseFloat(style), unit];
          }
        });
        return val;
      },
      cssClip: function(clipObj) {
        if (clipObj) {
          return this.css("clip", "rect(" + clipObj.top + "px " + clipObj.right + "px " + clipObj.bottom + "px " + clipObj.left + "px)");
        }
        return parseClip(this.css("clip"), this);
      },
      transfer: function(options, done) {
        var element = $(this),
            target = $(options.to),
            targetFixed = target.css("position") === "fixed",
            body = $("body"),
            fixTop = targetFixed ? body.scrollTop() : 0,
            fixLeft = targetFixed ? body.scrollLeft() : 0,
            endPosition = target.offset(),
            animation = {
              top: endPosition.top - fixTop,
              left: endPosition.left - fixLeft,
              height: target.innerHeight(),
              width: target.innerWidth()
            },
            startPosition = element.offset(),
            transfer = $("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(options.className).css({
              top: startPosition.top - fixTop,
              left: startPosition.left - fixLeft,
              height: element.innerHeight(),
              width: element.innerWidth(),
              position: targetFixed ? "fixed" : "absolute"
            }).animate(animation, options.duration, options.easing, function() {
              transfer.remove();
              if ($.isFunction(done)) {
                done();
              }
            });
      }
    });
    function parseClip(str, element) {
      var outerWidth = element.outerWidth(),
          outerHeight = element.outerHeight(),
          clipRegex = /^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,
          values = clipRegex.exec(str) || ["", 0, outerWidth, outerHeight, 0];
      return {
        top: parseFloat(values[1]) || 0,
        right: values[2] === "auto" ? outerWidth : parseFloat(values[2]),
        bottom: values[3] === "auto" ? outerHeight : parseFloat(values[3]),
        left: parseFloat(values[4]) || 0
      };
    }
    $.fx.step.clip = function(fx) {
      if (!fx.clipInit) {
        fx.start = $(fx.elem).cssClip();
        if (typeof fx.end === "string") {
          fx.end = parseClip(fx.end, fx.elem);
        }
        fx.clipInit = true;
      }
      $(fx.elem).cssClip({
        top: fx.pos * (fx.end.top - fx.start.top) + fx.start.top,
        right: fx.pos * (fx.end.right - fx.start.right) + fx.start.right,
        bottom: fx.pos * (fx.end.bottom - fx.start.bottom) + fx.start.bottom,
        left: fx.pos * (fx.end.left - fx.start.left) + fx.start.left
      });
    };
  })();
  (function() {
    var baseEasings = {};
    $.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(i, name) {
      baseEasings[name] = function(p) {
        return Math.pow(p, i + 2);
      };
    });
    $.extend(baseEasings, {
      Sine: function(p) {
        return 1 - Math.cos(p * Math.PI / 2);
      },
      Circ: function(p) {
        return 1 - Math.sqrt(1 - p * p);
      },
      Elastic: function(p) {
        return p === 0 || p === 1 ? p : -Math.pow(2, 8 * (p - 1)) * Math.sin(((p - 1) * 80 - 7.5) * Math.PI / 15);
      },
      Back: function(p) {
        return p * p * (3 * p - 2);
      },
      Bounce: function(p) {
        var pow2,
            bounce = 4;
        while (p < ((pow2 = Math.pow(2, --bounce)) - 1) / 11) {}
        return 1 / Math.pow(4, 3 - bounce) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - p, 2);
      }
    });
    $.each(baseEasings, function(name, easeIn) {
      $.easing["easeIn" + name] = easeIn;
      $.easing["easeOut" + name] = function(p) {
        return 1 - easeIn(1 - p);
      };
      $.easing["easeInOut" + name] = function(p) {
        return p < 0.5 ? easeIn(p * 2) / 2 : 1 - easeIn(p * -2 + 2) / 2;
      };
    });
  })();
  var effect = $.effects;
  var effectsEffectBlind = $.effects.define("blind", "hide", function(options, done) {
    var map = {
      up: ["bottom", "top"],
      vertical: ["bottom", "top"],
      down: ["top", "bottom"],
      left: ["right", "left"],
      horizontal: ["right", "left"],
      right: ["left", "right"]
    },
        element = $(this),
        direction = options.direction || "up",
        start = element.cssClip(),
        animate = {clip: $.extend({}, start)},
        placeholder = $.effects.createPlaceholder(element);
    animate.clip[map[direction][0]] = animate.clip[map[direction][1]];
    if (options.mode === "show") {
      element.cssClip(animate.clip);
      if (placeholder) {
        placeholder.css($.effects.clipToBox(animate));
      }
      animate.clip = start;
    }
    if (placeholder) {
      placeholder.animate($.effects.clipToBox(animate), options.duration, options.easing);
    }
    element.animate(animate, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effectsEffectBounce = $.effects.define("bounce", function(options, done) {
    var upAnim,
        downAnim,
        refValue,
        element = $(this),
        mode = options.mode,
        hide = mode === "hide",
        show = mode === "show",
        direction = options.direction || "up",
        distance = options.distance,
        times = options.times || 5,
        anims = times * 2 + (show || hide ? 1 : 0),
        speed = options.duration / anims,
        easing = options.easing,
        ref = (direction === "up" || direction === "down") ? "top" : "left",
        motion = (direction === "up" || direction === "left"),
        i = 0,
        queuelen = element.queue().length;
    $.effects.createPlaceholder(element);
    refValue = element.css(ref);
    if (!distance) {
      distance = element[ref === "top" ? "outerHeight" : "outerWidth"]() / 3;
    }
    if (show) {
      downAnim = {opacity: 1};
      downAnim[ref] = refValue;
      element.css("opacity", 0).css(ref, motion ? -distance * 2 : distance * 2).animate(downAnim, speed, easing);
    }
    if (hide) {
      distance = distance / Math.pow(2, times - 1);
    }
    downAnim = {};
    downAnim[ref] = refValue;
    for (; i < times; i++) {
      upAnim = {};
      upAnim[ref] = (motion ? "-=" : "+=") + distance;
      element.animate(upAnim, speed, easing).animate(downAnim, speed, easing);
      distance = hide ? distance * 2 : distance / 2;
    }
    if (hide) {
      upAnim = {opacity: 0};
      upAnim[ref] = (motion ? "-=" : "+=") + distance;
      element.animate(upAnim, speed, easing);
    }
    element.queue(done);
    $.effects.unshift(element, queuelen, anims + 1);
  });
  var effectsEffectClip = $.effects.define("clip", "hide", function(options, done) {
    var start,
        animate = {},
        element = $(this),
        direction = options.direction || "vertical",
        both = direction === "both",
        horizontal = both || direction === "horizontal",
        vertical = both || direction === "vertical";
    start = element.cssClip();
    animate.clip = {
      top: vertical ? (start.bottom - start.top) / 2 : start.top,
      right: horizontal ? (start.right - start.left) / 2 : start.right,
      bottom: vertical ? (start.bottom - start.top) / 2 : start.bottom,
      left: horizontal ? (start.right - start.left) / 2 : start.left
    };
    $.effects.createPlaceholder(element);
    if (options.mode === "show") {
      element.cssClip(animate.clip);
      animate.clip = start;
    }
    element.animate(animate, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effectsEffectDrop = $.effects.define("drop", "hide", function(options, done) {
    var distance,
        element = $(this),
        mode = options.mode,
        show = mode === "show",
        direction = options.direction || "left",
        ref = (direction === "up" || direction === "down") ? "top" : "left",
        motion = (direction === "up" || direction === "left") ? "-=" : "+=",
        oppositeMotion = (motion === "+=") ? "-=" : "+=",
        animation = {opacity: 0};
    $.effects.createPlaceholder(element);
    distance = options.distance || element[ref === "top" ? "outerHeight" : "outerWidth"](true) / 2;
    animation[ref] = motion + distance;
    if (show) {
      element.css(animation);
      animation[ref] = oppositeMotion + distance;
      animation.opacity = 1;
    }
    element.animate(animation, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effectsEffectExplode = $.effects.define("explode", "hide", function(options, done) {
    var i,
        j,
        left,
        top,
        mx,
        my,
        rows = options.pieces ? Math.round(Math.sqrt(options.pieces)) : 3,
        cells = rows,
        element = $(this),
        mode = options.mode,
        show = mode === "show",
        offset = element.show().css("visibility", "hidden").offset(),
        width = Math.ceil(element.outerWidth() / cells),
        height = Math.ceil(element.outerHeight() / rows),
        pieces = [];
    function childComplete() {
      pieces.push(this);
      if (pieces.length === rows * cells) {
        animComplete();
      }
    }
    for (i = 0; i < rows; i++) {
      top = offset.top + i * height;
      my = i - (rows - 1) / 2;
      for (j = 0; j < cells; j++) {
        left = offset.left + j * width;
        mx = j - (cells - 1) / 2;
        element.clone().appendTo("body").wrap("<div></div>").css({
          position: "absolute",
          visibility: "visible",
          left: -j * width,
          top: -i * height
        }).parent().addClass("ui-effects-explode").css({
          position: "absolute",
          overflow: "hidden",
          width: width,
          height: height,
          left: left + (show ? mx * width : 0),
          top: top + (show ? my * height : 0),
          opacity: show ? 0 : 1
        }).animate({
          left: left + (show ? 0 : mx * width),
          top: top + (show ? 0 : my * height),
          opacity: show ? 1 : 0
        }, options.duration || 500, options.easing, childComplete);
      }
    }
    function animComplete() {
      element.css({visibility: "visible"});
      $(pieces).remove();
      done();
    }
  });
  var effectsEffectFade = $.effects.define("fade", "toggle", function(options, done) {
    var show = options.mode === "show";
    $(this).css("opacity", show ? 0 : 1).animate({opacity: show ? 1 : 0}, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effectsEffectFold = $.effects.define("fold", "hide", function(options, done) {
    var element = $(this),
        mode = options.mode,
        show = mode === "show",
        hide = mode === "hide",
        size = options.size || 15,
        percent = /([0-9]+)%/.exec(size),
        horizFirst = !!options.horizFirst,
        ref = horizFirst ? ["right", "bottom"] : ["bottom", "right"],
        duration = options.duration / 2,
        placeholder = $.effects.createPlaceholder(element),
        start = element.cssClip(),
        animation1 = {clip: $.extend({}, start)},
        animation2 = {clip: $.extend({}, start)},
        distance = [start[ref[0]], start[ref[1]]],
        queuelen = element.queue().length;
    if (percent) {
      size = parseInt(percent[1], 10) / 100 * distance[hide ? 0 : 1];
    }
    animation1.clip[ref[0]] = size;
    animation2.clip[ref[0]] = size;
    animation2.clip[ref[1]] = 0;
    if (show) {
      element.cssClip(animation2.clip);
      if (placeholder) {
        placeholder.css($.effects.clipToBox(animation2));
      }
      animation2.clip = start;
    }
    element.queue(function(next) {
      if (placeholder) {
        placeholder.animate($.effects.clipToBox(animation1), duration, options.easing).animate($.effects.clipToBox(animation2), duration, options.easing);
      }
      next();
    }).animate(animation1, duration, options.easing).animate(animation2, duration, options.easing).queue(done);
    $.effects.unshift(element, queuelen, 4);
  });
  var effectsEffectHighlight = $.effects.define("highlight", "show", function(options, done) {
    var element = $(this),
        animation = {backgroundColor: element.css("backgroundColor")};
    if (options.mode === "hide") {
      animation.opacity = 0;
    }
    $.effects.saveStyle(element);
    element.css({
      backgroundImage: "none",
      backgroundColor: options.color || "#ffff99"
    }).animate(animation, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effectsEffectSize = $.effects.define("size", function(options, done) {
    var baseline,
        factor,
        temp,
        element = $(this),
        cProps = ["fontSize"],
        vProps = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
        hProps = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
        mode = options.mode,
        restore = mode !== "effect",
        scale = options.scale || "both",
        origin = options.origin || ["middle", "center"],
        position = element.css("position"),
        pos = element.position(),
        original = $.effects.scaledDimensions(element),
        from = options.from || original,
        to = options.to || $.effects.scaledDimensions(element, 0);
    $.effects.createPlaceholder(element);
    if (mode === "show") {
      temp = from;
      from = to;
      to = temp;
    }
    factor = {
      from: {
        y: from.height / original.height,
        x: from.width / original.width
      },
      to: {
        y: to.height / original.height,
        x: to.width / original.width
      }
    };
    if (scale === "box" || scale === "both") {
      if (factor.from.y !== factor.to.y) {
        from = $.effects.setTransition(element, vProps, factor.from.y, from);
        to = $.effects.setTransition(element, vProps, factor.to.y, to);
      }
      if (factor.from.x !== factor.to.x) {
        from = $.effects.setTransition(element, hProps, factor.from.x, from);
        to = $.effects.setTransition(element, hProps, factor.to.x, to);
      }
    }
    if (scale === "content" || scale === "both") {
      if (factor.from.y !== factor.to.y) {
        from = $.effects.setTransition(element, cProps, factor.from.y, from);
        to = $.effects.setTransition(element, cProps, factor.to.y, to);
      }
    }
    if (origin) {
      baseline = $.effects.getBaseline(origin, original);
      from.top = (original.outerHeight - from.outerHeight) * baseline.y + pos.top;
      from.left = (original.outerWidth - from.outerWidth) * baseline.x + pos.left;
      to.top = (original.outerHeight - to.outerHeight) * baseline.y + pos.top;
      to.left = (original.outerWidth - to.outerWidth) * baseline.x + pos.left;
    }
    element.css(from);
    if (scale === "content" || scale === "both") {
      vProps = vProps.concat(["marginTop", "marginBottom"]).concat(cProps);
      hProps = hProps.concat(["marginLeft", "marginRight"]);
      element.find("*[width]").each(function() {
        var child = $(this),
            childOriginal = $.effects.scaledDimensions(child),
            childFrom = {
              height: childOriginal.height * factor.from.y,
              width: childOriginal.width * factor.from.x,
              outerHeight: childOriginal.outerHeight * factor.from.y,
              outerWidth: childOriginal.outerWidth * factor.from.x
            },
            childTo = {
              height: childOriginal.height * factor.to.y,
              width: childOriginal.width * factor.to.x,
              outerHeight: childOriginal.height * factor.to.y,
              outerWidth: childOriginal.width * factor.to.x
            };
        if (factor.from.y !== factor.to.y) {
          childFrom = $.effects.setTransition(child, vProps, factor.from.y, childFrom);
          childTo = $.effects.setTransition(child, vProps, factor.to.y, childTo);
        }
        if (factor.from.x !== factor.to.x) {
          childFrom = $.effects.setTransition(child, hProps, factor.from.x, childFrom);
          childTo = $.effects.setTransition(child, hProps, factor.to.x, childTo);
        }
        if (restore) {
          $.effects.saveStyle(child);
        }
        child.css(childFrom);
        child.animate(childTo, options.duration, options.easing, function() {
          if (restore) {
            $.effects.restoreStyle(child);
          }
        });
      });
    }
    element.animate(to, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: function() {
        var offset = element.offset();
        if (to.opacity === 0) {
          element.css("opacity", from.opacity);
        }
        if (!restore) {
          element.css("position", position === "static" ? "relative" : position).offset(offset);
          $.effects.saveStyle(element);
        }
        done();
      }
    });
  });
  var effectsEffectScale = $.effects.define("scale", function(options, done) {
    var el = $(this),
        mode = options.mode,
        percent = parseInt(options.percent, 10) || (parseInt(options.percent, 10) === 0 ? 0 : (mode !== "effect" ? 0 : 100)),
        newOptions = $.extend(true, {
          from: $.effects.scaledDimensions(el),
          to: $.effects.scaledDimensions(el, percent, options.direction || "both"),
          origin: options.origin || ["middle", "center"]
        }, options);
    if (options.fade) {
      newOptions.from.opacity = 1;
      newOptions.to.opacity = 0;
    }
    $.effects.effect.size.call(this, newOptions, done);
  });
  var effectsEffectPuff = $.effects.define("puff", "hide", function(options, done) {
    var newOptions = $.extend(true, {}, options, {
      fade: true,
      percent: parseInt(options.percent, 10) || 150
    });
    $.effects.effect.scale.call(this, newOptions, done);
  });
  var effectsEffectPulsate = $.effects.define("pulsate", "show", function(options, done) {
    var element = $(this),
        mode = options.mode,
        show = mode === "show",
        hide = mode === "hide",
        showhide = show || hide,
        anims = ((options.times || 5) * 2) + (showhide ? 1 : 0),
        duration = options.duration / anims,
        animateTo = 0,
        i = 1,
        queuelen = element.queue().length;
    if (show || !element.is(":visible")) {
      element.css("opacity", 0).show();
      animateTo = 1;
    }
    for (; i < anims; i++) {
      element.animate({opacity: animateTo}, duration, options.easing);
      animateTo = 1 - animateTo;
    }
    element.animate({opacity: animateTo}, duration, options.easing);
    element.queue(done);
    $.effects.unshift(element, queuelen, anims + 1);
  });
  var effectsEffectShake = $.effects.define("shake", function(options, done) {
    var i = 1,
        element = $(this),
        direction = options.direction || "left",
        distance = options.distance || 20,
        times = options.times || 3,
        anims = times * 2 + 1,
        speed = Math.round(options.duration / anims),
        ref = (direction === "up" || direction === "down") ? "top" : "left",
        positiveMotion = (direction === "up" || direction === "left"),
        animation = {},
        animation1 = {},
        animation2 = {},
        queuelen = element.queue().length;
    $.effects.createPlaceholder(element);
    animation[ref] = (positiveMotion ? "-=" : "+=") + distance;
    animation1[ref] = (positiveMotion ? "+=" : "-=") + distance * 2;
    animation2[ref] = (positiveMotion ? "-=" : "+=") + distance * 2;
    element.animate(animation, speed, options.easing);
    for (; i < times; i++) {
      element.animate(animation1, speed, options.easing).animate(animation2, speed, options.easing);
    }
    element.animate(animation1, speed, options.easing).animate(animation, speed / 2, options.easing).queue(done);
    $.effects.unshift(element, queuelen, anims + 1);
  });
  var effectsEffectSlide = $.effects.define("slide", "show", function(options, done) {
    var startClip,
        startRef,
        element = $(this),
        map = {
          up: ["bottom", "top"],
          down: ["top", "bottom"],
          left: ["right", "left"],
          right: ["left", "right"]
        },
        mode = options.mode,
        direction = options.direction || "left",
        ref = (direction === "up" || direction === "down") ? "top" : "left",
        positiveMotion = (direction === "up" || direction === "left"),
        distance = options.distance || element[ref === "top" ? "outerHeight" : "outerWidth"](true),
        animation = {};
    $.effects.createPlaceholder(element);
    startClip = element.cssClip();
    startRef = element.position()[ref];
    animation[ref] = (positiveMotion ? -1 : 1) * distance + startRef;
    animation.clip = element.cssClip();
    animation.clip[map[direction][1]] = animation.clip[map[direction][0]];
    if (mode === "show") {
      element.cssClip(animation.clip);
      element.css(ref, animation[ref]);
      animation.clip = startClip;
      animation[ref] = startRef;
    }
    element.animate(animation, {
      queue: false,
      duration: options.duration,
      easing: options.easing,
      complete: done
    });
  });
  var effect;
  if ($.uiBackCompat !== false) {
    effect = $.effects.define("transfer", function(options, done) {
      $(this).transfer(options, done);
    });
  }
  var effectsEffectTransfer = effect;
  $.ui.focusable = function(element, hasTabindex) {
    var map,
        mapName,
        img,
        focusableIfVisible,
        fieldset,
        nodeName = element.nodeName.toLowerCase();
    if ("area" === nodeName) {
      map = element.parentNode;
      mapName = map.name;
      if (!element.href || !mapName || map.nodeName.toLowerCase() !== "map") {
        return false;
      }
      img = $("img[usemap='#" + mapName + "']");
      return img.length > 0 && img.is(":visible");
    }
    if (/^(input|select|textarea|button|object)$/.test(nodeName)) {
      focusableIfVisible = !element.disabled;
      if (focusableIfVisible) {
        fieldset = $(element).closest("fieldset")[0];
        if (fieldset) {
          focusableIfVisible = !fieldset.disabled;
        }
      }
    } else if ("a" === nodeName) {
      focusableIfVisible = element.href || hasTabindex;
    } else {
      focusableIfVisible = hasTabindex;
    }
    return focusableIfVisible && $(element).is(":visible") && visible($(element));
  };
  function visible(element) {
    var visibility = element.css("visibility");
    while (visibility === "inherit") {
      element = element.parent();
      visibility = element.css("visibility");
    }
    return visibility !== "hidden";
  }
  $.extend($.expr[":"], {focusable: function(element) {
      return $.ui.focusable(element, $.attr(element, "tabindex") != null);
    }});
  var focusable = $.ui.focusable;
  var form = $.fn.form = function() {
    return typeof this[0].form === "string" ? this.closest("form") : $(this[0].form);
  };
  var formResetMixin = $.ui.formResetMixin = {
    _formResetHandler: function() {
      var form = $(this);
      setTimeout(function() {
        var instances = form.data("ui-form-reset-instances");
        $.each(instances, function() {
          this.refresh();
        });
      });
    },
    _bindFormResetHandler: function() {
      this.form = this.element.form();
      if (!this.form.length) {
        return;
      }
      var instances = this.form.data("ui-form-reset-instances") || [];
      if (!instances.length) {
        this.form.on("reset.ui-form-reset", this._formResetHandler);
      }
      instances.push(this);
      this.form.data("ui-form-reset-instances", instances);
    },
    _unbindFormResetHandler: function() {
      if (!this.form.length) {
        return;
      }
      var instances = this.form.data("ui-form-reset-instances");
      instances.splice($.inArray(this, instances), 1);
      if (instances.length) {
        this.form.data("ui-form-reset-instances", instances);
      } else {
        this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset");
      }
    }
  };
  if ($.fn.jquery.substring(0, 3) === "1.7") {
    $.each(["Width", "Height"], function(i, name) {
      var side = name === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
          type = name.toLowerCase(),
          orig = {
            innerWidth: $.fn.innerWidth,
            innerHeight: $.fn.innerHeight,
            outerWidth: $.fn.outerWidth,
            outerHeight: $.fn.outerHeight
          };
      function reduce(elem, size, border, margin) {
        $.each(side, function() {
          size -= parseFloat($.css(elem, "padding" + this)) || 0;
          if (border) {
            size -= parseFloat($.css(elem, "border" + this + "Width")) || 0;
          }
          if (margin) {
            size -= parseFloat($.css(elem, "margin" + this)) || 0;
          }
        });
        return size;
      }
      $.fn["inner" + name] = function(size) {
        if (size === undefined) {
          return orig["inner" + name].call(this);
        }
        return this.each(function() {
          $(this).css(type, reduce(this, size) + "px");
        });
      };
      $.fn["outer" + name] = function(size, margin) {
        if (typeof size !== "number") {
          return orig["outer" + name].call(this, size);
        }
        return this.each(function() {
          $(this).css(type, reduce(this, size, true, margin) + "px");
        });
      };
    });
    $.fn.addBack = function(selector) {
      return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
    };
  }
  ;
  var keycode = $.ui.keyCode = {
    BACKSPACE: 8,
    COMMA: 188,
    DELETE: 46,
    DOWN: 40,
    END: 35,
    ENTER: 13,
    ESCAPE: 27,
    HOME: 36,
    LEFT: 37,
    PAGE_DOWN: 34,
    PAGE_UP: 33,
    PERIOD: 190,
    RIGHT: 39,
    SPACE: 32,
    TAB: 9,
    UP: 38
  };
  var escapeSelector = $.ui.escapeSelector = (function() {
    var selectorEscape = /([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;
    return function(selector) {
      return selector.replace(selectorEscape, "\\$1");
    };
  })();
  var labels = $.fn.labels = function() {
    var ancestor,
        selector,
        id,
        labels,
        ancestors;
    if (this[0].labels && this[0].labels.length) {
      return this.pushStack(this[0].labels);
    }
    labels = this.eq(0).parents("label");
    id = this.attr("id");
    if (id) {
      ancestor = this.eq(0).parents().last();
      ancestors = ancestor.add(ancestor.length ? ancestor.siblings() : this.siblings());
      selector = "label[for='" + $.ui.escapeSelector(id) + "']";
      labels = labels.add(ancestors.find(selector).addBack(selector));
    }
    return this.pushStack(labels);
  };
  var scrollParent = $.fn.scrollParent = function(includeHidden) {
    var position = this.css("position"),
        excludeStaticParent = position === "absolute",
        overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
        scrollParent = this.parents().filter(function() {
          var parent = $(this);
          if (excludeStaticParent && parent.css("position") === "static") {
            return false;
          }
          return overflowRegex.test(parent.css("overflow") + parent.css("overflow-y") + parent.css("overflow-x"));
        }).eq(0);
    return position === "fixed" || !scrollParent.length ? $(this[0].ownerDocument || document) : scrollParent;
  };
  var tabbable = $.extend($.expr[":"], {tabbable: function(element) {
      var tabIndex = $.attr(element, "tabindex"),
          hasTabindex = tabIndex != null;
      return (!hasTabindex || tabIndex >= 0) && $.ui.focusable(element, hasTabindex);
    }});
  var uniqueId = $.fn.extend({
    uniqueId: (function() {
      var uuid = 0;
      return function() {
        return this.each(function() {
          if (!this.id) {
            this.id = "ui-id-" + (++uuid);
          }
        });
      };
    })(),
    removeUniqueId: function() {
      return this.each(function() {
        if (/^ui-id-\d+$/.test(this.id)) {
          $(this).removeAttr("id");
        }
      });
    }
  });
  var widgetsAccordion = $.widget("ui.accordion", {
    version: "1.12.1",
    options: {
      active: 0,
      animate: {},
      classes: {
        "ui-accordion-header": "ui-corner-top",
        "ui-accordion-header-collapsed": "ui-corner-all",
        "ui-accordion-content": "ui-corner-bottom"
      },
      collapsible: false,
      event: "click",
      header: "> li > :first-child, > :not(li):even",
      heightStyle: "auto",
      icons: {
        activeHeader: "ui-icon-triangle-1-s",
        header: "ui-icon-triangle-1-e"
      },
      activate: null,
      beforeActivate: null
    },
    hideProps: {
      borderTopWidth: "hide",
      borderBottomWidth: "hide",
      paddingTop: "hide",
      paddingBottom: "hide",
      height: "hide"
    },
    showProps: {
      borderTopWidth: "show",
      borderBottomWidth: "show",
      paddingTop: "show",
      paddingBottom: "show",
      height: "show"
    },
    _create: function() {
      var options = this.options;
      this.prevShow = this.prevHide = $();
      this._addClass("ui-accordion", "ui-widget ui-helper-reset");
      this.element.attr("role", "tablist");
      if (!options.collapsible && (options.active === false || options.active == null)) {
        options.active = 0;
      }
      this._processPanels();
      if (options.active < 0) {
        options.active += this.headers.length;
      }
      this._refresh();
    },
    _getCreateEventData: function() {
      return {
        header: this.active,
        panel: !this.active.length ? $() : this.active.next()
      };
    },
    _createIcons: function() {
      var icon,
          children,
          icons = this.options.icons;
      if (icons) {
        icon = $("<span>");
        this._addClass(icon, "ui-accordion-header-icon", "ui-icon " + icons.header);
        icon.prependTo(this.headers);
        children = this.active.children(".ui-accordion-header-icon");
        this._removeClass(children, icons.header)._addClass(children, null, icons.activeHeader)._addClass(this.headers, "ui-accordion-icons");
      }
    },
    _destroyIcons: function() {
      this._removeClass(this.headers, "ui-accordion-icons");
      this.headers.children(".ui-accordion-header-icon").remove();
    },
    _destroy: function() {
      var contents;
      this.element.removeAttr("role");
      this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();
      this._destroyIcons();
      contents = this.headers.next().css("display", "").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();
      if (this.options.heightStyle !== "content") {
        contents.css("height", "");
      }
    },
    _setOption: function(key, value) {
      if (key === "active") {
        this._activate(value);
        return;
      }
      if (key === "event") {
        if (this.options.event) {
          this._off(this.headers, this.options.event);
        }
        this._setupEvents(value);
      }
      this._super(key, value);
      if (key === "collapsible" && !value && this.options.active === false) {
        this._activate(0);
      }
      if (key === "icons") {
        this._destroyIcons();
        if (value) {
          this._createIcons();
        }
      }
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this.element.attr("aria-disabled", value);
      this._toggleClass(null, "ui-state-disabled", !!value);
      this._toggleClass(this.headers.add(this.headers.next()), null, "ui-state-disabled", !!value);
    },
    _keydown: function(event) {
      if (event.altKey || event.ctrlKey) {
        return;
      }
      var keyCode = $.ui.keyCode,
          length = this.headers.length,
          currentIndex = this.headers.index(event.target),
          toFocus = false;
      switch (event.keyCode) {
        case keyCode.RIGHT:
        case keyCode.DOWN:
          toFocus = this.headers[(currentIndex + 1) % length];
          break;
        case keyCode.LEFT:
        case keyCode.UP:
          toFocus = this.headers[(currentIndex - 1 + length) % length];
          break;
        case keyCode.SPACE:
        case keyCode.ENTER:
          this._eventHandler(event);
          break;
        case keyCode.HOME:
          toFocus = this.headers[0];
          break;
        case keyCode.END:
          toFocus = this.headers[length - 1];
          break;
      }
      if (toFocus) {
        $(event.target).attr("tabIndex", -1);
        $(toFocus).attr("tabIndex", 0);
        $(toFocus).trigger("focus");
        event.preventDefault();
      }
    },
    _panelKeyDown: function(event) {
      if (event.keyCode === $.ui.keyCode.UP && event.ctrlKey) {
        $(event.currentTarget).prev().trigger("focus");
      }
    },
    refresh: function() {
      var options = this.options;
      this._processPanels();
      if ((options.active === false && options.collapsible === true) || !this.headers.length) {
        options.active = false;
        this.active = $();
      } else if (options.active === false) {
        this._activate(0);
      } else if (this.active.length && !$.contains(this.element[0], this.active[0])) {
        if (this.headers.length === this.headers.find(".ui-state-disabled").length) {
          options.active = false;
          this.active = $();
        } else {
          this._activate(Math.max(0, options.active - 1));
        }
      } else {
        options.active = this.headers.index(this.active);
      }
      this._destroyIcons();
      this._refresh();
    },
    _processPanels: function() {
      var prevHeaders = this.headers,
          prevPanels = this.panels;
      this.headers = this.element.find(this.options.header);
      this._addClass(this.headers, "ui-accordion-header ui-accordion-header-collapsed", "ui-state-default");
      this.panels = this.headers.next().filter(":not(.ui-accordion-content-active)").hide();
      this._addClass(this.panels, "ui-accordion-content", "ui-helper-reset ui-widget-content");
      if (prevPanels) {
        this._off(prevHeaders.not(this.headers));
        this._off(prevPanels.not(this.panels));
      }
    },
    _refresh: function() {
      var maxHeight,
          options = this.options,
          heightStyle = options.heightStyle,
          parent = this.element.parent();
      this.active = this._findActive(options.active);
      this._addClass(this.active, "ui-accordion-header-active", "ui-state-active")._removeClass(this.active, "ui-accordion-header-collapsed");
      this._addClass(this.active.next(), "ui-accordion-content-active");
      this.active.next().show();
      this.headers.attr("role", "tab").each(function() {
        var header = $(this),
            headerId = header.uniqueId().attr("id"),
            panel = header.next(),
            panelId = panel.uniqueId().attr("id");
        header.attr("aria-controls", panelId);
        panel.attr("aria-labelledby", headerId);
      }).next().attr("role", "tabpanel");
      this.headers.not(this.active).attr({
        "aria-selected": "false",
        "aria-expanded": "false",
        tabIndex: -1
      }).next().attr({"aria-hidden": "true"}).hide();
      if (!this.active.length) {
        this.headers.eq(0).attr("tabIndex", 0);
      } else {
        this.active.attr({
          "aria-selected": "true",
          "aria-expanded": "true",
          tabIndex: 0
        }).next().attr({"aria-hidden": "false"});
      }
      this._createIcons();
      this._setupEvents(options.event);
      if (heightStyle === "fill") {
        maxHeight = parent.height();
        this.element.siblings(":visible").each(function() {
          var elem = $(this),
              position = elem.css("position");
          if (position === "absolute" || position === "fixed") {
            return;
          }
          maxHeight -= elem.outerHeight(true);
        });
        this.headers.each(function() {
          maxHeight -= $(this).outerHeight(true);
        });
        this.headers.next().each(function() {
          $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()));
        }).css("overflow", "auto");
      } else if (heightStyle === "auto") {
        maxHeight = 0;
        this.headers.next().each(function() {
          var isVisible = $(this).is(":visible");
          if (!isVisible) {
            $(this).show();
          }
          maxHeight = Math.max(maxHeight, $(this).css("height", "").height());
          if (!isVisible) {
            $(this).hide();
          }
        }).height(maxHeight);
      }
    },
    _activate: function(index) {
      var active = this._findActive(index)[0];
      if (active === this.active[0]) {
        return;
      }
      active = active || this.active[0];
      this._eventHandler({
        target: active,
        currentTarget: active,
        preventDefault: $.noop
      });
    },
    _findActive: function(selector) {
      return typeof selector === "number" ? this.headers.eq(selector) : $();
    },
    _setupEvents: function(event) {
      var events = {keydown: "_keydown"};
      if (event) {
        $.each(event.split(" "), function(index, eventName) {
          events[eventName] = "_eventHandler";
        });
      }
      this._off(this.headers.add(this.headers.next()));
      this._on(this.headers, events);
      this._on(this.headers.next(), {keydown: "_panelKeyDown"});
      this._hoverable(this.headers);
      this._focusable(this.headers);
    },
    _eventHandler: function(event) {
      var activeChildren,
          clickedChildren,
          options = this.options,
          active = this.active,
          clicked = $(event.currentTarget),
          clickedIsActive = clicked[0] === active[0],
          collapsing = clickedIsActive && options.collapsible,
          toShow = collapsing ? $() : clicked.next(),
          toHide = active.next(),
          eventData = {
            oldHeader: active,
            oldPanel: toHide,
            newHeader: collapsing ? $() : clicked,
            newPanel: toShow
          };
      event.preventDefault();
      if ((clickedIsActive && !options.collapsible) || (this._trigger("beforeActivate", event, eventData) === false)) {
        return;
      }
      options.active = collapsing ? false : this.headers.index(clicked);
      this.active = clickedIsActive ? $() : clicked;
      this._toggle(eventData);
      this._removeClass(active, "ui-accordion-header-active", "ui-state-active");
      if (options.icons) {
        activeChildren = active.children(".ui-accordion-header-icon");
        this._removeClass(activeChildren, null, options.icons.activeHeader)._addClass(activeChildren, null, options.icons.header);
      }
      if (!clickedIsActive) {
        this._removeClass(clicked, "ui-accordion-header-collapsed")._addClass(clicked, "ui-accordion-header-active", "ui-state-active");
        if (options.icons) {
          clickedChildren = clicked.children(".ui-accordion-header-icon");
          this._removeClass(clickedChildren, null, options.icons.header)._addClass(clickedChildren, null, options.icons.activeHeader);
        }
        this._addClass(clicked.next(), "ui-accordion-content-active");
      }
    },
    _toggle: function(data) {
      var toShow = data.newPanel,
          toHide = this.prevShow.length ? this.prevShow : data.oldPanel;
      this.prevShow.add(this.prevHide).stop(true, true);
      this.prevShow = toShow;
      this.prevHide = toHide;
      if (this.options.animate) {
        this._animate(toShow, toHide, data);
      } else {
        toHide.hide();
        toShow.show();
        this._toggleComplete(data);
      }
      toHide.attr({"aria-hidden": "true"});
      toHide.prev().attr({
        "aria-selected": "false",
        "aria-expanded": "false"
      });
      if (toShow.length && toHide.length) {
        toHide.prev().attr({
          "tabIndex": -1,
          "aria-expanded": "false"
        });
      } else if (toShow.length) {
        this.headers.filter(function() {
          return parseInt($(this).attr("tabIndex"), 10) === 0;
        }).attr("tabIndex", -1);
      }
      toShow.attr("aria-hidden", "false").prev().attr({
        "aria-selected": "true",
        "aria-expanded": "true",
        tabIndex: 0
      });
    },
    _animate: function(toShow, toHide, data) {
      var total,
          easing,
          duration,
          that = this,
          adjust = 0,
          boxSizing = toShow.css("box-sizing"),
          down = toShow.length && (!toHide.length || (toShow.index() < toHide.index())),
          animate = this.options.animate || {},
          options = down && animate.down || animate,
          complete = function() {
            that._toggleComplete(data);
          };
      if (typeof options === "number") {
        duration = options;
      }
      if (typeof options === "string") {
        easing = options;
      }
      easing = easing || options.easing || animate.easing;
      duration = duration || options.duration || animate.duration;
      if (!toHide.length) {
        return toShow.animate(this.showProps, duration, easing, complete);
      }
      if (!toShow.length) {
        return toHide.animate(this.hideProps, duration, easing, complete);
      }
      total = toShow.show().outerHeight();
      toHide.animate(this.hideProps, {
        duration: duration,
        easing: easing,
        step: function(now, fx) {
          fx.now = Math.round(now);
        }
      });
      toShow.hide().animate(this.showProps, {
        duration: duration,
        easing: easing,
        complete: complete,
        step: function(now, fx) {
          fx.now = Math.round(now);
          if (fx.prop !== "height") {
            if (boxSizing === "content-box") {
              adjust += fx.now;
            }
          } else if (that.options.heightStyle !== "content") {
            fx.now = Math.round(total - toHide.outerHeight() - adjust);
            adjust = 0;
          }
        }
      });
    },
    _toggleComplete: function(data) {
      var toHide = data.oldPanel,
          prev = toHide.prev();
      this._removeClass(toHide, "ui-accordion-content-active");
      this._removeClass(prev, "ui-accordion-header-active")._addClass(prev, "ui-accordion-header-collapsed");
      if (toHide.length) {
        toHide.parent()[0].className = toHide.parent()[0].className;
      }
      this._trigger("activate", null, data);
    }
  });
  var safeActiveElement = $.ui.safeActiveElement = function(document) {
    var activeElement;
    try {
      activeElement = document.activeElement;
    } catch (error) {
      activeElement = document.body;
    }
    if (!activeElement) {
      activeElement = document.body;
    }
    if (!activeElement.nodeName) {
      activeElement = document.body;
    }
    return activeElement;
  };
  var widgetsMenu = $.widget("ui.menu", {
    version: "1.12.1",
    defaultElement: "<ul>",
    delay: 300,
    options: {
      icons: {submenu: "ui-icon-caret-1-e"},
      items: "> *",
      menus: "ul",
      position: {
        my: "left top",
        at: "right top"
      },
      role: "menu",
      blur: null,
      focus: null,
      select: null
    },
    _create: function() {
      this.activeMenu = this.element;
      this.mouseHandled = false;
      this.element.uniqueId().attr({
        role: this.options.role,
        tabIndex: 0
      });
      this._addClass("ui-menu", "ui-widget ui-widget-content");
      this._on({
        "mousedown .ui-menu-item": function(event) {
          event.preventDefault();
        },
        "click .ui-menu-item": function(event) {
          var target = $(event.target);
          var active = $($.ui.safeActiveElement(this.document[0]));
          if (!this.mouseHandled && target.not(".ui-state-disabled").length) {
            this.select(event);
            if (!event.isPropagationStopped()) {
              this.mouseHandled = true;
            }
            if (target.has(".ui-menu").length) {
              this.expand(event);
            } else if (!this.element.is(":focus") && active.closest(".ui-menu").length) {
              this.element.trigger("focus", [true]);
              if (this.active && this.active.parents(".ui-menu").length === 1) {
                clearTimeout(this.timer);
              }
            }
          }
        },
        "mouseenter .ui-menu-item": function(event) {
          if (this.previousFilter) {
            return;
          }
          var actualTarget = $(event.target).closest(".ui-menu-item"),
              target = $(event.currentTarget);
          if (actualTarget[0] !== target[0]) {
            return;
          }
          this._removeClass(target.siblings().children(".ui-state-active"), null, "ui-state-active");
          this.focus(event, target);
        },
        mouseleave: "collapseAll",
        "mouseleave .ui-menu": "collapseAll",
        focus: function(event, keepActiveItem) {
          var item = this.active || this.element.find(this.options.items).eq(0);
          if (!keepActiveItem) {
            this.focus(event, item);
          }
        },
        blur: function(event) {
          this._delay(function() {
            var notContained = !$.contains(this.element[0], $.ui.safeActiveElement(this.document[0]));
            if (notContained) {
              this.collapseAll(event);
            }
          });
        },
        keydown: "_keydown"
      });
      this.refresh();
      this._on(this.document, {click: function(event) {
          if (this._closeOnDocumentClick(event)) {
            this.collapseAll(event);
          }
          this.mouseHandled = false;
        }});
    },
    _destroy: function() {
      var items = this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),
          submenus = items.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");
      this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled " + "tabIndex").removeUniqueId().show();
      submenus.children().each(function() {
        var elem = $(this);
        if (elem.data("ui-menu-submenu-caret")) {
          elem.remove();
        }
      });
    },
    _keydown: function(event) {
      var match,
          prev,
          character,
          skip,
          preventDefault = true;
      switch (event.keyCode) {
        case $.ui.keyCode.PAGE_UP:
          this.previousPage(event);
          break;
        case $.ui.keyCode.PAGE_DOWN:
          this.nextPage(event);
          break;
        case $.ui.keyCode.HOME:
          this._move("first", "first", event);
          break;
        case $.ui.keyCode.END:
          this._move("last", "last", event);
          break;
        case $.ui.keyCode.UP:
          this.previous(event);
          break;
        case $.ui.keyCode.DOWN:
          this.next(event);
          break;
        case $.ui.keyCode.LEFT:
          this.collapse(event);
          break;
        case $.ui.keyCode.RIGHT:
          if (this.active && !this.active.is(".ui-state-disabled")) {
            this.expand(event);
          }
          break;
        case $.ui.keyCode.ENTER:
        case $.ui.keyCode.SPACE:
          this._activate(event);
          break;
        case $.ui.keyCode.ESCAPE:
          this.collapse(event);
          break;
        default:
          preventDefault = false;
          prev = this.previousFilter || "";
          skip = false;
          character = event.keyCode >= 96 && event.keyCode <= 105 ? (event.keyCode - 96).toString() : String.fromCharCode(event.keyCode);
          clearTimeout(this.filterTimer);
          if (character === prev) {
            skip = true;
          } else {
            character = prev + character;
          }
          match = this._filterMenuItems(character);
          match = skip && match.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : match;
          if (!match.length) {
            character = String.fromCharCode(event.keyCode);
            match = this._filterMenuItems(character);
          }
          if (match.length) {
            this.focus(event, match);
            this.previousFilter = character;
            this.filterTimer = this._delay(function() {
              delete this.previousFilter;
            }, 1000);
          } else {
            delete this.previousFilter;
          }
      }
      if (preventDefault) {
        event.preventDefault();
      }
    },
    _activate: function(event) {
      if (this.active && !this.active.is(".ui-state-disabled")) {
        if (this.active.children("[aria-haspopup='true']").length) {
          this.expand(event);
        } else {
          this.select(event);
        }
      }
    },
    refresh: function() {
      var menus,
          items,
          newSubmenus,
          newItems,
          newWrappers,
          that = this,
          icon = this.options.icons.submenu,
          submenus = this.element.find(this.options.menus);
      this._toggleClass("ui-menu-icons", null, !!this.element.find(".ui-icon").length);
      newSubmenus = submenus.filter(":not(.ui-menu)").hide().attr({
        role: this.options.role,
        "aria-hidden": "true",
        "aria-expanded": "false"
      }).each(function() {
        var menu = $(this),
            item = menu.prev(),
            submenuCaret = $("<span>").data("ui-menu-submenu-caret", true);
        that._addClass(submenuCaret, "ui-menu-icon", "ui-icon " + icon);
        item.attr("aria-haspopup", "true").prepend(submenuCaret);
        menu.attr("aria-labelledby", item.attr("id"));
      });
      this._addClass(newSubmenus, "ui-menu", "ui-widget ui-widget-content ui-front");
      menus = submenus.add(this.element);
      items = menus.find(this.options.items);
      items.not(".ui-menu-item").each(function() {
        var item = $(this);
        if (that._isDivider(item)) {
          that._addClass(item, "ui-menu-divider", "ui-widget-content");
        }
      });
      newItems = items.not(".ui-menu-item, .ui-menu-divider");
      newWrappers = newItems.children().not(".ui-menu").uniqueId().attr({
        tabIndex: -1,
        role: this._itemRole()
      });
      this._addClass(newItems, "ui-menu-item")._addClass(newWrappers, "ui-menu-item-wrapper");
      items.filter(".ui-state-disabled").attr("aria-disabled", "true");
      if (this.active && !$.contains(this.element[0], this.active[0])) {
        this.blur();
      }
    },
    _itemRole: function() {
      return {
        menu: "menuitem",
        listbox: "option"
      }[this.options.role];
    },
    _setOption: function(key, value) {
      if (key === "icons") {
        var icons = this.element.find(".ui-menu-icon");
        this._removeClass(icons, null, this.options.icons.submenu)._addClass(icons, null, value.submenu);
      }
      this._super(key, value);
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this.element.attr("aria-disabled", String(value));
      this._toggleClass(null, "ui-state-disabled", !!value);
    },
    focus: function(event, item) {
      var nested,
          focused,
          activeParent;
      this.blur(event, event && event.type === "focus");
      this._scrollIntoView(item);
      this.active = item.first();
      focused = this.active.children(".ui-menu-item-wrapper");
      this._addClass(focused, null, "ui-state-active");
      if (this.options.role) {
        this.element.attr("aria-activedescendant", focused.attr("id"));
      }
      activeParent = this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");
      this._addClass(activeParent, null, "ui-state-active");
      if (event && event.type === "keydown") {
        this._close();
      } else {
        this.timer = this._delay(function() {
          this._close();
        }, this.delay);
      }
      nested = item.children(".ui-menu");
      if (nested.length && event && (/^mouse/.test(event.type))) {
        this._startOpening(nested);
      }
      this.activeMenu = item.parent();
      this._trigger("focus", event, {item: item});
    },
    _scrollIntoView: function(item) {
      var borderTop,
          paddingTop,
          offset,
          scroll,
          elementHeight,
          itemHeight;
      if (this._hasScroll()) {
        borderTop = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0;
        paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0;
        offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
        scroll = this.activeMenu.scrollTop();
        elementHeight = this.activeMenu.height();
        itemHeight = item.outerHeight();
        if (offset < 0) {
          this.activeMenu.scrollTop(scroll + offset);
        } else if (offset + itemHeight > elementHeight) {
          this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight);
        }
      }
    },
    blur: function(event, fromFocus) {
      if (!fromFocus) {
        clearTimeout(this.timer);
      }
      if (!this.active) {
        return;
      }
      this._removeClass(this.active.children(".ui-menu-item-wrapper"), null, "ui-state-active");
      this._trigger("blur", event, {item: this.active});
      this.active = null;
    },
    _startOpening: function(submenu) {
      clearTimeout(this.timer);
      if (submenu.attr("aria-hidden") !== "true") {
        return;
      }
      this.timer = this._delay(function() {
        this._close();
        this._open(submenu);
      }, this.delay);
    },
    _open: function(submenu) {
      var position = $.extend({of: this.active}, this.options.position);
      clearTimeout(this.timer);
      this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden", "true");
      submenu.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(position);
    },
    collapseAll: function(event, all) {
      clearTimeout(this.timer);
      this.timer = this._delay(function() {
        var currentMenu = all ? this.element : $(event && event.target).closest(this.element.find(".ui-menu"));
        if (!currentMenu.length) {
          currentMenu = this.element;
        }
        this._close(currentMenu);
        this.blur(event);
        this._removeClass(currentMenu.find(".ui-state-active"), null, "ui-state-active");
        this.activeMenu = currentMenu;
      }, this.delay);
    },
    _close: function(startMenu) {
      if (!startMenu) {
        startMenu = this.active ? this.active.parent() : this.element;
      }
      startMenu.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false");
    },
    _closeOnDocumentClick: function(event) {
      return !$(event.target).closest(".ui-menu").length;
    },
    _isDivider: function(item) {
      return !/[^\-\u2014\u2013\s]/.test(item.text());
    },
    collapse: function(event) {
      var newItem = this.active && this.active.parent().closest(".ui-menu-item", this.element);
      if (newItem && newItem.length) {
        this._close();
        this.focus(event, newItem);
      }
    },
    expand: function(event) {
      var newItem = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
      if (newItem && newItem.length) {
        this._open(newItem.parent());
        this._delay(function() {
          this.focus(event, newItem);
        });
      }
    },
    next: function(event) {
      this._move("next", "first", event);
    },
    previous: function(event) {
      this._move("prev", "last", event);
    },
    isFirstItem: function() {
      return this.active && !this.active.prevAll(".ui-menu-item").length;
    },
    isLastItem: function() {
      return this.active && !this.active.nextAll(".ui-menu-item").length;
    },
    _move: function(direction, filter, event) {
      var next;
      if (this.active) {
        if (direction === "first" || direction === "last") {
          next = this.active[direction === "first" ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1);
        } else {
          next = this.active[direction + "All"](".ui-menu-item").eq(0);
        }
      }
      if (!next || !next.length || !this.active) {
        next = this.activeMenu.find(this.options.items)[filter]();
      }
      this.focus(event, next);
    },
    nextPage: function(event) {
      var item,
          base,
          height;
      if (!this.active) {
        this.next(event);
        return;
      }
      if (this.isLastItem()) {
        return;
      }
      if (this._hasScroll()) {
        base = this.active.offset().top;
        height = this.element.height();
        this.active.nextAll(".ui-menu-item").each(function() {
          item = $(this);
          return item.offset().top - base - height < 0;
        });
        this.focus(event, item);
      } else {
        this.focus(event, this.activeMenu.find(this.options.items)[!this.active ? "first" : "last"]());
      }
    },
    previousPage: function(event) {
      var item,
          base,
          height;
      if (!this.active) {
        this.next(event);
        return;
      }
      if (this.isFirstItem()) {
        return;
      }
      if (this._hasScroll()) {
        base = this.active.offset().top;
        height = this.element.height();
        this.active.prevAll(".ui-menu-item").each(function() {
          item = $(this);
          return item.offset().top - base + height > 0;
        });
        this.focus(event, item);
      } else {
        this.focus(event, this.activeMenu.find(this.options.items).first());
      }
    },
    _hasScroll: function() {
      return this.element.outerHeight() < this.element.prop("scrollHeight");
    },
    select: function(event) {
      this.active = this.active || $(event.target).closest(".ui-menu-item");
      var ui = {item: this.active};
      if (!this.active.has(".ui-menu").length) {
        this.collapseAll(event, true);
      }
      this._trigger("select", event, ui);
    },
    _filterMenuItems: function(character) {
      var escapedCharacter = character.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&"),
          regex = new RegExp("^" + escapedCharacter, "i");
      return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
        return regex.test($.trim($(this).children(".ui-menu-item-wrapper").text()));
      });
    }
  });
  $.widget("ui.autocomplete", {
    version: "1.12.1",
    defaultElement: "<input>",
    options: {
      appendTo: null,
      autoFocus: false,
      delay: 300,
      minLength: 1,
      position: {
        my: "left top",
        at: "left bottom",
        collision: "none"
      },
      source: null,
      change: null,
      close: null,
      focus: null,
      open: null,
      response: null,
      search: null,
      select: null
    },
    requestIndex: 0,
    pending: 0,
    _create: function() {
      var suppressKeyPress,
          suppressKeyPressRepeat,
          suppressInput,
          nodeName = this.element[0].nodeName.toLowerCase(),
          isTextarea = nodeName === "textarea",
          isInput = nodeName === "input";
      this.isMultiLine = isTextarea || !isInput && this._isContentEditable(this.element);
      this.valueMethod = this.element[isTextarea || isInput ? "val" : "text"];
      this.isNewMenu = true;
      this._addClass("ui-autocomplete-input");
      this.element.attr("autocomplete", "off");
      this._on(this.element, {
        keydown: function(event) {
          if (this.element.prop("readOnly")) {
            suppressKeyPress = true;
            suppressInput = true;
            suppressKeyPressRepeat = true;
            return;
          }
          suppressKeyPress = false;
          suppressInput = false;
          suppressKeyPressRepeat = false;
          var keyCode = $.ui.keyCode;
          switch (event.keyCode) {
            case keyCode.PAGE_UP:
              suppressKeyPress = true;
              this._move("previousPage", event);
              break;
            case keyCode.PAGE_DOWN:
              suppressKeyPress = true;
              this._move("nextPage", event);
              break;
            case keyCode.UP:
              suppressKeyPress = true;
              this._keyEvent("previous", event);
              break;
            case keyCode.DOWN:
              suppressKeyPress = true;
              this._keyEvent("next", event);
              break;
            case keyCode.ENTER:
              if (this.menu.active) {
                suppressKeyPress = true;
                event.preventDefault();
                this.menu.select(event);
              }
              break;
            case keyCode.TAB:
              if (this.menu.active) {
                this.menu.select(event);
              }
              break;
            case keyCode.ESCAPE:
              if (this.menu.element.is(":visible")) {
                if (!this.isMultiLine) {
                  this._value(this.term);
                }
                this.close(event);
                event.preventDefault();
              }
              break;
            default:
              suppressKeyPressRepeat = true;
              this._searchTimeout(event);
              break;
          }
        },
        keypress: function(event) {
          if (suppressKeyPress) {
            suppressKeyPress = false;
            if (!this.isMultiLine || this.menu.element.is(":visible")) {
              event.preventDefault();
            }
            return;
          }
          if (suppressKeyPressRepeat) {
            return;
          }
          var keyCode = $.ui.keyCode;
          switch (event.keyCode) {
            case keyCode.PAGE_UP:
              this._move("previousPage", event);
              break;
            case keyCode.PAGE_DOWN:
              this._move("nextPage", event);
              break;
            case keyCode.UP:
              this._keyEvent("previous", event);
              break;
            case keyCode.DOWN:
              this._keyEvent("next", event);
              break;
          }
        },
        input: function(event) {
          if (suppressInput) {
            suppressInput = false;
            event.preventDefault();
            return;
          }
          this._searchTimeout(event);
        },
        focus: function() {
          this.selectedItem = null;
          this.previous = this._value();
        },
        blur: function(event) {
          if (this.cancelBlur) {
            delete this.cancelBlur;
            return;
          }
          clearTimeout(this.searching);
          this.close(event);
          this._change(event);
        }
      });
      this._initSource();
      this.menu = $("<ul>").appendTo(this._appendTo()).menu({role: null}).hide().menu("instance");
      this._addClass(this.menu.element, "ui-autocomplete", "ui-front");
      this._on(this.menu.element, {
        mousedown: function(event) {
          event.preventDefault();
          this.cancelBlur = true;
          this._delay(function() {
            delete this.cancelBlur;
            if (this.element[0] !== $.ui.safeActiveElement(this.document[0])) {
              this.element.trigger("focus");
            }
          });
        },
        menufocus: function(event, ui) {
          var label,
              item;
          if (this.isNewMenu) {
            this.isNewMenu = false;
            if (event.originalEvent && /^mouse/.test(event.originalEvent.type)) {
              this.menu.blur();
              this.document.one("mousemove", function() {
                $(event.target).trigger(event.originalEvent);
              });
              return;
            }
          }
          item = ui.item.data("ui-autocomplete-item");
          if (false !== this._trigger("focus", event, {item: item})) {
            if (event.originalEvent && /^key/.test(event.originalEvent.type)) {
              this._value(item.value);
            }
          }
          label = ui.item.attr("aria-label") || item.value;
          if (label && $.trim(label).length) {
            this.liveRegion.children().hide();
            $("<div>").text(label).appendTo(this.liveRegion);
          }
        },
        menuselect: function(event, ui) {
          var item = ui.item.data("ui-autocomplete-item"),
              previous = this.previous;
          if (this.element[0] !== $.ui.safeActiveElement(this.document[0])) {
            this.element.trigger("focus");
            this.previous = previous;
            this._delay(function() {
              this.previous = previous;
              this.selectedItem = item;
            });
          }
          if (false !== this._trigger("select", event, {item: item})) {
            this._value(item.value);
          }
          this.term = this._value();
          this.close(event);
          this.selectedItem = item;
        }
      });
      this.liveRegion = $("<div>", {
        role: "status",
        "aria-live": "assertive",
        "aria-relevant": "additions"
      }).appendTo(this.document[0].body);
      this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible");
      this._on(this.window, {beforeunload: function() {
          this.element.removeAttr("autocomplete");
        }});
    },
    _destroy: function() {
      clearTimeout(this.searching);
      this.element.removeAttr("autocomplete");
      this.menu.element.remove();
      this.liveRegion.remove();
    },
    _setOption: function(key, value) {
      this._super(key, value);
      if (key === "source") {
        this._initSource();
      }
      if (key === "appendTo") {
        this.menu.element.appendTo(this._appendTo());
      }
      if (key === "disabled" && value && this.xhr) {
        this.xhr.abort();
      }
    },
    _isEventTargetInWidget: function(event) {
      var menuElement = this.menu.element[0];
      return event.target === this.element[0] || event.target === menuElement || $.contains(menuElement, event.target);
    },
    _closeOnClickOutside: function(event) {
      if (!this._isEventTargetInWidget(event)) {
        this.close();
      }
    },
    _appendTo: function() {
      var element = this.options.appendTo;
      if (element) {
        element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0);
      }
      if (!element || !element[0]) {
        element = this.element.closest(".ui-front, dialog");
      }
      if (!element.length) {
        element = this.document[0].body;
      }
      return element;
    },
    _initSource: function() {
      var array,
          url,
          that = this;
      if ($.isArray(this.options.source)) {
        array = this.options.source;
        this.source = function(request, response) {
          response($.ui.autocomplete.filter(array, request.term));
        };
      } else if (typeof this.options.source === "string") {
        url = this.options.source;
        this.source = function(request, response) {
          if (that.xhr) {
            that.xhr.abort();
          }
          that.xhr = $.ajax({
            url: url,
            data: request,
            dataType: "json",
            success: function(data) {
              response(data);
            },
            error: function() {
              response([]);
            }
          });
        };
      } else {
        this.source = this.options.source;
      }
    },
    _searchTimeout: function(event) {
      clearTimeout(this.searching);
      this.searching = this._delay(function() {
        var equalValues = this.term === this._value(),
            menuVisible = this.menu.element.is(":visible"),
            modifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;
        if (!equalValues || (equalValues && !menuVisible && !modifierKey)) {
          this.selectedItem = null;
          this.search(null, event);
        }
      }, this.options.delay);
    },
    search: function(value, event) {
      value = value != null ? value : this._value();
      this.term = this._value();
      if (value.length < this.options.minLength) {
        return this.close(event);
      }
      if (this._trigger("search", event) === false) {
        return;
      }
      return this._search(value);
    },
    _search: function(value) {
      this.pending++;
      this._addClass("ui-autocomplete-loading");
      this.cancelSearch = false;
      this.source({term: value}, this._response());
    },
    _response: function() {
      var index = ++this.requestIndex;
      return $.proxy(function(content) {
        if (index === this.requestIndex) {
          this.__response(content);
        }
        this.pending--;
        if (!this.pending) {
          this._removeClass("ui-autocomplete-loading");
        }
      }, this);
    },
    __response: function(content) {
      if (content) {
        content = this._normalize(content);
      }
      this._trigger("response", null, {content: content});
      if (!this.options.disabled && content && content.length && !this.cancelSearch) {
        this._suggest(content);
        this._trigger("open");
      } else {
        this._close();
      }
    },
    close: function(event) {
      this.cancelSearch = true;
      this._close(event);
    },
    _close: function(event) {
      this._off(this.document, "mousedown");
      if (this.menu.element.is(":visible")) {
        this.menu.element.hide();
        this.menu.blur();
        this.isNewMenu = true;
        this._trigger("close", event);
      }
    },
    _change: function(event) {
      if (this.previous !== this._value()) {
        this._trigger("change", event, {item: this.selectedItem});
      }
    },
    _normalize: function(items) {
      if (items.length && items[0].label && items[0].value) {
        return items;
      }
      return $.map(items, function(item) {
        if (typeof item === "string") {
          return {
            label: item,
            value: item
          };
        }
        return $.extend({}, item, {
          label: item.label || item.value,
          value: item.value || item.label
        });
      });
    },
    _suggest: function(items) {
      var ul = this.menu.element.empty();
      this._renderMenu(ul, items);
      this.isNewMenu = true;
      this.menu.refresh();
      ul.show();
      this._resizeMenu();
      ul.position($.extend({of: this.element}, this.options.position));
      if (this.options.autoFocus) {
        this.menu.next();
      }
      this._on(this.document, {mousedown: "_closeOnClickOutside"});
    },
    _resizeMenu: function() {
      var ul = this.menu.element;
      ul.outerWidth(Math.max(ul.width("").outerWidth() + 1, this.element.outerWidth()));
    },
    _renderMenu: function(ul, items) {
      var that = this;
      $.each(items, function(index, item) {
        that._renderItemData(ul, item);
      });
    },
    _renderItemData: function(ul, item) {
      return this._renderItem(ul, item).data("ui-autocomplete-item", item);
    },
    _renderItem: function(ul, item) {
      return $("<li>").append($("<div>").text(item.label)).appendTo(ul);
    },
    _move: function(direction, event) {
      if (!this.menu.element.is(":visible")) {
        this.search(null, event);
        return;
      }
      if (this.menu.isFirstItem() && /^previous/.test(direction) || this.menu.isLastItem() && /^next/.test(direction)) {
        if (!this.isMultiLine) {
          this._value(this.term);
        }
        this.menu.blur();
        return;
      }
      this.menu[direction](event);
    },
    widget: function() {
      return this.menu.element;
    },
    _value: function() {
      return this.valueMethod.apply(this.element, arguments);
    },
    _keyEvent: function(keyEvent, event) {
      if (!this.isMultiLine || this.menu.element.is(":visible")) {
        this._move(keyEvent, event);
        event.preventDefault();
      }
    },
    _isContentEditable: function(element) {
      if (!element.length) {
        return false;
      }
      var editable = element.prop("contentEditable");
      if (editable === "inherit") {
        return this._isContentEditable(element.parent());
      }
      return editable === "true";
    }
  });
  $.extend($.ui.autocomplete, {
    escapeRegex: function(value) {
      return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
    },
    filter: function(array, term) {
      var matcher = new RegExp($.ui.autocomplete.escapeRegex(term), "i");
      return $.grep(array, function(value) {
        return matcher.test(value.label || value.value || value);
      });
    }
  });
  $.widget("ui.autocomplete", $.ui.autocomplete, {
    options: {messages: {
        noResults: "No search results.",
        results: function(amount) {
          return amount + (amount > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate.";
        }
      }},
    __response: function(content) {
      var message;
      this._superApply(arguments);
      if (this.options.disabled || this.cancelSearch) {
        return;
      }
      if (content && content.length) {
        message = this.options.messages.results(content.length);
      } else {
        message = this.options.messages.noResults;
      }
      this.liveRegion.children().hide();
      $("<div>").text(message).appendTo(this.liveRegion);
    }
  });
  var widgetsAutocomplete = $.ui.autocomplete;
  var controlgroupCornerRegex = /ui-corner-([a-z]){2,6}/g;
  var widgetsControlgroup = $.widget("ui.controlgroup", {
    version: "1.12.1",
    defaultElement: "<div>",
    options: {
      direction: "horizontal",
      disabled: null,
      onlyVisible: true,
      items: {
        "button": "input[type=button], input[type=submit], input[type=reset], button, a",
        "controlgroupLabel": ".ui-controlgroup-label",
        "checkboxradio": "input[type='checkbox'], input[type='radio']",
        "selectmenu": "select",
        "spinner": ".ui-spinner-input"
      }
    },
    _create: function() {
      this._enhance();
    },
    _enhance: function() {
      this.element.attr("role", "toolbar");
      this.refresh();
    },
    _destroy: function() {
      this._callChildMethod("destroy");
      this.childWidgets.removeData("ui-controlgroup-data");
      this.element.removeAttr("role");
      if (this.options.items.controlgroupLabel) {
        this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap();
      }
    },
    _initWidgets: function() {
      var that = this,
          childWidgets = [];
      $.each(this.options.items, function(widget, selector) {
        var labels;
        var options = {};
        if (!selector) {
          return;
        }
        if (widget === "controlgroupLabel") {
          labels = that.element.find(selector);
          labels.each(function() {
            var element = $(this);
            if (element.children(".ui-controlgroup-label-contents").length) {
              return;
            }
            element.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>");
          });
          that._addClass(labels, null, "ui-widget ui-widget-content ui-state-default");
          childWidgets = childWidgets.concat(labels.get());
          return;
        }
        if (!$.fn[widget]) {
          return;
        }
        if (that["_" + widget + "Options"]) {
          options = that["_" + widget + "Options"]("middle");
        } else {
          options = {classes: {}};
        }
        that.element.find(selector).each(function() {
          var element = $(this);
          var instance = element[widget]("instance");
          var instanceOptions = $.widget.extend({}, options);
          if (widget === "button" && element.parent(".ui-spinner").length) {
            return;
          }
          if (!instance) {
            instance = element[widget]()[widget]("instance");
          }
          if (instance) {
            instanceOptions.classes = that._resolveClassesValues(instanceOptions.classes, instance);
          }
          element[widget](instanceOptions);
          var widgetElement = element[widget]("widget");
          $.data(widgetElement[0], "ui-controlgroup-data", instance ? instance : element[widget]("instance"));
          childWidgets.push(widgetElement[0]);
        });
      });
      this.childWidgets = $($.unique(childWidgets));
      this._addClass(this.childWidgets, "ui-controlgroup-item");
    },
    _callChildMethod: function(method) {
      this.childWidgets.each(function() {
        var element = $(this),
            data = element.data("ui-controlgroup-data");
        if (data && data[method]) {
          data[method]();
        }
      });
    },
    _updateCornerClass: function(element, position) {
      var remove = "ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all";
      var add = this._buildSimpleOptions(position, "label").classes.label;
      this._removeClass(element, null, remove);
      this._addClass(element, null, add);
    },
    _buildSimpleOptions: function(position, key) {
      var direction = this.options.direction === "vertical";
      var result = {classes: {}};
      result.classes[key] = {
        "middle": "",
        "first": "ui-corner-" + (direction ? "top" : "left"),
        "last": "ui-corner-" + (direction ? "bottom" : "right"),
        "only": "ui-corner-all"
      }[position];
      return result;
    },
    _spinnerOptions: function(position) {
      var options = this._buildSimpleOptions(position, "ui-spinner");
      options.classes["ui-spinner-up"] = "";
      options.classes["ui-spinner-down"] = "";
      return options;
    },
    _buttonOptions: function(position) {
      return this._buildSimpleOptions(position, "ui-button");
    },
    _checkboxradioOptions: function(position) {
      return this._buildSimpleOptions(position, "ui-checkboxradio-label");
    },
    _selectmenuOptions: function(position) {
      var direction = this.options.direction === "vertical";
      return {
        width: direction ? "auto" : false,
        classes: {
          middle: {
            "ui-selectmenu-button-open": "",
            "ui-selectmenu-button-closed": ""
          },
          first: {
            "ui-selectmenu-button-open": "ui-corner-" + (direction ? "top" : "tl"),
            "ui-selectmenu-button-closed": "ui-corner-" + (direction ? "top" : "left")
          },
          last: {
            "ui-selectmenu-button-open": direction ? "" : "ui-corner-tr",
            "ui-selectmenu-button-closed": "ui-corner-" + (direction ? "bottom" : "right")
          },
          only: {
            "ui-selectmenu-button-open": "ui-corner-top",
            "ui-selectmenu-button-closed": "ui-corner-all"
          }
        }[position]
      };
    },
    _resolveClassesValues: function(classes, instance) {
      var result = {};
      $.each(classes, function(key) {
        var current = instance.options.classes[key] || "";
        current = $.trim(current.replace(controlgroupCornerRegex, ""));
        result[key] = (current + " " + classes[key]).replace(/\s+/g, " ");
      });
      return result;
    },
    _setOption: function(key, value) {
      if (key === "direction") {
        this._removeClass("ui-controlgroup-" + this.options.direction);
      }
      this._super(key, value);
      if (key === "disabled") {
        this._callChildMethod(value ? "disable" : "enable");
        return;
      }
      this.refresh();
    },
    refresh: function() {
      var children,
          that = this;
      this._addClass("ui-controlgroup ui-controlgroup-" + this.options.direction);
      if (this.options.direction === "horizontal") {
        this._addClass(null, "ui-helper-clearfix");
      }
      this._initWidgets();
      children = this.childWidgets;
      if (this.options.onlyVisible) {
        children = children.filter(":visible");
      }
      if (children.length) {
        $.each(["first", "last"], function(index, value) {
          var instance = children[value]().data("ui-controlgroup-data");
          if (instance && that["_" + instance.widgetName + "Options"]) {
            var options = that["_" + instance.widgetName + "Options"](children.length === 1 ? "only" : value);
            options.classes = that._resolveClassesValues(options.classes, instance);
            instance.element[instance.widgetName](options);
          } else {
            that._updateCornerClass(children[value](), value);
          }
        });
        this._callChildMethod("refresh");
      }
    }
  });
  $.widget("ui.checkboxradio", [$.ui.formResetMixin, {
    version: "1.12.1",
    options: {
      disabled: null,
      label: null,
      icon: true,
      classes: {
        "ui-checkboxradio-label": "ui-corner-all",
        "ui-checkboxradio-icon": "ui-corner-all"
      }
    },
    _getCreateOptions: function() {
      var disabled,
          labels;
      var that = this;
      var options = this._super() || {};
      this._readType();
      labels = this.element.labels();
      this.label = $(labels[labels.length - 1]);
      if (!this.label.length) {
        $.error("No label found for checkboxradio widget");
      }
      this.originalLabel = "";
      this.label.contents().not(this.element[0]).each(function() {
        that.originalLabel += this.nodeType === 3 ? $(this).text() : this.outerHTML;
      });
      if (this.originalLabel) {
        options.label = this.originalLabel;
      }
      disabled = this.element[0].disabled;
      if (disabled != null) {
        options.disabled = disabled;
      }
      return options;
    },
    _create: function() {
      var checked = this.element[0].checked;
      this._bindFormResetHandler();
      if (this.options.disabled == null) {
        this.options.disabled = this.element[0].disabled;
      }
      this._setOption("disabled", this.options.disabled);
      this._addClass("ui-checkboxradio", "ui-helper-hidden-accessible");
      this._addClass(this.label, "ui-checkboxradio-label", "ui-button ui-widget");
      if (this.type === "radio") {
        this._addClass(this.label, "ui-checkboxradio-radio-label");
      }
      if (this.options.label && this.options.label !== this.originalLabel) {
        this._updateLabel();
      } else if (this.originalLabel) {
        this.options.label = this.originalLabel;
      }
      this._enhance();
      if (checked) {
        this._addClass(this.label, "ui-checkboxradio-checked", "ui-state-active");
        if (this.icon) {
          this._addClass(this.icon, null, "ui-state-hover");
        }
      }
      this._on({
        change: "_toggleClasses",
        focus: function() {
          this._addClass(this.label, null, "ui-state-focus ui-visual-focus");
        },
        blur: function() {
          this._removeClass(this.label, null, "ui-state-focus ui-visual-focus");
        }
      });
    },
    _readType: function() {
      var nodeName = this.element[0].nodeName.toLowerCase();
      this.type = this.element[0].type;
      if (nodeName !== "input" || !/radio|checkbox/.test(this.type)) {
        $.error("Can't create checkboxradio on element.nodeName=" + nodeName + " and element.type=" + this.type);
      }
    },
    _enhance: function() {
      this._updateIcon(this.element[0].checked);
    },
    widget: function() {
      return this.label;
    },
    _getRadioGroup: function() {
      var group;
      var name = this.element[0].name;
      var nameSelector = "input[name='" + $.ui.escapeSelector(name) + "']";
      if (!name) {
        return $([]);
      }
      if (this.form.length) {
        group = $(this.form[0].elements).filter(nameSelector);
      } else {
        group = $(nameSelector).filter(function() {
          return $(this).form().length === 0;
        });
      }
      return group.not(this.element);
    },
    _toggleClasses: function() {
      var checked = this.element[0].checked;
      this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", checked);
      if (this.options.icon && this.type === "checkbox") {
        this._toggleClass(this.icon, null, "ui-icon-check ui-state-checked", checked)._toggleClass(this.icon, null, "ui-icon-blank", !checked);
      }
      if (this.type === "radio") {
        this._getRadioGroup().each(function() {
          var instance = $(this).checkboxradio("instance");
          if (instance) {
            instance._removeClass(instance.label, "ui-checkboxradio-checked", "ui-state-active");
          }
        });
      }
    },
    _destroy: function() {
      this._unbindFormResetHandler();
      if (this.icon) {
        this.icon.remove();
        this.iconSpace.remove();
      }
    },
    _setOption: function(key, value) {
      if (key === "label" && !value) {
        return;
      }
      this._super(key, value);
      if (key === "disabled") {
        this._toggleClass(this.label, null, "ui-state-disabled", value);
        this.element[0].disabled = value;
        return;
      }
      this.refresh();
    },
    _updateIcon: function(checked) {
      var toAdd = "ui-icon ui-icon-background ";
      if (this.options.icon) {
        if (!this.icon) {
          this.icon = $("<span>");
          this.iconSpace = $("<span> </span>");
          this._addClass(this.iconSpace, "ui-checkboxradio-icon-space");
        }
        if (this.type === "checkbox") {
          toAdd += checked ? "ui-icon-check ui-state-checked" : "ui-icon-blank";
          this._removeClass(this.icon, null, checked ? "ui-icon-blank" : "ui-icon-check");
        } else {
          toAdd += "ui-icon-blank";
        }
        this._addClass(this.icon, "ui-checkboxradio-icon", toAdd);
        if (!checked) {
          this._removeClass(this.icon, null, "ui-icon-check ui-state-checked");
        }
        this.icon.prependTo(this.label).after(this.iconSpace);
      } else if (this.icon !== undefined) {
        this.icon.remove();
        this.iconSpace.remove();
        delete this.icon;
      }
    },
    _updateLabel: function() {
      var contents = this.label.contents().not(this.element[0]);
      if (this.icon) {
        contents = contents.not(this.icon[0]);
      }
      if (this.iconSpace) {
        contents = contents.not(this.iconSpace[0]);
      }
      contents.remove();
      this.label.append(this.options.label);
    },
    refresh: function() {
      var checked = this.element[0].checked,
          isDisabled = this.element[0].disabled;
      this._updateIcon(checked);
      this._toggleClass(this.label, "ui-checkboxradio-checked", "ui-state-active", checked);
      if (this.options.label !== null) {
        this._updateLabel();
      }
      if (isDisabled !== this.options.disabled) {
        this._setOptions({"disabled": isDisabled});
      }
    }
  }]);
  var widgetsCheckboxradio = $.ui.checkboxradio;
  $.widget("ui.button", {
    version: "1.12.1",
    defaultElement: "<button>",
    options: {
      classes: {"ui-button": "ui-corner-all"},
      disabled: null,
      icon: null,
      iconPosition: "beginning",
      label: null,
      showLabel: true
    },
    _getCreateOptions: function() {
      var disabled,
          options = this._super() || {};
      this.isInput = this.element.is("input");
      disabled = this.element[0].disabled;
      if (disabled != null) {
        options.disabled = disabled;
      }
      this.originalLabel = this.isInput ? this.element.val() : this.element.html();
      if (this.originalLabel) {
        options.label = this.originalLabel;
      }
      return options;
    },
    _create: function() {
      if (!this.option.showLabel & !this.options.icon) {
        this.options.showLabel = true;
      }
      if (this.options.disabled == null) {
        this.options.disabled = this.element[0].disabled || false;
      }
      this.hasTitle = !!this.element.attr("title");
      if (this.options.label && this.options.label !== this.originalLabel) {
        if (this.isInput) {
          this.element.val(this.options.label);
        } else {
          this.element.html(this.options.label);
        }
      }
      this._addClass("ui-button", "ui-widget");
      this._setOption("disabled", this.options.disabled);
      this._enhance();
      if (this.element.is("a")) {
        this._on({"keyup": function(event) {
            if (event.keyCode === $.ui.keyCode.SPACE) {
              event.preventDefault();
              if (this.element[0].click) {
                this.element[0].click();
              } else {
                this.element.trigger("click");
              }
            }
          }});
      }
    },
    _enhance: function() {
      if (!this.element.is("button")) {
        this.element.attr("role", "button");
      }
      if (this.options.icon) {
        this._updateIcon("icon", this.options.icon);
        this._updateTooltip();
      }
    },
    _updateTooltip: function() {
      this.title = this.element.attr("title");
      if (!this.options.showLabel && !this.title) {
        this.element.attr("title", this.options.label);
      }
    },
    _updateIcon: function(option, value) {
      var icon = option !== "iconPosition",
          position = icon ? this.options.iconPosition : value,
          displayBlock = position === "top" || position === "bottom";
      if (!this.icon) {
        this.icon = $("<span>");
        this._addClass(this.icon, "ui-button-icon", "ui-icon");
        if (!this.options.showLabel) {
          this._addClass("ui-button-icon-only");
        }
      } else if (icon) {
        this._removeClass(this.icon, null, this.options.icon);
      }
      if (icon) {
        this._addClass(this.icon, null, value);
      }
      this._attachIcon(position);
      if (displayBlock) {
        this._addClass(this.icon, null, "ui-widget-icon-block");
        if (this.iconSpace) {
          this.iconSpace.remove();
        }
      } else {
        if (!this.iconSpace) {
          this.iconSpace = $("<span> </span>");
          this._addClass(this.iconSpace, "ui-button-icon-space");
        }
        this._removeClass(this.icon, null, "ui-wiget-icon-block");
        this._attachIconSpace(position);
      }
    },
    _destroy: function() {
      this.element.removeAttr("role");
      if (this.icon) {
        this.icon.remove();
      }
      if (this.iconSpace) {
        this.iconSpace.remove();
      }
      if (!this.hasTitle) {
        this.element.removeAttr("title");
      }
    },
    _attachIconSpace: function(iconPosition) {
      this.icon[/^(?:end|bottom)/.test(iconPosition) ? "before" : "after"](this.iconSpace);
    },
    _attachIcon: function(iconPosition) {
      this.element[/^(?:end|bottom)/.test(iconPosition) ? "append" : "prepend"](this.icon);
    },
    _setOptions: function(options) {
      var newShowLabel = options.showLabel === undefined ? this.options.showLabel : options.showLabel,
          newIcon = options.icon === undefined ? this.options.icon : options.icon;
      if (!newShowLabel && !newIcon) {
        options.showLabel = true;
      }
      this._super(options);
    },
    _setOption: function(key, value) {
      if (key === "icon") {
        if (value) {
          this._updateIcon(key, value);
        } else if (this.icon) {
          this.icon.remove();
          if (this.iconSpace) {
            this.iconSpace.remove();
          }
        }
      }
      if (key === "iconPosition") {
        this._updateIcon(key, value);
      }
      if (key === "showLabel") {
        this._toggleClass("ui-button-icon-only", null, !value);
        this._updateTooltip();
      }
      if (key === "label") {
        if (this.isInput) {
          this.element.val(value);
        } else {
          this.element.html(value);
          if (this.icon) {
            this._attachIcon(this.options.iconPosition);
            this._attachIconSpace(this.options.iconPosition);
          }
        }
      }
      this._super(key, value);
      if (key === "disabled") {
        this._toggleClass(null, "ui-state-disabled", value);
        this.element[0].disabled = value;
        if (value) {
          this.element.blur();
        }
      }
    },
    refresh: function() {
      var isDisabled = this.element.is("input, button") ? this.element[0].disabled : this.element.hasClass("ui-button-disabled");
      if (isDisabled !== this.options.disabled) {
        this._setOptions({disabled: isDisabled});
      }
      this._updateTooltip();
    }
  });
  if ($.uiBackCompat !== false) {
    $.widget("ui.button", $.ui.button, {
      options: {
        text: true,
        icons: {
          primary: null,
          secondary: null
        }
      },
      _create: function() {
        if (this.options.showLabel && !this.options.text) {
          this.options.showLabel = this.options.text;
        }
        if (!this.options.showLabel && this.options.text) {
          this.options.text = this.options.showLabel;
        }
        if (!this.options.icon && (this.options.icons.primary || this.options.icons.secondary)) {
          if (this.options.icons.primary) {
            this.options.icon = this.options.icons.primary;
          } else {
            this.options.icon = this.options.icons.secondary;
            this.options.iconPosition = "end";
          }
        } else if (this.options.icon) {
          this.options.icons.primary = this.options.icon;
        }
        this._super();
      },
      _setOption: function(key, value) {
        if (key === "text") {
          this._super("showLabel", value);
          return;
        }
        if (key === "showLabel") {
          this.options.text = value;
        }
        if (key === "icon") {
          this.options.icons.primary = value;
        }
        if (key === "icons") {
          if (value.primary) {
            this._super("icon", value.primary);
            this._super("iconPosition", "beginning");
          } else if (value.secondary) {
            this._super("icon", value.secondary);
            this._super("iconPosition", "end");
          }
        }
        this._superApply(arguments);
      }
    });
    $.fn.button = (function(orig) {
      return function() {
        if (!this.length || (this.length && this[0].tagName !== "INPUT") || (this.length && this[0].tagName === "INPUT" && (this.attr("type") !== "checkbox" && this.attr("type") !== "radio"))) {
          return orig.apply(this, arguments);
        }
        if (!$.ui.checkboxradio) {
          $.error("Checkboxradio widget missing");
        }
        if (arguments.length === 0) {
          return this.checkboxradio({"icon": false});
        }
        return this.checkboxradio.apply(this, arguments);
      };
    })($.fn.button);
    $.fn.buttonset = function() {
      if (!$.ui.controlgroup) {
        $.error("Controlgroup widget missing");
      }
      if (arguments[0] === "option" && arguments[1] === "items" && arguments[2]) {
        return this.controlgroup.apply(this, [arguments[0], "items.button", arguments[2]]);
      }
      if (arguments[0] === "option" && arguments[1] === "items") {
        return this.controlgroup.apply(this, [arguments[0], "items.button"]);
      }
      if (typeof arguments[0] === "object" && arguments[0].items) {
        arguments[0].items = {button: arguments[0].items};
      }
      return this.controlgroup.apply(this, arguments);
    };
  }
  var widgetsButton = $.ui.button;
  $.extend($.ui, {datepicker: {version: "1.12.1"}});
  var datepicker_instActive;
  function datepicker_getZindex(elem) {
    var position,
        value;
    while (elem.length && elem[0] !== document) {
      position = elem.css("position");
      if (position === "absolute" || position === "relative" || position === "fixed") {
        value = parseInt(elem.css("zIndex"), 10);
        if (!isNaN(value) && value !== 0) {
          return value;
        }
      }
      elem = elem.parent();
    }
    return 0;
  }
  function Datepicker() {
    this._curInst = null;
    this._keyEvent = false;
    this._disabledInputs = [];
    this._datepickerShowing = false;
    this._inDialog = false;
    this._mainDivId = "ui-datepicker-div";
    this._inlineClass = "ui-datepicker-inline";
    this._appendClass = "ui-datepicker-append";
    this._triggerClass = "ui-datepicker-trigger";
    this._dialogClass = "ui-datepicker-dialog";
    this._disableClass = "ui-datepicker-disabled";
    this._unselectableClass = "ui-datepicker-unselectable";
    this._currentClass = "ui-datepicker-current-day";
    this._dayOverClass = "ui-datepicker-days-cell-over";
    this.regional = [];
    this.regional[""] = {
      closeText: "Done",
      prevText: "Prev",
      nextText: "Next",
      currentText: "Today",
      monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
      monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
      dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
      dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
      dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
      weekHeader: "Wk",
      dateFormat: "mm/dd/yy",
      firstDay: 0,
      isRTL: false,
      showMonthAfterYear: false,
      yearSuffix: ""
    };
    this._defaults = {
      showOn: "focus",
      showAnim: "fadeIn",
      showOptions: {},
      defaultDate: null,
      appendText: "",
      buttonText: "...",
      buttonImage: "",
      buttonImageOnly: false,
      hideIfNoPrevNext: false,
      navigationAsDateFormat: false,
      gotoCurrent: false,
      changeMonth: false,
      changeYear: false,
      yearRange: "c-10:c+10",
      showOtherMonths: false,
      selectOtherMonths: false,
      showWeek: false,
      calculateWeek: this.iso8601Week,
      shortYearCutoff: "+10",
      minDate: null,
      maxDate: null,
      duration: "fast",
      beforeShowDay: null,
      beforeShow: null,
      onSelect: null,
      onChangeMonthYear: null,
      onClose: null,
      numberOfMonths: 1,
      showCurrentAtPos: 0,
      stepMonths: 1,
      stepBigMonths: 12,
      altField: "",
      altFormat: "",
      constrainInput: true,
      showButtonPanel: false,
      autoSize: false,
      disabled: false
    };
    $.extend(this._defaults, this.regional[""]);
    this.regional.en = $.extend(true, {}, this.regional[""]);
    this.regional["en-US"] = $.extend(true, {}, this.regional.en);
    this.dpDiv = datepicker_bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
  }
  $.extend(Datepicker.prototype, {
    markerClassName: "hasDatepicker",
    maxRows: 4,
    _widgetDatepicker: function() {
      return this.dpDiv;
    },
    setDefaults: function(settings) {
      datepicker_extendRemove(this._defaults, settings || {});
      return this;
    },
    _attachDatepicker: function(target, settings) {
      var nodeName,
          inline,
          inst;
      nodeName = target.nodeName.toLowerCase();
      inline = (nodeName === "div" || nodeName === "span");
      if (!target.id) {
        this.uuid += 1;
        target.id = "dp" + this.uuid;
      }
      inst = this._newInst($(target), inline);
      inst.settings = $.extend({}, settings || {});
      if (nodeName === "input") {
        this._connectDatepicker(target, inst);
      } else if (inline) {
        this._inlineDatepicker(target, inst);
      }
    },
    _newInst: function(target, inline) {
      var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
      return {
        id: id,
        input: target,
        selectedDay: 0,
        selectedMonth: 0,
        selectedYear: 0,
        drawMonth: 0,
        drawYear: 0,
        inline: inline,
        dpDiv: (!inline ? this.dpDiv : datepicker_bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))
      };
    },
    _connectDatepicker: function(target, inst) {
      var input = $(target);
      inst.append = $([]);
      inst.trigger = $([]);
      if (input.hasClass(this.markerClassName)) {
        return;
      }
      this._attachments(input, inst);
      input.addClass(this.markerClassName).on("keydown", this._doKeyDown).on("keypress", this._doKeyPress).on("keyup", this._doKeyUp);
      this._autoSize(inst);
      $.data(target, "datepicker", inst);
      if (inst.settings.disabled) {
        this._disableDatepicker(target);
      }
    },
    _attachments: function(input, inst) {
      var showOn,
          buttonText,
          buttonImage,
          appendText = this._get(inst, "appendText"),
          isRTL = this._get(inst, "isRTL");
      if (inst.append) {
        inst.append.remove();
      }
      if (appendText) {
        inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
        input[isRTL ? "before" : "after"](inst.append);
      }
      input.off("focus", this._showDatepicker);
      if (inst.trigger) {
        inst.trigger.remove();
      }
      showOn = this._get(inst, "showOn");
      if (showOn === "focus" || showOn === "both") {
        input.on("focus", this._showDatepicker);
      }
      if (showOn === "button" || showOn === "both") {
        buttonText = this._get(inst, "buttonText");
        buttonImage = this._get(inst, "buttonImage");
        inst.trigger = $(this._get(inst, "buttonImageOnly") ? $("<img/>").addClass(this._triggerClass).attr({
          src: buttonImage,
          alt: buttonText,
          title: buttonText
        }) : $("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage ? buttonText : $("<img/>").attr({
          src: buttonImage,
          alt: buttonText,
          title: buttonText
        })));
        input[isRTL ? "before" : "after"](inst.trigger);
        inst.trigger.on("click", function() {
          if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
            $.datepicker._hideDatepicker();
          } else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
            $.datepicker._hideDatepicker();
            $.datepicker._showDatepicker(input[0]);
          } else {
            $.datepicker._showDatepicker(input[0]);
          }
          return false;
        });
      }
    },
    _autoSize: function(inst) {
      if (this._get(inst, "autoSize") && !inst.inline) {
        var findMax,
            max,
            maxI,
            i,
            date = new Date(2009, 12 - 1, 20),
            dateFormat = this._get(inst, "dateFormat");
        if (dateFormat.match(/[DM]/)) {
          findMax = function(names) {
            max = 0;
            maxI = 0;
            for (i = 0; i < names.length; i++) {
              if (names[i].length > max) {
                max = names[i].length;
                maxI = i;
              }
            }
            return maxI;
          };
          date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ? "monthNames" : "monthNamesShort"))));
          date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ? "dayNames" : "dayNamesShort"))) + 20 - date.getDay());
        }
        inst.input.attr("size", this._formatDate(inst, date).length);
      }
    },
    _inlineDatepicker: function(target, inst) {
      var divSpan = $(target);
      if (divSpan.hasClass(this.markerClassName)) {
        return;
      }
      divSpan.addClass(this.markerClassName).append(inst.dpDiv);
      $.data(target, "datepicker", inst);
      this._setDate(inst, this._getDefaultDate(inst), true);
      this._updateDatepicker(inst);
      this._updateAlternate(inst);
      if (inst.settings.disabled) {
        this._disableDatepicker(target);
      }
      inst.dpDiv.css("display", "block");
    },
    _dialogDatepicker: function(input, date, onSelect, settings, pos) {
      var id,
          browserWidth,
          browserHeight,
          scrollX,
          scrollY,
          inst = this._dialogInst;
      if (!inst) {
        this.uuid += 1;
        id = "dp" + this.uuid;
        this._dialogInput = $("<input type='text' id='" + id + "' style='position: absolute; top: -100px; width: 0px;'/>");
        this._dialogInput.on("keydown", this._doKeyDown);
        $("body").append(this._dialogInput);
        inst = this._dialogInst = this._newInst(this._dialogInput, false);
        inst.settings = {};
        $.data(this._dialogInput[0], "datepicker", inst);
      }
      datepicker_extendRemove(inst.settings, settings || {});
      date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
      this._dialogInput.val(date);
      this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
      if (!this._pos) {
        browserWidth = document.documentElement.clientWidth;
        browserHeight = document.documentElement.clientHeight;
        scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
        scrollY = document.documentElement.scrollTop || document.body.scrollTop;
        this._pos = [(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
      }
      this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
      inst.settings.onSelect = onSelect;
      this._inDialog = true;
      this.dpDiv.addClass(this._dialogClass);
      this._showDatepicker(this._dialogInput[0]);
      if ($.blockUI) {
        $.blockUI(this.dpDiv);
      }
      $.data(this._dialogInput[0], "datepicker", inst);
      return this;
    },
    _destroyDatepicker: function(target) {
      var nodeName,
          $target = $(target),
          inst = $.data(target, "datepicker");
      if (!$target.hasClass(this.markerClassName)) {
        return;
      }
      nodeName = target.nodeName.toLowerCase();
      $.removeData(target, "datepicker");
      if (nodeName === "input") {
        inst.append.remove();
        inst.trigger.remove();
        $target.removeClass(this.markerClassName).off("focus", this._showDatepicker).off("keydown", this._doKeyDown).off("keypress", this._doKeyPress).off("keyup", this._doKeyUp);
      } else if (nodeName === "div" || nodeName === "span") {
        $target.removeClass(this.markerClassName).empty();
      }
      if (datepicker_instActive === inst) {
        datepicker_instActive = null;
      }
    },
    _enableDatepicker: function(target) {
      var nodeName,
          inline,
          $target = $(target),
          inst = $.data(target, "datepicker");
      if (!$target.hasClass(this.markerClassName)) {
        return;
      }
      nodeName = target.nodeName.toLowerCase();
      if (nodeName === "input") {
        target.disabled = false;
        inst.trigger.filter("button").each(function() {
          this.disabled = false;
        }).end().filter("img").css({
          opacity: "1.0",
          cursor: ""
        });
      } else if (nodeName === "div" || nodeName === "span") {
        inline = $target.children("." + this._inlineClass);
        inline.children().removeClass("ui-state-disabled");
        inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", false);
      }
      this._disabledInputs = $.map(this._disabledInputs, function(value) {
        return (value === target ? null : value);
      });
    },
    _disableDatepicker: function(target) {
      var nodeName,
          inline,
          $target = $(target),
          inst = $.data(target, "datepicker");
      if (!$target.hasClass(this.markerClassName)) {
        return;
      }
      nodeName = target.nodeName.toLowerCase();
      if (nodeName === "input") {
        target.disabled = true;
        inst.trigger.filter("button").each(function() {
          this.disabled = true;
        }).end().filter("img").css({
          opacity: "0.5",
          cursor: "default"
        });
      } else if (nodeName === "div" || nodeName === "span") {
        inline = $target.children("." + this._inlineClass);
        inline.children().addClass("ui-state-disabled");
        inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", true);
      }
      this._disabledInputs = $.map(this._disabledInputs, function(value) {
        return (value === target ? null : value);
      });
      this._disabledInputs[this._disabledInputs.length] = target;
    },
    _isDisabledDatepicker: function(target) {
      if (!target) {
        return false;
      }
      for (var i = 0; i < this._disabledInputs.length; i++) {
        if (this._disabledInputs[i] === target) {
          return true;
        }
      }
      return false;
    },
    _getInst: function(target) {
      try {
        return $.data(target, "datepicker");
      } catch (err) {
        throw "Missing instance data for this datepicker";
      }
    },
    _optionDatepicker: function(target, name, value) {
      var settings,
          date,
          minDate,
          maxDate,
          inst = this._getInst(target);
      if (arguments.length === 2 && typeof name === "string") {
        return (name === "defaults" ? $.extend({}, $.datepicker._defaults) : (inst ? (name === "all" ? $.extend({}, inst.settings) : this._get(inst, name)) : null));
      }
      settings = name || {};
      if (typeof name === "string") {
        settings = {};
        settings[name] = value;
      }
      if (inst) {
        if (this._curInst === inst) {
          this._hideDatepicker();
        }
        date = this._getDateDatepicker(target, true);
        minDate = this._getMinMaxDate(inst, "min");
        maxDate = this._getMinMaxDate(inst, "max");
        datepicker_extendRemove(inst.settings, settings);
        if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
          inst.settings.minDate = this._formatDate(inst, minDate);
        }
        if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
          inst.settings.maxDate = this._formatDate(inst, maxDate);
        }
        if ("disabled" in settings) {
          if (settings.disabled) {
            this._disableDatepicker(target);
          } else {
            this._enableDatepicker(target);
          }
        }
        this._attachments($(target), inst);
        this._autoSize(inst);
        this._setDate(inst, date);
        this._updateAlternate(inst);
        this._updateDatepicker(inst);
      }
    },
    _changeDatepicker: function(target, name, value) {
      this._optionDatepicker(target, name, value);
    },
    _refreshDatepicker: function(target) {
      var inst = this._getInst(target);
      if (inst) {
        this._updateDatepicker(inst);
      }
    },
    _setDateDatepicker: function(target, date) {
      var inst = this._getInst(target);
      if (inst) {
        this._setDate(inst, date);
        this._updateDatepicker(inst);
        this._updateAlternate(inst);
      }
    },
    _getDateDatepicker: function(target, noDefault) {
      var inst = this._getInst(target);
      if (inst && !inst.inline) {
        this._setDateFromField(inst, noDefault);
      }
      return (inst ? this._getDate(inst) : null);
    },
    _doKeyDown: function(event) {
      var onSelect,
          dateStr,
          sel,
          inst = $.datepicker._getInst(event.target),
          handled = true,
          isRTL = inst.dpDiv.is(".ui-datepicker-rtl");
      inst._keyEvent = true;
      if ($.datepicker._datepickerShowing) {
        switch (event.keyCode) {
          case 9:
            $.datepicker._hideDatepicker();
            handled = false;
            break;
          case 13:
            sel = $("td." + $.datepicker._dayOverClass + ":not(." + $.datepicker._currentClass + ")", inst.dpDiv);
            if (sel[0]) {
              $.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
            }
            onSelect = $.datepicker._get(inst, "onSelect");
            if (onSelect) {
              dateStr = $.datepicker._formatDate(inst);
              onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
            } else {
              $.datepicker._hideDatepicker();
            }
            return false;
          case 27:
            $.datepicker._hideDatepicker();
            break;
          case 33:
            $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M");
            break;
          case 34:
            $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M");
            break;
          case 35:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._clearDate(event.target);
            }
            handled = event.ctrlKey || event.metaKey;
            break;
          case 36:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._gotoToday(event.target);
            }
            handled = event.ctrlKey || event.metaKey;
            break;
          case 37:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
            }
            handled = event.ctrlKey || event.metaKey;
            if (event.originalEvent.altKey) {
              $.datepicker._adjustDate(event.target, (event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths")), "M");
            }
            break;
          case 38:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._adjustDate(event.target, -7, "D");
            }
            handled = event.ctrlKey || event.metaKey;
            break;
          case 39:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
            }
            handled = event.ctrlKey || event.metaKey;
            if (event.originalEvent.altKey) {
              $.datepicker._adjustDate(event.target, (event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths")), "M");
            }
            break;
          case 40:
            if (event.ctrlKey || event.metaKey) {
              $.datepicker._adjustDate(event.target, +7, "D");
            }
            handled = event.ctrlKey || event.metaKey;
            break;
          default:
            handled = false;
        }
      } else if (event.keyCode === 36 && event.ctrlKey) {
        $.datepicker._showDatepicker(this);
      } else {
        handled = false;
      }
      if (handled) {
        event.preventDefault();
        event.stopPropagation();
      }
    },
    _doKeyPress: function(event) {
      var chars,
          chr,
          inst = $.datepicker._getInst(event.target);
      if ($.datepicker._get(inst, "constrainInput")) {
        chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
        chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
        return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
      }
    },
    _doKeyUp: function(event) {
      var date,
          inst = $.datepicker._getInst(event.target);
      if (inst.input.val() !== inst.lastVal) {
        try {
          date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), (inst.input ? inst.input.val() : null), $.datepicker._getFormatConfig(inst));
          if (date) {
            $.datepicker._setDateFromField(inst);
            $.datepicker._updateAlternate(inst);
            $.datepicker._updateDatepicker(inst);
          }
        } catch (err) {}
      }
      return true;
    },
    _showDatepicker: function(input) {
      input = input.target || input;
      if (input.nodeName.toLowerCase() !== "input") {
        input = $("input", input.parentNode)[0];
      }
      if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) {
        return;
      }
      var inst,
          beforeShow,
          beforeShowSettings,
          isFixed,
          offset,
          showAnim,
          duration;
      inst = $.datepicker._getInst(input);
      if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
        $.datepicker._curInst.dpDiv.stop(true, true);
        if (inst && $.datepicker._datepickerShowing) {
          $.datepicker._hideDatepicker($.datepicker._curInst.input[0]);
        }
      }
      beforeShow = $.datepicker._get(inst, "beforeShow");
      beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
      if (beforeShowSettings === false) {
        return;
      }
      datepicker_extendRemove(inst.settings, beforeShowSettings);
      inst.lastVal = null;
      $.datepicker._lastInput = input;
      $.datepicker._setDateFromField(inst);
      if ($.datepicker._inDialog) {
        input.value = "";
      }
      if (!$.datepicker._pos) {
        $.datepicker._pos = $.datepicker._findPos(input);
        $.datepicker._pos[1] += input.offsetHeight;
      }
      isFixed = false;
      $(input).parents().each(function() {
        isFixed |= $(this).css("position") === "fixed";
        return !isFixed;
      });
      offset = {
        left: $.datepicker._pos[0],
        top: $.datepicker._pos[1]
      };
      $.datepicker._pos = null;
      inst.dpDiv.empty();
      inst.dpDiv.css({
        position: "absolute",
        display: "block",
        top: "-1000px"
      });
      $.datepicker._updateDatepicker(inst);
      offset = $.datepicker._checkOffset(inst, offset, isFixed);
      inst.dpDiv.css({
        position: ($.datepicker._inDialog && $.blockUI ? "static" : (isFixed ? "fixed" : "absolute")),
        display: "none",
        left: offset.left + "px",
        top: offset.top + "px"
      });
      if (!inst.inline) {
        showAnim = $.datepicker._get(inst, "showAnim");
        duration = $.datepicker._get(inst, "duration");
        inst.dpDiv.css("z-index", datepicker_getZindex($(input)) + 1);
        $.datepicker._datepickerShowing = true;
        if ($.effects && $.effects.effect[showAnim]) {
          inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
        } else {
          inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
        }
        if ($.datepicker._shouldFocusInput(inst)) {
          inst.input.trigger("focus");
        }
        $.datepicker._curInst = inst;
      }
    },
    _updateDatepicker: function(inst) {
      this.maxRows = 4;
      datepicker_instActive = inst;
      inst.dpDiv.empty().append(this._generateHTML(inst));
      this._attachHandlers(inst);
      var origyearshtml,
          numMonths = this._getNumberOfMonths(inst),
          cols = numMonths[1],
          width = 17,
          activeCell = inst.dpDiv.find("." + this._dayOverClass + " a");
      if (activeCell.length > 0) {
        datepicker_handleMouseover.apply(activeCell.get(0));
      }
      inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
      if (cols > 1) {
        inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
      }
      inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi");
      inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
      if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput(inst)) {
        inst.input.trigger("focus");
      }
      if (inst.yearshtml) {
        origyearshtml = inst.yearshtml;
        setTimeout(function() {
          if (origyearshtml === inst.yearshtml && inst.yearshtml) {
            inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
          }
          origyearshtml = inst.yearshtml = null;
        }, 0);
      }
    },
    _shouldFocusInput: function(inst) {
      return inst.input && inst.input.is(":visible") && !inst.input.is(":disabled") && !inst.input.is(":focus");
    },
    _checkOffset: function(inst, offset, isFixed) {
      var dpWidth = inst.dpDiv.outerWidth(),
          dpHeight = inst.dpDiv.outerHeight(),
          inputWidth = inst.input ? inst.input.outerWidth() : 0,
          inputHeight = inst.input ? inst.input.outerHeight() : 0,
          viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
          viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());
      offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
      offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
      offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;
      offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ? Math.abs(offset.left + dpWidth - viewWidth) : 0);
      offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ? Math.abs(dpHeight + inputHeight) : 0);
      return offset;
    },
    _findPos: function(obj) {
      var position,
          inst = this._getInst(obj),
          isRTL = this._get(inst, "isRTL");
      while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
        obj = obj[isRTL ? "previousSibling" : "nextSibling"];
      }
      position = $(obj).offset();
      return [position.left, position.top];
    },
    _hideDatepicker: function(input) {
      var showAnim,
          duration,
          postProcess,
          onClose,
          inst = this._curInst;
      if (!inst || (input && inst !== $.data(input, "datepicker"))) {
        return;
      }
      if (this._datepickerShowing) {
        showAnim = this._get(inst, "showAnim");
        duration = this._get(inst, "duration");
        postProcess = function() {
          $.datepicker._tidyDialog(inst);
        };
        if ($.effects && ($.effects.effect[showAnim] || $.effects[showAnim])) {
          inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
        } else {
          inst.dpDiv[(showAnim === "slideDown" ? "slideUp" : (showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
        }
        if (!showAnim) {
          postProcess();
        }
        this._datepickerShowing = false;
        onClose = this._get(inst, "onClose");
        if (onClose) {
          onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
        }
        this._lastInput = null;
        if (this._inDialog) {
          this._dialogInput.css({
            position: "absolute",
            left: "0",
            top: "-100px"
          });
          if ($.blockUI) {
            $.unblockUI();
            $("body").append(this.dpDiv);
          }
        }
        this._inDialog = false;
      }
    },
    _tidyDialog: function(inst) {
      inst.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar");
    },
    _checkExternalClick: function(event) {
      if (!$.datepicker._curInst) {
        return;
      }
      var $target = $(event.target),
          inst = $.datepicker._getInst($target[0]);
      if ((($target[0].id !== $.datepicker._mainDivId && $target.parents("#" + $.datepicker._mainDivId).length === 0 && !$target.hasClass($.datepicker.markerClassName) && !$target.closest("." + $.datepicker._triggerClass).length && $.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI))) || ($target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst)) {
        $.datepicker._hideDatepicker();
      }
    },
    _adjustDate: function(id, offset, period) {
      var target = $(id),
          inst = this._getInst(target[0]);
      if (this._isDisabledDatepicker(target[0])) {
        return;
      }
      this._adjustInstDate(inst, offset + (period === "M" ? this._get(inst, "showCurrentAtPos") : 0), period);
      this._updateDatepicker(inst);
    },
    _gotoToday: function(id) {
      var date,
          target = $(id),
          inst = this._getInst(target[0]);
      if (this._get(inst, "gotoCurrent") && inst.currentDay) {
        inst.selectedDay = inst.currentDay;
        inst.drawMonth = inst.selectedMonth = inst.currentMonth;
        inst.drawYear = inst.selectedYear = inst.currentYear;
      } else {
        date = new Date();
        inst.selectedDay = date.getDate();
        inst.drawMonth = inst.selectedMonth = date.getMonth();
        inst.drawYear = inst.selectedYear = date.getFullYear();
      }
      this._notifyChange(inst);
      this._adjustDate(target);
    },
    _selectMonthYear: function(id, select, period) {
      var target = $(id),
          inst = this._getInst(target[0]);
      inst["selected" + (period === "M" ? "Month" : "Year")] = inst["draw" + (period === "M" ? "Month" : "Year")] = parseInt(select.options[select.selectedIndex].value, 10);
      this._notifyChange(inst);
      this._adjustDate(target);
    },
    _selectDay: function(id, month, year, td) {
      var inst,
          target = $(id);
      if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
        return;
      }
      inst = this._getInst(target[0]);
      inst.selectedDay = inst.currentDay = $("a", td).html();
      inst.selectedMonth = inst.currentMonth = month;
      inst.selectedYear = inst.currentYear = year;
      this._selectDate(id, this._formatDate(inst, inst.currentDay, inst.currentMonth, inst.currentYear));
    },
    _clearDate: function(id) {
      var target = $(id);
      this._selectDate(target, "");
    },
    _selectDate: function(id, dateStr) {
      var onSelect,
          target = $(id),
          inst = this._getInst(target[0]);
      dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
      if (inst.input) {
        inst.input.val(dateStr);
      }
      this._updateAlternate(inst);
      onSelect = this._get(inst, "onSelect");
      if (onSelect) {
        onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
      } else if (inst.input) {
        inst.input.trigger("change");
      }
      if (inst.inline) {
        this._updateDatepicker(inst);
      } else {
        this._hideDatepicker();
        this._lastInput = inst.input[0];
        if (typeof(inst.input[0]) !== "object") {
          inst.input.trigger("focus");
        }
        this._lastInput = null;
      }
    },
    _updateAlternate: function(inst) {
      var altFormat,
          date,
          dateStr,
          altField = this._get(inst, "altField");
      if (altField) {
        altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
        date = this._getDate(inst);
        dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
        $(altField).val(dateStr);
      }
    },
    noWeekends: function(date) {
      var day = date.getDay();
      return [(day > 0 && day < 6), ""];
    },
    iso8601Week: function(date) {
      var time,
          checkDate = new Date(date.getTime());
      checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
      time = checkDate.getTime();
      checkDate.setMonth(0);
      checkDate.setDate(1);
      return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
    },
    parseDate: function(format, value, settings) {
      if (format == null || value == null) {
        throw "Invalid arguments";
      }
      value = (typeof value === "object" ? value.toString() : value + "");
      if (value === "") {
        return null;
      }
      var iFormat,
          dim,
          extra,
          iValue = 0,
          shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
          shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp : new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),
          dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
          dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
          monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
          monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
          year = -1,
          month = -1,
          day = -1,
          doy = -1,
          literal = false,
          date,
          lookAhead = function(match) {
            var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
            if (matches) {
              iFormat++;
            }
            return matches;
          },
          getNumber = function(match) {
            var isDoubled = lookAhead(match),
                size = (match === "@" ? 14 : (match === "!" ? 20 : (match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2)))),
                minSize = (match === "y" ? size : 1),
                digits = new RegExp("^\\d{" + minSize + "," + size + "}"),
                num = value.substring(iValue).match(digits);
            if (!num) {
              throw "Missing number at position " + iValue;
            }
            iValue += num[0].length;
            return parseInt(num[0], 10);
          },
          getName = function(match, shortNames, longNames) {
            var index = -1,
                names = $.map(lookAhead(match) ? longNames : shortNames, function(v, k) {
                  return [[k, v]];
                }).sort(function(a, b) {
                  return -(a[1].length - b[1].length);
                });
            $.each(names, function(i, pair) {
              var name = pair[1];
              if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
                index = pair[0];
                iValue += name.length;
                return false;
              }
            });
            if (index !== -1) {
              return index + 1;
            } else {
              throw "Unknown name at position " + iValue;
            }
          },
          checkLiteral = function() {
            if (value.charAt(iValue) !== format.charAt(iFormat)) {
              throw "Unexpected literal at position " + iValue;
            }
            iValue++;
          };
      for (iFormat = 0; iFormat < format.length; iFormat++) {
        if (literal) {
          if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
            literal = false;
          } else {
            checkLiteral();
          }
        } else {
          switch (format.charAt(iFormat)) {
            case "d":
              day = getNumber("d");
              break;
            case "D":
              getName("D", dayNamesShort, dayNames);
              break;
            case "o":
              doy = getNumber("o");
              break;
            case "m":
              month = getNumber("m");
              break;
            case "M":
              month = getName("M", monthNamesShort, monthNames);
              break;
            case "y":
              year = getNumber("y");
              break;
            case "@":
              date = new Date(getNumber("@"));
              year = date.getFullYear();
              month = date.getMonth() + 1;
              day = date.getDate();
              break;
            case "!":
              date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
              year = date.getFullYear();
              month = date.getMonth() + 1;
              day = date.getDate();
              break;
            case "'":
              if (lookAhead("'")) {
                checkLiteral();
              } else {
                literal = true;
              }
              break;
            default:
              checkLiteral();
          }
        }
      }
      if (iValue < value.length) {
        extra = value.substr(iValue);
        if (!/^\s+/.test(extra)) {
          throw "Extra/unparsed characters found in date: " + extra;
        }
      }
      if (year === -1) {
        year = new Date().getFullYear();
      } else if (year < 100) {
        year += new Date().getFullYear() - new Date().getFullYear() % 100 + (year <= shortYearCutoff ? 0 : -100);
      }
      if (doy > -1) {
        month = 1;
        day = doy;
        do {
          dim = this._getDaysInMonth(year, month - 1);
          if (day <= dim) {
            break;
          }
          month++;
          day -= dim;
        } while (true);
      }
      date = this._daylightSavingAdjust(new Date(year, month - 1, day));
      if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
        throw "Invalid date";
      }
      return date;
    },
    ATOM: "yy-mm-dd",
    COOKIE: "D, dd M yy",
    ISO_8601: "yy-mm-dd",
    RFC_822: "D, d M y",
    RFC_850: "DD, dd-M-y",
    RFC_1036: "D, d M y",
    RFC_1123: "D, d M yy",
    RFC_2822: "D, d M yy",
    RSS: "D, d M y",
    TICKS: "!",
    TIMESTAMP: "@",
    W3C: "yy-mm-dd",
    _ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),
    formatDate: function(format, date, settings) {
      if (!date) {
        return "";
      }
      var iFormat,
          dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
          dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
          monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
          monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
          lookAhead = function(match) {
            var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
            if (matches) {
              iFormat++;
            }
            return matches;
          },
          formatNumber = function(match, value, len) {
            var num = "" + value;
            if (lookAhead(match)) {
              while (num.length < len) {
                num = "0" + num;
              }
            }
            return num;
          },
          formatName = function(match, value, shortNames, longNames) {
            return (lookAhead(match) ? longNames[value] : shortNames[value]);
          },
          output = "",
          literal = false;
      if (date) {
        for (iFormat = 0; iFormat < format.length; iFormat++) {
          if (literal) {
            if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
              literal = false;
            } else {
              output += format.charAt(iFormat);
            }
          } else {
            switch (format.charAt(iFormat)) {
              case "d":
                output += formatNumber("d", date.getDate(), 2);
                break;
              case "D":
                output += formatName("D", date.getDay(), dayNamesShort, dayNames);
                break;
              case "o":
                output += formatNumber("o", Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
                break;
              case "m":
                output += formatNumber("m", date.getMonth() + 1, 2);
                break;
              case "M":
                output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
                break;
              case "y":
                output += (lookAhead("y") ? date.getFullYear() : (date.getFullYear() % 100 < 10 ? "0" : "") + date.getFullYear() % 100);
                break;
              case "@":
                output += date.getTime();
                break;
              case "!":
                output += date.getTime() * 10000 + this._ticksTo1970;
                break;
              case "'":
                if (lookAhead("'")) {
                  output += "'";
                } else {
                  literal = true;
                }
                break;
              default:
                output += format.charAt(iFormat);
            }
          }
        }
      }
      return output;
    },
    _possibleChars: function(format) {
      var iFormat,
          chars = "",
          literal = false,
          lookAhead = function(match) {
            var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
            if (matches) {
              iFormat++;
            }
            return matches;
          };
      for (iFormat = 0; iFormat < format.length; iFormat++) {
        if (literal) {
          if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
            literal = false;
          } else {
            chars += format.charAt(iFormat);
          }
        } else {
          switch (format.charAt(iFormat)) {
            case "d":
            case "m":
            case "y":
            case "@":
              chars += "0123456789";
              break;
            case "D":
            case "M":
              return null;
            case "'":
              if (lookAhead("'")) {
                chars += "'";
              } else {
                literal = true;
              }
              break;
            default:
              chars += format.charAt(iFormat);
          }
        }
      }
      return chars;
    },
    _get: function(inst, name) {
      return inst.settings[name] !== undefined ? inst.settings[name] : this._defaults[name];
    },
    _setDateFromField: function(inst, noDefault) {
      if (inst.input.val() === inst.lastVal) {
        return;
      }
      var dateFormat = this._get(inst, "dateFormat"),
          dates = inst.lastVal = inst.input ? inst.input.val() : null,
          defaultDate = this._getDefaultDate(inst),
          date = defaultDate,
          settings = this._getFormatConfig(inst);
      try {
        date = this.parseDate(dateFormat, dates, settings) || defaultDate;
      } catch (event) {
        dates = (noDefault ? "" : dates);
      }
      inst.selectedDay = date.getDate();
      inst.drawMonth = inst.selectedMonth = date.getMonth();
      inst.drawYear = inst.selectedYear = date.getFullYear();
      inst.currentDay = (dates ? date.getDate() : 0);
      inst.currentMonth = (dates ? date.getMonth() : 0);
      inst.currentYear = (dates ? date.getFullYear() : 0);
      this._adjustInstDate(inst);
    },
    _getDefaultDate: function(inst) {
      return this._restrictMinMax(inst, this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
    },
    _determineDate: function(inst, date, defaultDate) {
      var offsetNumeric = function(offset) {
        var date = new Date();
        date.setDate(date.getDate() + offset);
        return date;
      },
          offsetString = function(offset) {
            try {
              return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), offset, $.datepicker._getFormatConfig(inst));
            } catch (e) {}
            var date = (offset.toLowerCase().match(/^c/) ? $.datepicker._getDate(inst) : null) || new Date(),
                year = date.getFullYear(),
                month = date.getMonth(),
                day = date.getDate(),
                pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                matches = pattern.exec(offset);
            while (matches) {
              switch (matches[2] || "d") {
                case "d":
                case "D":
                  day += parseInt(matches[1], 10);
                  break;
                case "w":
                case "W":
                  day += parseInt(matches[1], 10) * 7;
                  break;
                case "m":
                case "M":
                  month += parseInt(matches[1], 10);
                  day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                  break;
                case "y":
                case "Y":
                  year += parseInt(matches[1], 10);
                  day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                  break;
              }
              matches = pattern.exec(offset);
            }
            return new Date(year, month, day);
          },
          newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) : (typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));
      newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
      if (newDate) {
        newDate.setHours(0);
        newDate.setMinutes(0);
        newDate.setSeconds(0);
        newDate.setMilliseconds(0);
      }
      return this._daylightSavingAdjust(newDate);
    },
    _daylightSavingAdjust: function(date) {
      if (!date) {
        return null;
      }
      date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
      return date;
    },
    _setDate: function(inst, date, noChange) {
      var clear = !date,
          origMonth = inst.selectedMonth,
          origYear = inst.selectedYear,
          newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));
      inst.selectedDay = inst.currentDay = newDate.getDate();
      inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
      inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
      if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
        this._notifyChange(inst);
      }
      this._adjustInstDate(inst);
      if (inst.input) {
        inst.input.val(clear ? "" : this._formatDate(inst));
      }
    },
    _getDate: function(inst) {
      var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
      return startDate;
    },
    _attachHandlers: function(inst) {
      var stepMonths = this._get(inst, "stepMonths"),
          id = "#" + inst.id.replace(/\\\\/g, "\\");
      inst.dpDiv.find("[data-handler]").map(function() {
        var handler = {
          prev: function() {
            $.datepicker._adjustDate(id, -stepMonths, "M");
          },
          next: function() {
            $.datepicker._adjustDate(id, +stepMonths, "M");
          },
          hide: function() {
            $.datepicker._hideDatepicker();
          },
          today: function() {
            $.datepicker._gotoToday(id);
          },
          selectDay: function() {
            $.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
            return false;
          },
          selectMonth: function() {
            $.datepicker._selectMonthYear(id, this, "M");
            return false;
          },
          selectYear: function() {
            $.datepicker._selectMonthYear(id, this, "Y");
            return false;
          }
        };
        $(this).on(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
      });
    },
    _generateHTML: function(inst) {
      var maxDraw,
          prevText,
          prev,
          nextText,
          next,
          currentText,
          gotoDate,
          controls,
          buttonPanel,
          firstDay,
          showWeek,
          dayNames,
          dayNamesMin,
          monthNames,
          monthNamesShort,
          beforeShowDay,
          showOtherMonths,
          selectOtherMonths,
          defaultDate,
          html,
          dow,
          row,
          group,
          col,
          selectedDate,
          cornerClass,
          calender,
          thead,
          day,
          daysInMonth,
          leadDays,
          curRows,
          numRows,
          printDate,
          dRow,
          tbody,
          daySettings,
          otherMonth,
          unselectable,
          tempDate = new Date(),
          today = this._daylightSavingAdjust(new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())),
          isRTL = this._get(inst, "isRTL"),
          showButtonPanel = this._get(inst, "showButtonPanel"),
          hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
          navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
          numMonths = this._getNumberOfMonths(inst),
          showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
          stepMonths = this._get(inst, "stepMonths"),
          isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),
          currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) : new Date(inst.currentYear, inst.currentMonth, inst.currentDay))),
          minDate = this._getMinMaxDate(inst, "min"),
          maxDate = this._getMinMaxDate(inst, "max"),
          drawMonth = inst.drawMonth - showCurrentAtPos,
          drawYear = inst.drawYear;
      if (drawMonth < 0) {
        drawMonth += 12;
        drawYear--;
      }
      if (maxDate) {
        maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(), maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));
        maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
        while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
          drawMonth--;
          if (drawMonth < 0) {
            drawMonth = 11;
            drawYear--;
          }
        }
      }
      inst.drawMonth = drawMonth;
      inst.drawYear = drawYear;
      prevText = this._get(inst, "prevText");
      prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText, this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)), this._getFormatConfig(inst)));
      prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" + " title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" : (hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));
      nextText = this._get(inst, "nextText");
      nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText, this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)), this._getFormatConfig(inst)));
      next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" + " title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" : (hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));
      currentText = this._get(inst, "currentText");
      gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
      currentText = (!navigationAsDateFormat ? currentText : this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));
      controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(inst, "closeText") + "</button>" : "");
      buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") + (this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" + ">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";
      firstDay = parseInt(this._get(inst, "firstDay"), 10);
      firstDay = (isNaN(firstDay) ? 0 : firstDay);
      showWeek = this._get(inst, "showWeek");
      dayNames = this._get(inst, "dayNames");
      dayNamesMin = this._get(inst, "dayNamesMin");
      monthNames = this._get(inst, "monthNames");
      monthNamesShort = this._get(inst, "monthNamesShort");
      beforeShowDay = this._get(inst, "beforeShowDay");
      showOtherMonths = this._get(inst, "showOtherMonths");
      selectOtherMonths = this._get(inst, "selectOtherMonths");
      defaultDate = this._getDefaultDate(inst);
      html = "";
      for (row = 0; row < numMonths[0]; row++) {
        group = "";
        this.maxRows = 4;
        for (col = 0; col < numMonths[1]; col++) {
          selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
          cornerClass = " ui-corner-all";
          calender = "";
          if (isMultiMonth) {
            calender += "<div class='ui-datepicker-group";
            if (numMonths[1] > 1) {
              switch (col) {
                case 0:
                  calender += " ui-datepicker-group-first";
                  cornerClass = " ui-corner-" + (isRTL ? "right" : "left");
                  break;
                case numMonths[1] - 1:
                  calender += " ui-datepicker-group-last";
                  cornerClass = " ui-corner-" + (isRTL ? "left" : "right");
                  break;
                default:
                  calender += " ui-datepicker-group-middle";
                  cornerClass = "";
                  break;
              }
            }
            calender += "'>";
          }
          calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" + (/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") + (/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") + this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate, row > 0 || col > 0, monthNames, monthNamesShort) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>";
          thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
          for (dow = 0; dow < 7; dow++) {
            day = (dow + firstDay) % 7;
            thead += "<th scope='col'" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
          }
          calender += thead + "</tr></thead><tbody>";
          daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
          if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
            inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
          }
          leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
          curRows = Math.ceil((leadDays + daysInMonth) / 7);
          numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows);
          this.maxRows = numRows;
          printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
          for (dRow = 0; dRow < numRows; dRow++) {
            calender += "<tr>";
            tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" + this._get(inst, "calculateWeek")(printDate) + "</td>");
            for (dow = 0; dow < 7; dow++) {
              daySettings = (beforeShowDay ? beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
              otherMonth = (printDate.getMonth() !== drawMonth);
              unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] || (minDate && printDate < minDate) || (maxDate && printDate > maxDate);
              tbody += "<td class='" + ((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (otherMonth ? " ui-datepicker-other-month" : "") + ((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || (defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ? " " + this._dayOverClass : "") + (unselectable ? " " + this._unselectableClass + " ui-state-disabled" : "") + (otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + (printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + (printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + (unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + (otherMonth && !showOtherMonths ? "&#xa0;" : (unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" + (printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") + (printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + (otherMonth ? " ui-priority-secondary" : "") + "' href='#'>" + printDate.getDate() + "</a>")) + "</td>";
              printDate.setDate(printDate.getDate() + 1);
              printDate = this._daylightSavingAdjust(printDate);
            }
            calender += tbody + "</tr>";
          }
          drawMonth++;
          if (drawMonth > 11) {
            drawMonth = 0;
            drawYear++;
          }
          calender += "</tbody></table>" + (isMultiMonth ? "</div>" + ((numMonths[0] > 0 && col === numMonths[1] - 1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
          group += calender;
        }
        html += group;
      }
      html += buttonPanel;
      inst._keyEvent = false;
      return html;
    },
    _generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate, secondary, monthNames, monthNamesShort) {
      var inMinYear,
          inMaxYear,
          month,
          years,
          thisYear,
          determineYear,
          year,
          endYear,
          changeMonth = this._get(inst, "changeMonth"),
          changeYear = this._get(inst, "changeYear"),
          showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
          html = "<div class='ui-datepicker-title'>",
          monthHtml = "";
      if (secondary || !changeMonth) {
        monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
      } else {
        inMinYear = (minDate && minDate.getFullYear() === drawYear);
        inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
        monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
        for (month = 0; month < 12; month++) {
          if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
            monthHtml += "<option value='" + month + "'" + (month === drawMonth ? " selected='selected'" : "") + ">" + monthNamesShort[month] + "</option>";
          }
        }
        monthHtml += "</select>";
      }
      if (!showMonthAfterYear) {
        html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
      }
      if (!inst.yearshtml) {
        inst.yearshtml = "";
        if (secondary || !changeYear) {
          html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
        } else {
          years = this._get(inst, "yearRange").split(":");
          thisYear = new Date().getFullYear();
          determineYear = function(value) {
            var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) : (value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) : parseInt(value, 10)));
            return (isNaN(year) ? thisYear : year);
          };
          year = determineYear(years[0]);
          endYear = Math.max(year, determineYear(years[1] || ""));
          year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
          endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
          inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
          for (; year <= endYear; year++) {
            inst.yearshtml += "<option value='" + year + "'" + (year === drawYear ? " selected='selected'" : "") + ">" + year + "</option>";
          }
          inst.yearshtml += "</select>";
          html += inst.yearshtml;
          inst.yearshtml = null;
        }
      }
      html += this._get(inst, "yearSuffix");
      if (showMonthAfterYear) {
        html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
      }
      html += "</div>";
      return html;
    },
    _adjustInstDate: function(inst, offset, period) {
      var year = inst.selectedYear + (period === "Y" ? offset : 0),
          month = inst.selectedMonth + (period === "M" ? offset : 0),
          day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
          date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));
      inst.selectedDay = date.getDate();
      inst.drawMonth = inst.selectedMonth = date.getMonth();
      inst.drawYear = inst.selectedYear = date.getFullYear();
      if (period === "M" || period === "Y") {
        this._notifyChange(inst);
      }
    },
    _restrictMinMax: function(inst, date) {
      var minDate = this._getMinMaxDate(inst, "min"),
          maxDate = this._getMinMaxDate(inst, "max"),
          newDate = (minDate && date < minDate ? minDate : date);
      return (maxDate && newDate > maxDate ? maxDate : newDate);
    },
    _notifyChange: function(inst) {
      var onChange = this._get(inst, "onChangeMonthYear");
      if (onChange) {
        onChange.apply((inst.input ? inst.input[0] : null), [inst.selectedYear, inst.selectedMonth + 1, inst]);
      }
    },
    _getNumberOfMonths: function(inst) {
      var numMonths = this._get(inst, "numberOfMonths");
      return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
    },
    _getMinMaxDate: function(inst, minMax) {
      return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
    },
    _getDaysInMonth: function(year, month) {
      return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();
    },
    _getFirstDayOfMonth: function(year, month) {
      return new Date(year, month, 1).getDay();
    },
    _canAdjustMonth: function(inst, offset, curYear, curMonth) {
      var numMonths = this._getNumberOfMonths(inst),
          date = this._daylightSavingAdjust(new Date(curYear, curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));
      if (offset < 0) {
        date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
      }
      return this._isInRange(inst, date);
    },
    _isInRange: function(inst, date) {
      var yearSplit,
          currentYear,
          minDate = this._getMinMaxDate(inst, "min"),
          maxDate = this._getMinMaxDate(inst, "max"),
          minYear = null,
          maxYear = null,
          years = this._get(inst, "yearRange");
      if (years) {
        yearSplit = years.split(":");
        currentYear = new Date().getFullYear();
        minYear = parseInt(yearSplit[0], 10);
        maxYear = parseInt(yearSplit[1], 10);
        if (yearSplit[0].match(/[+\-].*/)) {
          minYear += currentYear;
        }
        if (yearSplit[1].match(/[+\-].*/)) {
          maxYear += currentYear;
        }
      }
      return ((!minDate || date.getTime() >= minDate.getTime()) && (!maxDate || date.getTime() <= maxDate.getTime()) && (!minYear || date.getFullYear() >= minYear) && (!maxYear || date.getFullYear() <= maxYear));
    },
    _getFormatConfig: function(inst) {
      var shortYearCutoff = this._get(inst, "shortYearCutoff");
      shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff : new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
      return {
        shortYearCutoff: shortYearCutoff,
        dayNamesShort: this._get(inst, "dayNamesShort"),
        dayNames: this._get(inst, "dayNames"),
        monthNamesShort: this._get(inst, "monthNamesShort"),
        monthNames: this._get(inst, "monthNames")
      };
    },
    _formatDate: function(inst, day, month, year) {
      if (!day) {
        inst.currentDay = inst.selectedDay;
        inst.currentMonth = inst.selectedMonth;
        inst.currentYear = inst.selectedYear;
      }
      var date = (day ? (typeof day === "object" ? day : this._daylightSavingAdjust(new Date(year, month, day))) : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
      return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
    }
  });
  function datepicker_bindHover(dpDiv) {
    var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
    return dpDiv.on("mouseout", selector, function() {
      $(this).removeClass("ui-state-hover");
      if (this.className.indexOf("ui-datepicker-prev") !== -1) {
        $(this).removeClass("ui-datepicker-prev-hover");
      }
      if (this.className.indexOf("ui-datepicker-next") !== -1) {
        $(this).removeClass("ui-datepicker-next-hover");
      }
    }).on("mouseover", selector, datepicker_handleMouseover);
  }
  function datepicker_handleMouseover() {
    if (!$.datepicker._isDisabledDatepicker(datepicker_instActive.inline ? datepicker_instActive.dpDiv.parent()[0] : datepicker_instActive.input[0])) {
      $(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
      $(this).addClass("ui-state-hover");
      if (this.className.indexOf("ui-datepicker-prev") !== -1) {
        $(this).addClass("ui-datepicker-prev-hover");
      }
      if (this.className.indexOf("ui-datepicker-next") !== -1) {
        $(this).addClass("ui-datepicker-next-hover");
      }
    }
  }
  function datepicker_extendRemove(target, props) {
    $.extend(target, props);
    for (var name in props) {
      if (props[name] == null) {
        target[name] = props[name];
      }
    }
    return target;
  }
  $.fn.datepicker = function(options) {
    if (!this.length) {
      return this;
    }
    if (!$.datepicker.initialized) {
      $(document).on("mousedown", $.datepicker._checkExternalClick);
      $.datepicker.initialized = true;
    }
    if ($("#" + $.datepicker._mainDivId).length === 0) {
      $("body").append($.datepicker.dpDiv);
    }
    var otherArgs = Array.prototype.slice.call(arguments, 1);
    if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
      return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs));
    }
    if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
      return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs));
    }
    return this.each(function() {
      typeof options === "string" ? $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this].concat(otherArgs)) : $.datepicker._attachDatepicker(this, options);
    });
  };
  $.datepicker = new Datepicker();
  $.datepicker.initialized = false;
  $.datepicker.uuid = new Date().getTime();
  $.datepicker.version = "1.12.1";
  var widgetsDatepicker = $.datepicker;
  var ie = $.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
  var mouseHandled = false;
  $(document).on("mouseup", function() {
    mouseHandled = false;
  });
  var widgetsMouse = $.widget("ui.mouse", {
    version: "1.12.1",
    options: {
      cancel: "input, textarea, button, select, option",
      distance: 1,
      delay: 0
    },
    _mouseInit: function() {
      var that = this;
      this.element.on("mousedown." + this.widgetName, function(event) {
        return that._mouseDown(event);
      }).on("click." + this.widgetName, function(event) {
        if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
          $.removeData(event.target, that.widgetName + ".preventClickEvent");
          event.stopImmediatePropagation();
          return false;
        }
      });
      this.started = false;
    },
    _mouseDestroy: function() {
      this.element.off("." + this.widgetName);
      if (this._mouseMoveDelegate) {
        this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate);
      }
    },
    _mouseDown: function(event) {
      if (mouseHandled) {
        return;
      }
      this._mouseMoved = false;
      (this._mouseStarted && this._mouseUp(event));
      this._mouseDownEvent = event;
      var that = this,
          btnIsLeft = (event.which === 1),
          elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
      if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
        return true;
      }
      this.mouseDelayMet = !this.options.delay;
      if (!this.mouseDelayMet) {
        this._mouseDelayTimer = setTimeout(function() {
          that.mouseDelayMet = true;
        }, this.options.delay);
      }
      if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
        this._mouseStarted = (this._mouseStart(event) !== false);
        if (!this._mouseStarted) {
          event.preventDefault();
          return true;
        }
      }
      if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
        $.removeData(event.target, this.widgetName + ".preventClickEvent");
      }
      this._mouseMoveDelegate = function(event) {
        return that._mouseMove(event);
      };
      this._mouseUpDelegate = function(event) {
        return that._mouseUp(event);
      };
      this.document.on("mousemove." + this.widgetName, this._mouseMoveDelegate).on("mouseup." + this.widgetName, this._mouseUpDelegate);
      event.preventDefault();
      mouseHandled = true;
      return true;
    },
    _mouseMove: function(event) {
      if (this._mouseMoved) {
        if ($.ui.ie && (!document.documentMode || document.documentMode < 9) && !event.button) {
          return this._mouseUp(event);
        } else if (!event.which) {
          if (event.originalEvent.altKey || event.originalEvent.ctrlKey || event.originalEvent.metaKey || event.originalEvent.shiftKey) {
            this.ignoreMissingWhich = true;
          } else if (!this.ignoreMissingWhich) {
            return this._mouseUp(event);
          }
        }
      }
      if (event.which || event.button) {
        this._mouseMoved = true;
      }
      if (this._mouseStarted) {
        this._mouseDrag(event);
        return event.preventDefault();
      }
      if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
        this._mouseStarted = (this._mouseStart(this._mouseDownEvent, event) !== false);
        (this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
      }
      return !this._mouseStarted;
    },
    _mouseUp: function(event) {
      this.document.off("mousemove." + this.widgetName, this._mouseMoveDelegate).off("mouseup." + this.widgetName, this._mouseUpDelegate);
      if (this._mouseStarted) {
        this._mouseStarted = false;
        if (event.target === this._mouseDownEvent.target) {
          $.data(event.target, this.widgetName + ".preventClickEvent", true);
        }
        this._mouseStop(event);
      }
      if (this._mouseDelayTimer) {
        clearTimeout(this._mouseDelayTimer);
        delete this._mouseDelayTimer;
      }
      this.ignoreMissingWhich = false;
      mouseHandled = false;
      event.preventDefault();
    },
    _mouseDistanceMet: function(event) {
      return (Math.max(Math.abs(this._mouseDownEvent.pageX - event.pageX), Math.abs(this._mouseDownEvent.pageY - event.pageY)) >= this.options.distance);
    },
    _mouseDelayMet: function() {
      return this.mouseDelayMet;
    },
    _mouseStart: function() {},
    _mouseDrag: function() {},
    _mouseStop: function() {},
    _mouseCapture: function() {
      return true;
    }
  });
  var plugin = $.ui.plugin = {
    add: function(module, option, set) {
      var i,
          proto = $.ui[module].prototype;
      for (i in set) {
        proto.plugins[i] = proto.plugins[i] || [];
        proto.plugins[i].push([option, set[i]]);
      }
    },
    call: function(instance, name, args, allowDisconnected) {
      var i,
          set = instance.plugins[name];
      if (!set) {
        return;
      }
      if (!allowDisconnected && (!instance.element[0].parentNode || instance.element[0].parentNode.nodeType === 11)) {
        return;
      }
      for (i = 0; i < set.length; i++) {
        if (instance.options[set[i][0]]) {
          set[i][1].apply(instance.element, args);
        }
      }
    }
  };
  var safeBlur = $.ui.safeBlur = function(element) {
    if (element && element.nodeName.toLowerCase() !== "body") {
      $(element).trigger("blur");
    }
  };
  $.widget("ui.draggable", $.ui.mouse, {
    version: "1.12.1",
    widgetEventPrefix: "drag",
    options: {
      addClasses: true,
      appendTo: "parent",
      axis: false,
      connectToSortable: false,
      containment: false,
      cursor: "auto",
      cursorAt: false,
      grid: false,
      handle: false,
      helper: "original",
      iframeFix: false,
      opacity: false,
      refreshPositions: false,
      revert: false,
      revertDuration: 500,
      scope: "default",
      scroll: true,
      scrollSensitivity: 20,
      scrollSpeed: 20,
      snap: false,
      snapMode: "both",
      snapTolerance: 20,
      stack: false,
      zIndex: false,
      drag: null,
      start: null,
      stop: null
    },
    _create: function() {
      if (this.options.helper === "original") {
        this._setPositionRelative();
      }
      if (this.options.addClasses) {
        this._addClass("ui-draggable");
      }
      this._setHandleClassName();
      this._mouseInit();
    },
    _setOption: function(key, value) {
      this._super(key, value);
      if (key === "handle") {
        this._removeHandleClassName();
        this._setHandleClassName();
      }
    },
    _destroy: function() {
      if ((this.helper || this.element).is(".ui-draggable-dragging")) {
        this.destroyOnClear = true;
        return;
      }
      this._removeHandleClassName();
      this._mouseDestroy();
    },
    _mouseCapture: function(event) {
      var o = this.options;
      if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
        return false;
      }
      this.handle = this._getHandle(event);
      if (!this.handle) {
        return false;
      }
      this._blurActiveElement(event);
      this._blockFrames(o.iframeFix === true ? "iframe" : o.iframeFix);
      return true;
    },
    _blockFrames: function(selector) {
      this.iframeBlocks = this.document.find(selector).map(function() {
        var iframe = $(this);
        return $("<div>").css("position", "absolute").appendTo(iframe.parent()).outerWidth(iframe.outerWidth()).outerHeight(iframe.outerHeight()).offset(iframe.offset())[0];
      });
    },
    _unblockFrames: function() {
      if (this.iframeBlocks) {
        this.iframeBlocks.remove();
        delete this.iframeBlocks;
      }
    },
    _blurActiveElement: function(event) {
      var activeElement = $.ui.safeActiveElement(this.document[0]),
          target = $(event.target);
      if (target.closest(activeElement).length) {
        return;
      }
      $.ui.safeBlur(activeElement);
    },
    _mouseStart: function(event) {
      var o = this.options;
      this.helper = this._createHelper(event);
      this._addClass(this.helper, "ui-draggable-dragging");
      this._cacheHelperProportions();
      if ($.ui.ddmanager) {
        $.ui.ddmanager.current = this;
      }
      this._cacheMargins();
      this.cssPosition = this.helper.css("position");
      this.scrollParent = this.helper.scrollParent(true);
      this.offsetParent = this.helper.offsetParent();
      this.hasFixedAncestor = this.helper.parents().filter(function() {
        return $(this).css("position") === "fixed";
      }).length > 0;
      this.positionAbs = this.element.offset();
      this._refreshOffsets(event);
      this.originalPosition = this.position = this._generatePosition(event, false);
      this.originalPageX = event.pageX;
      this.originalPageY = event.pageY;
      (o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
      this._setContainment();
      if (this._trigger("start", event) === false) {
        this._clear();
        return false;
      }
      this._cacheHelperProportions();
      if ($.ui.ddmanager && !o.dropBehaviour) {
        $.ui.ddmanager.prepareOffsets(this, event);
      }
      this._mouseDrag(event, true);
      if ($.ui.ddmanager) {
        $.ui.ddmanager.dragStart(this, event);
      }
      return true;
    },
    _refreshOffsets: function(event) {
      this.offset = {
        top: this.positionAbs.top - this.margins.top,
        left: this.positionAbs.left - this.margins.left,
        scroll: false,
        parent: this._getParentOffset(),
        relative: this._getRelativeOffset()
      };
      this.offset.click = {
        left: event.pageX - this.offset.left,
        top: event.pageY - this.offset.top
      };
    },
    _mouseDrag: function(event, noPropagation) {
      if (this.hasFixedAncestor) {
        this.offset.parent = this._getParentOffset();
      }
      this.position = this._generatePosition(event, true);
      this.positionAbs = this._convertPositionTo("absolute");
      if (!noPropagation) {
        var ui = this._uiHash();
        if (this._trigger("drag", event, ui) === false) {
          this._mouseUp(new $.Event("mouseup", event));
          return false;
        }
        this.position = ui.position;
      }
      this.helper[0].style.left = this.position.left + "px";
      this.helper[0].style.top = this.position.top + "px";
      if ($.ui.ddmanager) {
        $.ui.ddmanager.drag(this, event);
      }
      return false;
    },
    _mouseStop: function(event) {
      var that = this,
          dropped = false;
      if ($.ui.ddmanager && !this.options.dropBehaviour) {
        dropped = $.ui.ddmanager.drop(this, event);
      }
      if (this.dropped) {
        dropped = this.dropped;
        this.dropped = false;
      }
      if ((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
        $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
          if (that._trigger("stop", event) !== false) {
            that._clear();
          }
        });
      } else {
        if (this._trigger("stop", event) !== false) {
          this._clear();
        }
      }
      return false;
    },
    _mouseUp: function(event) {
      this._unblockFrames();
      if ($.ui.ddmanager) {
        $.ui.ddmanager.dragStop(this, event);
      }
      if (this.handleElement.is(event.target)) {
        this.element.trigger("focus");
      }
      return $.ui.mouse.prototype._mouseUp.call(this, event);
    },
    cancel: function() {
      if (this.helper.is(".ui-draggable-dragging")) {
        this._mouseUp(new $.Event("mouseup", {target: this.element[0]}));
      } else {
        this._clear();
      }
      return this;
    },
    _getHandle: function(event) {
      return this.options.handle ? !!$(event.target).closest(this.element.find(this.options.handle)).length : true;
    },
    _setHandleClassName: function() {
      this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element;
      this._addClass(this.handleElement, "ui-draggable-handle");
    },
    _removeHandleClassName: function() {
      this._removeClass(this.handleElement, "ui-draggable-handle");
    },
    _createHelper: function(event) {
      var o = this.options,
          helperIsFunction = $.isFunction(o.helper),
          helper = helperIsFunction ? $(o.helper.apply(this.element[0], [event])) : (o.helper === "clone" ? this.element.clone().removeAttr("id") : this.element);
      if (!helper.parents("body").length) {
        helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
      }
      if (helperIsFunction && helper[0] === this.element[0]) {
        this._setPositionRelative();
      }
      if (helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
        helper.css("position", "absolute");
      }
      return helper;
    },
    _setPositionRelative: function() {
      if (!(/^(?:r|a|f)/).test(this.element.css("position"))) {
        this.element[0].style.position = "relative";
      }
    },
    _adjustOffsetFromHelper: function(obj) {
      if (typeof obj === "string") {
        obj = obj.split(" ");
      }
      if ($.isArray(obj)) {
        obj = {
          left: +obj[0],
          top: +obj[1] || 0
        };
      }
      if ("left" in obj) {
        this.offset.click.left = obj.left + this.margins.left;
      }
      if ("right" in obj) {
        this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
      }
      if ("top" in obj) {
        this.offset.click.top = obj.top + this.margins.top;
      }
      if ("bottom" in obj) {
        this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
      }
    },
    _isRootNode: function(element) {
      return (/(html|body)/i).test(element.tagName) || element === this.document[0];
    },
    _getParentOffset: function() {
      var po = this.offsetParent.offset(),
          document = this.document[0];
      if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
        po.left += this.scrollParent.scrollLeft();
        po.top += this.scrollParent.scrollTop();
      }
      if (this._isRootNode(this.offsetParent[0])) {
        po = {
          top: 0,
          left: 0
        };
      }
      return {
        top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
        left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
      };
    },
    _getRelativeOffset: function() {
      if (this.cssPosition !== "relative") {
        return {
          top: 0,
          left: 0
        };
      }
      var p = this.element.position(),
          scrollIsRootNode = this._isRootNode(this.scrollParent[0]);
      return {
        top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollTop() : 0),
        left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + (!scrollIsRootNode ? this.scrollParent.scrollLeft() : 0)
      };
    },
    _cacheMargins: function() {
      this.margins = {
        left: (parseInt(this.element.css("marginLeft"), 10) || 0),
        top: (parseInt(this.element.css("marginTop"), 10) || 0),
        right: (parseInt(this.element.css("marginRight"), 10) || 0),
        bottom: (parseInt(this.element.css("marginBottom"), 10) || 0)
      };
    },
    _cacheHelperProportions: function() {
      this.helperProportions = {
        width: this.helper.outerWidth(),
        height: this.helper.outerHeight()
      };
    },
    _setContainment: function() {
      var isUserScrollable,
          c,
          ce,
          o = this.options,
          document = this.document[0];
      this.relativeContainer = null;
      if (!o.containment) {
        this.containment = null;
        return;
      }
      if (o.containment === "window") {
        this.containment = [$(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, $(window).scrollLeft() + $(window).width() - this.helperProportions.width - this.margins.left, $(window).scrollTop() + ($(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
        return;
      }
      if (o.containment === "document") {
        this.containment = [0, 0, $(document).width() - this.helperProportions.width - this.margins.left, ($(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
        return;
      }
      if (o.containment.constructor === Array) {
        this.containment = o.containment;
        return;
      }
      if (o.containment === "parent") {
        o.containment = this.helper[0].parentNode;
      }
      c = $(o.containment);
      ce = c[0];
      if (!ce) {
        return;
      }
      isUserScrollable = /(scroll|auto)/.test(c.css("overflow"));
      this.containment = [(parseInt(c.css("borderLeftWidth"), 10) || 0) + (parseInt(c.css("paddingLeft"), 10) || 0), (parseInt(c.css("borderTopWidth"), 10) || 0) + (parseInt(c.css("paddingTop"), 10) || 0), (isUserScrollable ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt(c.css("borderRightWidth"), 10) || 0) - (parseInt(c.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (isUserScrollable ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt(c.css("borderBottomWidth"), 10) || 0) - (parseInt(c.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom];
      this.relativeContainer = c;
    },
    _convertPositionTo: function(d, pos) {
      if (!pos) {
        pos = this.position;
      }
      var mod = d === "absolute" ? 1 : -1,
          scrollIsRootNode = this._isRootNode(this.scrollParent[0]);
      return {
        top: (pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - ((this.cssPosition === "fixed" ? -this.offset.scroll.top : (scrollIsRootNode ? 0 : this.offset.scroll.top)) * mod)),
        left: (pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - ((this.cssPosition === "fixed" ? -this.offset.scroll.left : (scrollIsRootNode ? 0 : this.offset.scroll.left)) * mod))
      };
    },
    _generatePosition: function(event, constrainPosition) {
      var containment,
          co,
          top,
          left,
          o = this.options,
          scrollIsRootNode = this._isRootNode(this.scrollParent[0]),
          pageX = event.pageX,
          pageY = event.pageY;
      if (!scrollIsRootNode || !this.offset.scroll) {
        this.offset.scroll = {
          top: this.scrollParent.scrollTop(),
          left: this.scrollParent.scrollLeft()
        };
      }
      if (constrainPosition) {
        if (this.containment) {
          if (this.relativeContainer) {
            co = this.relativeContainer.offset();
            containment = [this.containment[0] + co.left, this.containment[1] + co.top, this.containment[2] + co.left, this.containment[3] + co.top];
          } else {
            containment = this.containment;
          }
          if (event.pageX - this.offset.click.left < containment[0]) {
            pageX = containment[0] + this.offset.click.left;
          }
          if (event.pageY - this.offset.click.top < containment[1]) {
            pageY = containment[1] + this.offset.click.top;
          }
          if (event.pageX - this.offset.click.left > containment[2]) {
            pageX = containment[2] + this.offset.click.left;
          }
          if (event.pageY - this.offset.click.top > containment[3]) {
            pageY = containment[3] + this.offset.click.top;
          }
        }
        if (o.grid) {
          top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
          pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
          left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
          pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
        }
        if (o.axis === "y") {
          pageX = this.originalPageX;
        }
        if (o.axis === "x") {
          pageY = this.originalPageY;
        }
      }
      return {
        top: (pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.offset.scroll.top : (scrollIsRootNode ? 0 : this.offset.scroll.top))),
        left: (pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.offset.scroll.left : (scrollIsRootNode ? 0 : this.offset.scroll.left)))
      };
    },
    _clear: function() {
      this._removeClass(this.helper, "ui-draggable-dragging");
      if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
        this.helper.remove();
      }
      this.helper = null;
      this.cancelHelperRemoval = false;
      if (this.destroyOnClear) {
        this.destroy();
      }
    },
    _trigger: function(type, event, ui) {
      ui = ui || this._uiHash();
      $.ui.plugin.call(this, type, [event, ui, this], true);
      if (/^(drag|start|stop)/.test(type)) {
        this.positionAbs = this._convertPositionTo("absolute");
        ui.offset = this.positionAbs;
      }
      return $.Widget.prototype._trigger.call(this, type, event, ui);
    },
    plugins: {},
    _uiHash: function() {
      return {
        helper: this.helper,
        position: this.position,
        originalPosition: this.originalPosition,
        offset: this.positionAbs
      };
    }
  });
  $.ui.plugin.add("draggable", "connectToSortable", {
    start: function(event, ui, draggable) {
      var uiSortable = $.extend({}, ui, {item: draggable.element});
      draggable.sortables = [];
      $(draggable.options.connectToSortable).each(function() {
        var sortable = $(this).sortable("instance");
        if (sortable && !sortable.options.disabled) {
          draggable.sortables.push(sortable);
          sortable.refreshPositions();
          sortable._trigger("activate", event, uiSortable);
        }
      });
    },
    stop: function(event, ui, draggable) {
      var uiSortable = $.extend({}, ui, {item: draggable.element});
      draggable.cancelHelperRemoval = false;
      $.each(draggable.sortables, function() {
        var sortable = this;
        if (sortable.isOver) {
          sortable.isOver = 0;
          draggable.cancelHelperRemoval = true;
          sortable.cancelHelperRemoval = false;
          sortable._storedCSS = {
            position: sortable.placeholder.css("position"),
            top: sortable.placeholder.css("top"),
            left: sortable.placeholder.css("left")
          };
          sortable._mouseStop(event);
          sortable.options.helper = sortable.options._helper;
        } else {
          sortable.cancelHelperRemoval = true;
          sortable._trigger("deactivate", event, uiSortable);
        }
      });
    },
    drag: function(event, ui, draggable) {
      $.each(draggable.sortables, function() {
        var innermostIntersecting = false,
            sortable = this;
        sortable.positionAbs = draggable.positionAbs;
        sortable.helperProportions = draggable.helperProportions;
        sortable.offset.click = draggable.offset.click;
        if (sortable._intersectsWith(sortable.containerCache)) {
          innermostIntersecting = true;
          $.each(draggable.sortables, function() {
            this.positionAbs = draggable.positionAbs;
            this.helperProportions = draggable.helperProportions;
            this.offset.click = draggable.offset.click;
            if (this !== sortable && this._intersectsWith(this.containerCache) && $.contains(sortable.element[0], this.element[0])) {
              innermostIntersecting = false;
            }
            return innermostIntersecting;
          });
        }
        if (innermostIntersecting) {
          if (!sortable.isOver) {
            sortable.isOver = 1;
            draggable._parent = ui.helper.parent();
            sortable.currentItem = ui.helper.appendTo(sortable.element).data("ui-sortable-item", true);
            sortable.options._helper = sortable.options.helper;
            sortable.options.helper = function() {
              return ui.helper[0];
            };
            event.target = sortable.currentItem[0];
            sortable._mouseCapture(event, true);
            sortable._mouseStart(event, true, true);
            sortable.offset.click.top = draggable.offset.click.top;
            sortable.offset.click.left = draggable.offset.click.left;
            sortable.offset.parent.left -= draggable.offset.parent.left - sortable.offset.parent.left;
            sortable.offset.parent.top -= draggable.offset.parent.top - sortable.offset.parent.top;
            draggable._trigger("toSortable", event);
            draggable.dropped = sortable.element;
            $.each(draggable.sortables, function() {
              this.refreshPositions();
            });
            draggable.currentItem = draggable.element;
            sortable.fromOutside = draggable;
          }
          if (sortable.currentItem) {
            sortable._mouseDrag(event);
            ui.position = sortable.position;
          }
        } else {
          if (sortable.isOver) {
            sortable.isOver = 0;
            sortable.cancelHelperRemoval = true;
            sortable.options._revert = sortable.options.revert;
            sortable.options.revert = false;
            sortable._trigger("out", event, sortable._uiHash(sortable));
            sortable._mouseStop(event, true);
            sortable.options.revert = sortable.options._revert;
            sortable.options.helper = sortable.options._helper;
            if (sortable.placeholder) {
              sortable.placeholder.remove();
            }
            ui.helper.appendTo(draggable._parent);
            draggable._refreshOffsets(event);
            ui.position = draggable._generatePosition(event, true);
            draggable._trigger("fromSortable", event);
            draggable.dropped = false;
            $.each(draggable.sortables, function() {
              this.refreshPositions();
            });
          }
        }
      });
    }
  });
  $.ui.plugin.add("draggable", "cursor", {
    start: function(event, ui, instance) {
      var t = $("body"),
          o = instance.options;
      if (t.css("cursor")) {
        o._cursor = t.css("cursor");
      }
      t.css("cursor", o.cursor);
    },
    stop: function(event, ui, instance) {
      var o = instance.options;
      if (o._cursor) {
        $("body").css("cursor", o._cursor);
      }
    }
  });
  $.ui.plugin.add("draggable", "opacity", {
    start: function(event, ui, instance) {
      var t = $(ui.helper),
          o = instance.options;
      if (t.css("opacity")) {
        o._opacity = t.css("opacity");
      }
      t.css("opacity", o.opacity);
    },
    stop: function(event, ui, instance) {
      var o = instance.options;
      if (o._opacity) {
        $(ui.helper).css("opacity", o._opacity);
      }
    }
  });
  $.ui.plugin.add("draggable", "scroll", {
    start: function(event, ui, i) {
      if (!i.scrollParentNotHidden) {
        i.scrollParentNotHidden = i.helper.scrollParent(false);
      }
      if (i.scrollParentNotHidden[0] !== i.document[0] && i.scrollParentNotHidden[0].tagName !== "HTML") {
        i.overflowOffset = i.scrollParentNotHidden.offset();
      }
    },
    drag: function(event, ui, i) {
      var o = i.options,
          scrolled = false,
          scrollParent = i.scrollParentNotHidden[0],
          document = i.document[0];
      if (scrollParent !== document && scrollParent.tagName !== "HTML") {
        if (!o.axis || o.axis !== "x") {
          if ((i.overflowOffset.top + scrollParent.offsetHeight) - event.pageY < o.scrollSensitivity) {
            scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;
          } else if (event.pageY - i.overflowOffset.top < o.scrollSensitivity) {
            scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;
          }
        }
        if (!o.axis || o.axis !== "y") {
          if ((i.overflowOffset.left + scrollParent.offsetWidth) - event.pageX < o.scrollSensitivity) {
            scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;
          } else if (event.pageX - i.overflowOffset.left < o.scrollSensitivity) {
            scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;
          }
        }
      } else {
        if (!o.axis || o.axis !== "x") {
          if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
            scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
          } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
            scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
          }
        }
        if (!o.axis || o.axis !== "y") {
          if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
            scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
          } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
            scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
          }
        }
      }
      if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
        $.ui.ddmanager.prepareOffsets(i, event);
      }
    }
  });
  $.ui.plugin.add("draggable", "snap", {
    start: function(event, ui, i) {
      var o = i.options;
      i.snapElements = [];
      $(o.snap.constructor !== String ? (o.snap.items || ":data(ui-draggable)") : o.snap).each(function() {
        var $t = $(this),
            $o = $t.offset();
        if (this !== i.element[0]) {
          i.snapElements.push({
            item: this,
            width: $t.outerWidth(),
            height: $t.outerHeight(),
            top: $o.top,
            left: $o.left
          });
        }
      });
    },
    drag: function(event, ui, inst) {
      var ts,
          bs,
          ls,
          rs,
          l,
          r,
          t,
          b,
          i,
          first,
          o = inst.options,
          d = o.snapTolerance,
          x1 = ui.offset.left,
          x2 = x1 + inst.helperProportions.width,
          y1 = ui.offset.top,
          y2 = y1 + inst.helperProportions.height;
      for (i = inst.snapElements.length - 1; i >= 0; i--) {
        l = inst.snapElements[i].left - inst.margins.left;
        r = l + inst.snapElements[i].width;
        t = inst.snapElements[i].top - inst.margins.top;
        b = t + inst.snapElements[i].height;
        if (x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains(inst.snapElements[i].item.ownerDocument, inst.snapElements[i].item)) {
          if (inst.snapElements[i].snapping) {
            (inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), {snapItem: inst.snapElements[i].item})));
          }
          inst.snapElements[i].snapping = false;
          continue;
        }
        if (o.snapMode !== "inner") {
          ts = Math.abs(t - y2) <= d;
          bs = Math.abs(b - y1) <= d;
          ls = Math.abs(l - x2) <= d;
          rs = Math.abs(r - x1) <= d;
          if (ts) {
            ui.position.top = inst._convertPositionTo("relative", {
              top: t - inst.helperProportions.height,
              left: 0
            }).top;
          }
          if (bs) {
            ui.position.top = inst._convertPositionTo("relative", {
              top: b,
              left: 0
            }).top;
          }
          if (ls) {
            ui.position.left = inst._convertPositionTo("relative", {
              top: 0,
              left: l - inst.helperProportions.width
            }).left;
          }
          if (rs) {
            ui.position.left = inst._convertPositionTo("relative", {
              top: 0,
              left: r
            }).left;
          }
        }
        first = (ts || bs || ls || rs);
        if (o.snapMode !== "outer") {
          ts = Math.abs(t - y1) <= d;
          bs = Math.abs(b - y2) <= d;
          ls = Math.abs(l - x1) <= d;
          rs = Math.abs(r - x2) <= d;
          if (ts) {
            ui.position.top = inst._convertPositionTo("relative", {
              top: t,
              left: 0
            }).top;
          }
          if (bs) {
            ui.position.top = inst._convertPositionTo("relative", {
              top: b - inst.helperProportions.height,
              left: 0
            }).top;
          }
          if (ls) {
            ui.position.left = inst._convertPositionTo("relative", {
              top: 0,
              left: l
            }).left;
          }
          if (rs) {
            ui.position.left = inst._convertPositionTo("relative", {
              top: 0,
              left: r - inst.helperProportions.width
            }).left;
          }
        }
        if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
          (inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), {snapItem: inst.snapElements[i].item})));
        }
        inst.snapElements[i].snapping = (ts || bs || ls || rs || first);
      }
    }
  });
  $.ui.plugin.add("draggable", "stack", {start: function(event, ui, instance) {
      var min,
          o = instance.options,
          group = $.makeArray($(o.stack)).sort(function(a, b) {
            return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0);
          });
      if (!group.length) {
        return;
      }
      min = parseInt($(group[0]).css("zIndex"), 10) || 0;
      $(group).each(function(i) {
        $(this).css("zIndex", min + i);
      });
      this.css("zIndex", (min + group.length));
    }});
  $.ui.plugin.add("draggable", "zIndex", {
    start: function(event, ui, instance) {
      var t = $(ui.helper),
          o = instance.options;
      if (t.css("zIndex")) {
        o._zIndex = t.css("zIndex");
      }
      t.css("zIndex", o.zIndex);
    },
    stop: function(event, ui, instance) {
      var o = instance.options;
      if (o._zIndex) {
        $(ui.helper).css("zIndex", o._zIndex);
      }
    }
  });
  var widgetsDraggable = $.ui.draggable;
  $.widget("ui.resizable", $.ui.mouse, {
    version: "1.12.1",
    widgetEventPrefix: "resize",
    options: {
      alsoResize: false,
      animate: false,
      animateDuration: "slow",
      animateEasing: "swing",
      aspectRatio: false,
      autoHide: false,
      classes: {"ui-resizable-se": "ui-icon ui-icon-gripsmall-diagonal-se"},
      containment: false,
      ghost: false,
      grid: false,
      handles: "e,s,se",
      helper: false,
      maxHeight: null,
      maxWidth: null,
      minHeight: 10,
      minWidth: 10,
      zIndex: 90,
      resize: null,
      start: null,
      stop: null
    },
    _num: function(value) {
      return parseFloat(value) || 0;
    },
    _isNumber: function(value) {
      return !isNaN(parseFloat(value));
    },
    _hasScroll: function(el, a) {
      if ($(el).css("overflow") === "hidden") {
        return false;
      }
      var scroll = (a && a === "left") ? "scrollLeft" : "scrollTop",
          has = false;
      if (el[scroll] > 0) {
        return true;
      }
      el[scroll] = 1;
      has = (el[scroll] > 0);
      el[scroll] = 0;
      return has;
    },
    _create: function() {
      var margins,
          o = this.options,
          that = this;
      this._addClass("ui-resizable");
      $.extend(this, {
        _aspectRatio: !!(o.aspectRatio),
        aspectRatio: o.aspectRatio,
        originalElement: this.element,
        _proportionallyResizeElements: [],
        _helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
      });
      if (this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)) {
        this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
          position: this.element.css("position"),
          width: this.element.outerWidth(),
          height: this.element.outerHeight(),
          top: this.element.css("top"),
          left: this.element.css("left")
        }));
        this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance"));
        this.elementIsWrapper = true;
        margins = {
          marginTop: this.originalElement.css("marginTop"),
          marginRight: this.originalElement.css("marginRight"),
          marginBottom: this.originalElement.css("marginBottom"),
          marginLeft: this.originalElement.css("marginLeft")
        };
        this.element.css(margins);
        this.originalElement.css("margin", 0);
        this.originalResizeStyle = this.originalElement.css("resize");
        this.originalElement.css("resize", "none");
        this._proportionallyResizeElements.push(this.originalElement.css({
          position: "static",
          zoom: 1,
          display: "block"
        }));
        this.originalElement.css(margins);
        this._proportionallyResize();
      }
      this._setupHandles();
      if (o.autoHide) {
        $(this.element).on("mouseenter", function() {
          if (o.disabled) {
            return;
          }
          that._removeClass("ui-resizable-autohide");
          that._handles.show();
        }).on("mouseleave", function() {
          if (o.disabled) {
            return;
          }
          if (!that.resizing) {
            that._addClass("ui-resizable-autohide");
            that._handles.hide();
          }
        });
      }
      this._mouseInit();
    },
    _destroy: function() {
      this._mouseDestroy();
      var wrapper,
          _destroy = function(exp) {
            $(exp).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove();
          };
      if (this.elementIsWrapper) {
        _destroy(this.element);
        wrapper = this.element;
        this.originalElement.css({
          position: wrapper.css("position"),
          width: wrapper.outerWidth(),
          height: wrapper.outerHeight(),
          top: wrapper.css("top"),
          left: wrapper.css("left")
        }).insertAfter(wrapper);
        wrapper.remove();
      }
      this.originalElement.css("resize", this.originalResizeStyle);
      _destroy(this.originalElement);
      return this;
    },
    _setOption: function(key, value) {
      this._super(key, value);
      switch (key) {
        case "handles":
          this._removeHandles();
          this._setupHandles();
          break;
        default:
          break;
      }
    },
    _setupHandles: function() {
      var o = this.options,
          handle,
          i,
          n,
          hname,
          axis,
          that = this;
      this.handles = o.handles || (!$(".ui-resizable-handle", this.element).length ? "e,s,se" : {
        n: ".ui-resizable-n",
        e: ".ui-resizable-e",
        s: ".ui-resizable-s",
        w: ".ui-resizable-w",
        se: ".ui-resizable-se",
        sw: ".ui-resizable-sw",
        ne: ".ui-resizable-ne",
        nw: ".ui-resizable-nw"
      });
      this._handles = $();
      if (this.handles.constructor === String) {
        if (this.handles === "all") {
          this.handles = "n,e,s,w,se,sw,ne,nw";
        }
        n = this.handles.split(",");
        this.handles = {};
        for (i = 0; i < n.length; i++) {
          handle = $.trim(n[i]);
          hname = "ui-resizable-" + handle;
          axis = $("<div>");
          this._addClass(axis, "ui-resizable-handle " + hname);
          axis.css({zIndex: o.zIndex});
          this.handles[handle] = ".ui-resizable-" + handle;
          this.element.append(axis);
        }
      }
      this._renderAxis = function(target) {
        var i,
            axis,
            padPos,
            padWrapper;
        target = target || this.element;
        for (i in this.handles) {
          if (this.handles[i].constructor === String) {
            this.handles[i] = this.element.children(this.handles[i]).first().show();
          } else if (this.handles[i].jquery || this.handles[i].nodeType) {
            this.handles[i] = $(this.handles[i]);
            this._on(this.handles[i], {"mousedown": that._mouseDown});
          }
          if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)) {
            axis = $(this.handles[i], this.element);
            padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();
            padPos = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join("");
            target.css(padPos, padWrapper);
            this._proportionallyResize();
          }
          this._handles = this._handles.add(this.handles[i]);
        }
      };
      this._renderAxis(this.element);
      this._handles = this._handles.add(this.element.find(".ui-resizable-handle"));
      this._handles.disableSelection();
      this._handles.on("mouseover", function() {
        if (!that.resizing) {
          if (this.className) {
            axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
          }
          that.axis = axis && axis[1] ? axis[1] : "se";
        }
      });
      if (o.autoHide) {
        this._handles.hide();
        this._addClass("ui-resizable-autohide");
      }
    },
    _removeHandles: function() {
      this._handles.remove();
    },
    _mouseCapture: function(event) {
      var i,
          handle,
          capture = false;
      for (i in this.handles) {
        handle = $(this.handles[i])[0];
        if (handle === event.target || $.contains(handle, event.target)) {
          capture = true;
        }
      }
      return !this.options.disabled && capture;
    },
    _mouseStart: function(event) {
      var curleft,
          curtop,
          cursor,
          o = this.options,
          el = this.element;
      this.resizing = true;
      this._renderProxy();
      curleft = this._num(this.helper.css("left"));
      curtop = this._num(this.helper.css("top"));
      if (o.containment) {
        curleft += $(o.containment).scrollLeft() || 0;
        curtop += $(o.containment).scrollTop() || 0;
      }
      this.offset = this.helper.offset();
      this.position = {
        left: curleft,
        top: curtop
      };
      this.size = this._helper ? {
        width: this.helper.width(),
        height: this.helper.height()
      } : {
        width: el.width(),
        height: el.height()
      };
      this.originalSize = this._helper ? {
        width: el.outerWidth(),
        height: el.outerHeight()
      } : {
        width: el.width(),
        height: el.height()
      };
      this.sizeDiff = {
        width: el.outerWidth() - el.width(),
        height: el.outerHeight() - el.height()
      };
      this.originalPosition = {
        left: curleft,
        top: curtop
      };
      this.originalMousePosition = {
        left: event.pageX,
        top: event.pageY
      };
      this.aspectRatio = (typeof o.aspectRatio === "number") ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);
      cursor = $(".ui-resizable-" + this.axis).css("cursor");
      $("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);
      this._addClass("ui-resizable-resizing");
      this._propagate("start", event);
      return true;
    },
    _mouseDrag: function(event) {
      var data,
          props,
          smp = this.originalMousePosition,
          a = this.axis,
          dx = (event.pageX - smp.left) || 0,
          dy = (event.pageY - smp.top) || 0,
          trigger = this._change[a];
      this._updatePrevProperties();
      if (!trigger) {
        return false;
      }
      data = trigger.apply(this, [event, dx, dy]);
      this._updateVirtualBoundaries(event.shiftKey);
      if (this._aspectRatio || event.shiftKey) {
        data = this._updateRatio(data, event);
      }
      data = this._respectSize(data, event);
      this._updateCache(data);
      this._propagate("resize", event);
      props = this._applyChanges();
      if (!this._helper && this._proportionallyResizeElements.length) {
        this._proportionallyResize();
      }
      if (!$.isEmptyObject(props)) {
        this._updatePrevProperties();
        this._trigger("resize", event, this.ui());
        this._applyChanges();
      }
      return false;
    },
    _mouseStop: function(event) {
      this.resizing = false;
      var pr,
          ista,
          soffseth,
          soffsetw,
          s,
          left,
          top,
          o = this.options,
          that = this;
      if (this._helper) {
        pr = this._proportionallyResizeElements;
        ista = pr.length && (/textarea/i).test(pr[0].nodeName);
        soffseth = ista && this._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
        soffsetw = ista ? 0 : that.sizeDiff.width;
        s = {
          width: (that.helper.width() - soffsetw),
          height: (that.helper.height() - soffseth)
        };
        left = (parseFloat(that.element.css("left")) + (that.position.left - that.originalPosition.left)) || null;
        top = (parseFloat(that.element.css("top")) + (that.position.top - that.originalPosition.top)) || null;
        if (!o.animate) {
          this.element.css($.extend(s, {
            top: top,
            left: left
          }));
        }
        that.helper.height(that.size.height);
        that.helper.width(that.size.width);
        if (this._helper && !o.animate) {
          this._proportionallyResize();
        }
      }
      $("body").css("cursor", "auto");
      this._removeClass("ui-resizable-resizing");
      this._propagate("stop", event);
      if (this._helper) {
        this.helper.remove();
      }
      return false;
    },
    _updatePrevProperties: function() {
      this.prevPosition = {
        top: this.position.top,
        left: this.position.left
      };
      this.prevSize = {
        width: this.size.width,
        height: this.size.height
      };
    },
    _applyChanges: function() {
      var props = {};
      if (this.position.top !== this.prevPosition.top) {
        props.top = this.position.top + "px";
      }
      if (this.position.left !== this.prevPosition.left) {
        props.left = this.position.left + "px";
      }
      if (this.size.width !== this.prevSize.width) {
        props.width = this.size.width + "px";
      }
      if (this.size.height !== this.prevSize.height) {
        props.height = this.size.height + "px";
      }
      this.helper.css(props);
      return props;
    },
    _updateVirtualBoundaries: function(forceAspectRatio) {
      var pMinWidth,
          pMaxWidth,
          pMinHeight,
          pMaxHeight,
          b,
          o = this.options;
      b = {
        minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
        maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
        minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
        maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
      };
      if (this._aspectRatio || forceAspectRatio) {
        pMinWidth = b.minHeight * this.aspectRatio;
        pMinHeight = b.minWidth / this.aspectRatio;
        pMaxWidth = b.maxHeight * this.aspectRatio;
        pMaxHeight = b.maxWidth / this.aspectRatio;
        if (pMinWidth > b.minWidth) {
          b.minWidth = pMinWidth;
        }
        if (pMinHeight > b.minHeight) {
          b.minHeight = pMinHeight;
        }
        if (pMaxWidth < b.maxWidth) {
          b.maxWidth = pMaxWidth;
        }
        if (pMaxHeight < b.maxHeight) {
          b.maxHeight = pMaxHeight;
        }
      }
      this._vBoundaries = b;
    },
    _updateCache: function(data) {
      this.offset = this.helper.offset();
      if (this._isNumber(data.left)) {
        this.position.left = data.left;
      }
      if (this._isNumber(data.top)) {
        this.position.top = data.top;
      }
      if (this._isNumber(data.height)) {
        this.size.height = data.height;
      }
      if (this._isNumber(data.width)) {
        this.size.width = data.width;
      }
    },
    _updateRatio: function(data) {
      var cpos = this.position,
          csize = this.size,
          a = this.axis;
      if (this._isNumber(data.height)) {
        data.width = (data.height * this.aspectRatio);
      } else if (this._isNumber(data.width)) {
        data.height = (data.width / this.aspectRatio);
      }
      if (a === "sw") {
        data.left = cpos.left + (csize.width - data.width);
        data.top = null;
      }
      if (a === "nw") {
        data.top = cpos.top + (csize.height - data.height);
        data.left = cpos.left + (csize.width - data.width);
      }
      return data;
    },
    _respectSize: function(data) {
      var o = this._vBoundaries,
          a = this.axis,
          ismaxw = this._isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width),
          ismaxh = this._isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),
          isminw = this._isNumber(data.width) && o.minWidth && (o.minWidth > data.width),
          isminh = this._isNumber(data.height) && o.minHeight && (o.minHeight > data.height),
          dw = this.originalPosition.left + this.originalSize.width,
          dh = this.originalPosition.top + this.originalSize.height,
          cw = /sw|nw|w/.test(a),
          ch = /nw|ne|n/.test(a);
      if (isminw) {
        data.width = o.minWidth;
      }
      if (isminh) {
        data.height = o.minHeight;
      }
      if (ismaxw) {
        data.width = o.maxWidth;
      }
      if (ismaxh) {
        data.height = o.maxHeight;
      }
      if (isminw && cw) {
        data.left = dw - o.minWidth;
      }
      if (ismaxw && cw) {
        data.left = dw - o.maxWidth;
      }
      if (isminh && ch) {
        data.top = dh - o.minHeight;
      }
      if (ismaxh && ch) {
        data.top = dh - o.maxHeight;
      }
      if (!data.width && !data.height && !data.left && data.top) {
        data.top = null;
      } else if (!data.width && !data.height && !data.top && data.left) {
        data.left = null;
      }
      return data;
    },
    _getPaddingPlusBorderDimensions: function(element) {
      var i = 0,
          widths = [],
          borders = [element.css("borderTopWidth"), element.css("borderRightWidth"), element.css("borderBottomWidth"), element.css("borderLeftWidth")],
          paddings = [element.css("paddingTop"), element.css("paddingRight"), element.css("paddingBottom"), element.css("paddingLeft")];
      for (; i < 4; i++) {
        widths[i] = (parseFloat(borders[i]) || 0);
        widths[i] += (parseFloat(paddings[i]) || 0);
      }
      return {
        height: widths[0] + widths[2],
        width: widths[1] + widths[3]
      };
    },
    _proportionallyResize: function() {
      if (!this._proportionallyResizeElements.length) {
        return;
      }
      var prel,
          i = 0,
          element = this.helper || this.element;
      for (; i < this._proportionallyResizeElements.length; i++) {
        prel = this._proportionallyResizeElements[i];
        if (!this.outerDimensions) {
          this.outerDimensions = this._getPaddingPlusBorderDimensions(prel);
        }
        prel.css({
          height: (element.height() - this.outerDimensions.height) || 0,
          width: (element.width() - this.outerDimensions.width) || 0
        });
      }
    },
    _renderProxy: function() {
      var el = this.element,
          o = this.options;
      this.elementOffset = el.offset();
      if (this._helper) {
        this.helper = this.helper || $("<div style='overflow:hidden;'></div>");
        this._addClass(this.helper, this._helper);
        this.helper.css({
          width: this.element.outerWidth(),
          height: this.element.outerHeight(),
          position: "absolute",
          left: this.elementOffset.left + "px",
          top: this.elementOffset.top + "px",
          zIndex: ++o.zIndex
        });
        this.helper.appendTo("body").disableSelection();
      } else {
        this.helper = this.element;
      }
    },
    _change: {
      e: function(event, dx) {
        return {width: this.originalSize.width + dx};
      },
      w: function(event, dx) {
        var cs = this.originalSize,
            sp = this.originalPosition;
        return {
          left: sp.left + dx,
          width: cs.width - dx
        };
      },
      n: function(event, dx, dy) {
        var cs = this.originalSize,
            sp = this.originalPosition;
        return {
          top: sp.top + dy,
          height: cs.height - dy
        };
      },
      s: function(event, dx, dy) {
        return {height: this.originalSize.height + dy};
      },
      se: function(event, dx, dy) {
        return $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
      },
      sw: function(event, dx, dy) {
        return $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
      },
      ne: function(event, dx, dy) {
        return $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]));
      },
      nw: function(event, dx, dy) {
        return $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]));
      }
    },
    _propagate: function(n, event) {
      $.ui.plugin.call(this, n, [event, this.ui()]);
      (n !== "resize" && this._trigger(n, event, this.ui()));
    },
    plugins: {},
    ui: function() {
      return {
        originalElement: this.originalElement,
        element: this.element,
        helper: this.helper,
        position: this.position,
        size: this.size,
        originalSize: this.originalSize,
        originalPosition: this.originalPosition
      };
    }
  });
  $.ui.plugin.add("resizable", "animate", {stop: function(event) {
      var that = $(this).resizable("instance"),
          o = that.options,
          pr = that._proportionallyResizeElements,
          ista = pr.length && (/textarea/i).test(pr[0].nodeName),
          soffseth = ista && that._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height,
          soffsetw = ista ? 0 : that.sizeDiff.width,
          style = {
            width: (that.size.width - soffsetw),
            height: (that.size.height - soffseth)
          },
          left = (parseFloat(that.element.css("left")) + (that.position.left - that.originalPosition.left)) || null,
          top = (parseFloat(that.element.css("top")) + (that.position.top - that.originalPosition.top)) || null;
      that.element.animate($.extend(style, top && left ? {
        top: top,
        left: left
      } : {}), {
        duration: o.animateDuration,
        easing: o.animateEasing,
        step: function() {
          var data = {
            width: parseFloat(that.element.css("width")),
            height: parseFloat(that.element.css("height")),
            top: parseFloat(that.element.css("top")),
            left: parseFloat(that.element.css("left"))
          };
          if (pr && pr.length) {
            $(pr[0]).css({
              width: data.width,
              height: data.height
            });
          }
          that._updateCache(data);
          that._propagate("resize", event);
        }
      });
    }});
  $.ui.plugin.add("resizable", "containment", {
    start: function() {
      var element,
          p,
          co,
          ch,
          cw,
          width,
          height,
          that = $(this).resizable("instance"),
          o = that.options,
          el = that.element,
          oc = o.containment,
          ce = (oc instanceof $) ? oc.get(0) : (/parent/.test(oc)) ? el.parent().get(0) : oc;
      if (!ce) {
        return;
      }
      that.containerElement = $(ce);
      if (/document/.test(oc) || oc === document) {
        that.containerOffset = {
          left: 0,
          top: 0
        };
        that.containerPosition = {
          left: 0,
          top: 0
        };
        that.parentData = {
          element: $(document),
          left: 0,
          top: 0,
          width: $(document).width(),
          height: $(document).height() || document.body.parentNode.scrollHeight
        };
      } else {
        element = $(ce);
        p = [];
        $(["Top", "Right", "Left", "Bottom"]).each(function(i, name) {
          p[i] = that._num(element.css("padding" + name));
        });
        that.containerOffset = element.offset();
        that.containerPosition = element.position();
        that.containerSize = {
          height: (element.innerHeight() - p[3]),
          width: (element.innerWidth() - p[1])
        };
        co = that.containerOffset;
        ch = that.containerSize.height;
        cw = that.containerSize.width;
        width = (that._hasScroll(ce, "left") ? ce.scrollWidth : cw);
        height = (that._hasScroll(ce) ? ce.scrollHeight : ch);
        that.parentData = {
          element: ce,
          left: co.left,
          top: co.top,
          width: width,
          height: height
        };
      }
    },
    resize: function(event) {
      var woset,
          hoset,
          isParent,
          isOffsetRelative,
          that = $(this).resizable("instance"),
          o = that.options,
          co = that.containerOffset,
          cp = that.position,
          pRatio = that._aspectRatio || event.shiftKey,
          cop = {
            top: 0,
            left: 0
          },
          ce = that.containerElement,
          continueResize = true;
      if (ce[0] !== document && (/static/).test(ce.css("position"))) {
        cop = co;
      }
      if (cp.left < (that._helper ? co.left : 0)) {
        that.size.width = that.size.width + (that._helper ? (that.position.left - co.left) : (that.position.left - cop.left));
        if (pRatio) {
          that.size.height = that.size.width / that.aspectRatio;
          continueResize = false;
        }
        that.position.left = o.helper ? co.left : 0;
      }
      if (cp.top < (that._helper ? co.top : 0)) {
        that.size.height = that.size.height + (that._helper ? (that.position.top - co.top) : that.position.top);
        if (pRatio) {
          that.size.width = that.size.height * that.aspectRatio;
          continueResize = false;
        }
        that.position.top = that._helper ? co.top : 0;
      }
      isParent = that.containerElement.get(0) === that.element.parent().get(0);
      isOffsetRelative = /relative|absolute/.test(that.containerElement.css("position"));
      if (isParent && isOffsetRelative) {
        that.offset.left = that.parentData.left + that.position.left;
        that.offset.top = that.parentData.top + that.position.top;
      } else {
        that.offset.left = that.element.offset().left;
        that.offset.top = that.element.offset().top;
      }
      woset = Math.abs(that.sizeDiff.width + (that._helper ? that.offset.left - cop.left : (that.offset.left - co.left)));
      hoset = Math.abs(that.sizeDiff.height + (that._helper ? that.offset.top - cop.top : (that.offset.top - co.top)));
      if (woset + that.size.width >= that.parentData.width) {
        that.size.width = that.parentData.width - woset;
        if (pRatio) {
          that.size.height = that.size.width / that.aspectRatio;
          continueResize = false;
        }
      }
      if (hoset + that.size.height >= that.parentData.height) {
        that.size.height = that.parentData.height - hoset;
        if (pRatio) {
          that.size.width = that.size.height * that.aspectRatio;
          continueResize = false;
        }
      }
      if (!continueResize) {
        that.position.left = that.prevPosition.left;
        that.position.top = that.prevPosition.top;
        that.size.width = that.prevSize.width;
        that.size.height = that.prevSize.height;
      }
    },
    stop: function() {
      var that = $(this).resizable("instance"),
          o = that.options,
          co = that.containerOffset,
          cop = that.containerPosition,
          ce = that.containerElement,
          helper = $(that.helper),
          ho = helper.offset(),
          w = helper.outerWidth() - that.sizeDiff.width,
          h = helper.outerHeight() - that.sizeDiff.height;
      if (that._helper && !o.animate && (/relative/).test(ce.css("position"))) {
        $(this).css({
          left: ho.left - cop.left - co.left,
          width: w,
          height: h
        });
      }
      if (that._helper && !o.animate && (/static/).test(ce.css("position"))) {
        $(this).css({
          left: ho.left - cop.left - co.left,
          width: w,
          height: h
        });
      }
    }
  });
  $.ui.plugin.add("resizable", "alsoResize", {
    start: function() {
      var that = $(this).resizable("instance"),
          o = that.options;
      $(o.alsoResize).each(function() {
        var el = $(this);
        el.data("ui-resizable-alsoresize", {
          width: parseFloat(el.width()),
          height: parseFloat(el.height()),
          left: parseFloat(el.css("left")),
          top: parseFloat(el.css("top"))
        });
      });
    },
    resize: function(event, ui) {
      var that = $(this).resizable("instance"),
          o = that.options,
          os = that.originalSize,
          op = that.originalPosition,
          delta = {
            height: (that.size.height - os.height) || 0,
            width: (that.size.width - os.width) || 0,
            top: (that.position.top - op.top) || 0,
            left: (that.position.left - op.left) || 0
          };
      $(o.alsoResize).each(function() {
        var el = $(this),
            start = $(this).data("ui-resizable-alsoresize"),
            style = {},
            css = el.parents(ui.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
        $.each(css, function(i, prop) {
          var sum = (start[prop] || 0) + (delta[prop] || 0);
          if (sum && sum >= 0) {
            style[prop] = sum || null;
          }
        });
        el.css(style);
      });
    },
    stop: function() {
      $(this).removeData("ui-resizable-alsoresize");
    }
  });
  $.ui.plugin.add("resizable", "ghost", {
    start: function() {
      var that = $(this).resizable("instance"),
          cs = that.size;
      that.ghost = that.originalElement.clone();
      that.ghost.css({
        opacity: 0.25,
        display: "block",
        position: "relative",
        height: cs.height,
        width: cs.width,
        margin: 0,
        left: 0,
        top: 0
      });
      that._addClass(that.ghost, "ui-resizable-ghost");
      if ($.uiBackCompat !== false && typeof that.options.ghost === "string") {
        that.ghost.addClass(this.options.ghost);
      }
      that.ghost.appendTo(that.helper);
    },
    resize: function() {
      var that = $(this).resizable("instance");
      if (that.ghost) {
        that.ghost.css({
          position: "relative",
          height: that.size.height,
          width: that.size.width
        });
      }
    },
    stop: function() {
      var that = $(this).resizable("instance");
      if (that.ghost && that.helper) {
        that.helper.get(0).removeChild(that.ghost.get(0));
      }
    }
  });
  $.ui.plugin.add("resizable", "grid", {resize: function() {
      var outerDimensions,
          that = $(this).resizable("instance"),
          o = that.options,
          cs = that.size,
          os = that.originalSize,
          op = that.originalPosition,
          a = that.axis,
          grid = typeof o.grid === "number" ? [o.grid, o.grid] : o.grid,
          gridX = (grid[0] || 1),
          gridY = (grid[1] || 1),
          ox = Math.round((cs.width - os.width) / gridX) * gridX,
          oy = Math.round((cs.height - os.height) / gridY) * gridY,
          newWidth = os.width + ox,
          newHeight = os.height + oy,
          isMaxWidth = o.maxWidth && (o.maxWidth < newWidth),
          isMaxHeight = o.maxHeight && (o.maxHeight < newHeight),
          isMinWidth = o.minWidth && (o.minWidth > newWidth),
          isMinHeight = o.minHeight && (o.minHeight > newHeight);
      o.grid = grid;
      if (isMinWidth) {
        newWidth += gridX;
      }
      if (isMinHeight) {
        newHeight += gridY;
      }
      if (isMaxWidth) {
        newWidth -= gridX;
      }
      if (isMaxHeight) {
        newHeight -= gridY;
      }
      if (/^(se|s|e)$/.test(a)) {
        that.size.width = newWidth;
        that.size.height = newHeight;
      } else if (/^(ne)$/.test(a)) {
        that.size.width = newWidth;
        that.size.height = newHeight;
        that.position.top = op.top - oy;
      } else if (/^(sw)$/.test(a)) {
        that.size.width = newWidth;
        that.size.height = newHeight;
        that.position.left = op.left - ox;
      } else {
        if (newHeight - gridY <= 0 || newWidth - gridX <= 0) {
          outerDimensions = that._getPaddingPlusBorderDimensions(this);
        }
        if (newHeight - gridY > 0) {
          that.size.height = newHeight;
          that.position.top = op.top - oy;
        } else {
          newHeight = gridY - outerDimensions.height;
          that.size.height = newHeight;
          that.position.top = op.top + os.height - newHeight;
        }
        if (newWidth - gridX > 0) {
          that.size.width = newWidth;
          that.position.left = op.left - ox;
        } else {
          newWidth = gridX - outerDimensions.width;
          that.size.width = newWidth;
          that.position.left = op.left + os.width - newWidth;
        }
      }
    }});
  var widgetsResizable = $.ui.resizable;
  $.widget("ui.dialog", {
    version: "1.12.1",
    options: {
      appendTo: "body",
      autoOpen: true,
      buttons: [],
      classes: {
        "ui-dialog": "ui-corner-all",
        "ui-dialog-titlebar": "ui-corner-all"
      },
      closeOnEscape: true,
      closeText: "Close",
      draggable: true,
      hide: null,
      height: "auto",
      maxHeight: null,
      maxWidth: null,
      minHeight: 150,
      minWidth: 150,
      modal: false,
      position: {
        my: "center",
        at: "center",
        of: window,
        collision: "fit",
        using: function(pos) {
          var topOffset = $(this).css(pos).offset().top;
          if (topOffset < 0) {
            $(this).css("top", pos.top - topOffset);
          }
        }
      },
      resizable: true,
      show: null,
      title: null,
      width: 300,
      beforeClose: null,
      close: null,
      drag: null,
      dragStart: null,
      dragStop: null,
      focus: null,
      open: null,
      resize: null,
      resizeStart: null,
      resizeStop: null
    },
    sizeRelatedOptions: {
      buttons: true,
      height: true,
      maxHeight: true,
      maxWidth: true,
      minHeight: true,
      minWidth: true,
      width: true
    },
    resizableRelatedOptions: {
      maxHeight: true,
      maxWidth: true,
      minHeight: true,
      minWidth: true
    },
    _create: function() {
      this.originalCss = {
        display: this.element[0].style.display,
        width: this.element[0].style.width,
        minHeight: this.element[0].style.minHeight,
        maxHeight: this.element[0].style.maxHeight,
        height: this.element[0].style.height
      };
      this.originalPosition = {
        parent: this.element.parent(),
        index: this.element.parent().children().index(this.element)
      };
      this.originalTitle = this.element.attr("title");
      if (this.options.title == null && this.originalTitle != null) {
        this.options.title = this.originalTitle;
      }
      if (this.options.disabled) {
        this.options.disabled = false;
      }
      this._createWrapper();
      this.element.show().removeAttr("title").appendTo(this.uiDialog);
      this._addClass("ui-dialog-content", "ui-widget-content");
      this._createTitlebar();
      this._createButtonPane();
      if (this.options.draggable && $.fn.draggable) {
        this._makeDraggable();
      }
      if (this.options.resizable && $.fn.resizable) {
        this._makeResizable();
      }
      this._isOpen = false;
      this._trackFocus();
    },
    _init: function() {
      if (this.options.autoOpen) {
        this.open();
      }
    },
    _appendTo: function() {
      var element = this.options.appendTo;
      if (element && (element.jquery || element.nodeType)) {
        return $(element);
      }
      return this.document.find(element || "body").eq(0);
    },
    _destroy: function() {
      var next,
          originalPosition = this.originalPosition;
      this._untrackInstance();
      this._destroyOverlay();
      this.element.removeUniqueId().css(this.originalCss).detach();
      this.uiDialog.remove();
      if (this.originalTitle) {
        this.element.attr("title", this.originalTitle);
      }
      next = originalPosition.parent.children().eq(originalPosition.index);
      if (next.length && next[0] !== this.element[0]) {
        next.before(this.element);
      } else {
        originalPosition.parent.append(this.element);
      }
    },
    widget: function() {
      return this.uiDialog;
    },
    disable: $.noop,
    enable: $.noop,
    close: function(event) {
      var that = this;
      if (!this._isOpen || this._trigger("beforeClose", event) === false) {
        return;
      }
      this._isOpen = false;
      this._focusedElement = null;
      this._destroyOverlay();
      this._untrackInstance();
      if (!this.opener.filter(":focusable").trigger("focus").length) {
        $.ui.safeBlur($.ui.safeActiveElement(this.document[0]));
      }
      this._hide(this.uiDialog, this.options.hide, function() {
        that._trigger("close", event);
      });
    },
    isOpen: function() {
      return this._isOpen;
    },
    moveToTop: function() {
      this._moveToTop();
    },
    _moveToTop: function(event, silent) {
      var moved = false,
          zIndices = this.uiDialog.siblings(".ui-front:visible").map(function() {
            return +$(this).css("z-index");
          }).get(),
          zIndexMax = Math.max.apply(null, zIndices);
      if (zIndexMax >= +this.uiDialog.css("z-index")) {
        this.uiDialog.css("z-index", zIndexMax + 1);
        moved = true;
      }
      if (moved && !silent) {
        this._trigger("focus", event);
      }
      return moved;
    },
    open: function() {
      var that = this;
      if (this._isOpen) {
        if (this._moveToTop()) {
          this._focusTabbable();
        }
        return;
      }
      this._isOpen = true;
      this.opener = $($.ui.safeActiveElement(this.document[0]));
      this._size();
      this._position();
      this._createOverlay();
      this._moveToTop(null, true);
      if (this.overlay) {
        this.overlay.css("z-index", this.uiDialog.css("z-index") - 1);
      }
      this._show(this.uiDialog, this.options.show, function() {
        that._focusTabbable();
        that._trigger("focus");
      });
      this._makeFocusTarget();
      this._trigger("open");
    },
    _focusTabbable: function() {
      var hasFocus = this._focusedElement;
      if (!hasFocus) {
        hasFocus = this.element.find("[autofocus]");
      }
      if (!hasFocus.length) {
        hasFocus = this.element.find(":tabbable");
      }
      if (!hasFocus.length) {
        hasFocus = this.uiDialogButtonPane.find(":tabbable");
      }
      if (!hasFocus.length) {
        hasFocus = this.uiDialogTitlebarClose.filter(":tabbable");
      }
      if (!hasFocus.length) {
        hasFocus = this.uiDialog;
      }
      hasFocus.eq(0).trigger("focus");
    },
    _keepFocus: function(event) {
      function checkFocus() {
        var activeElement = $.ui.safeActiveElement(this.document[0]),
            isActive = this.uiDialog[0] === activeElement || $.contains(this.uiDialog[0], activeElement);
        if (!isActive) {
          this._focusTabbable();
        }
      }
      event.preventDefault();
      checkFocus.call(this);
      this._delay(checkFocus);
    },
    _createWrapper: function() {
      this.uiDialog = $("<div>").hide().attr({
        tabIndex: -1,
        role: "dialog"
      }).appendTo(this._appendTo());
      this._addClass(this.uiDialog, "ui-dialog", "ui-widget ui-widget-content ui-front");
      this._on(this.uiDialog, {
        keydown: function(event) {
          if (this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode && event.keyCode === $.ui.keyCode.ESCAPE) {
            event.preventDefault();
            this.close(event);
            return;
          }
          if (event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented()) {
            return;
          }
          var tabbables = this.uiDialog.find(":tabbable"),
              first = tabbables.filter(":first"),
              last = tabbables.filter(":last");
          if ((event.target === last[0] || event.target === this.uiDialog[0]) && !event.shiftKey) {
            this._delay(function() {
              first.trigger("focus");
            });
            event.preventDefault();
          } else if ((event.target === first[0] || event.target === this.uiDialog[0]) && event.shiftKey) {
            this._delay(function() {
              last.trigger("focus");
            });
            event.preventDefault();
          }
        },
        mousedown: function(event) {
          if (this._moveToTop(event)) {
            this._focusTabbable();
          }
        }
      });
      if (!this.element.find("[aria-describedby]").length) {
        this.uiDialog.attr({"aria-describedby": this.element.uniqueId().attr("id")});
      }
    },
    _createTitlebar: function() {
      var uiDialogTitle;
      this.uiDialogTitlebar = $("<div>");
      this._addClass(this.uiDialogTitlebar, "ui-dialog-titlebar", "ui-widget-header ui-helper-clearfix");
      this._on(this.uiDialogTitlebar, {mousedown: function(event) {
          if (!$(event.target).closest(".ui-dialog-titlebar-close")) {
            this.uiDialog.trigger("focus");
          }
        }});
      this.uiDialogTitlebarClose = $("<button type='button'></button>").button({
        label: $("<a>").text(this.options.closeText).html(),
        icon: "ui-icon-closethick",
        showLabel: false
      }).appendTo(this.uiDialogTitlebar);
      this._addClass(this.uiDialogTitlebarClose, "ui-dialog-titlebar-close");
      this._on(this.uiDialogTitlebarClose, {click: function(event) {
          event.preventDefault();
          this.close(event);
        }});
      uiDialogTitle = $("<span>").uniqueId().prependTo(this.uiDialogTitlebar);
      this._addClass(uiDialogTitle, "ui-dialog-title");
      this._title(uiDialogTitle);
      this.uiDialogTitlebar.prependTo(this.uiDialog);
      this.uiDialog.attr({"aria-labelledby": uiDialogTitle.attr("id")});
    },
    _title: function(title) {
      if (this.options.title) {
        title.text(this.options.title);
      } else {
        title.html("&#160;");
      }
    },
    _createButtonPane: function() {
      this.uiDialogButtonPane = $("<div>");
      this._addClass(this.uiDialogButtonPane, "ui-dialog-buttonpane", "ui-widget-content ui-helper-clearfix");
      this.uiButtonSet = $("<div>").appendTo(this.uiDialogButtonPane);
      this._addClass(this.uiButtonSet, "ui-dialog-buttonset");
      this._createButtons();
    },
    _createButtons: function() {
      var that = this,
          buttons = this.options.buttons;
      this.uiDialogButtonPane.remove();
      this.uiButtonSet.empty();
      if ($.isEmptyObject(buttons) || ($.isArray(buttons) && !buttons.length)) {
        this._removeClass(this.uiDialog, "ui-dialog-buttons");
        return;
      }
      $.each(buttons, function(name, props) {
        var click,
            buttonOptions;
        props = $.isFunction(props) ? {
          click: props,
          text: name
        } : props;
        props = $.extend({type: "button"}, props);
        click = props.click;
        buttonOptions = {
          icon: props.icon,
          iconPosition: props.iconPosition,
          showLabel: props.showLabel,
          icons: props.icons,
          text: props.text
        };
        delete props.click;
        delete props.icon;
        delete props.iconPosition;
        delete props.showLabel;
        delete props.icons;
        if (typeof props.text === "boolean") {
          delete props.text;
        }
        $("<button></button>", props).button(buttonOptions).appendTo(that.uiButtonSet).on("click", function() {
          click.apply(that.element[0], arguments);
        });
      });
      this._addClass(this.uiDialog, "ui-dialog-buttons");
      this.uiDialogButtonPane.appendTo(this.uiDialog);
    },
    _makeDraggable: function() {
      var that = this,
          options = this.options;
      function filteredUi(ui) {
        return {
          position: ui.position,
          offset: ui.offset
        };
      }
      this.uiDialog.draggable({
        cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
        handle: ".ui-dialog-titlebar",
        containment: "document",
        start: function(event, ui) {
          that._addClass($(this), "ui-dialog-dragging");
          that._blockFrames();
          that._trigger("dragStart", event, filteredUi(ui));
        },
        drag: function(event, ui) {
          that._trigger("drag", event, filteredUi(ui));
        },
        stop: function(event, ui) {
          var left = ui.offset.left - that.document.scrollLeft(),
              top = ui.offset.top - that.document.scrollTop();
          options.position = {
            my: "left top",
            at: "left" + (left >= 0 ? "+" : "") + left + " " + "top" + (top >= 0 ? "+" : "") + top,
            of: that.window
          };
          that._removeClass($(this), "ui-dialog-dragging");
          that._unblockFrames();
          that._trigger("dragStop", event, filteredUi(ui));
        }
      });
    },
    _makeResizable: function() {
      var that = this,
          options = this.options,
          handles = options.resizable,
          position = this.uiDialog.css("position"),
          resizeHandles = typeof handles === "string" ? handles : "n,e,s,w,se,sw,ne,nw";
      function filteredUi(ui) {
        return {
          originalPosition: ui.originalPosition,
          originalSize: ui.originalSize,
          position: ui.position,
          size: ui.size
        };
      }
      this.uiDialog.resizable({
        cancel: ".ui-dialog-content",
        containment: "document",
        alsoResize: this.element,
        maxWidth: options.maxWidth,
        maxHeight: options.maxHeight,
        minWidth: options.minWidth,
        minHeight: this._minHeight(),
        handles: resizeHandles,
        start: function(event, ui) {
          that._addClass($(this), "ui-dialog-resizing");
          that._blockFrames();
          that._trigger("resizeStart", event, filteredUi(ui));
        },
        resize: function(event, ui) {
          that._trigger("resize", event, filteredUi(ui));
        },
        stop: function(event, ui) {
          var offset = that.uiDialog.offset(),
              left = offset.left - that.document.scrollLeft(),
              top = offset.top - that.document.scrollTop();
          options.height = that.uiDialog.height();
          options.width = that.uiDialog.width();
          options.position = {
            my: "left top",
            at: "left" + (left >= 0 ? "+" : "") + left + " " + "top" + (top >= 0 ? "+" : "") + top,
            of: that.window
          };
          that._removeClass($(this), "ui-dialog-resizing");
          that._unblockFrames();
          that._trigger("resizeStop", event, filteredUi(ui));
        }
      }).css("position", position);
    },
    _trackFocus: function() {
      this._on(this.widget(), {focusin: function(event) {
          this._makeFocusTarget();
          this._focusedElement = $(event.target);
        }});
    },
    _makeFocusTarget: function() {
      this._untrackInstance();
      this._trackingInstances().unshift(this);
    },
    _untrackInstance: function() {
      var instances = this._trackingInstances(),
          exists = $.inArray(this, instances);
      if (exists !== -1) {
        instances.splice(exists, 1);
      }
    },
    _trackingInstances: function() {
      var instances = this.document.data("ui-dialog-instances");
      if (!instances) {
        instances = [];
        this.document.data("ui-dialog-instances", instances);
      }
      return instances;
    },
    _minHeight: function() {
      var options = this.options;
      return options.height === "auto" ? options.minHeight : Math.min(options.minHeight, options.height);
    },
    _position: function() {
      var isVisible = this.uiDialog.is(":visible");
      if (!isVisible) {
        this.uiDialog.show();
      }
      this.uiDialog.position(this.options.position);
      if (!isVisible) {
        this.uiDialog.hide();
      }
    },
    _setOptions: function(options) {
      var that = this,
          resize = false,
          resizableOptions = {};
      $.each(options, function(key, value) {
        that._setOption(key, value);
        if (key in that.sizeRelatedOptions) {
          resize = true;
        }
        if (key in that.resizableRelatedOptions) {
          resizableOptions[key] = value;
        }
      });
      if (resize) {
        this._size();
        this._position();
      }
      if (this.uiDialog.is(":data(ui-resizable)")) {
        this.uiDialog.resizable("option", resizableOptions);
      }
    },
    _setOption: function(key, value) {
      var isDraggable,
          isResizable,
          uiDialog = this.uiDialog;
      if (key === "disabled") {
        return;
      }
      this._super(key, value);
      if (key === "appendTo") {
        this.uiDialog.appendTo(this._appendTo());
      }
      if (key === "buttons") {
        this._createButtons();
      }
      if (key === "closeText") {
        this.uiDialogTitlebarClose.button({label: $("<a>").text("" + this.options.closeText).html()});
      }
      if (key === "draggable") {
        isDraggable = uiDialog.is(":data(ui-draggable)");
        if (isDraggable && !value) {
          uiDialog.draggable("destroy");
        }
        if (!isDraggable && value) {
          this._makeDraggable();
        }
      }
      if (key === "position") {
        this._position();
      }
      if (key === "resizable") {
        isResizable = uiDialog.is(":data(ui-resizable)");
        if (isResizable && !value) {
          uiDialog.resizable("destroy");
        }
        if (isResizable && typeof value === "string") {
          uiDialog.resizable("option", "handles", value);
        }
        if (!isResizable && value !== false) {
          this._makeResizable();
        }
      }
      if (key === "title") {
        this._title(this.uiDialogTitlebar.find(".ui-dialog-title"));
      }
    },
    _size: function() {
      var nonContentHeight,
          minContentHeight,
          maxContentHeight,
          options = this.options;
      this.element.show().css({
        width: "auto",
        minHeight: 0,
        maxHeight: "none",
        height: 0
      });
      if (options.minWidth > options.width) {
        options.width = options.minWidth;
      }
      nonContentHeight = this.uiDialog.css({
        height: "auto",
        width: options.width
      }).outerHeight();
      minContentHeight = Math.max(0, options.minHeight - nonContentHeight);
      maxContentHeight = typeof options.maxHeight === "number" ? Math.max(0, options.maxHeight - nonContentHeight) : "none";
      if (options.height === "auto") {
        this.element.css({
          minHeight: minContentHeight,
          maxHeight: maxContentHeight,
          height: "auto"
        });
      } else {
        this.element.height(Math.max(0, options.height - nonContentHeight));
      }
      if (this.uiDialog.is(":data(ui-resizable)")) {
        this.uiDialog.resizable("option", "minHeight", this._minHeight());
      }
    },
    _blockFrames: function() {
      this.iframeBlocks = this.document.find("iframe").map(function() {
        var iframe = $(this);
        return $("<div>").css({
          position: "absolute",
          width: iframe.outerWidth(),
          height: iframe.outerHeight()
        }).appendTo(iframe.parent()).offset(iframe.offset())[0];
      });
    },
    _unblockFrames: function() {
      if (this.iframeBlocks) {
        this.iframeBlocks.remove();
        delete this.iframeBlocks;
      }
    },
    _allowInteraction: function(event) {
      if ($(event.target).closest(".ui-dialog").length) {
        return true;
      }
      return !!$(event.target).closest(".ui-datepicker").length;
    },
    _createOverlay: function() {
      if (!this.options.modal) {
        return;
      }
      var isOpening = true;
      this._delay(function() {
        isOpening = false;
      });
      if (!this.document.data("ui-dialog-overlays")) {
        this._on(this.document, {focusin: function(event) {
            if (isOpening) {
              return;
            }
            if (!this._allowInteraction(event)) {
              event.preventDefault();
              this._trackingInstances()[0]._focusTabbable();
            }
          }});
      }
      this.overlay = $("<div>").appendTo(this._appendTo());
      this._addClass(this.overlay, null, "ui-widget-overlay ui-front");
      this._on(this.overlay, {mousedown: "_keepFocus"});
      this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1);
    },
    _destroyOverlay: function() {
      if (!this.options.modal) {
        return;
      }
      if (this.overlay) {
        var overlays = this.document.data("ui-dialog-overlays") - 1;
        if (!overlays) {
          this._off(this.document, "focusin");
          this.document.removeData("ui-dialog-overlays");
        } else {
          this.document.data("ui-dialog-overlays", overlays);
        }
        this.overlay.remove();
        this.overlay = null;
      }
    }
  });
  if ($.uiBackCompat !== false) {
    $.widget("ui.dialog", $.ui.dialog, {
      options: {dialogClass: ""},
      _createWrapper: function() {
        this._super();
        this.uiDialog.addClass(this.options.dialogClass);
      },
      _setOption: function(key, value) {
        if (key === "dialogClass") {
          this.uiDialog.removeClass(this.options.dialogClass).addClass(value);
        }
        this._superApply(arguments);
      }
    });
  }
  var widgetsDialog = $.ui.dialog;
  $.widget("ui.droppable", {
    version: "1.12.1",
    widgetEventPrefix: "drop",
    options: {
      accept: "*",
      addClasses: true,
      greedy: false,
      scope: "default",
      tolerance: "intersect",
      activate: null,
      deactivate: null,
      drop: null,
      out: null,
      over: null
    },
    _create: function() {
      var proportions,
          o = this.options,
          accept = o.accept;
      this.isover = false;
      this.isout = true;
      this.accept = $.isFunction(accept) ? accept : function(d) {
        return d.is(accept);
      };
      this.proportions = function() {
        if (arguments.length) {
          proportions = arguments[0];
        } else {
          return proportions ? proportions : proportions = {
            width: this.element[0].offsetWidth,
            height: this.element[0].offsetHeight
          };
        }
      };
      this._addToManager(o.scope);
      o.addClasses && this._addClass("ui-droppable");
    },
    _addToManager: function(scope) {
      $.ui.ddmanager.droppables[scope] = $.ui.ddmanager.droppables[scope] || [];
      $.ui.ddmanager.droppables[scope].push(this);
    },
    _splice: function(drop) {
      var i = 0;
      for (; i < drop.length; i++) {
        if (drop[i] === this) {
          drop.splice(i, 1);
        }
      }
    },
    _destroy: function() {
      var drop = $.ui.ddmanager.droppables[this.options.scope];
      this._splice(drop);
    },
    _setOption: function(key, value) {
      if (key === "accept") {
        this.accept = $.isFunction(value) ? value : function(d) {
          return d.is(value);
        };
      } else if (key === "scope") {
        var drop = $.ui.ddmanager.droppables[this.options.scope];
        this._splice(drop);
        this._addToManager(value);
      }
      this._super(key, value);
    },
    _activate: function(event) {
      var draggable = $.ui.ddmanager.current;
      this._addActiveClass();
      if (draggable) {
        this._trigger("activate", event, this.ui(draggable));
      }
    },
    _deactivate: function(event) {
      var draggable = $.ui.ddmanager.current;
      this._removeActiveClass();
      if (draggable) {
        this._trigger("deactivate", event, this.ui(draggable));
      }
    },
    _over: function(event) {
      var draggable = $.ui.ddmanager.current;
      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
        return;
      }
      if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
        this._addHoverClass();
        this._trigger("over", event, this.ui(draggable));
      }
    },
    _out: function(event) {
      var draggable = $.ui.ddmanager.current;
      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
        return;
      }
      if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
        this._removeHoverClass();
        this._trigger("out", event, this.ui(draggable));
      }
    },
    _drop: function(event, custom) {
      var draggable = custom || $.ui.ddmanager.current,
          childrenIntersection = false;
      if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
        return false;
      }
      this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
        var inst = $(this).droppable("instance");
        if (inst.options.greedy && !inst.options.disabled && inst.options.scope === draggable.options.scope && inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element)) && intersect(draggable, $.extend(inst, {offset: inst.element.offset()}), inst.options.tolerance, event)) {
          childrenIntersection = true;
          return false;
        }
      });
      if (childrenIntersection) {
        return false;
      }
      if (this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
        this._removeActiveClass();
        this._removeHoverClass();
        this._trigger("drop", event, this.ui(draggable));
        return this.element;
      }
      return false;
    },
    ui: function(c) {
      return {
        draggable: (c.currentItem || c.element),
        helper: c.helper,
        position: c.position,
        offset: c.positionAbs
      };
    },
    _addHoverClass: function() {
      this._addClass("ui-droppable-hover");
    },
    _removeHoverClass: function() {
      this._removeClass("ui-droppable-hover");
    },
    _addActiveClass: function() {
      this._addClass("ui-droppable-active");
    },
    _removeActiveClass: function() {
      this._removeClass("ui-droppable-active");
    }
  });
  var intersect = $.ui.intersect = (function() {
    function isOverAxis(x, reference, size) {
      return (x >= reference) && (x < (reference + size));
    }
    return function(draggable, droppable, toleranceMode, event) {
      if (!droppable.offset) {
        return false;
      }
      var x1 = (draggable.positionAbs || draggable.position.absolute).left + draggable.margins.left,
          y1 = (draggable.positionAbs || draggable.position.absolute).top + draggable.margins.top,
          x2 = x1 + draggable.helperProportions.width,
          y2 = y1 + draggable.helperProportions.height,
          l = droppable.offset.left,
          t = droppable.offset.top,
          r = l + droppable.proportions().width,
          b = t + droppable.proportions().height;
      switch (toleranceMode) {
        case "fit":
          return (l <= x1 && x2 <= r && t <= y1 && y2 <= b);
        case "intersect":
          return (l < x1 + (draggable.helperProportions.width / 2) && x2 - (draggable.helperProportions.width / 2) < r && t < y1 + (draggable.helperProportions.height / 2) && y2 - (draggable.helperProportions.height / 2) < b);
        case "pointer":
          return isOverAxis(event.pageY, t, droppable.proportions().height) && isOverAxis(event.pageX, l, droppable.proportions().width);
        case "touch":
          return ((y1 >= t && y1 <= b) || (y2 >= t && y2 <= b) || (y1 < t && y2 > b)) && ((x1 >= l && x1 <= r) || (x2 >= l && x2 <= r) || (x1 < l && x2 > r));
        default:
          return false;
      }
    };
  })();
  $.ui.ddmanager = {
    current: null,
    droppables: {"default": []},
    prepareOffsets: function(t, event) {
      var i,
          j,
          m = $.ui.ddmanager.droppables[t.options.scope] || [],
          type = event ? event.type : null,
          list = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
      droppablesLoop: for (i = 0; i < m.length; i++) {
        if (m[i].options.disabled || (t && !m[i].accept.call(m[i].element[0], (t.currentItem || t.element)))) {
          continue;
        }
        for (j = 0; j < list.length; j++) {
          if (list[j] === m[i].element[0]) {
            m[i].proportions().height = 0;
            continue droppablesLoop;
          }
        }
        m[i].visible = m[i].element.css("display") !== "none";
        if (!m[i].visible) {
          continue;
        }
        if (type === "mousedown") {
          m[i]._activate.call(m[i], event);
        }
        m[i].offset = m[i].element.offset();
        m[i].proportions({
          width: m[i].element[0].offsetWidth,
          height: m[i].element[0].offsetHeight
        });
      }
    },
    drop: function(draggable, event) {
      var dropped = false;
      $.each(($.ui.ddmanager.droppables[draggable.options.scope] || []).slice(), function() {
        if (!this.options) {
          return;
        }
        if (!this.options.disabled && this.visible && intersect(draggable, this, this.options.tolerance, event)) {
          dropped = this._drop.call(this, event) || dropped;
        }
        if (!this.options.disabled && this.visible && this.accept.call(this.element[0], (draggable.currentItem || draggable.element))) {
          this.isout = true;
          this.isover = false;
          this._deactivate.call(this, event);
        }
      });
      return dropped;
    },
    dragStart: function(draggable, event) {
      draggable.element.parentsUntil("body").on("scroll.droppable", function() {
        if (!draggable.options.refreshPositions) {
          $.ui.ddmanager.prepareOffsets(draggable, event);
        }
      });
    },
    drag: function(draggable, event) {
      if (draggable.options.refreshPositions) {
        $.ui.ddmanager.prepareOffsets(draggable, event);
      }
      $.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
        if (this.options.disabled || this.greedyChild || !this.visible) {
          return;
        }
        var parentInstance,
            scope,
            parent,
            intersects = intersect(draggable, this, this.options.tolerance, event),
            c = !intersects && this.isover ? "isout" : (intersects && !this.isover ? "isover" : null);
        if (!c) {
          return;
        }
        if (this.options.greedy) {
          scope = this.options.scope;
          parent = this.element.parents(":data(ui-droppable)").filter(function() {
            return $(this).droppable("instance").options.scope === scope;
          });
          if (parent.length) {
            parentInstance = $(parent[0]).droppable("instance");
            parentInstance.greedyChild = (c === "isover");
          }
        }
        if (parentInstance && c === "isover") {
          parentInstance.isover = false;
          parentInstance.isout = true;
          parentInstance._out.call(parentInstance, event);
        }
        this[c] = true;
        this[c === "isout" ? "isover" : "isout"] = false;
        this[c === "isover" ? "_over" : "_out"].call(this, event);
        if (parentInstance && c === "isout") {
          parentInstance.isout = false;
          parentInstance.isover = true;
          parentInstance._over.call(parentInstance, event);
        }
      });
    },
    dragStop: function(draggable, event) {
      draggable.element.parentsUntil("body").off("scroll.droppable");
      if (!draggable.options.refreshPositions) {
        $.ui.ddmanager.prepareOffsets(draggable, event);
      }
    }
  };
  if ($.uiBackCompat !== false) {
    $.widget("ui.droppable", $.ui.droppable, {
      options: {
        hoverClass: false,
        activeClass: false
      },
      _addActiveClass: function() {
        this._super();
        if (this.options.activeClass) {
          this.element.addClass(this.options.activeClass);
        }
      },
      _removeActiveClass: function() {
        this._super();
        if (this.options.activeClass) {
          this.element.removeClass(this.options.activeClass);
        }
      },
      _addHoverClass: function() {
        this._super();
        if (this.options.hoverClass) {
          this.element.addClass(this.options.hoverClass);
        }
      },
      _removeHoverClass: function() {
        this._super();
        if (this.options.hoverClass) {
          this.element.removeClass(this.options.hoverClass);
        }
      }
    });
  }
  var widgetsDroppable = $.ui.droppable;
  var widgetsProgressbar = $.widget("ui.progressbar", {
    version: "1.12.1",
    options: {
      classes: {
        "ui-progressbar": "ui-corner-all",
        "ui-progressbar-value": "ui-corner-left",
        "ui-progressbar-complete": "ui-corner-right"
      },
      max: 100,
      value: 0,
      change: null,
      complete: null
    },
    min: 0,
    _create: function() {
      this.oldValue = this.options.value = this._constrainedValue();
      this.element.attr({
        role: "progressbar",
        "aria-valuemin": this.min
      });
      this._addClass("ui-progressbar", "ui-widget ui-widget-content");
      this.valueDiv = $("<div>").appendTo(this.element);
      this._addClass(this.valueDiv, "ui-progressbar-value", "ui-widget-header");
      this._refreshValue();
    },
    _destroy: function() {
      this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");
      this.valueDiv.remove();
    },
    value: function(newValue) {
      if (newValue === undefined) {
        return this.options.value;
      }
      this.options.value = this._constrainedValue(newValue);
      this._refreshValue();
    },
    _constrainedValue: function(newValue) {
      if (newValue === undefined) {
        newValue = this.options.value;
      }
      this.indeterminate = newValue === false;
      if (typeof newValue !== "number") {
        newValue = 0;
      }
      return this.indeterminate ? false : Math.min(this.options.max, Math.max(this.min, newValue));
    },
    _setOptions: function(options) {
      var value = options.value;
      delete options.value;
      this._super(options);
      this.options.value = this._constrainedValue(value);
      this._refreshValue();
    },
    _setOption: function(key, value) {
      if (key === "max") {
        value = Math.max(this.min, value);
      }
      this._super(key, value);
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this.element.attr("aria-disabled", value);
      this._toggleClass(null, "ui-state-disabled", !!value);
    },
    _percentage: function() {
      return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min);
    },
    _refreshValue: function() {
      var value = this.options.value,
          percentage = this._percentage();
      this.valueDiv.toggle(this.indeterminate || value > this.min).width(percentage.toFixed(0) + "%");
      this._toggleClass(this.valueDiv, "ui-progressbar-complete", null, value === this.options.max)._toggleClass("ui-progressbar-indeterminate", null, this.indeterminate);
      if (this.indeterminate) {
        this.element.removeAttr("aria-valuenow");
        if (!this.overlayDiv) {
          this.overlayDiv = $("<div>").appendTo(this.valueDiv);
          this._addClass(this.overlayDiv, "ui-progressbar-overlay");
        }
      } else {
        this.element.attr({
          "aria-valuemax": this.options.max,
          "aria-valuenow": value
        });
        if (this.overlayDiv) {
          this.overlayDiv.remove();
          this.overlayDiv = null;
        }
      }
      if (this.oldValue !== value) {
        this.oldValue = value;
        this._trigger("change");
      }
      if (value === this.options.max) {
        this._trigger("complete");
      }
    }
  });
  var widgetsSelectable = $.widget("ui.selectable", $.ui.mouse, {
    version: "1.12.1",
    options: {
      appendTo: "body",
      autoRefresh: true,
      distance: 0,
      filter: "*",
      tolerance: "touch",
      selected: null,
      selecting: null,
      start: null,
      stop: null,
      unselected: null,
      unselecting: null
    },
    _create: function() {
      var that = this;
      this._addClass("ui-selectable");
      this.dragged = false;
      this.refresh = function() {
        that.elementPos = $(that.element[0]).offset();
        that.selectees = $(that.options.filter, that.element[0]);
        that._addClass(that.selectees, "ui-selectee");
        that.selectees.each(function() {
          var $this = $(this),
              selecteeOffset = $this.offset(),
              pos = {
                left: selecteeOffset.left - that.elementPos.left,
                top: selecteeOffset.top - that.elementPos.top
              };
          $.data(this, "selectable-item", {
            element: this,
            $element: $this,
            left: pos.left,
            top: pos.top,
            right: pos.left + $this.outerWidth(),
            bottom: pos.top + $this.outerHeight(),
            startselected: false,
            selected: $this.hasClass("ui-selected"),
            selecting: $this.hasClass("ui-selecting"),
            unselecting: $this.hasClass("ui-unselecting")
          });
        });
      };
      this.refresh();
      this._mouseInit();
      this.helper = $("<div>");
      this._addClass(this.helper, "ui-selectable-helper");
    },
    _destroy: function() {
      this.selectees.removeData("selectable-item");
      this._mouseDestroy();
    },
    _mouseStart: function(event) {
      var that = this,
          options = this.options;
      this.opos = [event.pageX, event.pageY];
      this.elementPos = $(this.element[0]).offset();
      if (this.options.disabled) {
        return;
      }
      this.selectees = $(options.filter, this.element[0]);
      this._trigger("start", event);
      $(options.appendTo).append(this.helper);
      this.helper.css({
        "left": event.pageX,
        "top": event.pageY,
        "width": 0,
        "height": 0
      });
      if (options.autoRefresh) {
        this.refresh();
      }
      this.selectees.filter(".ui-selected").each(function() {
        var selectee = $.data(this, "selectable-item");
        selectee.startselected = true;
        if (!event.metaKey && !event.ctrlKey) {
          that._removeClass(selectee.$element, "ui-selected");
          selectee.selected = false;
          that._addClass(selectee.$element, "ui-unselecting");
          selectee.unselecting = true;
          that._trigger("unselecting", event, {unselecting: selectee.element});
        }
      });
      $(event.target).parents().addBack().each(function() {
        var doSelect,
            selectee = $.data(this, "selectable-item");
        if (selectee) {
          doSelect = (!event.metaKey && !event.ctrlKey) || !selectee.$element.hasClass("ui-selected");
          that._removeClass(selectee.$element, doSelect ? "ui-unselecting" : "ui-selected")._addClass(selectee.$element, doSelect ? "ui-selecting" : "ui-unselecting");
          selectee.unselecting = !doSelect;
          selectee.selecting = doSelect;
          selectee.selected = doSelect;
          if (doSelect) {
            that._trigger("selecting", event, {selecting: selectee.element});
          } else {
            that._trigger("unselecting", event, {unselecting: selectee.element});
          }
          return false;
        }
      });
    },
    _mouseDrag: function(event) {
      this.dragged = true;
      if (this.options.disabled) {
        return;
      }
      var tmp,
          that = this,
          options = this.options,
          x1 = this.opos[0],
          y1 = this.opos[1],
          x2 = event.pageX,
          y2 = event.pageY;
      if (x1 > x2) {
        tmp = x2;
        x2 = x1;
        x1 = tmp;
      }
      if (y1 > y2) {
        tmp = y2;
        y2 = y1;
        y1 = tmp;
      }
      this.helper.css({
        left: x1,
        top: y1,
        width: x2 - x1,
        height: y2 - y1
      });
      this.selectees.each(function() {
        var selectee = $.data(this, "selectable-item"),
            hit = false,
            offset = {};
        if (!selectee || selectee.element === that.element[0]) {
          return;
        }
        offset.left = selectee.left + that.elementPos.left;
        offset.right = selectee.right + that.elementPos.left;
        offset.top = selectee.top + that.elementPos.top;
        offset.bottom = selectee.bottom + that.elementPos.top;
        if (options.tolerance === "touch") {
          hit = (!(offset.left > x2 || offset.right < x1 || offset.top > y2 || offset.bottom < y1));
        } else if (options.tolerance === "fit") {
          hit = (offset.left > x1 && offset.right < x2 && offset.top > y1 && offset.bottom < y2);
        }
        if (hit) {
          if (selectee.selected) {
            that._removeClass(selectee.$element, "ui-selected");
            selectee.selected = false;
          }
          if (selectee.unselecting) {
            that._removeClass(selectee.$element, "ui-unselecting");
            selectee.unselecting = false;
          }
          if (!selectee.selecting) {
            that._addClass(selectee.$element, "ui-selecting");
            selectee.selecting = true;
            that._trigger("selecting", event, {selecting: selectee.element});
          }
        } else {
          if (selectee.selecting) {
            if ((event.metaKey || event.ctrlKey) && selectee.startselected) {
              that._removeClass(selectee.$element, "ui-selecting");
              selectee.selecting = false;
              that._addClass(selectee.$element, "ui-selected");
              selectee.selected = true;
            } else {
              that._removeClass(selectee.$element, "ui-selecting");
              selectee.selecting = false;
              if (selectee.startselected) {
                that._addClass(selectee.$element, "ui-unselecting");
                selectee.unselecting = true;
              }
              that._trigger("unselecting", event, {unselecting: selectee.element});
            }
          }
          if (selectee.selected) {
            if (!event.metaKey && !event.ctrlKey && !selectee.startselected) {
              that._removeClass(selectee.$element, "ui-selected");
              selectee.selected = false;
              that._addClass(selectee.$element, "ui-unselecting");
              selectee.unselecting = true;
              that._trigger("unselecting", event, {unselecting: selectee.element});
            }
          }
        }
      });
      return false;
    },
    _mouseStop: function(event) {
      var that = this;
      this.dragged = false;
      $(".ui-unselecting", this.element[0]).each(function() {
        var selectee = $.data(this, "selectable-item");
        that._removeClass(selectee.$element, "ui-unselecting");
        selectee.unselecting = false;
        selectee.startselected = false;
        that._trigger("unselected", event, {unselected: selectee.element});
      });
      $(".ui-selecting", this.element[0]).each(function() {
        var selectee = $.data(this, "selectable-item");
        that._removeClass(selectee.$element, "ui-selecting")._addClass(selectee.$element, "ui-selected");
        selectee.selecting = false;
        selectee.selected = true;
        selectee.startselected = true;
        that._trigger("selected", event, {selected: selectee.element});
      });
      this._trigger("stop", event);
      this.helper.remove();
      return false;
    }
  });
  var widgetsSelectmenu = $.widget("ui.selectmenu", [$.ui.formResetMixin, {
    version: "1.12.1",
    defaultElement: "<select>",
    options: {
      appendTo: null,
      classes: {
        "ui-selectmenu-button-open": "ui-corner-top",
        "ui-selectmenu-button-closed": "ui-corner-all"
      },
      disabled: null,
      icons: {button: "ui-icon-triangle-1-s"},
      position: {
        my: "left top",
        at: "left bottom",
        collision: "none"
      },
      width: false,
      change: null,
      close: null,
      focus: null,
      open: null,
      select: null
    },
    _create: function() {
      var selectmenuId = this.element.uniqueId().attr("id");
      this.ids = {
        element: selectmenuId,
        button: selectmenuId + "-button",
        menu: selectmenuId + "-menu"
      };
      this._drawButton();
      this._drawMenu();
      this._bindFormResetHandler();
      this._rendered = false;
      this.menuItems = $();
    },
    _drawButton: function() {
      var icon,
          that = this,
          item = this._parseOption(this.element.find("option:selected"), this.element[0].selectedIndex);
      this.labels = this.element.labels().attr("for", this.ids.button);
      this._on(this.labels, {click: function(event) {
          this.button.focus();
          event.preventDefault();
        }});
      this.element.hide();
      this.button = $("<span>", {
        tabindex: this.options.disabled ? -1 : 0,
        id: this.ids.button,
        role: "combobox",
        "aria-expanded": "false",
        "aria-autocomplete": "list",
        "aria-owns": this.ids.menu,
        "aria-haspopup": "true",
        title: this.element.attr("title")
      }).insertAfter(this.element);
      this._addClass(this.button, "ui-selectmenu-button ui-selectmenu-button-closed", "ui-button ui-widget");
      icon = $("<span>").appendTo(this.button);
      this._addClass(icon, "ui-selectmenu-icon", "ui-icon " + this.options.icons.button);
      this.buttonItem = this._renderButtonItem(item).appendTo(this.button);
      if (this.options.width !== false) {
        this._resizeButton();
      }
      this._on(this.button, this._buttonEvents);
      this.button.one("focusin", function() {
        if (!that._rendered) {
          that._refreshMenu();
        }
      });
    },
    _drawMenu: function() {
      var that = this;
      this.menu = $("<ul>", {
        "aria-hidden": "true",
        "aria-labelledby": this.ids.button,
        id: this.ids.menu
      });
      this.menuWrap = $("<div>").append(this.menu);
      this._addClass(this.menuWrap, "ui-selectmenu-menu", "ui-front");
      this.menuWrap.appendTo(this._appendTo());
      this.menuInstance = this.menu.menu({
        classes: {"ui-menu": "ui-corner-bottom"},
        role: "listbox",
        select: function(event, ui) {
          event.preventDefault();
          that._setSelection();
          that._select(ui.item.data("ui-selectmenu-item"), event);
        },
        focus: function(event, ui) {
          var item = ui.item.data("ui-selectmenu-item");
          if (that.focusIndex != null && item.index !== that.focusIndex) {
            that._trigger("focus", event, {item: item});
            if (!that.isOpen) {
              that._select(item, event);
            }
          }
          that.focusIndex = item.index;
          that.button.attr("aria-activedescendant", that.menuItems.eq(item.index).attr("id"));
        }
      }).menu("instance");
      this.menuInstance._off(this.menu, "mouseleave");
      this.menuInstance._closeOnDocumentClick = function() {
        return false;
      };
      this.menuInstance._isDivider = function() {
        return false;
      };
    },
    refresh: function() {
      this._refreshMenu();
      this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item") || {}));
      if (this.options.width === null) {
        this._resizeButton();
      }
    },
    _refreshMenu: function() {
      var item,
          options = this.element.find("option");
      this.menu.empty();
      this._parseOptions(options);
      this._renderMenu(this.menu, this.items);
      this.menuInstance.refresh();
      this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");
      this._rendered = true;
      if (!options.length) {
        return;
      }
      item = this._getSelectedItem();
      this.menuInstance.focus(null, item);
      this._setAria(item.data("ui-selectmenu-item"));
      this._setOption("disabled", this.element.prop("disabled"));
    },
    open: function(event) {
      if (this.options.disabled) {
        return;
      }
      if (!this._rendered) {
        this._refreshMenu();
      } else {
        this._removeClass(this.menu.find(".ui-state-active"), null, "ui-state-active");
        this.menuInstance.focus(null, this._getSelectedItem());
      }
      if (!this.menuItems.length) {
        return;
      }
      this.isOpen = true;
      this._toggleAttr();
      this._resizeMenu();
      this._position();
      this._on(this.document, this._documentClick);
      this._trigger("open", event);
    },
    _position: function() {
      this.menuWrap.position($.extend({of: this.button}, this.options.position));
    },
    close: function(event) {
      if (!this.isOpen) {
        return;
      }
      this.isOpen = false;
      this._toggleAttr();
      this.range = null;
      this._off(this.document);
      this._trigger("close", event);
    },
    widget: function() {
      return this.button;
    },
    menuWidget: function() {
      return this.menu;
    },
    _renderButtonItem: function(item) {
      var buttonItem = $("<span>");
      this._setText(buttonItem, item.label);
      this._addClass(buttonItem, "ui-selectmenu-text");
      return buttonItem;
    },
    _renderMenu: function(ul, items) {
      var that = this,
          currentOptgroup = "";
      $.each(items, function(index, item) {
        var li;
        if (item.optgroup !== currentOptgroup) {
          li = $("<li>", {text: item.optgroup});
          that._addClass(li, "ui-selectmenu-optgroup", "ui-menu-divider" + (item.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""));
          li.appendTo(ul);
          currentOptgroup = item.optgroup;
        }
        that._renderItemData(ul, item);
      });
    },
    _renderItemData: function(ul, item) {
      return this._renderItem(ul, item).data("ui-selectmenu-item", item);
    },
    _renderItem: function(ul, item) {
      var li = $("<li>"),
          wrapper = $("<div>", {title: item.element.attr("title")});
      if (item.disabled) {
        this._addClass(li, null, "ui-state-disabled");
      }
      this._setText(wrapper, item.label);
      return li.append(wrapper).appendTo(ul);
    },
    _setText: function(element, value) {
      if (value) {
        element.text(value);
      } else {
        element.html("&#160;");
      }
    },
    _move: function(direction, event) {
      var item,
          next,
          filter = ".ui-menu-item";
      if (this.isOpen) {
        item = this.menuItems.eq(this.focusIndex).parent("li");
      } else {
        item = this.menuItems.eq(this.element[0].selectedIndex).parent("li");
        filter += ":not(.ui-state-disabled)";
      }
      if (direction === "first" || direction === "last") {
        next = item[direction === "first" ? "prevAll" : "nextAll"](filter).eq(-1);
      } else {
        next = item[direction + "All"](filter).eq(0);
      }
      if (next.length) {
        this.menuInstance.focus(event, next);
      }
    },
    _getSelectedItem: function() {
      return this.menuItems.eq(this.element[0].selectedIndex).parent("li");
    },
    _toggle: function(event) {
      this[this.isOpen ? "close" : "open"](event);
    },
    _setSelection: function() {
      var selection;
      if (!this.range) {
        return;
      }
      if (window.getSelection) {
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(this.range);
      } else {
        this.range.select();
      }
      this.button.focus();
    },
    _documentClick: {mousedown: function(event) {
        if (!this.isOpen) {
          return;
        }
        if (!$(event.target).closest(".ui-selectmenu-menu, #" + $.ui.escapeSelector(this.ids.button)).length) {
          this.close(event);
        }
      }},
    _buttonEvents: {
      mousedown: function() {
        var selection;
        if (window.getSelection) {
          selection = window.getSelection();
          if (selection.rangeCount) {
            this.range = selection.getRangeAt(0);
          }
        } else {
          this.range = document.selection.createRange();
        }
      },
      click: function(event) {
        this._setSelection();
        this._toggle(event);
      },
      keydown: function(event) {
        var preventDefault = true;
        switch (event.keyCode) {
          case $.ui.keyCode.TAB:
          case $.ui.keyCode.ESCAPE:
            this.close(event);
            preventDefault = false;
            break;
          case $.ui.keyCode.ENTER:
            if (this.isOpen) {
              this._selectFocusedItem(event);
            }
            break;
          case $.ui.keyCode.UP:
            if (event.altKey) {
              this._toggle(event);
            } else {
              this._move("prev", event);
            }
            break;
          case $.ui.keyCode.DOWN:
            if (event.altKey) {
              this._toggle(event);
            } else {
              this._move("next", event);
            }
            break;
          case $.ui.keyCode.SPACE:
            if (this.isOpen) {
              this._selectFocusedItem(event);
            } else {
              this._toggle(event);
            }
            break;
          case $.ui.keyCode.LEFT:
            this._move("prev", event);
            break;
          case $.ui.keyCode.RIGHT:
            this._move("next", event);
            break;
          case $.ui.keyCode.HOME:
          case $.ui.keyCode.PAGE_UP:
            this._move("first", event);
            break;
          case $.ui.keyCode.END:
          case $.ui.keyCode.PAGE_DOWN:
            this._move("last", event);
            break;
          default:
            this.menu.trigger(event);
            preventDefault = false;
        }
        if (preventDefault) {
          event.preventDefault();
        }
      }
    },
    _selectFocusedItem: function(event) {
      var item = this.menuItems.eq(this.focusIndex).parent("li");
      if (!item.hasClass("ui-state-disabled")) {
        this._select(item.data("ui-selectmenu-item"), event);
      }
    },
    _select: function(item, event) {
      var oldIndex = this.element[0].selectedIndex;
      this.element[0].selectedIndex = item.index;
      this.buttonItem.replaceWith(this.buttonItem = this._renderButtonItem(item));
      this._setAria(item);
      this._trigger("select", event, {item: item});
      if (item.index !== oldIndex) {
        this._trigger("change", event, {item: item});
      }
      this.close(event);
    },
    _setAria: function(item) {
      var id = this.menuItems.eq(item.index).attr("id");
      this.button.attr({
        "aria-labelledby": id,
        "aria-activedescendant": id
      });
      this.menu.attr("aria-activedescendant", id);
    },
    _setOption: function(key, value) {
      if (key === "icons") {
        var icon = this.button.find("span.ui-icon");
        this._removeClass(icon, null, this.options.icons.button)._addClass(icon, null, value.button);
      }
      this._super(key, value);
      if (key === "appendTo") {
        this.menuWrap.appendTo(this._appendTo());
      }
      if (key === "width") {
        this._resizeButton();
      }
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this.menuInstance.option("disabled", value);
      this.button.attr("aria-disabled", value);
      this._toggleClass(this.button, null, "ui-state-disabled", value);
      this.element.prop("disabled", value);
      if (value) {
        this.button.attr("tabindex", -1);
        this.close();
      } else {
        this.button.attr("tabindex", 0);
      }
    },
    _appendTo: function() {
      var element = this.options.appendTo;
      if (element) {
        element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0);
      }
      if (!element || !element[0]) {
        element = this.element.closest(".ui-front, dialog");
      }
      if (!element.length) {
        element = this.document[0].body;
      }
      return element;
    },
    _toggleAttr: function() {
      this.button.attr("aria-expanded", this.isOpen);
      this._removeClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "closed" : "open"))._addClass(this.button, "ui-selectmenu-button-" + (this.isOpen ? "open" : "closed"))._toggleClass(this.menuWrap, "ui-selectmenu-open", null, this.isOpen);
      this.menu.attr("aria-hidden", !this.isOpen);
    },
    _resizeButton: function() {
      var width = this.options.width;
      if (width === false) {
        this.button.css("width", "");
        return;
      }
      if (width === null) {
        width = this.element.show().outerWidth();
        this.element.hide();
      }
      this.button.outerWidth(width);
    },
    _resizeMenu: function() {
      this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1));
    },
    _getCreateOptions: function() {
      var options = this._super();
      options.disabled = this.element.prop("disabled");
      return options;
    },
    _parseOptions: function(options) {
      var that = this,
          data = [];
      options.each(function(index, item) {
        data.push(that._parseOption($(item), index));
      });
      this.items = data;
    },
    _parseOption: function(option, index) {
      var optgroup = option.parent("optgroup");
      return {
        element: option,
        index: index,
        value: option.val(),
        label: option.text(),
        optgroup: optgroup.attr("label") || "",
        disabled: optgroup.prop("disabled") || option.prop("disabled")
      };
    },
    _destroy: function() {
      this._unbindFormResetHandler();
      this.menuWrap.remove();
      this.button.remove();
      this.element.show();
      this.element.removeUniqueId();
      this.labels.attr("for", this.ids.element);
    }
  }]);
  var widgetsSlider = $.widget("ui.slider", $.ui.mouse, {
    version: "1.12.1",
    widgetEventPrefix: "slide",
    options: {
      animate: false,
      classes: {
        "ui-slider": "ui-corner-all",
        "ui-slider-handle": "ui-corner-all",
        "ui-slider-range": "ui-corner-all ui-widget-header"
      },
      distance: 0,
      max: 100,
      min: 0,
      orientation: "horizontal",
      range: false,
      step: 1,
      value: 0,
      values: null,
      change: null,
      slide: null,
      start: null,
      stop: null
    },
    numPages: 5,
    _create: function() {
      this._keySliding = false;
      this._mouseSliding = false;
      this._animateOff = true;
      this._handleIndex = null;
      this._detectOrientation();
      this._mouseInit();
      this._calculateNewMax();
      this._addClass("ui-slider ui-slider-" + this.orientation, "ui-widget ui-widget-content");
      this._refresh();
      this._animateOff = false;
    },
    _refresh: function() {
      this._createRange();
      this._createHandles();
      this._setupEvents();
      this._refreshValue();
    },
    _createHandles: function() {
      var i,
          handleCount,
          options = this.options,
          existingHandles = this.element.find(".ui-slider-handle"),
          handle = "<span tabindex='0'></span>",
          handles = [];
      handleCount = (options.values && options.values.length) || 1;
      if (existingHandles.length > handleCount) {
        existingHandles.slice(handleCount).remove();
        existingHandles = existingHandles.slice(0, handleCount);
      }
      for (i = existingHandles.length; i < handleCount; i++) {
        handles.push(handle);
      }
      this.handles = existingHandles.add($(handles.join("")).appendTo(this.element));
      this._addClass(this.handles, "ui-slider-handle", "ui-state-default");
      this.handle = this.handles.eq(0);
      this.handles.each(function(i) {
        $(this).data("ui-slider-handle-index", i).attr("tabIndex", 0);
      });
    },
    _createRange: function() {
      var options = this.options;
      if (options.range) {
        if (options.range === true) {
          if (!options.values) {
            options.values = [this._valueMin(), this._valueMin()];
          } else if (options.values.length && options.values.length !== 2) {
            options.values = [options.values[0], options.values[0]];
          } else if ($.isArray(options.values)) {
            options.values = options.values.slice(0);
          }
        }
        if (!this.range || !this.range.length) {
          this.range = $("<div>").appendTo(this.element);
          this._addClass(this.range, "ui-slider-range");
        } else {
          this._removeClass(this.range, "ui-slider-range-min ui-slider-range-max");
          this.range.css({
            "left": "",
            "bottom": ""
          });
        }
        if (options.range === "min" || options.range === "max") {
          this._addClass(this.range, "ui-slider-range-" + options.range);
        }
      } else {
        if (this.range) {
          this.range.remove();
        }
        this.range = null;
      }
    },
    _setupEvents: function() {
      this._off(this.handles);
      this._on(this.handles, this._handleEvents);
      this._hoverable(this.handles);
      this._focusable(this.handles);
    },
    _destroy: function() {
      this.handles.remove();
      if (this.range) {
        this.range.remove();
      }
      this._mouseDestroy();
    },
    _mouseCapture: function(event) {
      var position,
          normValue,
          distance,
          closestHandle,
          index,
          allowed,
          offset,
          mouseOverHandle,
          that = this,
          o = this.options;
      if (o.disabled) {
        return false;
      }
      this.elementSize = {
        width: this.element.outerWidth(),
        height: this.element.outerHeight()
      };
      this.elementOffset = this.element.offset();
      position = {
        x: event.pageX,
        y: event.pageY
      };
      normValue = this._normValueFromMouse(position);
      distance = this._valueMax() - this._valueMin() + 1;
      this.handles.each(function(i) {
        var thisDistance = Math.abs(normValue - that.values(i));
        if ((distance > thisDistance) || (distance === thisDistance && (i === that._lastChangedValue || that.values(i) === o.min))) {
          distance = thisDistance;
          closestHandle = $(this);
          index = i;
        }
      });
      allowed = this._start(event, index);
      if (allowed === false) {
        return false;
      }
      this._mouseSliding = true;
      this._handleIndex = index;
      this._addClass(closestHandle, null, "ui-state-active");
      closestHandle.trigger("focus");
      offset = closestHandle.offset();
      mouseOverHandle = !$(event.target).parents().addBack().is(".ui-slider-handle");
      this._clickOffset = mouseOverHandle ? {
        left: 0,
        top: 0
      } : {
        left: event.pageX - offset.left - (closestHandle.width() / 2),
        top: event.pageY - offset.top - (closestHandle.height() / 2) - (parseInt(closestHandle.css("borderTopWidth"), 10) || 0) - (parseInt(closestHandle.css("borderBottomWidth"), 10) || 0) + (parseInt(closestHandle.css("marginTop"), 10) || 0)
      };
      if (!this.handles.hasClass("ui-state-hover")) {
        this._slide(event, index, normValue);
      }
      this._animateOff = true;
      return true;
    },
    _mouseStart: function() {
      return true;
    },
    _mouseDrag: function(event) {
      var position = {
        x: event.pageX,
        y: event.pageY
      },
          normValue = this._normValueFromMouse(position);
      this._slide(event, this._handleIndex, normValue);
      return false;
    },
    _mouseStop: function(event) {
      this._removeClass(this.handles, null, "ui-state-active");
      this._mouseSliding = false;
      this._stop(event, this._handleIndex);
      this._change(event, this._handleIndex);
      this._handleIndex = null;
      this._clickOffset = null;
      this._animateOff = false;
      return false;
    },
    _detectOrientation: function() {
      this.orientation = (this.options.orientation === "vertical") ? "vertical" : "horizontal";
    },
    _normValueFromMouse: function(position) {
      var pixelTotal,
          pixelMouse,
          percentMouse,
          valueTotal,
          valueMouse;
      if (this.orientation === "horizontal") {
        pixelTotal = this.elementSize.width;
        pixelMouse = position.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0);
      } else {
        pixelTotal = this.elementSize.height;
        pixelMouse = position.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0);
      }
      percentMouse = (pixelMouse / pixelTotal);
      if (percentMouse > 1) {
        percentMouse = 1;
      }
      if (percentMouse < 0) {
        percentMouse = 0;
      }
      if (this.orientation === "vertical") {
        percentMouse = 1 - percentMouse;
      }
      valueTotal = this._valueMax() - this._valueMin();
      valueMouse = this._valueMin() + percentMouse * valueTotal;
      return this._trimAlignValue(valueMouse);
    },
    _uiHash: function(index, value, values) {
      var uiHash = {
        handle: this.handles[index],
        handleIndex: index,
        value: value !== undefined ? value : this.value()
      };
      if (this._hasMultipleValues()) {
        uiHash.value = value !== undefined ? value : this.values(index);
        uiHash.values = values || this.values();
      }
      return uiHash;
    },
    _hasMultipleValues: function() {
      return this.options.values && this.options.values.length;
    },
    _start: function(event, index) {
      return this._trigger("start", event, this._uiHash(index));
    },
    _slide: function(event, index, newVal) {
      var allowed,
          otherVal,
          currentValue = this.value(),
          newValues = this.values();
      if (this._hasMultipleValues()) {
        otherVal = this.values(index ? 0 : 1);
        currentValue = this.values(index);
        if (this.options.values.length === 2 && this.options.range === true) {
          newVal = index === 0 ? Math.min(otherVal, newVal) : Math.max(otherVal, newVal);
        }
        newValues[index] = newVal;
      }
      if (newVal === currentValue) {
        return;
      }
      allowed = this._trigger("slide", event, this._uiHash(index, newVal, newValues));
      if (allowed === false) {
        return;
      }
      if (this._hasMultipleValues()) {
        this.values(index, newVal);
      } else {
        this.value(newVal);
      }
    },
    _stop: function(event, index) {
      this._trigger("stop", event, this._uiHash(index));
    },
    _change: function(event, index) {
      if (!this._keySliding && !this._mouseSliding) {
        this._lastChangedValue = index;
        this._trigger("change", event, this._uiHash(index));
      }
    },
    value: function(newValue) {
      if (arguments.length) {
        this.options.value = this._trimAlignValue(newValue);
        this._refreshValue();
        this._change(null, 0);
        return;
      }
      return this._value();
    },
    values: function(index, newValue) {
      var vals,
          newValues,
          i;
      if (arguments.length > 1) {
        this.options.values[index] = this._trimAlignValue(newValue);
        this._refreshValue();
        this._change(null, index);
        return;
      }
      if (arguments.length) {
        if ($.isArray(arguments[0])) {
          vals = this.options.values;
          newValues = arguments[0];
          for (i = 0; i < vals.length; i += 1) {
            vals[i] = this._trimAlignValue(newValues[i]);
            this._change(null, i);
          }
          this._refreshValue();
        } else {
          if (this._hasMultipleValues()) {
            return this._values(index);
          } else {
            return this.value();
          }
        }
      } else {
        return this._values();
      }
    },
    _setOption: function(key, value) {
      var i,
          valsLength = 0;
      if (key === "range" && this.options.range === true) {
        if (value === "min") {
          this.options.value = this._values(0);
          this.options.values = null;
        } else if (value === "max") {
          this.options.value = this._values(this.options.values.length - 1);
          this.options.values = null;
        }
      }
      if ($.isArray(this.options.values)) {
        valsLength = this.options.values.length;
      }
      this._super(key, value);
      switch (key) {
        case "orientation":
          this._detectOrientation();
          this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-" + this.orientation);
          this._refreshValue();
          if (this.options.range) {
            this._refreshRange(value);
          }
          this.handles.css(value === "horizontal" ? "bottom" : "left", "");
          break;
        case "value":
          this._animateOff = true;
          this._refreshValue();
          this._change(null, 0);
          this._animateOff = false;
          break;
        case "values":
          this._animateOff = true;
          this._refreshValue();
          for (i = valsLength - 1; i >= 0; i--) {
            this._change(null, i);
          }
          this._animateOff = false;
          break;
        case "step":
        case "min":
        case "max":
          this._animateOff = true;
          this._calculateNewMax();
          this._refreshValue();
          this._animateOff = false;
          break;
        case "range":
          this._animateOff = true;
          this._refresh();
          this._animateOff = false;
          break;
      }
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this._toggleClass(null, "ui-state-disabled", !!value);
    },
    _value: function() {
      var val = this.options.value;
      val = this._trimAlignValue(val);
      return val;
    },
    _values: function(index) {
      var val,
          vals,
          i;
      if (arguments.length) {
        val = this.options.values[index];
        val = this._trimAlignValue(val);
        return val;
      } else if (this._hasMultipleValues()) {
        vals = this.options.values.slice();
        for (i = 0; i < vals.length; i += 1) {
          vals[i] = this._trimAlignValue(vals[i]);
        }
        return vals;
      } else {
        return [];
      }
    },
    _trimAlignValue: function(val) {
      if (val <= this._valueMin()) {
        return this._valueMin();
      }
      if (val >= this._valueMax()) {
        return this._valueMax();
      }
      var step = (this.options.step > 0) ? this.options.step : 1,
          valModStep = (val - this._valueMin()) % step,
          alignValue = val - valModStep;
      if (Math.abs(valModStep) * 2 >= step) {
        alignValue += (valModStep > 0) ? step : (-step);
      }
      return parseFloat(alignValue.toFixed(5));
    },
    _calculateNewMax: function() {
      var max = this.options.max,
          min = this._valueMin(),
          step = this.options.step,
          aboveMin = Math.round((max - min) / step) * step;
      max = aboveMin + min;
      if (max > this.options.max) {
        max -= step;
      }
      this.max = parseFloat(max.toFixed(this._precision()));
    },
    _precision: function() {
      var precision = this._precisionOf(this.options.step);
      if (this.options.min !== null) {
        precision = Math.max(precision, this._precisionOf(this.options.min));
      }
      return precision;
    },
    _precisionOf: function(num) {
      var str = num.toString(),
          decimal = str.indexOf(".");
      return decimal === -1 ? 0 : str.length - decimal - 1;
    },
    _valueMin: function() {
      return this.options.min;
    },
    _valueMax: function() {
      return this.max;
    },
    _refreshRange: function(orientation) {
      if (orientation === "vertical") {
        this.range.css({
          "width": "",
          "left": ""
        });
      }
      if (orientation === "horizontal") {
        this.range.css({
          "height": "",
          "bottom": ""
        });
      }
    },
    _refreshValue: function() {
      var lastValPercent,
          valPercent,
          value,
          valueMin,
          valueMax,
          oRange = this.options.range,
          o = this.options,
          that = this,
          animate = (!this._animateOff) ? o.animate : false,
          _set = {};
      if (this._hasMultipleValues()) {
        this.handles.each(function(i) {
          valPercent = (that.values(i) - that._valueMin()) / (that._valueMax() - that._valueMin()) * 100;
          _set[that.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
          $(this).stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
          if (that.options.range === true) {
            if (that.orientation === "horizontal") {
              if (i === 0) {
                that.range.stop(1, 1)[animate ? "animate" : "css"]({left: valPercent + "%"}, o.animate);
              }
              if (i === 1) {
                that.range[animate ? "animate" : "css"]({width: (valPercent - lastValPercent) + "%"}, {
                  queue: false,
                  duration: o.animate
                });
              }
            } else {
              if (i === 0) {
                that.range.stop(1, 1)[animate ? "animate" : "css"]({bottom: (valPercent) + "%"}, o.animate);
              }
              if (i === 1) {
                that.range[animate ? "animate" : "css"]({height: (valPercent - lastValPercent) + "%"}, {
                  queue: false,
                  duration: o.animate
                });
              }
            }
          }
          lastValPercent = valPercent;
        });
      } else {
        value = this.value();
        valueMin = this._valueMin();
        valueMax = this._valueMax();
        valPercent = (valueMax !== valueMin) ? (value - valueMin) / (valueMax - valueMin) * 100 : 0;
        _set[this.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
        this.handle.stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
        if (oRange === "min" && this.orientation === "horizontal") {
          this.range.stop(1, 1)[animate ? "animate" : "css"]({width: valPercent + "%"}, o.animate);
        }
        if (oRange === "max" && this.orientation === "horizontal") {
          this.range.stop(1, 1)[animate ? "animate" : "css"]({width: (100 - valPercent) + "%"}, o.animate);
        }
        if (oRange === "min" && this.orientation === "vertical") {
          this.range.stop(1, 1)[animate ? "animate" : "css"]({height: valPercent + "%"}, o.animate);
        }
        if (oRange === "max" && this.orientation === "vertical") {
          this.range.stop(1, 1)[animate ? "animate" : "css"]({height: (100 - valPercent) + "%"}, o.animate);
        }
      }
    },
    _handleEvents: {
      keydown: function(event) {
        var allowed,
            curVal,
            newVal,
            step,
            index = $(event.target).data("ui-slider-handle-index");
        switch (event.keyCode) {
          case $.ui.keyCode.HOME:
          case $.ui.keyCode.END:
          case $.ui.keyCode.PAGE_UP:
          case $.ui.keyCode.PAGE_DOWN:
          case $.ui.keyCode.UP:
          case $.ui.keyCode.RIGHT:
          case $.ui.keyCode.DOWN:
          case $.ui.keyCode.LEFT:
            event.preventDefault();
            if (!this._keySliding) {
              this._keySliding = true;
              this._addClass($(event.target), null, "ui-state-active");
              allowed = this._start(event, index);
              if (allowed === false) {
                return;
              }
            }
            break;
        }
        step = this.options.step;
        if (this._hasMultipleValues()) {
          curVal = newVal = this.values(index);
        } else {
          curVal = newVal = this.value();
        }
        switch (event.keyCode) {
          case $.ui.keyCode.HOME:
            newVal = this._valueMin();
            break;
          case $.ui.keyCode.END:
            newVal = this._valueMax();
            break;
          case $.ui.keyCode.PAGE_UP:
            newVal = this._trimAlignValue(curVal + ((this._valueMax() - this._valueMin()) / this.numPages));
            break;
          case $.ui.keyCode.PAGE_DOWN:
            newVal = this._trimAlignValue(curVal - ((this._valueMax() - this._valueMin()) / this.numPages));
            break;
          case $.ui.keyCode.UP:
          case $.ui.keyCode.RIGHT:
            if (curVal === this._valueMax()) {
              return;
            }
            newVal = this._trimAlignValue(curVal + step);
            break;
          case $.ui.keyCode.DOWN:
          case $.ui.keyCode.LEFT:
            if (curVal === this._valueMin()) {
              return;
            }
            newVal = this._trimAlignValue(curVal - step);
            break;
        }
        this._slide(event, index, newVal);
      },
      keyup: function(event) {
        var index = $(event.target).data("ui-slider-handle-index");
        if (this._keySliding) {
          this._keySliding = false;
          this._stop(event, index);
          this._change(event, index);
          this._removeClass($(event.target), null, "ui-state-active");
        }
      }
    }
  });
  var widgetsSortable = $.widget("ui.sortable", $.ui.mouse, {
    version: "1.12.1",
    widgetEventPrefix: "sort",
    ready: false,
    options: {
      appendTo: "parent",
      axis: false,
      connectWith: false,
      containment: false,
      cursor: "auto",
      cursorAt: false,
      dropOnEmpty: true,
      forcePlaceholderSize: false,
      forceHelperSize: false,
      grid: false,
      handle: false,
      helper: "original",
      items: "> *",
      opacity: false,
      placeholder: false,
      revert: false,
      scroll: true,
      scrollSensitivity: 20,
      scrollSpeed: 20,
      scope: "default",
      tolerance: "intersect",
      zIndex: 1000,
      activate: null,
      beforeStop: null,
      change: null,
      deactivate: null,
      out: null,
      over: null,
      receive: null,
      remove: null,
      sort: null,
      start: null,
      stop: null,
      update: null
    },
    _isOverAxis: function(x, reference, size) {
      return (x >= reference) && (x < (reference + size));
    },
    _isFloating: function(item) {
      return (/left|right/).test(item.css("float")) || (/inline|table-cell/).test(item.css("display"));
    },
    _create: function() {
      this.containerCache = {};
      this._addClass("ui-sortable");
      this.refresh();
      this.offset = this.element.offset();
      this._mouseInit();
      this._setHandleClassName();
      this.ready = true;
    },
    _setOption: function(key, value) {
      this._super(key, value);
      if (key === "handle") {
        this._setHandleClassName();
      }
    },
    _setHandleClassName: function() {
      var that = this;
      this._removeClass(this.element.find(".ui-sortable-handle"), "ui-sortable-handle");
      $.each(this.items, function() {
        that._addClass(this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item, "ui-sortable-handle");
      });
    },
    _destroy: function() {
      this._mouseDestroy();
      for (var i = this.items.length - 1; i >= 0; i--) {
        this.items[i].item.removeData(this.widgetName + "-item");
      }
      return this;
    },
    _mouseCapture: function(event, overrideHandle) {
      var currentItem = null,
          validHandle = false,
          that = this;
      if (this.reverting) {
        return false;
      }
      if (this.options.disabled || this.options.type === "static") {
        return false;
      }
      this._refreshItems(event);
      $(event.target).parents().each(function() {
        if ($.data(this, that.widgetName + "-item") === that) {
          currentItem = $(this);
          return false;
        }
      });
      if ($.data(event.target, that.widgetName + "-item") === that) {
        currentItem = $(event.target);
      }
      if (!currentItem) {
        return false;
      }
      if (this.options.handle && !overrideHandle) {
        $(this.options.handle, currentItem).find("*").addBack().each(function() {
          if (this === event.target) {
            validHandle = true;
          }
        });
        if (!validHandle) {
          return false;
        }
      }
      this.currentItem = currentItem;
      this._removeCurrentsFromItems();
      return true;
    },
    _mouseStart: function(event, overrideHandle, noActivation) {
      var i,
          body,
          o = this.options;
      this.currentContainer = this;
      this.refreshPositions();
      this.helper = this._createHelper(event);
      this._cacheHelperProportions();
      this._cacheMargins();
      this.scrollParent = this.helper.scrollParent();
      this.offset = this.currentItem.offset();
      this.offset = {
        top: this.offset.top - this.margins.top,
        left: this.offset.left - this.margins.left
      };
      $.extend(this.offset, {
        click: {
          left: event.pageX - this.offset.left,
          top: event.pageY - this.offset.top
        },
        parent: this._getParentOffset(),
        relative: this._getRelativeOffset()
      });
      this.helper.css("position", "absolute");
      this.cssPosition = this.helper.css("position");
      this.originalPosition = this._generatePosition(event);
      this.originalPageX = event.pageX;
      this.originalPageY = event.pageY;
      (o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));
      this.domPosition = {
        prev: this.currentItem.prev()[0],
        parent: this.currentItem.parent()[0]
      };
      if (this.helper[0] !== this.currentItem[0]) {
        this.currentItem.hide();
      }
      this._createPlaceholder();
      if (o.containment) {
        this._setContainment();
      }
      if (o.cursor && o.cursor !== "auto") {
        body = this.document.find("body");
        this.storedCursor = body.css("cursor");
        body.css("cursor", o.cursor);
        this.storedStylesheet = $("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(body);
      }
      if (o.opacity) {
        if (this.helper.css("opacity")) {
          this._storedOpacity = this.helper.css("opacity");
        }
        this.helper.css("opacity", o.opacity);
      }
      if (o.zIndex) {
        if (this.helper.css("zIndex")) {
          this._storedZIndex = this.helper.css("zIndex");
        }
        this.helper.css("zIndex", o.zIndex);
      }
      if (this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {
        this.overflowOffset = this.scrollParent.offset();
      }
      this._trigger("start", event, this._uiHash());
      if (!this._preserveHelperProportions) {
        this._cacheHelperProportions();
      }
      if (!noActivation) {
        for (i = this.containers.length - 1; i >= 0; i--) {
          this.containers[i]._trigger("activate", event, this._uiHash(this));
        }
      }
      if ($.ui.ddmanager) {
        $.ui.ddmanager.current = this;
      }
      if ($.ui.ddmanager && !o.dropBehaviour) {
        $.ui.ddmanager.prepareOffsets(this, event);
      }
      this.dragging = true;
      this._addClass(this.helper, "ui-sortable-helper");
      this._mouseDrag(event);
      return true;
    },
    _mouseDrag: function(event) {
      var i,
          item,
          itemElement,
          intersection,
          o = this.options,
          scrolled = false;
      this.position = this._generatePosition(event);
      this.positionAbs = this._convertPositionTo("absolute");
      if (!this.lastPositionAbs) {
        this.lastPositionAbs = this.positionAbs;
      }
      if (this.options.scroll) {
        if (this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {
          if ((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
            this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
          } else if (event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
            this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
          }
          if ((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
            this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
          } else if (event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
            this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
          }
        } else {
          if (event.pageY - this.document.scrollTop() < o.scrollSensitivity) {
            scrolled = this.document.scrollTop(this.document.scrollTop() - o.scrollSpeed);
          } else if (this.window.height() - (event.pageY - this.document.scrollTop()) < o.scrollSensitivity) {
            scrolled = this.document.scrollTop(this.document.scrollTop() + o.scrollSpeed);
          }
          if (event.pageX - this.document.scrollLeft() < o.scrollSensitivity) {
            scrolled = this.document.scrollLeft(this.document.scrollLeft() - o.scrollSpeed);
          } else if (this.window.width() - (event.pageX - this.document.scrollLeft()) < o.scrollSensitivity) {
            scrolled = this.document.scrollLeft(this.document.scrollLeft() + o.scrollSpeed);
          }
        }
        if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
          $.ui.ddmanager.prepareOffsets(this, event);
        }
      }
      this.positionAbs = this._convertPositionTo("absolute");
      if (!this.options.axis || this.options.axis !== "y") {
        this.helper[0].style.left = this.position.left + "px";
      }
      if (!this.options.axis || this.options.axis !== "x") {
        this.helper[0].style.top = this.position.top + "px";
      }
      for (i = this.items.length - 1; i >= 0; i--) {
        item = this.items[i];
        itemElement = item.item[0];
        intersection = this._intersectsWithPointer(item);
        if (!intersection) {
          continue;
        }
        if (item.instance !== this.currentContainer) {
          continue;
        }
        if (itemElement !== this.currentItem[0] && this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement && !$.contains(this.placeholder[0], itemElement) && (this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)) {
          this.direction = intersection === 1 ? "down" : "up";
          if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
            this._rearrange(event, item);
          } else {
            break;
          }
          this._trigger("change", event, this._uiHash());
          break;
        }
      }
      this._contactContainers(event);
      if ($.ui.ddmanager) {
        $.ui.ddmanager.drag(this, event);
      }
      this._trigger("sort", event, this._uiHash());
      this.lastPositionAbs = this.positionAbs;
      return false;
    },
    _mouseStop: function(event, noPropagation) {
      if (!event) {
        return;
      }
      if ($.ui.ddmanager && !this.options.dropBehaviour) {
        $.ui.ddmanager.drop(this, event);
      }
      if (this.options.revert) {
        var that = this,
            cur = this.placeholder.offset(),
            axis = this.options.axis,
            animation = {};
        if (!axis || axis === "x") {
          animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft);
        }
        if (!axis || axis === "y") {
          animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop);
        }
        this.reverting = true;
        $(this.helper).animate(animation, parseInt(this.options.revert, 10) || 500, function() {
          that._clear(event);
        });
      } else {
        this._clear(event, noPropagation);
      }
      return false;
    },
    cancel: function() {
      if (this.dragging) {
        this._mouseUp(new $.Event("mouseup", {target: null}));
        if (this.options.helper === "original") {
          this.currentItem.css(this._storedCSS);
          this._removeClass(this.currentItem, "ui-sortable-helper");
        } else {
          this.currentItem.show();
        }
        for (var i = this.containers.length - 1; i >= 0; i--) {
          this.containers[i]._trigger("deactivate", null, this._uiHash(this));
          if (this.containers[i].containerCache.over) {
            this.containers[i]._trigger("out", null, this._uiHash(this));
            this.containers[i].containerCache.over = 0;
          }
        }
      }
      if (this.placeholder) {
        if (this.placeholder[0].parentNode) {
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
        }
        if (this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
          this.helper.remove();
        }
        $.extend(this, {
          helper: null,
          dragging: false,
          reverting: false,
          _noFinalSort: null
        });
        if (this.domPosition.prev) {
          $(this.domPosition.prev).after(this.currentItem);
        } else {
          $(this.domPosition.parent).prepend(this.currentItem);
        }
      }
      return this;
    },
    serialize: function(o) {
      var items = this._getItemsAsjQuery(o && o.connected),
          str = [];
      o = o || {};
      $(items).each(function() {
        var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
        if (res) {
          str.push((o.key || res[1] + "[]") + "=" + (o.key && o.expression ? res[1] : res[2]));
        }
      });
      if (!str.length && o.key) {
        str.push(o.key + "=");
      }
      return str.join("&");
    },
    toArray: function(o) {
      var items = this._getItemsAsjQuery(o && o.connected),
          ret = [];
      o = o || {};
      items.each(function() {
        ret.push($(o.item || this).attr(o.attribute || "id") || "");
      });
      return ret;
    },
    _intersectsWith: function(item) {
      var x1 = this.positionAbs.left,
          x2 = x1 + this.helperProportions.width,
          y1 = this.positionAbs.top,
          y2 = y1 + this.helperProportions.height,
          l = item.left,
          r = l + item.width,
          t = item.top,
          b = t + item.height,
          dyClick = this.offset.click.top,
          dxClick = this.offset.click.left,
          isOverElementHeight = (this.options.axis === "x") || ((y1 + dyClick) > t && (y1 + dyClick) < b),
          isOverElementWidth = (this.options.axis === "y") || ((x1 + dxClick) > l && (x1 + dxClick) < r),
          isOverElement = isOverElementHeight && isOverElementWidth;
      if (this.options.tolerance === "pointer" || this.options.forcePointerForContainers || (this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])) {
        return isOverElement;
      } else {
        return (l < x1 + (this.helperProportions.width / 2) && x2 - (this.helperProportions.width / 2) < r && t < y1 + (this.helperProportions.height / 2) && y2 - (this.helperProportions.height / 2) < b);
      }
    },
    _intersectsWithPointer: function(item) {
      var verticalDirection,
          horizontalDirection,
          isOverElementHeight = (this.options.axis === "x") || this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
          isOverElementWidth = (this.options.axis === "y") || this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
          isOverElement = isOverElementHeight && isOverElementWidth;
      if (!isOverElement) {
        return false;
      }
      verticalDirection = this._getDragVerticalDirection();
      horizontalDirection = this._getDragHorizontalDirection();
      return this.floating ? ((horizontalDirection === "right" || verticalDirection === "down") ? 2 : 1) : (verticalDirection && (verticalDirection === "down" ? 2 : 1));
    },
    _intersectsWithSides: function(item) {
      var isOverBottomHalf = this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height / 2), item.height),
          isOverRightHalf = this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width / 2), item.width),
          verticalDirection = this._getDragVerticalDirection(),
          horizontalDirection = this._getDragHorizontalDirection();
      if (this.floating && horizontalDirection) {
        return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
      } else {
        return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
      }
    },
    _getDragVerticalDirection: function() {
      var delta = this.positionAbs.top - this.lastPositionAbs.top;
      return delta !== 0 && (delta > 0 ? "down" : "up");
    },
    _getDragHorizontalDirection: function() {
      var delta = this.positionAbs.left - this.lastPositionAbs.left;
      return delta !== 0 && (delta > 0 ? "right" : "left");
    },
    refresh: function(event) {
      this._refreshItems(event);
      this._setHandleClassName();
      this.refreshPositions();
      return this;
    },
    _connectWith: function() {
      var options = this.options;
      return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
    },
    _getItemsAsjQuery: function(connected) {
      var i,
          j,
          cur,
          inst,
          items = [],
          queries = [],
          connectWith = this._connectWith();
      if (connectWith && connected) {
        for (i = connectWith.length - 1; i >= 0; i--) {
          cur = $(connectWith[i], this.document[0]);
          for (j = cur.length - 1; j >= 0; j--) {
            inst = $.data(cur[j], this.widgetFullName);
            if (inst && inst !== this && !inst.options.disabled) {
              queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
            }
          }
        }
      }
      queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
        options: this.options,
        item: this.currentItem
      }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
      function addItems() {
        items.push(this);
      }
      for (i = queries.length - 1; i >= 0; i--) {
        queries[i][0].each(addItems);
      }
      return $(items);
    },
    _removeCurrentsFromItems: function() {
      var list = this.currentItem.find(":data(" + this.widgetName + "-item)");
      this.items = $.grep(this.items, function(item) {
        for (var j = 0; j < list.length; j++) {
          if (list[j] === item.item[0]) {
            return false;
          }
        }
        return true;
      });
    },
    _refreshItems: function(event) {
      this.items = [];
      this.containers = [this];
      var i,
          j,
          cur,
          inst,
          targetData,
          _queries,
          item,
          queriesLength,
          items = this.items,
          queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, {item: this.currentItem}) : $(this.options.items, this.element), this]],
          connectWith = this._connectWith();
      if (connectWith && this.ready) {
        for (i = connectWith.length - 1; i >= 0; i--) {
          cur = $(connectWith[i], this.document[0]);
          for (j = cur.length - 1; j >= 0; j--) {
            inst = $.data(cur[j], this.widgetFullName);
            if (inst && inst !== this && !inst.options.disabled) {
              queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, {item: this.currentItem}) : $(inst.options.items, inst.element), inst]);
              this.containers.push(inst);
            }
          }
        }
      }
      for (i = queries.length - 1; i >= 0; i--) {
        targetData = queries[i][1];
        _queries = queries[i][0];
        for (j = 0, queriesLength = _queries.length; j < queriesLength; j++) {
          item = $(_queries[j]);
          item.data(this.widgetName + "-item", targetData);
          items.push({
            item: item,
            instance: targetData,
            width: 0,
            height: 0,
            left: 0,
            top: 0
          });
        }
      }
    },
    refreshPositions: function(fast) {
      this.floating = this.items.length ? this.options.axis === "x" || this._isFloating(this.items[0].item) : false;
      if (this.offsetParent && this.helper) {
        this.offset.parent = this._getParentOffset();
      }
      var i,
          item,
          t,
          p;
      for (i = this.items.length - 1; i >= 0; i--) {
        item = this.items[i];
        if (item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
          continue;
        }
        t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;
        if (!fast) {
          item.width = t.outerWidth();
          item.height = t.outerHeight();
        }
        p = t.offset();
        item.left = p.left;
        item.top = p.top;
      }
      if (this.options.custom && this.options.custom.refreshContainers) {
        this.options.custom.refreshContainers.call(this);
      } else {
        for (i = this.containers.length - 1; i >= 0; i--) {
          p = this.containers[i].element.offset();
          this.containers[i].containerCache.left = p.left;
          this.containers[i].containerCache.top = p.top;
          this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
          this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
        }
      }
      return this;
    },
    _createPlaceholder: function(that) {
      that = that || this;
      var className,
          o = that.options;
      if (!o.placeholder || o.placeholder.constructor === String) {
        className = o.placeholder;
        o.placeholder = {
          element: function() {
            var nodeName = that.currentItem[0].nodeName.toLowerCase(),
                element = $("<" + nodeName + ">", that.document[0]);
            that._addClass(element, "ui-sortable-placeholder", className || that.currentItem[0].className)._removeClass(element, "ui-sortable-helper");
            if (nodeName === "tbody") {
              that._createTrPlaceholder(that.currentItem.find("tr").eq(0), $("<tr>", that.document[0]).appendTo(element));
            } else if (nodeName === "tr") {
              that._createTrPlaceholder(that.currentItem, element);
            } else if (nodeName === "img") {
              element.attr("src", that.currentItem.attr("src"));
            }
            if (!className) {
              element.css("visibility", "hidden");
            }
            return element;
          },
          update: function(container, p) {
            if (className && !o.forcePlaceholderSize) {
              return;
            }
            if (!p.height()) {
              p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop") || 0, 10) - parseInt(that.currentItem.css("paddingBottom") || 0, 10));
            }
            if (!p.width()) {
              p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft") || 0, 10) - parseInt(that.currentItem.css("paddingRight") || 0, 10));
            }
          }
        };
      }
      that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));
      that.currentItem.after(that.placeholder);
      o.placeholder.update(that, that.placeholder);
    },
    _createTrPlaceholder: function(sourceTr, targetTr) {
      var that = this;
      sourceTr.children().each(function() {
        $("<td>&#160;</td>", that.document[0]).attr("colspan", $(this).attr("colspan") || 1).appendTo(targetTr);
      });
    },
    _contactContainers: function(event) {
      var i,
          j,
          dist,
          itemWithLeastDistance,
          posProperty,
          sizeProperty,
          cur,
          nearBottom,
          floating,
          axis,
          innermostContainer = null,
          innermostIndex = null;
      for (i = this.containers.length - 1; i >= 0; i--) {
        if ($.contains(this.currentItem[0], this.containers[i].element[0])) {
          continue;
        }
        if (this._intersectsWith(this.containers[i].containerCache)) {
          if (innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
            continue;
          }
          innermostContainer = this.containers[i];
          innermostIndex = i;
        } else {
          if (this.containers[i].containerCache.over) {
            this.containers[i]._trigger("out", event, this._uiHash(this));
            this.containers[i].containerCache.over = 0;
          }
        }
      }
      if (!innermostContainer) {
        return;
      }
      if (this.containers.length === 1) {
        if (!this.containers[innermostIndex].containerCache.over) {
          this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
          this.containers[innermostIndex].containerCache.over = 1;
        }
      } else {
        dist = 10000;
        itemWithLeastDistance = null;
        floating = innermostContainer.floating || this._isFloating(this.currentItem);
        posProperty = floating ? "left" : "top";
        sizeProperty = floating ? "width" : "height";
        axis = floating ? "pageX" : "pageY";
        for (j = this.items.length - 1; j >= 0; j--) {
          if (!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
            continue;
          }
          if (this.items[j].item[0] === this.currentItem[0]) {
            continue;
          }
          cur = this.items[j].item.offset()[posProperty];
          nearBottom = false;
          if (event[axis] - cur > this.items[j][sizeProperty] / 2) {
            nearBottom = true;
          }
          if (Math.abs(event[axis] - cur) < dist) {
            dist = Math.abs(event[axis] - cur);
            itemWithLeastDistance = this.items[j];
            this.direction = nearBottom ? "up" : "down";
          }
        }
        if (!itemWithLeastDistance && !this.options.dropOnEmpty) {
          return;
        }
        if (this.currentContainer === this.containers[innermostIndex]) {
          if (!this.currentContainer.containerCache.over) {
            this.containers[innermostIndex]._trigger("over", event, this._uiHash());
            this.currentContainer.containerCache.over = 1;
          }
          return;
        }
        itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
        this._trigger("change", event, this._uiHash());
        this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
        this.currentContainer = this.containers[innermostIndex];
        this.options.placeholder.update(this.currentContainer, this.placeholder);
        this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
        this.containers[innermostIndex].containerCache.over = 1;
      }
    },
    _createHelper: function(event) {
      var o = this.options,
          helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);
      if (!helper.parents("body").length) {
        $(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
      }
      if (helper[0] === this.currentItem[0]) {
        this._storedCSS = {
          width: this.currentItem[0].style.width,
          height: this.currentItem[0].style.height,
          position: this.currentItem.css("position"),
          top: this.currentItem.css("top"),
          left: this.currentItem.css("left")
        };
      }
      if (!helper[0].style.width || o.forceHelperSize) {
        helper.width(this.currentItem.width());
      }
      if (!helper[0].style.height || o.forceHelperSize) {
        helper.height(this.currentItem.height());
      }
      return helper;
    },
    _adjustOffsetFromHelper: function(obj) {
      if (typeof obj === "string") {
        obj = obj.split(" ");
      }
      if ($.isArray(obj)) {
        obj = {
          left: +obj[0],
          top: +obj[1] || 0
        };
      }
      if ("left" in obj) {
        this.offset.click.left = obj.left + this.margins.left;
      }
      if ("right" in obj) {
        this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
      }
      if ("top" in obj) {
        this.offset.click.top = obj.top + this.margins.top;
      }
      if ("bottom" in obj) {
        this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
      }
    },
    _getParentOffset: function() {
      this.offsetParent = this.helper.offsetParent();
      var po = this.offsetParent.offset();
      if (this.cssPosition === "absolute" && this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) {
        po.left += this.scrollParent.scrollLeft();
        po.top += this.scrollParent.scrollTop();
      }
      if (this.offsetParent[0] === this.document[0].body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
        po = {
          top: 0,
          left: 0
        };
      }
      return {
        top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
        left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
      };
    },
    _getRelativeOffset: function() {
      if (this.cssPosition === "relative") {
        var p = this.currentItem.position();
        return {
          top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
          left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
        };
      } else {
        return {
          top: 0,
          left: 0
        };
      }
    },
    _cacheMargins: function() {
      this.margins = {
        left: (parseInt(this.currentItem.css("marginLeft"), 10) || 0),
        top: (parseInt(this.currentItem.css("marginTop"), 10) || 0)
      };
    },
    _cacheHelperProportions: function() {
      this.helperProportions = {
        width: this.helper.outerWidth(),
        height: this.helper.outerHeight()
      };
    },
    _setContainment: function() {
      var ce,
          co,
          over,
          o = this.options;
      if (o.containment === "parent") {
        o.containment = this.helper[0].parentNode;
      }
      if (o.containment === "document" || o.containment === "window") {
        this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, o.containment === "document" ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, (o.containment === "document" ? (this.document.height() || document.body.parentNode.scrollHeight) : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
      }
      if (!(/^(document|window|parent)$/).test(o.containment)) {
        ce = $(o.containment)[0];
        co = $(o.containment).offset();
        over = ($(ce).css("overflow") !== "hidden");
        this.containment = [co.left + (parseInt($(ce).css("borderLeftWidth"), 10) || 0) + (parseInt($(ce).css("paddingLeft"), 10) || 0) - this.margins.left, co.top + (parseInt($(ce).css("borderTopWidth"), 10) || 0) + (parseInt($(ce).css("paddingTop"), 10) || 0) - this.margins.top, co.left + (over ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"), 10) || 0) - (parseInt($(ce).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, co.top + (over ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"), 10) || 0) - (parseInt($(ce).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top];
      }
    },
    _convertPositionTo: function(d, pos) {
      if (!pos) {
        pos = this.position;
      }
      var mod = d === "absolute" ? 1 : -1,
          scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
          scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
      return {
        top: (pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - ((this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : (scrollIsRootNode ? 0 : scroll.scrollTop())) * mod)),
        left: (pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - ((this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft()) * mod))
      };
    },
    _generatePosition: function(event) {
      var top,
          left,
          o = this.options,
          pageX = event.pageX,
          pageY = event.pageY,
          scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
          scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
      if (this.cssPosition === "relative" && !(this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0])) {
        this.offset.relative = this._getRelativeOffset();
      }
      if (this.originalPosition) {
        if (this.containment) {
          if (event.pageX - this.offset.click.left < this.containment[0]) {
            pageX = this.containment[0] + this.offset.click.left;
          }
          if (event.pageY - this.offset.click.top < this.containment[1]) {
            pageY = this.containment[1] + this.offset.click.top;
          }
          if (event.pageX - this.offset.click.left > this.containment[2]) {
            pageX = this.containment[2] + this.offset.click.left;
          }
          if (event.pageY - this.offset.click.top > this.containment[3]) {
            pageY = this.containment[3] + this.offset.click.top;
          }
        }
        if (o.grid) {
          top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
          pageY = this.containment ? ((top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
          left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
          pageX = this.containment ? ((left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
        }
      }
      return {
        top: (pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ((this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : (scrollIsRootNode ? 0 : scroll.scrollTop())))),
        left: (pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ((this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft())))
      };
    },
    _rearrange: function(event, i, a, hardRefresh) {
      a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));
      this.counter = this.counter ? ++this.counter : 1;
      var counter = this.counter;
      this._delay(function() {
        if (counter === this.counter) {
          this.refreshPositions(!hardRefresh);
        }
      });
    },
    _clear: function(event, noPropagation) {
      this.reverting = false;
      var i,
          delayedTriggers = [];
      if (!this._noFinalSort && this.currentItem.parent().length) {
        this.placeholder.before(this.currentItem);
      }
      this._noFinalSort = null;
      if (this.helper[0] === this.currentItem[0]) {
        for (i in this._storedCSS) {
          if (this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
            this._storedCSS[i] = "";
          }
        }
        this.currentItem.css(this._storedCSS);
        this._removeClass(this.currentItem, "ui-sortable-helper");
      } else {
        this.currentItem.show();
      }
      if (this.fromOutside && !noPropagation) {
        delayedTriggers.push(function(event) {
          this._trigger("receive", event, this._uiHash(this.fromOutside));
        });
      }
      if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
        delayedTriggers.push(function(event) {
          this._trigger("update", event, this._uiHash());
        });
      }
      if (this !== this.currentContainer) {
        if (!noPropagation) {
          delayedTriggers.push(function(event) {
            this._trigger("remove", event, this._uiHash());
          });
          delayedTriggers.push((function(c) {
            return function(event) {
              c._trigger("receive", event, this._uiHash(this));
            };
          }).call(this, this.currentContainer));
          delayedTriggers.push((function(c) {
            return function(event) {
              c._trigger("update", event, this._uiHash(this));
            };
          }).call(this, this.currentContainer));
        }
      }
      function delayEvent(type, instance, container) {
        return function(event) {
          container._trigger(type, event, instance._uiHash(instance));
        };
      }
      for (i = this.containers.length - 1; i >= 0; i--) {
        if (!noPropagation) {
          delayedTriggers.push(delayEvent("deactivate", this, this.containers[i]));
        }
        if (this.containers[i].containerCache.over) {
          delayedTriggers.push(delayEvent("out", this, this.containers[i]));
          this.containers[i].containerCache.over = 0;
        }
      }
      if (this.storedCursor) {
        this.document.find("body").css("cursor", this.storedCursor);
        this.storedStylesheet.remove();
      }
      if (this._storedOpacity) {
        this.helper.css("opacity", this._storedOpacity);
      }
      if (this._storedZIndex) {
        this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
      }
      this.dragging = false;
      if (!noPropagation) {
        this._trigger("beforeStop", event, this._uiHash());
      }
      this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
      if (!this.cancelHelperRemoval) {
        if (this.helper[0] !== this.currentItem[0]) {
          this.helper.remove();
        }
        this.helper = null;
      }
      if (!noPropagation) {
        for (i = 0; i < delayedTriggers.length; i++) {
          delayedTriggers[i].call(this, event);
        }
        this._trigger("stop", event, this._uiHash());
      }
      this.fromOutside = false;
      return !this.cancelHelperRemoval;
    },
    _trigger: function() {
      if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
        this.cancel();
      }
    },
    _uiHash: function(_inst) {
      var inst = _inst || this;
      return {
        helper: inst.helper,
        placeholder: inst.placeholder || $([]),
        position: inst.position,
        originalPosition: inst.originalPosition,
        offset: inst.positionAbs,
        item: inst.currentItem,
        sender: _inst ? _inst.element : null
      };
    }
  });
  function spinnerModifer(fn) {
    return function() {
      var previous = this.element.val();
      fn.apply(this, arguments);
      this._refresh();
      if (previous !== this.element.val()) {
        this._trigger("change");
      }
    };
  }
  $.widget("ui.spinner", {
    version: "1.12.1",
    defaultElement: "<input>",
    widgetEventPrefix: "spin",
    options: {
      classes: {
        "ui-spinner": "ui-corner-all",
        "ui-spinner-down": "ui-corner-br",
        "ui-spinner-up": "ui-corner-tr"
      },
      culture: null,
      icons: {
        down: "ui-icon-triangle-1-s",
        up: "ui-icon-triangle-1-n"
      },
      incremental: true,
      max: null,
      min: null,
      numberFormat: null,
      page: 10,
      step: 1,
      change: null,
      spin: null,
      start: null,
      stop: null
    },
    _create: function() {
      this._setOption("max", this.options.max);
      this._setOption("min", this.options.min);
      this._setOption("step", this.options.step);
      if (this.value() !== "") {
        this._value(this.element.val(), true);
      }
      this._draw();
      this._on(this._events);
      this._refresh();
      this._on(this.window, {beforeunload: function() {
          this.element.removeAttr("autocomplete");
        }});
    },
    _getCreateOptions: function() {
      var options = this._super();
      var element = this.element;
      $.each(["min", "max", "step"], function(i, option) {
        var value = element.attr(option);
        if (value != null && value.length) {
          options[option] = value;
        }
      });
      return options;
    },
    _events: {
      keydown: function(event) {
        if (this._start(event) && this._keydown(event)) {
          event.preventDefault();
        }
      },
      keyup: "_stop",
      focus: function() {
        this.previous = this.element.val();
      },
      blur: function(event) {
        if (this.cancelBlur) {
          delete this.cancelBlur;
          return;
        }
        this._stop();
        this._refresh();
        if (this.previous !== this.element.val()) {
          this._trigger("change", event);
        }
      },
      mousewheel: function(event, delta) {
        if (!delta) {
          return;
        }
        if (!this.spinning && !this._start(event)) {
          return false;
        }
        this._spin((delta > 0 ? 1 : -1) * this.options.step, event);
        clearTimeout(this.mousewheelTimer);
        this.mousewheelTimer = this._delay(function() {
          if (this.spinning) {
            this._stop(event);
          }
        }, 100);
        event.preventDefault();
      },
      "mousedown .ui-spinner-button": function(event) {
        var previous;
        previous = this.element[0] === $.ui.safeActiveElement(this.document[0]) ? this.previous : this.element.val();
        function checkFocus() {
          var isActive = this.element[0] === $.ui.safeActiveElement(this.document[0]);
          if (!isActive) {
            this.element.trigger("focus");
            this.previous = previous;
            this._delay(function() {
              this.previous = previous;
            });
          }
        }
        event.preventDefault();
        checkFocus.call(this);
        this.cancelBlur = true;
        this._delay(function() {
          delete this.cancelBlur;
          checkFocus.call(this);
        });
        if (this._start(event) === false) {
          return;
        }
        this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event);
      },
      "mouseup .ui-spinner-button": "_stop",
      "mouseenter .ui-spinner-button": function(event) {
        if (!$(event.currentTarget).hasClass("ui-state-active")) {
          return;
        }
        if (this._start(event) === false) {
          return false;
        }
        this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event);
      },
      "mouseleave .ui-spinner-button": "_stop"
    },
    _enhance: function() {
      this.uiSpinner = this.element.attr("autocomplete", "off").wrap("<span>").parent().append("<a></a><a></a>");
    },
    _draw: function() {
      this._enhance();
      this._addClass(this.uiSpinner, "ui-spinner", "ui-widget ui-widget-content");
      this._addClass("ui-spinner-input");
      this.element.attr("role", "spinbutton");
      this.buttons = this.uiSpinner.children("a").attr("tabIndex", -1).attr("aria-hidden", true).button({classes: {"ui-button": ""}});
      this._removeClass(this.buttons, "ui-corner-all");
      this._addClass(this.buttons.first(), "ui-spinner-button ui-spinner-up");
      this._addClass(this.buttons.last(), "ui-spinner-button ui-spinner-down");
      this.buttons.first().button({
        "icon": this.options.icons.up,
        "showLabel": false
      });
      this.buttons.last().button({
        "icon": this.options.icons.down,
        "showLabel": false
      });
      if (this.buttons.height() > Math.ceil(this.uiSpinner.height() * 0.5) && this.uiSpinner.height() > 0) {
        this.uiSpinner.height(this.uiSpinner.height());
      }
    },
    _keydown: function(event) {
      var options = this.options,
          keyCode = $.ui.keyCode;
      switch (event.keyCode) {
        case keyCode.UP:
          this._repeat(null, 1, event);
          return true;
        case keyCode.DOWN:
          this._repeat(null, -1, event);
          return true;
        case keyCode.PAGE_UP:
          this._repeat(null, options.page, event);
          return true;
        case keyCode.PAGE_DOWN:
          this._repeat(null, -options.page, event);
          return true;
      }
      return false;
    },
    _start: function(event) {
      if (!this.spinning && this._trigger("start", event) === false) {
        return false;
      }
      if (!this.counter) {
        this.counter = 1;
      }
      this.spinning = true;
      return true;
    },
    _repeat: function(i, steps, event) {
      i = i || 500;
      clearTimeout(this.timer);
      this.timer = this._delay(function() {
        this._repeat(40, steps, event);
      }, i);
      this._spin(steps * this.options.step, event);
    },
    _spin: function(step, event) {
      var value = this.value() || 0;
      if (!this.counter) {
        this.counter = 1;
      }
      value = this._adjustValue(value + step * this._increment(this.counter));
      if (!this.spinning || this._trigger("spin", event, {value: value}) !== false) {
        this._value(value);
        this.counter++;
      }
    },
    _increment: function(i) {
      var incremental = this.options.incremental;
      if (incremental) {
        return $.isFunction(incremental) ? incremental(i) : Math.floor(i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1);
      }
      return 1;
    },
    _precision: function() {
      var precision = this._precisionOf(this.options.step);
      if (this.options.min !== null) {
        precision = Math.max(precision, this._precisionOf(this.options.min));
      }
      return precision;
    },
    _precisionOf: function(num) {
      var str = num.toString(),
          decimal = str.indexOf(".");
      return decimal === -1 ? 0 : str.length - decimal - 1;
    },
    _adjustValue: function(value) {
      var base,
          aboveMin,
          options = this.options;
      base = options.min !== null ? options.min : 0;
      aboveMin = value - base;
      aboveMin = Math.round(aboveMin / options.step) * options.step;
      value = base + aboveMin;
      value = parseFloat(value.toFixed(this._precision()));
      if (options.max !== null && value > options.max) {
        return options.max;
      }
      if (options.min !== null && value < options.min) {
        return options.min;
      }
      return value;
    },
    _stop: function(event) {
      if (!this.spinning) {
        return;
      }
      clearTimeout(this.timer);
      clearTimeout(this.mousewheelTimer);
      this.counter = 0;
      this.spinning = false;
      this._trigger("stop", event);
    },
    _setOption: function(key, value) {
      var prevValue,
          first,
          last;
      if (key === "culture" || key === "numberFormat") {
        prevValue = this._parse(this.element.val());
        this.options[key] = value;
        this.element.val(this._format(prevValue));
        return;
      }
      if (key === "max" || key === "min" || key === "step") {
        if (typeof value === "string") {
          value = this._parse(value);
        }
      }
      if (key === "icons") {
        first = this.buttons.first().find(".ui-icon");
        this._removeClass(first, null, this.options.icons.up);
        this._addClass(first, null, value.up);
        last = this.buttons.last().find(".ui-icon");
        this._removeClass(last, null, this.options.icons.down);
        this._addClass(last, null, value.down);
      }
      this._super(key, value);
    },
    _setOptionDisabled: function(value) {
      this._super(value);
      this._toggleClass(this.uiSpinner, null, "ui-state-disabled", !!value);
      this.element.prop("disabled", !!value);
      this.buttons.button(value ? "disable" : "enable");
    },
    _setOptions: spinnerModifer(function(options) {
      this._super(options);
    }),
    _parse: function(val) {
      if (typeof val === "string" && val !== "") {
        val = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(val, 10, this.options.culture) : +val;
      }
      return val === "" || isNaN(val) ? null : val;
    },
    _format: function(value) {
      if (value === "") {
        return "";
      }
      return window.Globalize && this.options.numberFormat ? Globalize.format(value, this.options.numberFormat, this.options.culture) : value;
    },
    _refresh: function() {
      this.element.attr({
        "aria-valuemin": this.options.min,
        "aria-valuemax": this.options.max,
        "aria-valuenow": this._parse(this.element.val())
      });
    },
    isValid: function() {
      var value = this.value();
      if (value === null) {
        return false;
      }
      return value === this._adjustValue(value);
    },
    _value: function(value, allowAny) {
      var parsed;
      if (value !== "") {
        parsed = this._parse(value);
        if (parsed !== null) {
          if (!allowAny) {
            parsed = this._adjustValue(parsed);
          }
          value = this._format(parsed);
        }
      }
      this.element.val(value);
      this._refresh();
    },
    _destroy: function() {
      this.element.prop("disabled", false).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");
      this.uiSpinner.replaceWith(this.element);
    },
    stepUp: spinnerModifer(function(steps) {
      this._stepUp(steps);
    }),
    _stepUp: function(steps) {
      if (this._start()) {
        this._spin((steps || 1) * this.options.step);
        this._stop();
      }
    },
    stepDown: spinnerModifer(function(steps) {
      this._stepDown(steps);
    }),
    _stepDown: function(steps) {
      if (this._start()) {
        this._spin((steps || 1) * -this.options.step);
        this._stop();
      }
    },
    pageUp: spinnerModifer(function(pages) {
      this._stepUp((pages || 1) * this.options.page);
    }),
    pageDown: spinnerModifer(function(pages) {
      this._stepDown((pages || 1) * this.options.page);
    }),
    value: function(newVal) {
      if (!arguments.length) {
        return this._parse(this.element.val());
      }
      spinnerModifer(this._value).call(this, newVal);
    },
    widget: function() {
      return this.uiSpinner;
    }
  });
  if ($.uiBackCompat !== false) {
    $.widget("ui.spinner", $.ui.spinner, {
      _enhance: function() {
        this.uiSpinner = this.element.attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
      },
      _uiSpinnerHtml: function() {
        return "<span>";
      },
      _buttonHtml: function() {
        return "<a></a><a></a>";
      }
    });
  }
  var widgetsSpinner = $.ui.spinner;
  $.widget("ui.tabs", {
    version: "1.12.1",
    delay: 300,
    options: {
      active: null,
      classes: {
        "ui-tabs": "ui-corner-all",
        "ui-tabs-nav": "ui-corner-all",
        "ui-tabs-panel": "ui-corner-bottom",
        "ui-tabs-tab": "ui-corner-top"
      },
      collapsible: false,
      event: "click",
      heightStyle: "content",
      hide: null,
      show: null,
      activate: null,
      beforeActivate: null,
      beforeLoad: null,
      load: null
    },
    _isLocal: (function() {
      var rhash = /#.*$/;
      return function(anchor) {
        var anchorUrl,
            locationUrl;
        anchorUrl = anchor.href.replace(rhash, "");
        locationUrl = location.href.replace(rhash, "");
        try {
          anchorUrl = decodeURIComponent(anchorUrl);
        } catch (error) {}
        try {
          locationUrl = decodeURIComponent(locationUrl);
        } catch (error) {}
        return anchor.hash.length > 1 && anchorUrl === locationUrl;
      };
    })(),
    _create: function() {
      var that = this,
          options = this.options;
      this.running = false;
      this._addClass("ui-tabs", "ui-widget ui-widget-content");
      this._toggleClass("ui-tabs-collapsible", null, options.collapsible);
      this._processTabs();
      options.active = this._initialActive();
      if ($.isArray(options.disabled)) {
        options.disabled = $.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"), function(li) {
          return that.tabs.index(li);
        }))).sort();
      }
      if (this.options.active !== false && this.anchors.length) {
        this.active = this._findActive(options.active);
      } else {
        this.active = $();
      }
      this._refresh();
      if (this.active.length) {
        this.load(options.active);
      }
    },
    _initialActive: function() {
      var active = this.options.active,
          collapsible = this.options.collapsible,
          locationHash = location.hash.substring(1);
      if (active === null) {
        if (locationHash) {
          this.tabs.each(function(i, tab) {
            if ($(tab).attr("aria-controls") === locationHash) {
              active = i;
              return false;
            }
          });
        }
        if (active === null) {
          active = this.tabs.index(this.tabs.filter(".ui-tabs-active"));
        }
        if (active === null || active === -1) {
          active = this.tabs.length ? 0 : false;
        }
      }
      if (active !== false) {
        active = this.tabs.index(this.tabs.eq(active));
        if (active === -1) {
          active = collapsible ? false : 0;
        }
      }
      if (!collapsible && active === false && this.anchors.length) {
        active = 0;
      }
      return active;
    },
    _getCreateEventData: function() {
      return {
        tab: this.active,
        panel: !this.active.length ? $() : this._getPanelForTab(this.active)
      };
    },
    _tabKeydown: function(event) {
      var focusedTab = $($.ui.safeActiveElement(this.document[0])).closest("li"),
          selectedIndex = this.tabs.index(focusedTab),
          goingForward = true;
      if (this._handlePageNav(event)) {
        return;
      }
      switch (event.keyCode) {
        case $.ui.keyCode.RIGHT:
        case $.ui.keyCode.DOWN:
          selectedIndex++;
          break;
        case $.ui.keyCode.UP:
        case $.ui.keyCode.LEFT:
          goingForward = false;
          selectedIndex--;
          break;
        case $.ui.keyCode.END:
          selectedIndex = this.anchors.length - 1;
          break;
        case $.ui.keyCode.HOME:
          selectedIndex = 0;
          break;
        case $.ui.keyCode.SPACE:
          event.preventDefault();
          clearTimeout(this.activating);
          this._activate(selectedIndex);
          return;
        case $.ui.keyCode.ENTER:
          event.preventDefault();
          clearTimeout(this.activating);
          this._activate(selectedIndex === this.options.active ? false : selectedIndex);
          return;
        default:
          return;
      }
      event.preventDefault();
      clearTimeout(this.activating);
      selectedIndex = this._focusNextTab(selectedIndex, goingForward);
      if (!event.ctrlKey && !event.metaKey) {
        focusedTab.attr("aria-selected", "false");
        this.tabs.eq(selectedIndex).attr("aria-selected", "true");
        this.activating = this._delay(function() {
          this.option("active", selectedIndex);
        }, this.delay);
      }
    },
    _panelKeydown: function(event) {
      if (this._handlePageNav(event)) {
        return;
      }
      if (event.ctrlKey && event.keyCode === $.ui.keyCode.UP) {
        event.preventDefault();
        this.active.trigger("focus");
      }
    },
    _handlePageNav: function(event) {
      if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP) {
        this._activate(this._focusNextTab(this.options.active - 1, false));
        return true;
      }
      if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN) {
        this._activate(this._focusNextTab(this.options.active + 1, true));
        return true;
      }
    },
    _findNextTab: function(index, goingForward) {
      var lastTabIndex = this.tabs.length - 1;
      function constrain() {
        if (index > lastTabIndex) {
          index = 0;
        }
        if (index < 0) {
          index = lastTabIndex;
        }
        return index;
      }
      while ($.inArray(constrain(), this.options.disabled) !== -1) {
        index = goingForward ? index + 1 : index - 1;
      }
      return index;
    },
    _focusNextTab: function(index, goingForward) {
      index = this._findNextTab(index, goingForward);
      this.tabs.eq(index).trigger("focus");
      return index;
    },
    _setOption: function(key, value) {
      if (key === "active") {
        this._activate(value);
        return;
      }
      this._super(key, value);
      if (key === "collapsible") {
        this._toggleClass("ui-tabs-collapsible", null, value);
        if (!value && this.options.active === false) {
          this._activate(0);
        }
      }
      if (key === "event") {
        this._setupEvents(value);
      }
      if (key === "heightStyle") {
        this._setupHeightStyle(value);
      }
    },
    _sanitizeSelector: function(hash) {
      return hash ? hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : "";
    },
    refresh: function() {
      var options = this.options,
          lis = this.tablist.children(":has(a[href])");
      options.disabled = $.map(lis.filter(".ui-state-disabled"), function(tab) {
        return lis.index(tab);
      });
      this._processTabs();
      if (options.active === false || !this.anchors.length) {
        options.active = false;
        this.active = $();
      } else if (this.active.length && !$.contains(this.tablist[0], this.active[0])) {
        if (this.tabs.length === options.disabled.length) {
          options.active = false;
          this.active = $();
        } else {
          this._activate(this._findNextTab(Math.max(0, options.active - 1), false));
        }
      } else {
        options.active = this.tabs.index(this.active);
      }
      this._refresh();
    },
    _refresh: function() {
      this._setOptionDisabled(this.options.disabled);
      this._setupEvents(this.options.event);
      this._setupHeightStyle(this.options.heightStyle);
      this.tabs.not(this.active).attr({
        "aria-selected": "false",
        "aria-expanded": "false",
        tabIndex: -1
      });
      this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden": "true"});
      if (!this.active.length) {
        this.tabs.eq(0).attr("tabIndex", 0);
      } else {
        this.active.attr({
          "aria-selected": "true",
          "aria-expanded": "true",
          tabIndex: 0
        });
        this._addClass(this.active, "ui-tabs-active", "ui-state-active");
        this._getPanelForTab(this.active).show().attr({"aria-hidden": "false"});
      }
    },
    _processTabs: function() {
      var that = this,
          prevTabs = this.tabs,
          prevAnchors = this.anchors,
          prevPanels = this.panels;
      this.tablist = this._getList().attr("role", "tablist");
      this._addClass(this.tablist, "ui-tabs-nav", "ui-helper-reset ui-helper-clearfix ui-widget-header");
      this.tablist.on("mousedown" + this.eventNamespace, "> li", function(event) {
        if ($(this).is(".ui-state-disabled")) {
          event.preventDefault();
        }
      }).on("focus" + this.eventNamespace, ".ui-tabs-anchor", function() {
        if ($(this).closest("li").is(".ui-state-disabled")) {
          this.blur();
        }
      });
      this.tabs = this.tablist.find("> li:has(a[href])").attr({
        role: "tab",
        tabIndex: -1
      });
      this._addClass(this.tabs, "ui-tabs-tab", "ui-state-default");
      this.anchors = this.tabs.map(function() {
        return $("a", this)[0];
      }).attr({
        role: "presentation",
        tabIndex: -1
      });
      this._addClass(this.anchors, "ui-tabs-anchor");
      this.panels = $();
      this.anchors.each(function(i, anchor) {
        var selector,
            panel,
            panelId,
            anchorId = $(anchor).uniqueId().attr("id"),
            tab = $(anchor).closest("li"),
            originalAriaControls = tab.attr("aria-controls");
        if (that._isLocal(anchor)) {
          selector = anchor.hash;
          panelId = selector.substring(1);
          panel = that.element.find(that._sanitizeSelector(selector));
        } else {
          panelId = tab.attr("aria-controls") || $({}).uniqueId()[0].id;
          selector = "#" + panelId;
          panel = that.element.find(selector);
          if (!panel.length) {
            panel = that._createPanel(panelId);
            panel.insertAfter(that.panels[i - 1] || that.tablist);
          }
          panel.attr("aria-live", "polite");
        }
        if (panel.length) {
          that.panels = that.panels.add(panel);
        }
        if (originalAriaControls) {
          tab.data("ui-tabs-aria-controls", originalAriaControls);
        }
        tab.attr({
          "aria-controls": panelId,
          "aria-labelledby": anchorId
        });
        panel.attr("aria-labelledby", anchorId);
      });
      this.panels.attr("role", "tabpanel");
      this._addClass(this.panels, "ui-tabs-panel", "ui-widget-content");
      if (prevTabs) {
        this._off(prevTabs.not(this.tabs));
        this._off(prevAnchors.not(this.anchors));
        this._off(prevPanels.not(this.panels));
      }
    },
    _getList: function() {
      return this.tablist || this.element.find("ol, ul").eq(0);
    },
    _createPanel: function(id) {
      return $("<div>").attr("id", id).data("ui-tabs-destroy", true);
    },
    _setOptionDisabled: function(disabled) {
      var currentItem,
          li,
          i;
      if ($.isArray(disabled)) {
        if (!disabled.length) {
          disabled = false;
        } else if (disabled.length === this.anchors.length) {
          disabled = true;
        }
      }
      for (i = 0; (li = this.tabs[i]); i++) {
        currentItem = $(li);
        if (disabled === true || $.inArray(i, disabled) !== -1) {
          currentItem.attr("aria-disabled", "true");
          this._addClass(currentItem, null, "ui-state-disabled");
        } else {
          currentItem.removeAttr("aria-disabled");
          this._removeClass(currentItem, null, "ui-state-disabled");
        }
      }
      this.options.disabled = disabled;
      this._toggleClass(this.widget(), this.widgetFullName + "-disabled", null, disabled === true);
    },
    _setupEvents: function(event) {
      var events = {};
      if (event) {
        $.each(event.split(" "), function(index, eventName) {
          events[eventName] = "_eventHandler";
        });
      }
      this._off(this.anchors.add(this.tabs).add(this.panels));
      this._on(true, this.anchors, {click: function(event) {
          event.preventDefault();
        }});
      this._on(this.anchors, events);
      this._on(this.tabs, {keydown: "_tabKeydown"});
      this._on(this.panels, {keydown: "_panelKeydown"});
      this._focusable(this.tabs);
      this._hoverable(this.tabs);
    },
    _setupHeightStyle: function(heightStyle) {
      var maxHeight,
          parent = this.element.parent();
      if (heightStyle === "fill") {
        maxHeight = parent.height();
        maxHeight -= this.element.outerHeight() - this.element.height();
        this.element.siblings(":visible").each(function() {
          var elem = $(this),
              position = elem.css("position");
          if (position === "absolute" || position === "fixed") {
            return;
          }
          maxHeight -= elem.outerHeight(true);
        });
        this.element.children().not(this.panels).each(function() {
          maxHeight -= $(this).outerHeight(true);
        });
        this.panels.each(function() {
          $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()));
        }).css("overflow", "auto");
      } else if (heightStyle === "auto") {
        maxHeight = 0;
        this.panels.each(function() {
          maxHeight = Math.max(maxHeight, $(this).height("").height());
        }).height(maxHeight);
      }
    },
    _eventHandler: function(event) {
      var options = this.options,
          active = this.active,
          anchor = $(event.currentTarget),
          tab = anchor.closest("li"),
          clickedIsActive = tab[0] === active[0],
          collapsing = clickedIsActive && options.collapsible,
          toShow = collapsing ? $() : this._getPanelForTab(tab),
          toHide = !active.length ? $() : this._getPanelForTab(active),
          eventData = {
            oldTab: active,
            oldPanel: toHide,
            newTab: collapsing ? $() : tab,
            newPanel: toShow
          };
      event.preventDefault();
      if (tab.hasClass("ui-state-disabled") || tab.hasClass("ui-tabs-loading") || this.running || (clickedIsActive && !options.collapsible) || (this._trigger("beforeActivate", event, eventData) === false)) {
        return;
      }
      options.active = collapsing ? false : this.tabs.index(tab);
      this.active = clickedIsActive ? $() : tab;
      if (this.xhr) {
        this.xhr.abort();
      }
      if (!toHide.length && !toShow.length) {
        $.error("jQuery UI Tabs: Mismatching fragment identifier.");
      }
      if (toShow.length) {
        this.load(this.tabs.index(tab), event);
      }
      this._toggle(event, eventData);
    },
    _toggle: function(event, eventData) {
      var that = this,
          toShow = eventData.newPanel,
          toHide = eventData.oldPanel;
      this.running = true;
      function complete() {
        that.running = false;
        that._trigger("activate", event, eventData);
      }
      function show() {
        that._addClass(eventData.newTab.closest("li"), "ui-tabs-active", "ui-state-active");
        if (toShow.length && that.options.show) {
          that._show(toShow, that.options.show, complete);
        } else {
          toShow.show();
          complete();
        }
      }
      if (toHide.length && this.options.hide) {
        this._hide(toHide, this.options.hide, function() {
          that._removeClass(eventData.oldTab.closest("li"), "ui-tabs-active", "ui-state-active");
          show();
        });
      } else {
        this._removeClass(eventData.oldTab.closest("li"), "ui-tabs-active", "ui-state-active");
        toHide.hide();
        show();
      }
      toHide.attr("aria-hidden", "true");
      eventData.oldTab.attr({
        "aria-selected": "false",
        "aria-expanded": "false"
      });
      if (toShow.length && toHide.length) {
        eventData.oldTab.attr("tabIndex", -1);
      } else if (toShow.length) {
        this.tabs.filter(function() {
          return $(this).attr("tabIndex") === 0;
        }).attr("tabIndex", -1);
      }
      toShow.attr("aria-hidden", "false");
      eventData.newTab.attr({
        "aria-selected": "true",
        "aria-expanded": "true",
        tabIndex: 0
      });
    },
    _activate: function(index) {
      var anchor,
          active = this._findActive(index);
      if (active[0] === this.active[0]) {
        return;
      }
      if (!active.length) {
        active = this.active;
      }
      anchor = active.find(".ui-tabs-anchor")[0];
      this._eventHandler({
        target: anchor,
        currentTarget: anchor,
        preventDefault: $.noop
      });
    },
    _findActive: function(index) {
      return index === false ? $() : this.tabs.eq(index);
    },
    _getIndex: function(index) {
      if (typeof index === "string") {
        index = this.anchors.index(this.anchors.filter("[href$='" + $.ui.escapeSelector(index) + "']"));
      }
      return index;
    },
    _destroy: function() {
      if (this.xhr) {
        this.xhr.abort();
      }
      this.tablist.removeAttr("role").off(this.eventNamespace);
      this.anchors.removeAttr("role tabIndex").removeUniqueId();
      this.tabs.add(this.panels).each(function() {
        if ($.data(this, "ui-tabs-destroy")) {
          $(this).remove();
        } else {
          $(this).removeAttr("role tabIndex " + "aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded");
        }
      });
      this.tabs.each(function() {
        var li = $(this),
            prev = li.data("ui-tabs-aria-controls");
        if (prev) {
          li.attr("aria-controls", prev).removeData("ui-tabs-aria-controls");
        } else {
          li.removeAttr("aria-controls");
        }
      });
      this.panels.show();
      if (this.options.heightStyle !== "content") {
        this.panels.css("height", "");
      }
    },
    enable: function(index) {
      var disabled = this.options.disabled;
      if (disabled === false) {
        return;
      }
      if (index === undefined) {
        disabled = false;
      } else {
        index = this._getIndex(index);
        if ($.isArray(disabled)) {
          disabled = $.map(disabled, function(num) {
            return num !== index ? num : null;
          });
        } else {
          disabled = $.map(this.tabs, function(li, num) {
            return num !== index ? num : null;
          });
        }
      }
      this._setOptionDisabled(disabled);
    },
    disable: function(index) {
      var disabled = this.options.disabled;
      if (disabled === true) {
        return;
      }
      if (index === undefined) {
        disabled = true;
      } else {
        index = this._getIndex(index);
        if ($.inArray(index, disabled) !== -1) {
          return;
        }
        if ($.isArray(disabled)) {
          disabled = $.merge([index], disabled).sort();
        } else {
          disabled = [index];
        }
      }
      this._setOptionDisabled(disabled);
    },
    load: function(index, event) {
      index = this._getIndex(index);
      var that = this,
          tab = this.tabs.eq(index),
          anchor = tab.find(".ui-tabs-anchor"),
          panel = this._getPanelForTab(tab),
          eventData = {
            tab: tab,
            panel: panel
          },
          complete = function(jqXHR, status) {
            if (status === "abort") {
              that.panels.stop(false, true);
            }
            that._removeClass(tab, "ui-tabs-loading");
            panel.removeAttr("aria-busy");
            if (jqXHR === that.xhr) {
              delete that.xhr;
            }
          };
      if (this._isLocal(anchor[0])) {
        return;
      }
      this.xhr = $.ajax(this._ajaxSettings(anchor, event, eventData));
      if (this.xhr && this.xhr.statusText !== "canceled") {
        this._addClass(tab, "ui-tabs-loading");
        panel.attr("aria-busy", "true");
        this.xhr.done(function(response, status, jqXHR) {
          setTimeout(function() {
            panel.html(response);
            that._trigger("load", event, eventData);
            complete(jqXHR, status);
          }, 1);
        }).fail(function(jqXHR, status) {
          setTimeout(function() {
            complete(jqXHR, status);
          }, 1);
        });
      }
    },
    _ajaxSettings: function(anchor, event, eventData) {
      var that = this;
      return {
        url: anchor.attr("href").replace(/#.*$/, ""),
        beforeSend: function(jqXHR, settings) {
          return that._trigger("beforeLoad", event, $.extend({
            jqXHR: jqXHR,
            ajaxSettings: settings
          }, eventData));
        }
      };
    },
    _getPanelForTab: function(tab) {
      var id = $(tab).attr("aria-controls");
      return this.element.find(this._sanitizeSelector("#" + id));
    }
  });
  if ($.uiBackCompat !== false) {
    $.widget("ui.tabs", $.ui.tabs, {_processTabs: function() {
        this._superApply(arguments);
        this._addClass(this.tabs, "ui-tab");
      }});
  }
  var widgetsTabs = $.ui.tabs;
  $.widget("ui.tooltip", {
    version: "1.12.1",
    options: {
      classes: {"ui-tooltip": "ui-corner-all ui-widget-shadow"},
      content: function() {
        var title = $(this).attr("title") || "";
        return $("<a>").text(title).html();
      },
      hide: true,
      items: "[title]:not([disabled])",
      position: {
        my: "left top+15",
        at: "left bottom",
        collision: "flipfit flip"
      },
      show: true,
      track: false,
      close: null,
      open: null
    },
    _addDescribedBy: function(elem, id) {
      var describedby = (elem.attr("aria-describedby") || "").split(/\s+/);
      describedby.push(id);
      elem.data("ui-tooltip-id", id).attr("aria-describedby", $.trim(describedby.join(" ")));
    },
    _removeDescribedBy: function(elem) {
      var id = elem.data("ui-tooltip-id"),
          describedby = (elem.attr("aria-describedby") || "").split(/\s+/),
          index = $.inArray(id, describedby);
      if (index !== -1) {
        describedby.splice(index, 1);
      }
      elem.removeData("ui-tooltip-id");
      describedby = $.trim(describedby.join(" "));
      if (describedby) {
        elem.attr("aria-describedby", describedby);
      } else {
        elem.removeAttr("aria-describedby");
      }
    },
    _create: function() {
      this._on({
        mouseover: "open",
        focusin: "open"
      });
      this.tooltips = {};
      this.parents = {};
      this.liveRegion = $("<div>").attr({
        role: "log",
        "aria-live": "assertive",
        "aria-relevant": "additions"
      }).appendTo(this.document[0].body);
      this._addClass(this.liveRegion, null, "ui-helper-hidden-accessible");
      this.disabledTitles = $([]);
    },
    _setOption: function(key, value) {
      var that = this;
      this._super(key, value);
      if (key === "content") {
        $.each(this.tooltips, function(id, tooltipData) {
          that._updateContent(tooltipData.element);
        });
      }
    },
    _setOptionDisabled: function(value) {
      this[value ? "_disable" : "_enable"]();
    },
    _disable: function() {
      var that = this;
      $.each(this.tooltips, function(id, tooltipData) {
        var event = $.Event("blur");
        event.target = event.currentTarget = tooltipData.element[0];
        that.close(event, true);
      });
      this.disabledTitles = this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function() {
        var element = $(this);
        if (element.is("[title]")) {
          return element.data("ui-tooltip-title", element.attr("title")).removeAttr("title");
        }
      }));
    },
    _enable: function() {
      this.disabledTitles.each(function() {
        var element = $(this);
        if (element.data("ui-tooltip-title")) {
          element.attr("title", element.data("ui-tooltip-title"));
        }
      });
      this.disabledTitles = $([]);
    },
    open: function(event) {
      var that = this,
          target = $(event ? event.target : this.element).closest(this.options.items);
      if (!target.length || target.data("ui-tooltip-id")) {
        return;
      }
      if (target.attr("title")) {
        target.data("ui-tooltip-title", target.attr("title"));
      }
      target.data("ui-tooltip-open", true);
      if (event && event.type === "mouseover") {
        target.parents().each(function() {
          var parent = $(this),
              blurEvent;
          if (parent.data("ui-tooltip-open")) {
            blurEvent = $.Event("blur");
            blurEvent.target = blurEvent.currentTarget = this;
            that.close(blurEvent, true);
          }
          if (parent.attr("title")) {
            parent.uniqueId();
            that.parents[this.id] = {
              element: this,
              title: parent.attr("title")
            };
            parent.attr("title", "");
          }
        });
      }
      this._registerCloseHandlers(event, target);
      this._updateContent(target, event);
    },
    _updateContent: function(target, event) {
      var content,
          contentOption = this.options.content,
          that = this,
          eventType = event ? event.type : null;
      if (typeof contentOption === "string" || contentOption.nodeType || contentOption.jquery) {
        return this._open(event, target, contentOption);
      }
      content = contentOption.call(target[0], function(response) {
        that._delay(function() {
          if (!target.data("ui-tooltip-open")) {
            return;
          }
          if (event) {
            event.type = eventType;
          }
          this._open(event, target, response);
        });
      });
      if (content) {
        this._open(event, target, content);
      }
    },
    _open: function(event, target, content) {
      var tooltipData,
          tooltip,
          delayedShow,
          a11yContent,
          positionOption = $.extend({}, this.options.position);
      if (!content) {
        return;
      }
      tooltipData = this._find(target);
      if (tooltipData) {
        tooltipData.tooltip.find(".ui-tooltip-content").html(content);
        return;
      }
      if (target.is("[title]")) {
        if (event && event.type === "mouseover") {
          target.attr("title", "");
        } else {
          target.removeAttr("title");
        }
      }
      tooltipData = this._tooltip(target);
      tooltip = tooltipData.tooltip;
      this._addDescribedBy(target, tooltip.attr("id"));
      tooltip.find(".ui-tooltip-content").html(content);
      this.liveRegion.children().hide();
      a11yContent = $("<div>").html(tooltip.find(".ui-tooltip-content").html());
      a11yContent.removeAttr("name").find("[name]").removeAttr("name");
      a11yContent.removeAttr("id").find("[id]").removeAttr("id");
      a11yContent.appendTo(this.liveRegion);
      function position(event) {
        positionOption.of = event;
        if (tooltip.is(":hidden")) {
          return;
        }
        tooltip.position(positionOption);
      }
      if (this.options.track && event && /^mouse/.test(event.type)) {
        this._on(this.document, {mousemove: position});
        position(event);
      } else {
        tooltip.position($.extend({of: target}, this.options.position));
      }
      tooltip.hide();
      this._show(tooltip, this.options.show);
      if (this.options.track && this.options.show && this.options.show.delay) {
        delayedShow = this.delayedShow = setInterval(function() {
          if (tooltip.is(":visible")) {
            position(positionOption.of);
            clearInterval(delayedShow);
          }
        }, $.fx.interval);
      }
      this._trigger("open", event, {tooltip: tooltip});
    },
    _registerCloseHandlers: function(event, target) {
      var events = {keyup: function(event) {
          if (event.keyCode === $.ui.keyCode.ESCAPE) {
            var fakeEvent = $.Event(event);
            fakeEvent.currentTarget = target[0];
            this.close(fakeEvent, true);
          }
        }};
      if (target[0] !== this.element[0]) {
        events.remove = function() {
          this._removeTooltip(this._find(target).tooltip);
        };
      }
      if (!event || event.type === "mouseover") {
        events.mouseleave = "close";
      }
      if (!event || event.type === "focusin") {
        events.focusout = "close";
      }
      this._on(true, target, events);
    },
    close: function(event) {
      var tooltip,
          that = this,
          target = $(event ? event.currentTarget : this.element),
          tooltipData = this._find(target);
      if (!tooltipData) {
        target.removeData("ui-tooltip-open");
        return;
      }
      tooltip = tooltipData.tooltip;
      if (tooltipData.closing) {
        return;
      }
      clearInterval(this.delayedShow);
      if (target.data("ui-tooltip-title") && !target.attr("title")) {
        target.attr("title", target.data("ui-tooltip-title"));
      }
      this._removeDescribedBy(target);
      tooltipData.hiding = true;
      tooltip.stop(true);
      this._hide(tooltip, this.options.hide, function() {
        that._removeTooltip($(this));
      });
      target.removeData("ui-tooltip-open");
      this._off(target, "mouseleave focusout keyup");
      if (target[0] !== this.element[0]) {
        this._off(target, "remove");
      }
      this._off(this.document, "mousemove");
      if (event && event.type === "mouseleave") {
        $.each(this.parents, function(id, parent) {
          $(parent.element).attr("title", parent.title);
          delete that.parents[id];
        });
      }
      tooltipData.closing = true;
      this._trigger("close", event, {tooltip: tooltip});
      if (!tooltipData.hiding) {
        tooltipData.closing = false;
      }
    },
    _tooltip: function(element) {
      var tooltip = $("<div>").attr("role", "tooltip"),
          content = $("<div>").appendTo(tooltip),
          id = tooltip.uniqueId().attr("id");
      this._addClass(content, "ui-tooltip-content");
      this._addClass(tooltip, "ui-tooltip", "ui-widget ui-widget-content");
      tooltip.appendTo(this._appendTo(element));
      return this.tooltips[id] = {
        element: element,
        tooltip: tooltip
      };
    },
    _find: function(target) {
      var id = target.data("ui-tooltip-id");
      return id ? this.tooltips[id] : null;
    },
    _removeTooltip: function(tooltip) {
      tooltip.remove();
      delete this.tooltips[tooltip.attr("id")];
    },
    _appendTo: function(target) {
      var element = target.closest(".ui-front, dialog");
      if (!element.length) {
        element = this.document[0].body;
      }
      return element;
    },
    _destroy: function() {
      var that = this;
      $.each(this.tooltips, function(id, tooltipData) {
        var event = $.Event("blur"),
            element = tooltipData.element;
        event.target = event.currentTarget = element[0];
        that.close(event, true);
        $("#" + id).remove();
        if (element.data("ui-tooltip-title")) {
          if (!element.attr("title")) {
            element.attr("title", element.data("ui-tooltip-title"));
          }
          element.removeData("ui-tooltip-title");
        }
      });
      this.liveRegion.remove();
    }
  });
  if ($.uiBackCompat !== false) {
    $.widget("ui.tooltip", $.ui.tooltip, {
      options: {tooltipClass: null},
      _tooltip: function() {
        var tooltipData = this._superApply(arguments);
        if (this.options.tooltipClass) {
          tooltipData.tooltip.addClass(this.options.tooltipClass);
        }
        return tooltipData;
      }
    });
  }
  var widgetsTooltip = $.ui.tooltip;
}));

})();
(function() {
var define = System.amdDefine;
(function(factory) {
  if (typeof define === 'function' && define.amd) {
    define("github:select2/select2@4.0.3/js/select2.js", ["jquery"], factory);
  } else if (typeof exports === 'object') {
    factory(require('jquery'));
  } else {
    factory(jQuery);
  }
}(function(jQuery) {
  var S2 = (function() {
    if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) {
      var S2 = jQuery.fn.select2.amd;
    }
    var S2;
    (function() {
      if (!S2 || !S2.requirejs) {
        if (!S2) {
          S2 = {};
        } else {
          require = S2;
        }
        var requirejs,
            require,
            define;
        (function(undef) {
          var main,
              req,
              makeMap,
              handlers,
              defined = {},
              waiting = {},
              config = {},
              defining = {},
              hasOwn = Object.prototype.hasOwnProperty,
              aps = [].slice,
              jsSuffixRegExp = /\.js$/;
          function hasProp(obj, prop) {
            return hasOwn.call(obj, prop);
          }
          function normalize(name, baseName) {
            var nameParts,
                nameSegment,
                mapValue,
                foundMap,
                lastIndex,
                foundI,
                foundStarMap,
                starI,
                i,
                j,
                part,
                baseParts = baseName && baseName.split("/"),
                map = config.map,
                starMap = (map && map['*']) || {};
            if (name && name.charAt(0) === ".") {
              if (baseName) {
                name = name.split('/');
                lastIndex = name.length - 1;
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                  name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }
                name = baseParts.slice(0, baseParts.length - 1).concat(name);
                for (i = 0; i < name.length; i += 1) {
                  part = name[i];
                  if (part === ".") {
                    name.splice(i, 1);
                    i -= 1;
                  } else if (part === "..") {
                    if (i === 1 && (name[2] === '..' || name[0] === '..')) {
                      break;
                    } else if (i > 0) {
                      name.splice(i - 1, 2);
                      i -= 2;
                    }
                  }
                }
                name = name.join("/");
              } else if (name.indexOf('./') === 0) {
                name = name.substring(2);
              }
            }
            if ((baseParts || starMap) && map) {
              nameParts = name.split('/');
              for (i = nameParts.length; i > 0; i -= 1) {
                nameSegment = nameParts.slice(0, i).join("/");
                if (baseParts) {
                  for (j = baseParts.length; j > 0; j -= 1) {
                    mapValue = map[baseParts.slice(0, j).join('/')];
                    if (mapValue) {
                      mapValue = mapValue[nameSegment];
                      if (mapValue) {
                        foundMap = mapValue;
                        foundI = i;
                        break;
                      }
                    }
                  }
                }
                if (foundMap) {
                  break;
                }
                if (!foundStarMap && starMap && starMap[nameSegment]) {
                  foundStarMap = starMap[nameSegment];
                  starI = i;
                }
              }
              if (!foundMap && foundStarMap) {
                foundMap = foundStarMap;
                foundI = starI;
              }
              if (foundMap) {
                nameParts.splice(0, foundI, foundMap);
                name = nameParts.join('/');
              }
            }
            return name;
          }
          function makeRequire(relName, forceSync) {
            return function() {
              var args = aps.call(arguments, 0);
              if (typeof args[0] !== 'string' && args.length === 1) {
                args.push(null);
              }
              return req.apply(undef, args.concat([relName, forceSync]));
            };
          }
          function makeNormalize(relName) {
            return function(name) {
              return normalize(name, relName);
            };
          }
          function makeLoad(depName) {
            return function(value) {
              defined[depName] = value;
            };
          }
          function callDep(name) {
            if (hasProp(waiting, name)) {
              var args = waiting[name];
              delete waiting[name];
              defining[name] = true;
              main.apply(undef, args);
            }
            if (!hasProp(defined, name) && !hasProp(defining, name)) {
              throw new Error('No ' + name);
            }
            return defined[name];
          }
          function splitPrefix(name) {
            var prefix,
                index = name ? name.indexOf('!') : -1;
            if (index > -1) {
              prefix = name.substring(0, index);
              name = name.substring(index + 1, name.length);
            }
            return [prefix, name];
          }
          makeMap = function(name, relName) {
            var plugin,
                parts = splitPrefix(name),
                prefix = parts[0];
            name = parts[1];
            if (prefix) {
              prefix = normalize(prefix, relName);
              plugin = callDep(prefix);
            }
            if (prefix) {
              if (plugin && plugin.normalize) {
                name = plugin.normalize(name, makeNormalize(relName));
              } else {
                name = normalize(name, relName);
              }
            } else {
              name = normalize(name, relName);
              parts = splitPrefix(name);
              prefix = parts[0];
              name = parts[1];
              if (prefix) {
                plugin = callDep(prefix);
              }
            }
            return {
              f: prefix ? prefix + '!' + name : name,
              n: name,
              pr: prefix,
              p: plugin
            };
          };
          function makeConfig(name) {
            return function() {
              return (config && config.config && config.config[name]) || {};
            };
          }
          handlers = {
            require: function(name) {
              return makeRequire(name);
            },
            exports: function(name) {
              var e = defined[name];
              if (typeof e !== 'undefined') {
                return e;
              } else {
                return (defined[name] = {});
              }
            },
            module: function(name) {
              return {
                id: name,
                uri: '',
                exports: defined[name],
                config: makeConfig(name)
              };
            }
          };
          main = function(name, deps, callback, relName) {
            var cjsModule,
                depName,
                ret,
                map,
                i,
                args = [],
                callbackType = typeof callback,
                usingExports;
            relName = relName || name;
            if (callbackType === 'undefined' || callbackType === 'function') {
              deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;
              for (i = 0; i < deps.length; i += 1) {
                map = makeMap(deps[i], relName);
                depName = map.f;
                if (depName === "require") {
                  args[i] = handlers.require(name);
                } else if (depName === "exports") {
                  args[i] = handlers.exports(name);
                  usingExports = true;
                } else if (depName === "module") {
                  cjsModule = args[i] = handlers.module(name);
                } else if (hasProp(defined, depName) || hasProp(waiting, depName) || hasProp(defining, depName)) {
                  args[i] = callDep(depName);
                } else if (map.p) {
                  map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});
                  args[i] = defined[depName];
                } else {
                  throw new Error(name + ' missing ' + depName);
                }
              }
              ret = callback ? callback.apply(defined[name], args) : undefined;
              if (name) {
                if (cjsModule && cjsModule.exports !== undef && cjsModule.exports !== defined[name]) {
                  defined[name] = cjsModule.exports;
                } else if (ret !== undef || !usingExports) {
                  defined[name] = ret;
                }
              }
            } else if (name) {
              defined[name] = callback;
            }
          };
          requirejs = require = req = function(deps, callback, relName, forceSync, alt) {
            if (typeof deps === "string") {
              if (handlers[deps]) {
                return handlers[deps](callback);
              }
              return callDep(makeMap(deps, callback).f);
            } else if (!deps.splice) {
              config = deps;
              if (config.deps) {
                req(config.deps, config.callback);
              }
              if (!callback) {
                return;
              }
              if (callback.splice) {
                deps = callback;
                callback = relName;
                relName = null;
              } else {
                deps = undef;
              }
            }
            callback = callback || function() {};
            if (typeof relName === 'function') {
              relName = forceSync;
              forceSync = alt;
            }
            if (forceSync) {
              main(undef, deps, callback, relName);
            } else {
              setTimeout(function() {
                main(undef, deps, callback, relName);
              }, 4);
            }
            return req;
          };
          req.config = function(cfg) {
            return req(cfg);
          };
          requirejs._defined = defined;
          define = function(name, deps, callback) {
            if (typeof name !== 'string') {
              throw new Error('See almond README: incorrect module build, no module name');
            }
            if (!deps.splice) {
              callback = deps;
              deps = [];
            }
            if (!hasProp(defined, name) && !hasProp(waiting, name)) {
              waiting[name] = [name, deps, callback];
            }
          };
          define.amd = {jQuery: true};
        }());
        S2.requirejs = requirejs;
        S2.require = require;
        S2.define = define;
      }
    }());
    S2.define("almond", function() {});
    S2.define('jquery', [], function() {
      var _$ = jQuery || $;
      if (_$ == null && console && console.error) {
        console.error('Select2: An instance of jQuery or a jQuery-compatible library was not ' + 'found. Make sure that you are including jQuery before Select2 on your ' + 'web page.');
      }
      return _$;
    });
    S2.define('select2/utils', ['jquery'], function($) {
      var Utils = {};
      Utils.Extend = function(ChildClass, SuperClass) {
        var __hasProp = {}.hasOwnProperty;
        function BaseConstructor() {
          this.constructor = ChildClass;
        }
        for (var key in SuperClass) {
          if (__hasProp.call(SuperClass, key)) {
            ChildClass[key] = SuperClass[key];
          }
        }
        BaseConstructor.prototype = SuperClass.prototype;
        ChildClass.prototype = new BaseConstructor();
        ChildClass.__super__ = SuperClass.prototype;
        return ChildClass;
      };
      function getMethods(theClass) {
        var proto = theClass.prototype;
        var methods = [];
        for (var methodName in proto) {
          var m = proto[methodName];
          if (typeof m !== 'function') {
            continue;
          }
          if (methodName === 'constructor') {
            continue;
          }
          methods.push(methodName);
        }
        return methods;
      }
      Utils.Decorate = function(SuperClass, DecoratorClass) {
        var decoratedMethods = getMethods(DecoratorClass);
        var superMethods = getMethods(SuperClass);
        function DecoratedClass() {
          var unshift = Array.prototype.unshift;
          var argCount = DecoratorClass.prototype.constructor.length;
          var calledConstructor = SuperClass.prototype.constructor;
          if (argCount > 0) {
            unshift.call(arguments, SuperClass.prototype.constructor);
            calledConstructor = DecoratorClass.prototype.constructor;
          }
          calledConstructor.apply(this, arguments);
        }
        DecoratorClass.displayName = SuperClass.displayName;
        function ctr() {
          this.constructor = DecoratedClass;
        }
        DecoratedClass.prototype = new ctr();
        for (var m = 0; m < superMethods.length; m++) {
          var superMethod = superMethods[m];
          DecoratedClass.prototype[superMethod] = SuperClass.prototype[superMethod];
        }
        var calledMethod = function(methodName) {
          var originalMethod = function() {};
          if (methodName in DecoratedClass.prototype) {
            originalMethod = DecoratedClass.prototype[methodName];
          }
          var decoratedMethod = DecoratorClass.prototype[methodName];
          return function() {
            var unshift = Array.prototype.unshift;
            unshift.call(arguments, originalMethod);
            return decoratedMethod.apply(this, arguments);
          };
        };
        for (var d = 0; d < decoratedMethods.length; d++) {
          var decoratedMethod = decoratedMethods[d];
          DecoratedClass.prototype[decoratedMethod] = calledMethod(decoratedMethod);
        }
        return DecoratedClass;
      };
      var Observable = function() {
        this.listeners = {};
      };
      Observable.prototype.on = function(event, callback) {
        this.listeners = this.listeners || {};
        if (event in this.listeners) {
          this.listeners[event].push(callback);
        } else {
          this.listeners[event] = [callback];
        }
      };
      Observable.prototype.trigger = function(event) {
        var slice = Array.prototype.slice;
        var params = slice.call(arguments, 1);
        this.listeners = this.listeners || {};
        if (params == null) {
          params = [];
        }
        if (params.length === 0) {
          params.push({});
        }
        params[0]._type = event;
        if (event in this.listeners) {
          this.invoke(this.listeners[event], slice.call(arguments, 1));
        }
        if ('*' in this.listeners) {
          this.invoke(this.listeners['*'], arguments);
        }
      };
      Observable.prototype.invoke = function(listeners, params) {
        for (var i = 0,
            len = listeners.length; i < len; i++) {
          listeners[i].apply(this, params);
        }
      };
      Utils.Observable = Observable;
      Utils.generateChars = function(length) {
        var chars = '';
        for (var i = 0; i < length; i++) {
          var randomChar = Math.floor(Math.random() * 36);
          chars += randomChar.toString(36);
        }
        return chars;
      };
      Utils.bind = function(func, context) {
        return function() {
          func.apply(context, arguments);
        };
      };
      Utils._convertData = function(data) {
        for (var originalKey in data) {
          var keys = originalKey.split('-');
          var dataLevel = data;
          if (keys.length === 1) {
            continue;
          }
          for (var k = 0; k < keys.length; k++) {
            var key = keys[k];
            key = key.substring(0, 1).toLowerCase() + key.substring(1);
            if (!(key in dataLevel)) {
              dataLevel[key] = {};
            }
            if (k == keys.length - 1) {
              dataLevel[key] = data[originalKey];
            }
            dataLevel = dataLevel[key];
          }
          delete data[originalKey];
        }
        return data;
      };
      Utils.hasScroll = function(index, el) {
        var $el = $(el);
        var overflowX = el.style.overflowX;
        var overflowY = el.style.overflowY;
        if (overflowX === overflowY && (overflowY === 'hidden' || overflowY === 'visible')) {
          return false;
        }
        if (overflowX === 'scroll' || overflowY === 'scroll') {
          return true;
        }
        return ($el.innerHeight() < el.scrollHeight || $el.innerWidth() < el.scrollWidth);
      };
      Utils.escapeMarkup = function(markup) {
        var replaceMap = {
          '\\': '&#92;',
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          '\'': '&#39;',
          '/': '&#47;'
        };
        if (typeof markup !== 'string') {
          return markup;
        }
        return String(markup).replace(/[&<>"'\/\\]/g, function(match) {
          return replaceMap[match];
        });
      };
      Utils.appendMany = function($element, $nodes) {
        if ($.fn.jquery.substr(0, 3) === '1.7') {
          var $jqNodes = $();
          $.map($nodes, function(node) {
            $jqNodes = $jqNodes.add(node);
          });
          $nodes = $jqNodes;
        }
        $element.append($nodes);
      };
      return Utils;
    });
    S2.define('select2/results', ['jquery', './utils'], function($, Utils) {
      function Results($element, options, dataAdapter) {
        this.$element = $element;
        this.data = dataAdapter;
        this.options = options;
        Results.__super__.constructor.call(this);
      }
      Utils.Extend(Results, Utils.Observable);
      Results.prototype.render = function() {
        var $results = $('<ul class="select2-results__options" role="tree"></ul>');
        if (this.options.get('multiple')) {
          $results.attr('aria-multiselectable', 'true');
        }
        this.$results = $results;
        return $results;
      };
      Results.prototype.clear = function() {
        this.$results.empty();
      };
      Results.prototype.displayMessage = function(params) {
        var escapeMarkup = this.options.get('escapeMarkup');
        this.clear();
        this.hideLoading();
        var $message = $('<li role="treeitem" aria-live="assertive"' + ' class="select2-results__option"></li>');
        var message = this.options.get('translations').get(params.message);
        $message.append(escapeMarkup(message(params.args)));
        $message[0].className += ' select2-results__message';
        this.$results.append($message);
      };
      Results.prototype.hideMessages = function() {
        this.$results.find('.select2-results__message').remove();
      };
      Results.prototype.append = function(data) {
        this.hideLoading();
        var $options = [];
        if (data.results == null || data.results.length === 0) {
          if (this.$results.children().length === 0) {
            this.trigger('results:message', {message: 'noResults'});
          }
          return;
        }
        data.results = this.sort(data.results);
        for (var d = 0; d < data.results.length; d++) {
          var item = data.results[d];
          var $option = this.option(item);
          $options.push($option);
        }
        this.$results.append($options);
      };
      Results.prototype.position = function($results, $dropdown) {
        var $resultsContainer = $dropdown.find('.select2-results');
        $resultsContainer.append($results);
      };
      Results.prototype.sort = function(data) {
        var sorter = this.options.get('sorter');
        return sorter(data);
      };
      Results.prototype.highlightFirstItem = function() {
        var $options = this.$results.find('.select2-results__option[aria-selected]');
        var $selected = $options.filter('[aria-selected=true]');
        if ($selected.length > 0) {
          $selected.first().trigger('mouseenter');
        } else {
          $options.first().trigger('mouseenter');
        }
        this.ensureHighlightVisible();
      };
      Results.prototype.setClasses = function() {
        var self = this;
        this.data.current(function(selected) {
          var selectedIds = $.map(selected, function(s) {
            return s.id.toString();
          });
          var $options = self.$results.find('.select2-results__option[aria-selected]');
          $options.each(function() {
            var $option = $(this);
            var item = $.data(this, 'data');
            var id = '' + item.id;
            if ((item.element != null && item.element.selected) || (item.element == null && $.inArray(id, selectedIds) > -1)) {
              $option.attr('aria-selected', 'true');
            } else {
              $option.attr('aria-selected', 'false');
            }
          });
        });
      };
      Results.prototype.showLoading = function(params) {
        this.hideLoading();
        var loadingMore = this.options.get('translations').get('searching');
        var loading = {
          disabled: true,
          loading: true,
          text: loadingMore(params)
        };
        var $loading = this.option(loading);
        $loading.className += ' loading-results';
        this.$results.prepend($loading);
      };
      Results.prototype.hideLoading = function() {
        this.$results.find('.loading-results').remove();
      };
      Results.prototype.option = function(data) {
        var option = document.createElement('li');
        option.className = 'select2-results__option';
        var attrs = {
          'role': 'treeitem',
          'aria-selected': 'false'
        };
        if (data.disabled) {
          delete attrs['aria-selected'];
          attrs['aria-disabled'] = 'true';
        }
        if (data.id == null) {
          delete attrs['aria-selected'];
        }
        if (data._resultId != null) {
          option.id = data._resultId;
        }
        if (data.title) {
          option.title = data.title;
        }
        if (data.children) {
          attrs.role = 'group';
          attrs['aria-label'] = data.text;
          delete attrs['aria-selected'];
        }
        for (var attr in attrs) {
          var val = attrs[attr];
          option.setAttribute(attr, val);
        }
        if (data.children) {
          var $option = $(option);
          var label = document.createElement('strong');
          label.className = 'select2-results__group';
          var $label = $(label);
          this.template(data, label);
          var $children = [];
          for (var c = 0; c < data.children.length; c++) {
            var child = data.children[c];
            var $child = this.option(child);
            $children.push($child);
          }
          var $childrenContainer = $('<ul></ul>', {'class': 'select2-results__options select2-results__options--nested'});
          $childrenContainer.append($children);
          $option.append(label);
          $option.append($childrenContainer);
        } else {
          this.template(data, option);
        }
        $.data(option, 'data', data);
        return option;
      };
      Results.prototype.bind = function(container, $container) {
        var self = this;
        var id = container.id + '-results';
        this.$results.attr('id', id);
        container.on('results:all', function(params) {
          self.clear();
          self.append(params.data);
          if (container.isOpen()) {
            self.setClasses();
            self.highlightFirstItem();
          }
        });
        container.on('results:append', function(params) {
          self.append(params.data);
          if (container.isOpen()) {
            self.setClasses();
          }
        });
        container.on('query', function(params) {
          self.hideMessages();
          self.showLoading(params);
        });
        container.on('select', function() {
          if (!container.isOpen()) {
            return;
          }
          self.setClasses();
          self.highlightFirstItem();
        });
        container.on('unselect', function() {
          if (!container.isOpen()) {
            return;
          }
          self.setClasses();
          self.highlightFirstItem();
        });
        container.on('open', function() {
          self.$results.attr('aria-expanded', 'true');
          self.$results.attr('aria-hidden', 'false');
          self.setClasses();
          self.ensureHighlightVisible();
        });
        container.on('close', function() {
          self.$results.attr('aria-expanded', 'false');
          self.$results.attr('aria-hidden', 'true');
          self.$results.removeAttr('aria-activedescendant');
        });
        container.on('results:toggle', function() {
          var $highlighted = self.getHighlightedResults();
          if ($highlighted.length === 0) {
            return;
          }
          $highlighted.trigger('mouseup');
        });
        container.on('results:select', function() {
          var $highlighted = self.getHighlightedResults();
          if ($highlighted.length === 0) {
            return;
          }
          var data = $highlighted.data('data');
          if ($highlighted.attr('aria-selected') == 'true') {
            self.trigger('close', {});
          } else {
            self.trigger('select', {data: data});
          }
        });
        container.on('results:previous', function() {
          var $highlighted = self.getHighlightedResults();
          var $options = self.$results.find('[aria-selected]');
          var currentIndex = $options.index($highlighted);
          if (currentIndex === 0) {
            return;
          }
          var nextIndex = currentIndex - 1;
          if ($highlighted.length === 0) {
            nextIndex = 0;
          }
          var $next = $options.eq(nextIndex);
          $next.trigger('mouseenter');
          var currentOffset = self.$results.offset().top;
          var nextTop = $next.offset().top;
          var nextOffset = self.$results.scrollTop() + (nextTop - currentOffset);
          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextTop - currentOffset < 0) {
            self.$results.scrollTop(nextOffset);
          }
        });
        container.on('results:next', function() {
          var $highlighted = self.getHighlightedResults();
          var $options = self.$results.find('[aria-selected]');
          var currentIndex = $options.index($highlighted);
          var nextIndex = currentIndex + 1;
          if (nextIndex >= $options.length) {
            return;
          }
          var $next = $options.eq(nextIndex);
          $next.trigger('mouseenter');
          var currentOffset = self.$results.offset().top + self.$results.outerHeight(false);
          var nextBottom = $next.offset().top + $next.outerHeight(false);
          var nextOffset = self.$results.scrollTop() + nextBottom - currentOffset;
          if (nextIndex === 0) {
            self.$results.scrollTop(0);
          } else if (nextBottom > currentOffset) {
            self.$results.scrollTop(nextOffset);
          }
        });
        container.on('results:focus', function(params) {
          params.element.addClass('select2-results__option--highlighted');
        });
        container.on('results:message', function(params) {
          self.displayMessage(params);
        });
        if ($.fn.mousewheel) {
          this.$results.on('mousewheel', function(e) {
            var top = self.$results.scrollTop();
            var bottom = self.$results.get(0).scrollHeight - top + e.deltaY;
            var isAtTop = e.deltaY > 0 && top - e.deltaY <= 0;
            var isAtBottom = e.deltaY < 0 && bottom <= self.$results.height();
            if (isAtTop) {
              self.$results.scrollTop(0);
              e.preventDefault();
              e.stopPropagation();
            } else if (isAtBottom) {
              self.$results.scrollTop(self.$results.get(0).scrollHeight - self.$results.height());
              e.preventDefault();
              e.stopPropagation();
            }
          });
        }
        this.$results.on('mouseup', '.select2-results__option[aria-selected]', function(evt) {
          var $this = $(this);
          var data = $this.data('data');
          if ($this.attr('aria-selected') === 'true') {
            if (self.options.get('multiple')) {
              self.trigger('unselect', {
                originalEvent: evt,
                data: data
              });
            } else {
              self.trigger('close', {});
            }
            return;
          }
          self.trigger('select', {
            originalEvent: evt,
            data: data
          });
        });
        this.$results.on('mouseenter', '.select2-results__option[aria-selected]', function(evt) {
          var data = $(this).data('data');
          self.getHighlightedResults().removeClass('select2-results__option--highlighted');
          self.trigger('results:focus', {
            data: data,
            element: $(this)
          });
        });
      };
      Results.prototype.getHighlightedResults = function() {
        var $highlighted = this.$results.find('.select2-results__option--highlighted');
        return $highlighted;
      };
      Results.prototype.destroy = function() {
        this.$results.remove();
      };
      Results.prototype.ensureHighlightVisible = function() {
        var $highlighted = this.getHighlightedResults();
        if ($highlighted.length === 0) {
          return;
        }
        var $options = this.$results.find('[aria-selected]');
        var currentIndex = $options.index($highlighted);
        var currentOffset = this.$results.offset().top;
        var nextTop = $highlighted.offset().top;
        var nextOffset = this.$results.scrollTop() + (nextTop - currentOffset);
        var offsetDelta = nextTop - currentOffset;
        nextOffset -= $highlighted.outerHeight(false) * 2;
        if (currentIndex <= 2) {
          this.$results.scrollTop(0);
        } else if (offsetDelta > this.$results.outerHeight() || offsetDelta < 0) {
          this.$results.scrollTop(nextOffset);
        }
      };
      Results.prototype.template = function(result, container) {
        var template = this.options.get('templateResult');
        var escapeMarkup = this.options.get('escapeMarkup');
        var content = template(result, container);
        if (content == null) {
          container.style.display = 'none';
        } else if (typeof content === 'string') {
          container.innerHTML = escapeMarkup(content);
        } else {
          $(container).append(content);
        }
      };
      return Results;
    });
    S2.define('select2/keys', [], function() {
      var KEYS = {
        BACKSPACE: 8,
        TAB: 9,
        ENTER: 13,
        SHIFT: 16,
        CTRL: 17,
        ALT: 18,
        ESC: 27,
        SPACE: 32,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        DELETE: 46
      };
      return KEYS;
    });
    S2.define('select2/selection/base', ['jquery', '../utils', '../keys'], function($, Utils, KEYS) {
      function BaseSelection($element, options) {
        this.$element = $element;
        this.options = options;
        BaseSelection.__super__.constructor.call(this);
      }
      Utils.Extend(BaseSelection, Utils.Observable);
      BaseSelection.prototype.render = function() {
        var $selection = $('<span class="select2-selection" role="combobox" ' + ' aria-haspopup="true" aria-expanded="false">' + '</span>');
        this._tabindex = 0;
        if (this.$element.data('old-tabindex') != null) {
          this._tabindex = this.$element.data('old-tabindex');
        } else if (this.$element.attr('tabindex') != null) {
          this._tabindex = this.$element.attr('tabindex');
        }
        $selection.attr('title', this.$element.attr('title'));
        $selection.attr('tabindex', this._tabindex);
        this.$selection = $selection;
        return $selection;
      };
      BaseSelection.prototype.bind = function(container, $container) {
        var self = this;
        var id = container.id + '-container';
        var resultsId = container.id + '-results';
        this.container = container;
        this.$selection.on('focus', function(evt) {
          self.trigger('focus', evt);
        });
        this.$selection.on('blur', function(evt) {
          self._handleBlur(evt);
        });
        this.$selection.on('keydown', function(evt) {
          self.trigger('keypress', evt);
          if (evt.which === KEYS.SPACE) {
            evt.preventDefault();
          }
        });
        container.on('results:focus', function(params) {
          self.$selection.attr('aria-activedescendant', params.data._resultId);
        });
        container.on('selection:update', function(params) {
          self.update(params.data);
        });
        container.on('open', function() {
          self.$selection.attr('aria-expanded', 'true');
          self.$selection.attr('aria-owns', resultsId);
          self._attachCloseHandler(container);
        });
        container.on('close', function() {
          self.$selection.attr('aria-expanded', 'false');
          self.$selection.removeAttr('aria-activedescendant');
          self.$selection.removeAttr('aria-owns');
          self.$selection.focus();
          self._detachCloseHandler(container);
        });
        container.on('enable', function() {
          self.$selection.attr('tabindex', self._tabindex);
        });
        container.on('disable', function() {
          self.$selection.attr('tabindex', '-1');
        });
      };
      BaseSelection.prototype._handleBlur = function(evt) {
        var self = this;
        window.setTimeout(function() {
          if ((document.activeElement == self.$selection[0]) || ($.contains(self.$selection[0], document.activeElement))) {
            return;
          }
          self.trigger('blur', evt);
        }, 1);
      };
      BaseSelection.prototype._attachCloseHandler = function(container) {
        var self = this;
        $(document.body).on('mousedown.select2.' + container.id, function(e) {
          var $target = $(e.target);
          var $select = $target.closest('.select2');
          var $all = $('.select2.select2-container--open');
          $all.each(function() {
            var $this = $(this);
            if (this == $select[0]) {
              return;
            }
            var $element = $this.data('element');
            $element.select2('close');
          });
        });
      };
      BaseSelection.prototype._detachCloseHandler = function(container) {
        $(document.body).off('mousedown.select2.' + container.id);
      };
      BaseSelection.prototype.position = function($selection, $container) {
        var $selectionContainer = $container.find('.selection');
        $selectionContainer.append($selection);
      };
      BaseSelection.prototype.destroy = function() {
        this._detachCloseHandler(this.container);
      };
      BaseSelection.prototype.update = function(data) {
        throw new Error('The `update` method must be defined in child classes.');
      };
      return BaseSelection;
    });
    S2.define('select2/selection/single', ['jquery', './base', '../utils', '../keys'], function($, BaseSelection, Utils, KEYS) {
      function SingleSelection() {
        SingleSelection.__super__.constructor.apply(this, arguments);
      }
      Utils.Extend(SingleSelection, BaseSelection);
      SingleSelection.prototype.render = function() {
        var $selection = SingleSelection.__super__.render.call(this);
        $selection.addClass('select2-selection--single');
        $selection.html('<span class="select2-selection__rendered"></span>' + '<span class="select2-selection__arrow" role="presentation">' + '<b role="presentation"></b>' + '</span>');
        return $selection;
      };
      SingleSelection.prototype.bind = function(container, $container) {
        var self = this;
        SingleSelection.__super__.bind.apply(this, arguments);
        var id = container.id + '-container';
        this.$selection.find('.select2-selection__rendered').attr('id', id);
        this.$selection.attr('aria-labelledby', id);
        this.$selection.on('mousedown', function(evt) {
          if (evt.which !== 1) {
            return;
          }
          self.trigger('toggle', {originalEvent: evt});
        });
        this.$selection.on('focus', function(evt) {});
        this.$selection.on('blur', function(evt) {});
        container.on('focus', function(evt) {
          if (!container.isOpen()) {
            self.$selection.focus();
          }
        });
        container.on('selection:update', function(params) {
          self.update(params.data);
        });
      };
      SingleSelection.prototype.clear = function() {
        this.$selection.find('.select2-selection__rendered').empty();
      };
      SingleSelection.prototype.display = function(data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');
        return escapeMarkup(template(data, container));
      };
      SingleSelection.prototype.selectionContainer = function() {
        return $('<span></span>');
      };
      SingleSelection.prototype.update = function(data) {
        if (data.length === 0) {
          this.clear();
          return;
        }
        var selection = data[0];
        var $rendered = this.$selection.find('.select2-selection__rendered');
        var formatted = this.display(selection, $rendered);
        $rendered.empty().append(formatted);
        $rendered.prop('title', selection.title || selection.text);
      };
      return SingleSelection;
    });
    S2.define('select2/selection/multiple', ['jquery', './base', '../utils'], function($, BaseSelection, Utils) {
      function MultipleSelection($element, options) {
        MultipleSelection.__super__.constructor.apply(this, arguments);
      }
      Utils.Extend(MultipleSelection, BaseSelection);
      MultipleSelection.prototype.render = function() {
        var $selection = MultipleSelection.__super__.render.call(this);
        $selection.addClass('select2-selection--multiple');
        $selection.html('<ul class="select2-selection__rendered"></ul>');
        return $selection;
      };
      MultipleSelection.prototype.bind = function(container, $container) {
        var self = this;
        MultipleSelection.__super__.bind.apply(this, arguments);
        this.$selection.on('click', function(evt) {
          self.trigger('toggle', {originalEvent: evt});
        });
        this.$selection.on('click', '.select2-selection__choice__remove', function(evt) {
          if (self.options.get('disabled')) {
            return;
          }
          var $remove = $(this);
          var $selection = $remove.parent();
          var data = $selection.data('data');
          self.trigger('unselect', {
            originalEvent: evt,
            data: data
          });
        });
      };
      MultipleSelection.prototype.clear = function() {
        this.$selection.find('.select2-selection__rendered').empty();
      };
      MultipleSelection.prototype.display = function(data, container) {
        var template = this.options.get('templateSelection');
        var escapeMarkup = this.options.get('escapeMarkup');
        return escapeMarkup(template(data, container));
      };
      MultipleSelection.prototype.selectionContainer = function() {
        var $container = $('<li class="select2-selection__choice">' + '<span class="select2-selection__choice__remove" role="presentation">' + '&times;' + '</span>' + '</li>');
        return $container;
      };
      MultipleSelection.prototype.update = function(data) {
        this.clear();
        if (data.length === 0) {
          return;
        }
        var $selections = [];
        for (var d = 0; d < data.length; d++) {
          var selection = data[d];
          var $selection = this.selectionContainer();
          var formatted = this.display(selection, $selection);
          $selection.append(formatted);
          $selection.prop('title', selection.title || selection.text);
          $selection.data('data', selection);
          $selections.push($selection);
        }
        var $rendered = this.$selection.find('.select2-selection__rendered');
        Utils.appendMany($rendered, $selections);
      };
      return MultipleSelection;
    });
    S2.define('select2/selection/placeholder', ['../utils'], function(Utils) {
      function Placeholder(decorated, $element, options) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));
        decorated.call(this, $element, options);
      }
      Placeholder.prototype.normalizePlaceholder = function(_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }
        return placeholder;
      };
      Placeholder.prototype.createPlaceholder = function(decorated, placeholder) {
        var $placeholder = this.selectionContainer();
        $placeholder.html(this.display(placeholder));
        $placeholder.addClass('select2-selection__placeholder').removeClass('select2-selection__choice');
        return $placeholder;
      };
      Placeholder.prototype.update = function(decorated, data) {
        var singlePlaceholder = (data.length == 1 && data[0].id != this.placeholder.id);
        var multipleSelections = data.length > 1;
        if (multipleSelections || singlePlaceholder) {
          return decorated.call(this, data);
        }
        this.clear();
        var $placeholder = this.createPlaceholder(this.placeholder);
        this.$selection.find('.select2-selection__rendered').append($placeholder);
      };
      return Placeholder;
    });
    S2.define('select2/selection/allowClear', ['jquery', '../keys'], function($, KEYS) {
      function AllowClear() {}
      AllowClear.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        if (this.placeholder == null) {
          if (this.options.get('debug') && window.console && console.error) {
            console.error('Select2: The `allowClear` option should be used in combination ' + 'with the `placeholder` option.');
          }
        }
        this.$selection.on('mousedown', '.select2-selection__clear', function(evt) {
          self._handleClear(evt);
        });
        container.on('keypress', function(evt) {
          self._handleKeyboardClear(evt, container);
        });
      };
      AllowClear.prototype._handleClear = function(_, evt) {
        if (this.options.get('disabled')) {
          return;
        }
        var $clear = this.$selection.find('.select2-selection__clear');
        if ($clear.length === 0) {
          return;
        }
        evt.stopPropagation();
        var data = $clear.data('data');
        for (var d = 0; d < data.length; d++) {
          var unselectData = {data: data[d]};
          this.trigger('unselect', unselectData);
          if (unselectData.prevented) {
            return;
          }
        }
        this.$element.val(this.placeholder.id).trigger('change');
        this.trigger('toggle', {});
      };
      AllowClear.prototype._handleKeyboardClear = function(_, evt, container) {
        if (container.isOpen()) {
          return;
        }
        if (evt.which == KEYS.DELETE || evt.which == KEYS.BACKSPACE) {
          this._handleClear(evt);
        }
      };
      AllowClear.prototype.update = function(decorated, data) {
        decorated.call(this, data);
        if (this.$selection.find('.select2-selection__placeholder').length > 0 || data.length === 0) {
          return;
        }
        var $remove = $('<span class="select2-selection__clear">' + '&times;' + '</span>');
        $remove.data('data', data);
        this.$selection.find('.select2-selection__rendered').prepend($remove);
      };
      return AllowClear;
    });
    S2.define('select2/selection/search', ['jquery', '../utils', '../keys'], function($, Utils, KEYS) {
      function Search(decorated, $element, options) {
        decorated.call(this, $element, options);
      }
      Search.prototype.render = function(decorated) {
        var $search = $('<li class="select2-search select2-search--inline">' + '<input class="select2-search__field" type="search" tabindex="-1"' + ' autocomplete="off" autocorrect="off" autocapitalize="off"' + ' spellcheck="false" role="textbox" aria-autocomplete="list" />' + '</li>');
        this.$searchContainer = $search;
        this.$search = $search.find('input');
        var $rendered = decorated.call(this);
        this._transferTabIndex();
        return $rendered;
      };
      Search.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        container.on('open', function() {
          self.$search.trigger('focus');
        });
        container.on('close', function() {
          self.$search.val('');
          self.$search.removeAttr('aria-activedescendant');
          self.$search.trigger('focus');
        });
        container.on('enable', function() {
          self.$search.prop('disabled', false);
          self._transferTabIndex();
        });
        container.on('disable', function() {
          self.$search.prop('disabled', true);
        });
        container.on('focus', function(evt) {
          self.$search.trigger('focus');
        });
        container.on('results:focus', function(params) {
          self.$search.attr('aria-activedescendant', params.id);
        });
        this.$selection.on('focusin', '.select2-search--inline', function(evt) {
          self.trigger('focus', evt);
        });
        this.$selection.on('focusout', '.select2-search--inline', function(evt) {
          self._handleBlur(evt);
        });
        this.$selection.on('keydown', '.select2-search--inline', function(evt) {
          evt.stopPropagation();
          self.trigger('keypress', evt);
          self._keyUpPrevented = evt.isDefaultPrevented();
          var key = evt.which;
          if (key === KEYS.BACKSPACE && self.$search.val() === '') {
            var $previousChoice = self.$searchContainer.prev('.select2-selection__choice');
            if ($previousChoice.length > 0) {
              var item = $previousChoice.data('data');
              self.searchRemoveChoice(item);
              evt.preventDefault();
            }
          }
        });
        var msie = document.documentMode;
        var disableInputEvents = msie && msie <= 11;
        this.$selection.on('input.searchcheck', '.select2-search--inline', function(evt) {
          if (disableInputEvents) {
            self.$selection.off('input.search input.searchcheck');
            return;
          }
          self.$selection.off('keyup.search');
        });
        this.$selection.on('keyup.search input.search', '.select2-search--inline', function(evt) {
          if (disableInputEvents && evt.type === 'input') {
            self.$selection.off('input.search input.searchcheck');
            return;
          }
          var key = evt.which;
          if (key == KEYS.SHIFT || key == KEYS.CTRL || key == KEYS.ALT) {
            return;
          }
          if (key == KEYS.TAB) {
            return;
          }
          self.handleSearch(evt);
        });
      };
      Search.prototype._transferTabIndex = function(decorated) {
        this.$search.attr('tabindex', this.$selection.attr('tabindex'));
        this.$selection.attr('tabindex', '-1');
      };
      Search.prototype.createPlaceholder = function(decorated, placeholder) {
        this.$search.attr('placeholder', placeholder.text);
      };
      Search.prototype.update = function(decorated, data) {
        var searchHadFocus = this.$search[0] == document.activeElement;
        this.$search.attr('placeholder', '');
        decorated.call(this, data);
        this.$selection.find('.select2-selection__rendered').append(this.$searchContainer);
        this.resizeSearch();
        if (searchHadFocus) {
          this.$search.focus();
        }
      };
      Search.prototype.handleSearch = function() {
        this.resizeSearch();
        if (!this._keyUpPrevented) {
          var input = this.$search.val();
          this.trigger('query', {term: input});
        }
        this._keyUpPrevented = false;
      };
      Search.prototype.searchRemoveChoice = function(decorated, item) {
        this.trigger('unselect', {data: item});
        this.$search.val(item.text);
        this.handleSearch();
      };
      Search.prototype.resizeSearch = function() {
        this.$search.css('width', '25px');
        var width = '';
        if (this.$search.attr('placeholder') !== '') {
          width = this.$selection.find('.select2-selection__rendered').innerWidth();
        } else {
          var minimumWidth = this.$search.val().length + 1;
          width = (minimumWidth * 0.75) + 'em';
        }
        this.$search.css('width', width);
      };
      return Search;
    });
    S2.define('select2/selection/eventRelay', ['jquery'], function($) {
      function EventRelay() {}
      EventRelay.prototype.bind = function(decorated, container, $container) {
        var self = this;
        var relayEvents = ['open', 'opening', 'close', 'closing', 'select', 'selecting', 'unselect', 'unselecting'];
        var preventableEvents = ['opening', 'closing', 'selecting', 'unselecting'];
        decorated.call(this, container, $container);
        container.on('*', function(name, params) {
          if ($.inArray(name, relayEvents) === -1) {
            return;
          }
          params = params || {};
          var evt = $.Event('select2:' + name, {params: params});
          self.$element.trigger(evt);
          if ($.inArray(name, preventableEvents) === -1) {
            return;
          }
          params.prevented = evt.isDefaultPrevented();
        });
      };
      return EventRelay;
    });
    S2.define('select2/translation', ['jquery', 'require'], function($, require) {
      function Translation(dict) {
        this.dict = dict || {};
      }
      Translation.prototype.all = function() {
        return this.dict;
      };
      Translation.prototype.get = function(key) {
        return this.dict[key];
      };
      Translation.prototype.extend = function(translation) {
        this.dict = $.extend({}, translation.all(), this.dict);
      };
      Translation._cache = {};
      Translation.loadPath = function(path) {
        if (!(path in Translation._cache)) {
          var translations = require(path);
          Translation._cache[path] = translations;
        }
        return new Translation(Translation._cache[path]);
      };
      return Translation;
    });
    S2.define('select2/diacritics', [], function() {
      var diacritics = {
        '\u24B6': 'A',
        '\uFF21': 'A',
        '\u00C0': 'A',
        '\u00C1': 'A',
        '\u00C2': 'A',
        '\u1EA6': 'A',
        '\u1EA4': 'A',
        '\u1EAA': 'A',
        '\u1EA8': 'A',
        '\u00C3': 'A',
        '\u0100': 'A',
        '\u0102': 'A',
        '\u1EB0': 'A',
        '\u1EAE': 'A',
        '\u1EB4': 'A',
        '\u1EB2': 'A',
        '\u0226': 'A',
        '\u01E0': 'A',
        '\u00C4': 'A',
        '\u01DE': 'A',
        '\u1EA2': 'A',
        '\u00C5': 'A',
        '\u01FA': 'A',
        '\u01CD': 'A',
        '\u0200': 'A',
        '\u0202': 'A',
        '\u1EA0': 'A',
        '\u1EAC': 'A',
        '\u1EB6': 'A',
        '\u1E00': 'A',
        '\u0104': 'A',
        '\u023A': 'A',
        '\u2C6F': 'A',
        '\uA732': 'AA',
        '\u00C6': 'AE',
        '\u01FC': 'AE',
        '\u01E2': 'AE',
        '\uA734': 'AO',
        '\uA736': 'AU',
        '\uA738': 'AV',
        '\uA73A': 'AV',
        '\uA73C': 'AY',
        '\u24B7': 'B',
        '\uFF22': 'B',
        '\u1E02': 'B',
        '\u1E04': 'B',
        '\u1E06': 'B',
        '\u0243': 'B',
        '\u0182': 'B',
        '\u0181': 'B',
        '\u24B8': 'C',
        '\uFF23': 'C',
        '\u0106': 'C',
        '\u0108': 'C',
        '\u010A': 'C',
        '\u010C': 'C',
        '\u00C7': 'C',
        '\u1E08': 'C',
        '\u0187': 'C',
        '\u023B': 'C',
        '\uA73E': 'C',
        '\u24B9': 'D',
        '\uFF24': 'D',
        '\u1E0A': 'D',
        '\u010E': 'D',
        '\u1E0C': 'D',
        '\u1E10': 'D',
        '\u1E12': 'D',
        '\u1E0E': 'D',
        '\u0110': 'D',
        '\u018B': 'D',
        '\u018A': 'D',
        '\u0189': 'D',
        '\uA779': 'D',
        '\u01F1': 'DZ',
        '\u01C4': 'DZ',
        '\u01F2': 'Dz',
        '\u01C5': 'Dz',
        '\u24BA': 'E',
        '\uFF25': 'E',
        '\u00C8': 'E',
        '\u00C9': 'E',
        '\u00CA': 'E',
        '\u1EC0': 'E',
        '\u1EBE': 'E',
        '\u1EC4': 'E',
        '\u1EC2': 'E',
        '\u1EBC': 'E',
        '\u0112': 'E',
        '\u1E14': 'E',
        '\u1E16': 'E',
        '\u0114': 'E',
        '\u0116': 'E',
        '\u00CB': 'E',
        '\u1EBA': 'E',
        '\u011A': 'E',
        '\u0204': 'E',
        '\u0206': 'E',
        '\u1EB8': 'E',
        '\u1EC6': 'E',
        '\u0228': 'E',
        '\u1E1C': 'E',
        '\u0118': 'E',
        '\u1E18': 'E',
        '\u1E1A': 'E',
        '\u0190': 'E',
        '\u018E': 'E',
        '\u24BB': 'F',
        '\uFF26': 'F',
        '\u1E1E': 'F',
        '\u0191': 'F',
        '\uA77B': 'F',
        '\u24BC': 'G',
        '\uFF27': 'G',
        '\u01F4': 'G',
        '\u011C': 'G',
        '\u1E20': 'G',
        '\u011E': 'G',
        '\u0120': 'G',
        '\u01E6': 'G',
        '\u0122': 'G',
        '\u01E4': 'G',
        '\u0193': 'G',
        '\uA7A0': 'G',
        '\uA77D': 'G',
        '\uA77E': 'G',
        '\u24BD': 'H',
        '\uFF28': 'H',
        '\u0124': 'H',
        '\u1E22': 'H',
        '\u1E26': 'H',
        '\u021E': 'H',
        '\u1E24': 'H',
        '\u1E28': 'H',
        '\u1E2A': 'H',
        '\u0126': 'H',
        '\u2C67': 'H',
        '\u2C75': 'H',
        '\uA78D': 'H',
        '\u24BE': 'I',
        '\uFF29': 'I',
        '\u00CC': 'I',
        '\u00CD': 'I',
        '\u00CE': 'I',
        '\u0128': 'I',
        '\u012A': 'I',
        '\u012C': 'I',
        '\u0130': 'I',
        '\u00CF': 'I',
        '\u1E2E': 'I',
        '\u1EC8': 'I',
        '\u01CF': 'I',
        '\u0208': 'I',
        '\u020A': 'I',
        '\u1ECA': 'I',
        '\u012E': 'I',
        '\u1E2C': 'I',
        '\u0197': 'I',
        '\u24BF': 'J',
        '\uFF2A': 'J',
        '\u0134': 'J',
        '\u0248': 'J',
        '\u24C0': 'K',
        '\uFF2B': 'K',
        '\u1E30': 'K',
        '\u01E8': 'K',
        '\u1E32': 'K',
        '\u0136': 'K',
        '\u1E34': 'K',
        '\u0198': 'K',
        '\u2C69': 'K',
        '\uA740': 'K',
        '\uA742': 'K',
        '\uA744': 'K',
        '\uA7A2': 'K',
        '\u24C1': 'L',
        '\uFF2C': 'L',
        '\u013F': 'L',
        '\u0139': 'L',
        '\u013D': 'L',
        '\u1E36': 'L',
        '\u1E38': 'L',
        '\u013B': 'L',
        '\u1E3C': 'L',
        '\u1E3A': 'L',
        '\u0141': 'L',
        '\u023D': 'L',
        '\u2C62': 'L',
        '\u2C60': 'L',
        '\uA748': 'L',
        '\uA746': 'L',
        '\uA780': 'L',
        '\u01C7': 'LJ',
        '\u01C8': 'Lj',
        '\u24C2': 'M',
        '\uFF2D': 'M',
        '\u1E3E': 'M',
        '\u1E40': 'M',
        '\u1E42': 'M',
        '\u2C6E': 'M',
        '\u019C': 'M',
        '\u24C3': 'N',
        '\uFF2E': 'N',
        '\u01F8': 'N',
        '\u0143': 'N',
        '\u00D1': 'N',
        '\u1E44': 'N',
        '\u0147': 'N',
        '\u1E46': 'N',
        '\u0145': 'N',
        '\u1E4A': 'N',
        '\u1E48': 'N',
        '\u0220': 'N',
        '\u019D': 'N',
        '\uA790': 'N',
        '\uA7A4': 'N',
        '\u01CA': 'NJ',
        '\u01CB': 'Nj',
        '\u24C4': 'O',
        '\uFF2F': 'O',
        '\u00D2': 'O',
        '\u00D3': 'O',
        '\u00D4': 'O',
        '\u1ED2': 'O',
        '\u1ED0': 'O',
        '\u1ED6': 'O',
        '\u1ED4': 'O',
        '\u00D5': 'O',
        '\u1E4C': 'O',
        '\u022C': 'O',
        '\u1E4E': 'O',
        '\u014C': 'O',
        '\u1E50': 'O',
        '\u1E52': 'O',
        '\u014E': 'O',
        '\u022E': 'O',
        '\u0230': 'O',
        '\u00D6': 'O',
        '\u022A': 'O',
        '\u1ECE': 'O',
        '\u0150': 'O',
        '\u01D1': 'O',
        '\u020C': 'O',
        '\u020E': 'O',
        '\u01A0': 'O',
        '\u1EDC': 'O',
        '\u1EDA': 'O',
        '\u1EE0': 'O',
        '\u1EDE': 'O',
        '\u1EE2': 'O',
        '\u1ECC': 'O',
        '\u1ED8': 'O',
        '\u01EA': 'O',
        '\u01EC': 'O',
        '\u00D8': 'O',
        '\u01FE': 'O',
        '\u0186': 'O',
        '\u019F': 'O',
        '\uA74A': 'O',
        '\uA74C': 'O',
        '\u01A2': 'OI',
        '\uA74E': 'OO',
        '\u0222': 'OU',
        '\u24C5': 'P',
        '\uFF30': 'P',
        '\u1E54': 'P',
        '\u1E56': 'P',
        '\u01A4': 'P',
        '\u2C63': 'P',
        '\uA750': 'P',
        '\uA752': 'P',
        '\uA754': 'P',
        '\u24C6': 'Q',
        '\uFF31': 'Q',
        '\uA756': 'Q',
        '\uA758': 'Q',
        '\u024A': 'Q',
        '\u24C7': 'R',
        '\uFF32': 'R',
        '\u0154': 'R',
        '\u1E58': 'R',
        '\u0158': 'R',
        '\u0210': 'R',
        '\u0212': 'R',
        '\u1E5A': 'R',
        '\u1E5C': 'R',
        '\u0156': 'R',
        '\u1E5E': 'R',
        '\u024C': 'R',
        '\u2C64': 'R',
        '\uA75A': 'R',
        '\uA7A6': 'R',
        '\uA782': 'R',
        '\u24C8': 'S',
        '\uFF33': 'S',
        '\u1E9E': 'S',
        '\u015A': 'S',
        '\u1E64': 'S',
        '\u015C': 'S',
        '\u1E60': 'S',
        '\u0160': 'S',
        '\u1E66': 'S',
        '\u1E62': 'S',
        '\u1E68': 'S',
        '\u0218': 'S',
        '\u015E': 'S',
        '\u2C7E': 'S',
        '\uA7A8': 'S',
        '\uA784': 'S',
        '\u24C9': 'T',
        '\uFF34': 'T',
        '\u1E6A': 'T',
        '\u0164': 'T',
        '\u1E6C': 'T',
        '\u021A': 'T',
        '\u0162': 'T',
        '\u1E70': 'T',
        '\u1E6E': 'T',
        '\u0166': 'T',
        '\u01AC': 'T',
        '\u01AE': 'T',
        '\u023E': 'T',
        '\uA786': 'T',
        '\uA728': 'TZ',
        '\u24CA': 'U',
        '\uFF35': 'U',
        '\u00D9': 'U',
        '\u00DA': 'U',
        '\u00DB': 'U',
        '\u0168': 'U',
        '\u1E78': 'U',
        '\u016A': 'U',
        '\u1E7A': 'U',
        '\u016C': 'U',
        '\u00DC': 'U',
        '\u01DB': 'U',
        '\u01D7': 'U',
        '\u01D5': 'U',
        '\u01D9': 'U',
        '\u1EE6': 'U',
        '\u016E': 'U',
        '\u0170': 'U',
        '\u01D3': 'U',
        '\u0214': 'U',
        '\u0216': 'U',
        '\u01AF': 'U',
        '\u1EEA': 'U',
        '\u1EE8': 'U',
        '\u1EEE': 'U',
        '\u1EEC': 'U',
        '\u1EF0': 'U',
        '\u1EE4': 'U',
        '\u1E72': 'U',
        '\u0172': 'U',
        '\u1E76': 'U',
        '\u1E74': 'U',
        '\u0244': 'U',
        '\u24CB': 'V',
        '\uFF36': 'V',
        '\u1E7C': 'V',
        '\u1E7E': 'V',
        '\u01B2': 'V',
        '\uA75E': 'V',
        '\u0245': 'V',
        '\uA760': 'VY',
        '\u24CC': 'W',
        '\uFF37': 'W',
        '\u1E80': 'W',
        '\u1E82': 'W',
        '\u0174': 'W',
        '\u1E86': 'W',
        '\u1E84': 'W',
        '\u1E88': 'W',
        '\u2C72': 'W',
        '\u24CD': 'X',
        '\uFF38': 'X',
        '\u1E8A': 'X',
        '\u1E8C': 'X',
        '\u24CE': 'Y',
        '\uFF39': 'Y',
        '\u1EF2': 'Y',
        '\u00DD': 'Y',
        '\u0176': 'Y',
        '\u1EF8': 'Y',
        '\u0232': 'Y',
        '\u1E8E': 'Y',
        '\u0178': 'Y',
        '\u1EF6': 'Y',
        '\u1EF4': 'Y',
        '\u01B3': 'Y',
        '\u024E': 'Y',
        '\u1EFE': 'Y',
        '\u24CF': 'Z',
        '\uFF3A': 'Z',
        '\u0179': 'Z',
        '\u1E90': 'Z',
        '\u017B': 'Z',
        '\u017D': 'Z',
        '\u1E92': 'Z',
        '\u1E94': 'Z',
        '\u01B5': 'Z',
        '\u0224': 'Z',
        '\u2C7F': 'Z',
        '\u2C6B': 'Z',
        '\uA762': 'Z',
        '\u24D0': 'a',
        '\uFF41': 'a',
        '\u1E9A': 'a',
        '\u00E0': 'a',
        '\u00E1': 'a',
        '\u00E2': 'a',
        '\u1EA7': 'a',
        '\u1EA5': 'a',
        '\u1EAB': 'a',
        '\u1EA9': 'a',
        '\u00E3': 'a',
        '\u0101': 'a',
        '\u0103': 'a',
        '\u1EB1': 'a',
        '\u1EAF': 'a',
        '\u1EB5': 'a',
        '\u1EB3': 'a',
        '\u0227': 'a',
        '\u01E1': 'a',
        '\u00E4': 'a',
        '\u01DF': 'a',
        '\u1EA3': 'a',
        '\u00E5': 'a',
        '\u01FB': 'a',
        '\u01CE': 'a',
        '\u0201': 'a',
        '\u0203': 'a',
        '\u1EA1': 'a',
        '\u1EAD': 'a',
        '\u1EB7': 'a',
        '\u1E01': 'a',
        '\u0105': 'a',
        '\u2C65': 'a',
        '\u0250': 'a',
        '\uA733': 'aa',
        '\u00E6': 'ae',
        '\u01FD': 'ae',
        '\u01E3': 'ae',
        '\uA735': 'ao',
        '\uA737': 'au',
        '\uA739': 'av',
        '\uA73B': 'av',
        '\uA73D': 'ay',
        '\u24D1': 'b',
        '\uFF42': 'b',
        '\u1E03': 'b',
        '\u1E05': 'b',
        '\u1E07': 'b',
        '\u0180': 'b',
        '\u0183': 'b',
        '\u0253': 'b',
        '\u24D2': 'c',
        '\uFF43': 'c',
        '\u0107': 'c',
        '\u0109': 'c',
        '\u010B': 'c',
        '\u010D': 'c',
        '\u00E7': 'c',
        '\u1E09': 'c',
        '\u0188': 'c',
        '\u023C': 'c',
        '\uA73F': 'c',
        '\u2184': 'c',
        '\u24D3': 'd',
        '\uFF44': 'd',
        '\u1E0B': 'd',
        '\u010F': 'd',
        '\u1E0D': 'd',
        '\u1E11': 'd',
        '\u1E13': 'd',
        '\u1E0F': 'd',
        '\u0111': 'd',
        '\u018C': 'd',
        '\u0256': 'd',
        '\u0257': 'd',
        '\uA77A': 'd',
        '\u01F3': 'dz',
        '\u01C6': 'dz',
        '\u24D4': 'e',
        '\uFF45': 'e',
        '\u00E8': 'e',
        '\u00E9': 'e',
        '\u00EA': 'e',
        '\u1EC1': 'e',
        '\u1EBF': 'e',
        '\u1EC5': 'e',
        '\u1EC3': 'e',
        '\u1EBD': 'e',
        '\u0113': 'e',
        '\u1E15': 'e',
        '\u1E17': 'e',
        '\u0115': 'e',
        '\u0117': 'e',
        '\u00EB': 'e',
        '\u1EBB': 'e',
        '\u011B': 'e',
        '\u0205': 'e',
        '\u0207': 'e',
        '\u1EB9': 'e',
        '\u1EC7': 'e',
        '\u0229': 'e',
        '\u1E1D': 'e',
        '\u0119': 'e',
        '\u1E19': 'e',
        '\u1E1B': 'e',
        '\u0247': 'e',
        '\u025B': 'e',
        '\u01DD': 'e',
        '\u24D5': 'f',
        '\uFF46': 'f',
        '\u1E1F': 'f',
        '\u0192': 'f',
        '\uA77C': 'f',
        '\u24D6': 'g',
        '\uFF47': 'g',
        '\u01F5': 'g',
        '\u011D': 'g',
        '\u1E21': 'g',
        '\u011F': 'g',
        '\u0121': 'g',
        '\u01E7': 'g',
        '\u0123': 'g',
        '\u01E5': 'g',
        '\u0260': 'g',
        '\uA7A1': 'g',
        '\u1D79': 'g',
        '\uA77F': 'g',
        '\u24D7': 'h',
        '\uFF48': 'h',
        '\u0125': 'h',
        '\u1E23': 'h',
        '\u1E27': 'h',
        '\u021F': 'h',
        '\u1E25': 'h',
        '\u1E29': 'h',
        '\u1E2B': 'h',
        '\u1E96': 'h',
        '\u0127': 'h',
        '\u2C68': 'h',
        '\u2C76': 'h',
        '\u0265': 'h',
        '\u0195': 'hv',
        '\u24D8': 'i',
        '\uFF49': 'i',
        '\u00EC': 'i',
        '\u00ED': 'i',
        '\u00EE': 'i',
        '\u0129': 'i',
        '\u012B': 'i',
        '\u012D': 'i',
        '\u00EF': 'i',
        '\u1E2F': 'i',
        '\u1EC9': 'i',
        '\u01D0': 'i',
        '\u0209': 'i',
        '\u020B': 'i',
        '\u1ECB': 'i',
        '\u012F': 'i',
        '\u1E2D': 'i',
        '\u0268': 'i',
        '\u0131': 'i',
        '\u24D9': 'j',
        '\uFF4A': 'j',
        '\u0135': 'j',
        '\u01F0': 'j',
        '\u0249': 'j',
        '\u24DA': 'k',
        '\uFF4B': 'k',
        '\u1E31': 'k',
        '\u01E9': 'k',
        '\u1E33': 'k',
        '\u0137': 'k',
        '\u1E35': 'k',
        '\u0199': 'k',
        '\u2C6A': 'k',
        '\uA741': 'k',
        '\uA743': 'k',
        '\uA745': 'k',
        '\uA7A3': 'k',
        '\u24DB': 'l',
        '\uFF4C': 'l',
        '\u0140': 'l',
        '\u013A': 'l',
        '\u013E': 'l',
        '\u1E37': 'l',
        '\u1E39': 'l',
        '\u013C': 'l',
        '\u1E3D': 'l',
        '\u1E3B': 'l',
        '\u017F': 'l',
        '\u0142': 'l',
        '\u019A': 'l',
        '\u026B': 'l',
        '\u2C61': 'l',
        '\uA749': 'l',
        '\uA781': 'l',
        '\uA747': 'l',
        '\u01C9': 'lj',
        '\u24DC': 'm',
        '\uFF4D': 'm',
        '\u1E3F': 'm',
        '\u1E41': 'm',
        '\u1E43': 'm',
        '\u0271': 'm',
        '\u026F': 'm',
        '\u24DD': 'n',
        '\uFF4E': 'n',
        '\u01F9': 'n',
        '\u0144': 'n',
        '\u00F1': 'n',
        '\u1E45': 'n',
        '\u0148': 'n',
        '\u1E47': 'n',
        '\u0146': 'n',
        '\u1E4B': 'n',
        '\u1E49': 'n',
        '\u019E': 'n',
        '\u0272': 'n',
        '\u0149': 'n',
        '\uA791': 'n',
        '\uA7A5': 'n',
        '\u01CC': 'nj',
        '\u24DE': 'o',
        '\uFF4F': 'o',
        '\u00F2': 'o',
        '\u00F3': 'o',
        '\u00F4': 'o',
        '\u1ED3': 'o',
        '\u1ED1': 'o',
        '\u1ED7': 'o',
        '\u1ED5': 'o',
        '\u00F5': 'o',
        '\u1E4D': 'o',
        '\u022D': 'o',
        '\u1E4F': 'o',
        '\u014D': 'o',
        '\u1E51': 'o',
        '\u1E53': 'o',
        '\u014F': 'o',
        '\u022F': 'o',
        '\u0231': 'o',
        '\u00F6': 'o',
        '\u022B': 'o',
        '\u1ECF': 'o',
        '\u0151': 'o',
        '\u01D2': 'o',
        '\u020D': 'o',
        '\u020F': 'o',
        '\u01A1': 'o',
        '\u1EDD': 'o',
        '\u1EDB': 'o',
        '\u1EE1': 'o',
        '\u1EDF': 'o',
        '\u1EE3': 'o',
        '\u1ECD': 'o',
        '\u1ED9': 'o',
        '\u01EB': 'o',
        '\u01ED': 'o',
        '\u00F8': 'o',
        '\u01FF': 'o',
        '\u0254': 'o',
        '\uA74B': 'o',
        '\uA74D': 'o',
        '\u0275': 'o',
        '\u01A3': 'oi',
        '\u0223': 'ou',
        '\uA74F': 'oo',
        '\u24DF': 'p',
        '\uFF50': 'p',
        '\u1E55': 'p',
        '\u1E57': 'p',
        '\u01A5': 'p',
        '\u1D7D': 'p',
        '\uA751': 'p',
        '\uA753': 'p',
        '\uA755': 'p',
        '\u24E0': 'q',
        '\uFF51': 'q',
        '\u024B': 'q',
        '\uA757': 'q',
        '\uA759': 'q',
        '\u24E1': 'r',
        '\uFF52': 'r',
        '\u0155': 'r',
        '\u1E59': 'r',
        '\u0159': 'r',
        '\u0211': 'r',
        '\u0213': 'r',
        '\u1E5B': 'r',
        '\u1E5D': 'r',
        '\u0157': 'r',
        '\u1E5F': 'r',
        '\u024D': 'r',
        '\u027D': 'r',
        '\uA75B': 'r',
        '\uA7A7': 'r',
        '\uA783': 'r',
        '\u24E2': 's',
        '\uFF53': 's',
        '\u00DF': 's',
        '\u015B': 's',
        '\u1E65': 's',
        '\u015D': 's',
        '\u1E61': 's',
        '\u0161': 's',
        '\u1E67': 's',
        '\u1E63': 's',
        '\u1E69': 's',
        '\u0219': 's',
        '\u015F': 's',
        '\u023F': 's',
        '\uA7A9': 's',
        '\uA785': 's',
        '\u1E9B': 's',
        '\u24E3': 't',
        '\uFF54': 't',
        '\u1E6B': 't',
        '\u1E97': 't',
        '\u0165': 't',
        '\u1E6D': 't',
        '\u021B': 't',
        '\u0163': 't',
        '\u1E71': 't',
        '\u1E6F': 't',
        '\u0167': 't',
        '\u01AD': 't',
        '\u0288': 't',
        '\u2C66': 't',
        '\uA787': 't',
        '\uA729': 'tz',
        '\u24E4': 'u',
        '\uFF55': 'u',
        '\u00F9': 'u',
        '\u00FA': 'u',
        '\u00FB': 'u',
        '\u0169': 'u',
        '\u1E79': 'u',
        '\u016B': 'u',
        '\u1E7B': 'u',
        '\u016D': 'u',
        '\u00FC': 'u',
        '\u01DC': 'u',
        '\u01D8': 'u',
        '\u01D6': 'u',
        '\u01DA': 'u',
        '\u1EE7': 'u',
        '\u016F': 'u',
        '\u0171': 'u',
        '\u01D4': 'u',
        '\u0215': 'u',
        '\u0217': 'u',
        '\u01B0': 'u',
        '\u1EEB': 'u',
        '\u1EE9': 'u',
        '\u1EEF': 'u',
        '\u1EED': 'u',
        '\u1EF1': 'u',
        '\u1EE5': 'u',
        '\u1E73': 'u',
        '\u0173': 'u',
        '\u1E77': 'u',
        '\u1E75': 'u',
        '\u0289': 'u',
        '\u24E5': 'v',
        '\uFF56': 'v',
        '\u1E7D': 'v',
        '\u1E7F': 'v',
        '\u028B': 'v',
        '\uA75F': 'v',
        '\u028C': 'v',
        '\uA761': 'vy',
        '\u24E6': 'w',
        '\uFF57': 'w',
        '\u1E81': 'w',
        '\u1E83': 'w',
        '\u0175': 'w',
        '\u1E87': 'w',
        '\u1E85': 'w',
        '\u1E98': 'w',
        '\u1E89': 'w',
        '\u2C73': 'w',
        '\u24E7': 'x',
        '\uFF58': 'x',
        '\u1E8B': 'x',
        '\u1E8D': 'x',
        '\u24E8': 'y',
        '\uFF59': 'y',
        '\u1EF3': 'y',
        '\u00FD': 'y',
        '\u0177': 'y',
        '\u1EF9': 'y',
        '\u0233': 'y',
        '\u1E8F': 'y',
        '\u00FF': 'y',
        '\u1EF7': 'y',
        '\u1E99': 'y',
        '\u1EF5': 'y',
        '\u01B4': 'y',
        '\u024F': 'y',
        '\u1EFF': 'y',
        '\u24E9': 'z',
        '\uFF5A': 'z',
        '\u017A': 'z',
        '\u1E91': 'z',
        '\u017C': 'z',
        '\u017E': 'z',
        '\u1E93': 'z',
        '\u1E95': 'z',
        '\u01B6': 'z',
        '\u0225': 'z',
        '\u0240': 'z',
        '\u2C6C': 'z',
        '\uA763': 'z',
        '\u0386': '\u0391',
        '\u0388': '\u0395',
        '\u0389': '\u0397',
        '\u038A': '\u0399',
        '\u03AA': '\u0399',
        '\u038C': '\u039F',
        '\u038E': '\u03A5',
        '\u03AB': '\u03A5',
        '\u038F': '\u03A9',
        '\u03AC': '\u03B1',
        '\u03AD': '\u03B5',
        '\u03AE': '\u03B7',
        '\u03AF': '\u03B9',
        '\u03CA': '\u03B9',
        '\u0390': '\u03B9',
        '\u03CC': '\u03BF',
        '\u03CD': '\u03C5',
        '\u03CB': '\u03C5',
        '\u03B0': '\u03C5',
        '\u03C9': '\u03C9',
        '\u03C2': '\u03C3'
      };
      return diacritics;
    });
    S2.define('select2/data/base', ['../utils'], function(Utils) {
      function BaseAdapter($element, options) {
        BaseAdapter.__super__.constructor.call(this);
      }
      Utils.Extend(BaseAdapter, Utils.Observable);
      BaseAdapter.prototype.current = function(callback) {
        throw new Error('The `current` method must be defined in child classes.');
      };
      BaseAdapter.prototype.query = function(params, callback) {
        throw new Error('The `query` method must be defined in child classes.');
      };
      BaseAdapter.prototype.bind = function(container, $container) {};
      BaseAdapter.prototype.destroy = function() {};
      BaseAdapter.prototype.generateResultId = function(container, data) {
        var id = container.id + '-result-';
        id += Utils.generateChars(4);
        if (data.id != null) {
          id += '-' + data.id.toString();
        } else {
          id += '-' + Utils.generateChars(4);
        }
        return id;
      };
      return BaseAdapter;
    });
    S2.define('select2/data/select', ['./base', '../utils', 'jquery'], function(BaseAdapter, Utils, $) {
      function SelectAdapter($element, options) {
        this.$element = $element;
        this.options = options;
        SelectAdapter.__super__.constructor.call(this);
      }
      Utils.Extend(SelectAdapter, BaseAdapter);
      SelectAdapter.prototype.current = function(callback) {
        var data = [];
        var self = this;
        this.$element.find(':selected').each(function() {
          var $option = $(this);
          var option = self.item($option);
          data.push(option);
        });
        callback(data);
      };
      SelectAdapter.prototype.select = function(data) {
        var self = this;
        data.selected = true;
        if ($(data.element).is('option')) {
          data.element.selected = true;
          this.$element.trigger('change');
          return;
        }
        if (this.$element.prop('multiple')) {
          this.current(function(currentData) {
            var val = [];
            data = [data];
            data.push.apply(data, currentData);
            for (var d = 0; d < data.length; d++) {
              var id = data[d].id;
              if ($.inArray(id, val) === -1) {
                val.push(id);
              }
            }
            self.$element.val(val);
            self.$element.trigger('change');
          });
        } else {
          var val = data.id;
          this.$element.val(val);
          this.$element.trigger('change');
        }
      };
      SelectAdapter.prototype.unselect = function(data) {
        var self = this;
        if (!this.$element.prop('multiple')) {
          return;
        }
        data.selected = false;
        if ($(data.element).is('option')) {
          data.element.selected = false;
          this.$element.trigger('change');
          return;
        }
        this.current(function(currentData) {
          var val = [];
          for (var d = 0; d < currentData.length; d++) {
            var id = currentData[d].id;
            if (id !== data.id && $.inArray(id, val) === -1) {
              val.push(id);
            }
          }
          self.$element.val(val);
          self.$element.trigger('change');
        });
      };
      SelectAdapter.prototype.bind = function(container, $container) {
        var self = this;
        this.container = container;
        container.on('select', function(params) {
          self.select(params.data);
        });
        container.on('unselect', function(params) {
          self.unselect(params.data);
        });
      };
      SelectAdapter.prototype.destroy = function() {
        this.$element.find('*').each(function() {
          $.removeData(this, 'data');
        });
      };
      SelectAdapter.prototype.query = function(params, callback) {
        var data = [];
        var self = this;
        var $options = this.$element.children();
        $options.each(function() {
          var $option = $(this);
          if (!$option.is('option') && !$option.is('optgroup')) {
            return;
          }
          var option = self.item($option);
          var matches = self.matches(params, option);
          if (matches !== null) {
            data.push(matches);
          }
        });
        callback({results: data});
      };
      SelectAdapter.prototype.addOptions = function($options) {
        Utils.appendMany(this.$element, $options);
      };
      SelectAdapter.prototype.option = function(data) {
        var option;
        if (data.children) {
          option = document.createElement('optgroup');
          option.label = data.text;
        } else {
          option = document.createElement('option');
          if (option.textContent !== undefined) {
            option.textContent = data.text;
          } else {
            option.innerText = data.text;
          }
        }
        if (data.id) {
          option.value = data.id;
        }
        if (data.disabled) {
          option.disabled = true;
        }
        if (data.selected) {
          option.selected = true;
        }
        if (data.title) {
          option.title = data.title;
        }
        var $option = $(option);
        var normalizedData = this._normalizeItem(data);
        normalizedData.element = option;
        $.data(option, 'data', normalizedData);
        return $option;
      };
      SelectAdapter.prototype.item = function($option) {
        var data = {};
        data = $.data($option[0], 'data');
        if (data != null) {
          return data;
        }
        if ($option.is('option')) {
          data = {
            id: $option.val(),
            text: $option.text(),
            disabled: $option.prop('disabled'),
            selected: $option.prop('selected'),
            title: $option.prop('title')
          };
        } else if ($option.is('optgroup')) {
          data = {
            text: $option.prop('label'),
            children: [],
            title: $option.prop('title')
          };
          var $children = $option.children('option');
          var children = [];
          for (var c = 0; c < $children.length; c++) {
            var $child = $($children[c]);
            var child = this.item($child);
            children.push(child);
          }
          data.children = children;
        }
        data = this._normalizeItem(data);
        data.element = $option[0];
        $.data($option[0], 'data', data);
        return data;
      };
      SelectAdapter.prototype._normalizeItem = function(item) {
        if (!$.isPlainObject(item)) {
          item = {
            id: item,
            text: item
          };
        }
        item = $.extend({}, {text: ''}, item);
        var defaults = {
          selected: false,
          disabled: false
        };
        if (item.id != null) {
          item.id = item.id.toString();
        }
        if (item.text != null) {
          item.text = item.text.toString();
        }
        if (item._resultId == null && item.id && this.container != null) {
          item._resultId = this.generateResultId(this.container, item);
        }
        return $.extend({}, defaults, item);
      };
      SelectAdapter.prototype.matches = function(params, data) {
        var matcher = this.options.get('matcher');
        return matcher(params, data);
      };
      return SelectAdapter;
    });
    S2.define('select2/data/array', ['./select', '../utils', 'jquery'], function(SelectAdapter, Utils, $) {
      function ArrayAdapter($element, options) {
        var data = options.get('data') || [];
        ArrayAdapter.__super__.constructor.call(this, $element, options);
        this.addOptions(this.convertToOptions(data));
      }
      Utils.Extend(ArrayAdapter, SelectAdapter);
      ArrayAdapter.prototype.select = function(data) {
        var $option = this.$element.find('option').filter(function(i, elm) {
          return elm.value == data.id.toString();
        });
        if ($option.length === 0) {
          $option = this.option(data);
          this.addOptions($option);
        }
        ArrayAdapter.__super__.select.call(this, data);
      };
      ArrayAdapter.prototype.convertToOptions = function(data) {
        var self = this;
        var $existing = this.$element.find('option');
        var existingIds = $existing.map(function() {
          return self.item($(this)).id;
        }).get();
        var $options = [];
        function onlyItem(item) {
          return function() {
            return $(this).val() == item.id;
          };
        }
        for (var d = 0; d < data.length; d++) {
          var item = this._normalizeItem(data[d]);
          if ($.inArray(item.id, existingIds) >= 0) {
            var $existingOption = $existing.filter(onlyItem(item));
            var existingData = this.item($existingOption);
            var newData = $.extend(true, {}, item, existingData);
            var $newOption = this.option(newData);
            $existingOption.replaceWith($newOption);
            continue;
          }
          var $option = this.option(item);
          if (item.children) {
            var $children = this.convertToOptions(item.children);
            Utils.appendMany($option, $children);
          }
          $options.push($option);
        }
        return $options;
      };
      return ArrayAdapter;
    });
    S2.define('select2/data/ajax', ['./array', '../utils', 'jquery'], function(ArrayAdapter, Utils, $) {
      function AjaxAdapter($element, options) {
        this.ajaxOptions = this._applyDefaults(options.get('ajax'));
        if (this.ajaxOptions.processResults != null) {
          this.processResults = this.ajaxOptions.processResults;
        }
        AjaxAdapter.__super__.constructor.call(this, $element, options);
      }
      Utils.Extend(AjaxAdapter, ArrayAdapter);
      AjaxAdapter.prototype._applyDefaults = function(options) {
        var defaults = {
          data: function(params) {
            return $.extend({}, params, {q: params.term});
          },
          transport: function(params, success, failure) {
            var $request = $.ajax(params);
            $request.then(success);
            $request.fail(failure);
            return $request;
          }
        };
        return $.extend({}, defaults, options, true);
      };
      AjaxAdapter.prototype.processResults = function(results) {
        return results;
      };
      AjaxAdapter.prototype.query = function(params, callback) {
        var matches = [];
        var self = this;
        if (this._request != null) {
          if ($.isFunction(this._request.abort)) {
            this._request.abort();
          }
          this._request = null;
        }
        var options = $.extend({type: 'GET'}, this.ajaxOptions);
        if (typeof options.url === 'function') {
          options.url = options.url.call(this.$element, params);
        }
        if (typeof options.data === 'function') {
          options.data = options.data.call(this.$element, params);
        }
        function request() {
          var $request = options.transport(options, function(data) {
            var results = self.processResults(data, params);
            if (self.options.get('debug') && window.console && console.error) {
              if (!results || !results.results || !$.isArray(results.results)) {
                console.error('Select2: The AJAX results did not return an array in the ' + '`results` key of the response.');
              }
            }
            callback(results);
          }, function() {
            if ($request.status && $request.status === '0') {
              return;
            }
            self.trigger('results:message', {message: 'errorLoading'});
          });
          self._request = $request;
        }
        if (this.ajaxOptions.delay && params.term != null) {
          if (this._queryTimeout) {
            window.clearTimeout(this._queryTimeout);
          }
          this._queryTimeout = window.setTimeout(request, this.ajaxOptions.delay);
        } else {
          request();
        }
      };
      return AjaxAdapter;
    });
    S2.define('select2/data/tags', ['jquery'], function($) {
      function Tags(decorated, $element, options) {
        var tags = options.get('tags');
        var createTag = options.get('createTag');
        if (createTag !== undefined) {
          this.createTag = createTag;
        }
        var insertTag = options.get('insertTag');
        if (insertTag !== undefined) {
          this.insertTag = insertTag;
        }
        decorated.call(this, $element, options);
        if ($.isArray(tags)) {
          for (var t = 0; t < tags.length; t++) {
            var tag = tags[t];
            var item = this._normalizeItem(tag);
            var $option = this.option(item);
            this.$element.append($option);
          }
        }
      }
      Tags.prototype.query = function(decorated, params, callback) {
        var self = this;
        this._removeOldTags();
        if (params.term == null || params.page != null) {
          decorated.call(this, params, callback);
          return;
        }
        function wrapper(obj, child) {
          var data = obj.results;
          for (var i = 0; i < data.length; i++) {
            var option = data[i];
            var checkChildren = (option.children != null && !wrapper({results: option.children}, true));
            var checkText = option.text === params.term;
            if (checkText || checkChildren) {
              if (child) {
                return false;
              }
              obj.data = data;
              callback(obj);
              return;
            }
          }
          if (child) {
            return true;
          }
          var tag = self.createTag(params);
          if (tag != null) {
            var $option = self.option(tag);
            $option.attr('data-select2-tag', true);
            self.addOptions([$option]);
            self.insertTag(data, tag);
          }
          obj.results = data;
          callback(obj);
        }
        decorated.call(this, params, wrapper);
      };
      Tags.prototype.createTag = function(decorated, params) {
        var term = $.trim(params.term);
        if (term === '') {
          return null;
        }
        return {
          id: term,
          text: term
        };
      };
      Tags.prototype.insertTag = function(_, data, tag) {
        data.unshift(tag);
      };
      Tags.prototype._removeOldTags = function(_) {
        var tag = this._lastTag;
        var $options = this.$element.find('option[data-select2-tag]');
        $options.each(function() {
          if (this.selected) {
            return;
          }
          $(this).remove();
        });
      };
      return Tags;
    });
    S2.define('select2/data/tokenizer', ['jquery'], function($) {
      function Tokenizer(decorated, $element, options) {
        var tokenizer = options.get('tokenizer');
        if (tokenizer !== undefined) {
          this.tokenizer = tokenizer;
        }
        decorated.call(this, $element, options);
      }
      Tokenizer.prototype.bind = function(decorated, container, $container) {
        decorated.call(this, container, $container);
        this.$search = container.dropdown.$search || container.selection.$search || $container.find('.select2-search__field');
      };
      Tokenizer.prototype.query = function(decorated, params, callback) {
        var self = this;
        function createAndSelect(data) {
          var item = self._normalizeItem(data);
          var $existingOptions = self.$element.find('option').filter(function() {
            return $(this).val() === item.id;
          });
          if (!$existingOptions.length) {
            var $option = self.option(item);
            $option.attr('data-select2-tag', true);
            self._removeOldTags();
            self.addOptions([$option]);
          }
          select(item);
        }
        function select(data) {
          self.trigger('select', {data: data});
        }
        params.term = params.term || '';
        var tokenData = this.tokenizer(params, this.options, createAndSelect);
        if (tokenData.term !== params.term) {
          if (this.$search.length) {
            this.$search.val(tokenData.term);
            this.$search.focus();
          }
          params.term = tokenData.term;
        }
        decorated.call(this, params, callback);
      };
      Tokenizer.prototype.tokenizer = function(_, params, options, callback) {
        var separators = options.get('tokenSeparators') || [];
        var term = params.term;
        var i = 0;
        var createTag = this.createTag || function(params) {
          return {
            id: params.term,
            text: params.term
          };
        };
        while (i < term.length) {
          var termChar = term[i];
          if ($.inArray(termChar, separators) === -1) {
            i++;
            continue;
          }
          var part = term.substr(0, i);
          var partParams = $.extend({}, params, {term: part});
          var data = createTag(partParams);
          if (data == null) {
            i++;
            continue;
          }
          callback(data);
          term = term.substr(i + 1) || '';
          i = 0;
        }
        return {term: term};
      };
      return Tokenizer;
    });
    S2.define('select2/data/minimumInputLength', [], function() {
      function MinimumInputLength(decorated, $e, options) {
        this.minimumInputLength = options.get('minimumInputLength');
        decorated.call(this, $e, options);
      }
      MinimumInputLength.prototype.query = function(decorated, params, callback) {
        params.term = params.term || '';
        if (params.term.length < this.minimumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooShort',
            args: {
              minimum: this.minimumInputLength,
              input: params.term,
              params: params
            }
          });
          return;
        }
        decorated.call(this, params, callback);
      };
      return MinimumInputLength;
    });
    S2.define('select2/data/maximumInputLength', [], function() {
      function MaximumInputLength(decorated, $e, options) {
        this.maximumInputLength = options.get('maximumInputLength');
        decorated.call(this, $e, options);
      }
      MaximumInputLength.prototype.query = function(decorated, params, callback) {
        params.term = params.term || '';
        if (this.maximumInputLength > 0 && params.term.length > this.maximumInputLength) {
          this.trigger('results:message', {
            message: 'inputTooLong',
            args: {
              maximum: this.maximumInputLength,
              input: params.term,
              params: params
            }
          });
          return;
        }
        decorated.call(this, params, callback);
      };
      return MaximumInputLength;
    });
    S2.define('select2/data/maximumSelectionLength', [], function() {
      function MaximumSelectionLength(decorated, $e, options) {
        this.maximumSelectionLength = options.get('maximumSelectionLength');
        decorated.call(this, $e, options);
      }
      MaximumSelectionLength.prototype.query = function(decorated, params, callback) {
        var self = this;
        this.current(function(currentData) {
          var count = currentData != null ? currentData.length : 0;
          if (self.maximumSelectionLength > 0 && count >= self.maximumSelectionLength) {
            self.trigger('results:message', {
              message: 'maximumSelected',
              args: {maximum: self.maximumSelectionLength}
            });
            return;
          }
          decorated.call(self, params, callback);
        });
      };
      return MaximumSelectionLength;
    });
    S2.define('select2/dropdown', ['jquery', './utils'], function($, Utils) {
      function Dropdown($element, options) {
        this.$element = $element;
        this.options = options;
        Dropdown.__super__.constructor.call(this);
      }
      Utils.Extend(Dropdown, Utils.Observable);
      Dropdown.prototype.render = function() {
        var $dropdown = $('<span class="select2-dropdown">' + '<span class="select2-results"></span>' + '</span>');
        $dropdown.attr('dir', this.options.get('dir'));
        this.$dropdown = $dropdown;
        return $dropdown;
      };
      Dropdown.prototype.bind = function() {};
      Dropdown.prototype.position = function($dropdown, $container) {};
      Dropdown.prototype.destroy = function() {
        this.$dropdown.remove();
      };
      return Dropdown;
    });
    S2.define('select2/dropdown/search', ['jquery', '../utils'], function($, Utils) {
      function Search() {}
      Search.prototype.render = function(decorated) {
        var $rendered = decorated.call(this);
        var $search = $('<span class="select2-search select2-search--dropdown">' + '<input class="select2-search__field" type="search" tabindex="-1"' + ' autocomplete="off" autocorrect="off" autocapitalize="off"' + ' spellcheck="false" role="textbox" />' + '</span>');
        this.$searchContainer = $search;
        this.$search = $search.find('input');
        $rendered.prepend($search);
        return $rendered;
      };
      Search.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        this.$search.on('keydown', function(evt) {
          self.trigger('keypress', evt);
          self._keyUpPrevented = evt.isDefaultPrevented();
        });
        this.$search.on('input', function(evt) {
          $(this).off('keyup');
        });
        this.$search.on('keyup input', function(evt) {
          self.handleSearch(evt);
        });
        container.on('open', function() {
          self.$search.attr('tabindex', 0);
          self.$search.focus();
          window.setTimeout(function() {
            self.$search.focus();
          }, 0);
        });
        container.on('close', function() {
          self.$search.attr('tabindex', -1);
          self.$search.val('');
        });
        container.on('focus', function() {
          if (container.isOpen()) {
            self.$search.focus();
          }
        });
        container.on('results:all', function(params) {
          if (params.query.term == null || params.query.term === '') {
            var showSearch = self.showSearch(params);
            if (showSearch) {
              self.$searchContainer.removeClass('select2-search--hide');
            } else {
              self.$searchContainer.addClass('select2-search--hide');
            }
          }
        });
      };
      Search.prototype.handleSearch = function(evt) {
        if (!this._keyUpPrevented) {
          var input = this.$search.val();
          this.trigger('query', {term: input});
        }
        this._keyUpPrevented = false;
      };
      Search.prototype.showSearch = function(_, params) {
        return true;
      };
      return Search;
    });
    S2.define('select2/dropdown/hidePlaceholder', [], function() {
      function HidePlaceholder(decorated, $element, options, dataAdapter) {
        this.placeholder = this.normalizePlaceholder(options.get('placeholder'));
        decorated.call(this, $element, options, dataAdapter);
      }
      HidePlaceholder.prototype.append = function(decorated, data) {
        data.results = this.removePlaceholder(data.results);
        decorated.call(this, data);
      };
      HidePlaceholder.prototype.normalizePlaceholder = function(_, placeholder) {
        if (typeof placeholder === 'string') {
          placeholder = {
            id: '',
            text: placeholder
          };
        }
        return placeholder;
      };
      HidePlaceholder.prototype.removePlaceholder = function(_, data) {
        var modifiedData = data.slice(0);
        for (var d = data.length - 1; d >= 0; d--) {
          var item = data[d];
          if (this.placeholder.id === item.id) {
            modifiedData.splice(d, 1);
          }
        }
        return modifiedData;
      };
      return HidePlaceholder;
    });
    S2.define('select2/dropdown/infiniteScroll', ['jquery'], function($) {
      function InfiniteScroll(decorated, $element, options, dataAdapter) {
        this.lastParams = {};
        decorated.call(this, $element, options, dataAdapter);
        this.$loadingMore = this.createLoadingMore();
        this.loading = false;
      }
      InfiniteScroll.prototype.append = function(decorated, data) {
        this.$loadingMore.remove();
        this.loading = false;
        decorated.call(this, data);
        if (this.showLoadingMore(data)) {
          this.$results.append(this.$loadingMore);
        }
      };
      InfiniteScroll.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        container.on('query', function(params) {
          self.lastParams = params;
          self.loading = true;
        });
        container.on('query:append', function(params) {
          self.lastParams = params;
          self.loading = true;
        });
        this.$results.on('scroll', function() {
          var isLoadMoreVisible = $.contains(document.documentElement, self.$loadingMore[0]);
          if (self.loading || !isLoadMoreVisible) {
            return;
          }
          var currentOffset = self.$results.offset().top + self.$results.outerHeight(false);
          var loadingMoreOffset = self.$loadingMore.offset().top + self.$loadingMore.outerHeight(false);
          if (currentOffset + 50 >= loadingMoreOffset) {
            self.loadMore();
          }
        });
      };
      InfiniteScroll.prototype.loadMore = function() {
        this.loading = true;
        var params = $.extend({}, {page: 1}, this.lastParams);
        params.page++;
        this.trigger('query:append', params);
      };
      InfiniteScroll.prototype.showLoadingMore = function(_, data) {
        return data.pagination && data.pagination.more;
      };
      InfiniteScroll.prototype.createLoadingMore = function() {
        var $option = $('<li ' + 'class="select2-results__option select2-results__option--load-more"' + 'role="treeitem" aria-disabled="true"></li>');
        var message = this.options.get('translations').get('loadingMore');
        $option.html(message(this.lastParams));
        return $option;
      };
      return InfiniteScroll;
    });
    S2.define('select2/dropdown/attachBody', ['jquery', '../utils'], function($, Utils) {
      function AttachBody(decorated, $element, options) {
        this.$dropdownParent = options.get('dropdownParent') || $(document.body);
        decorated.call(this, $element, options);
      }
      AttachBody.prototype.bind = function(decorated, container, $container) {
        var self = this;
        var setupResultsEvents = false;
        decorated.call(this, container, $container);
        container.on('open', function() {
          self._showDropdown();
          self._attachPositioningHandler(container);
          if (!setupResultsEvents) {
            setupResultsEvents = true;
            container.on('results:all', function() {
              self._positionDropdown();
              self._resizeDropdown();
            });
            container.on('results:append', function() {
              self._positionDropdown();
              self._resizeDropdown();
            });
          }
        });
        container.on('close', function() {
          self._hideDropdown();
          self._detachPositioningHandler(container);
        });
        this.$dropdownContainer.on('mousedown', function(evt) {
          evt.stopPropagation();
        });
      };
      AttachBody.prototype.destroy = function(decorated) {
        decorated.call(this);
        this.$dropdownContainer.remove();
      };
      AttachBody.prototype.position = function(decorated, $dropdown, $container) {
        $dropdown.attr('class', $container.attr('class'));
        $dropdown.removeClass('select2');
        $dropdown.addClass('select2-container--open');
        $dropdown.css({
          position: 'absolute',
          top: -999999
        });
        this.$container = $container;
      };
      AttachBody.prototype.render = function(decorated) {
        var $container = $('<span></span>');
        var $dropdown = decorated.call(this);
        $container.append($dropdown);
        this.$dropdownContainer = $container;
        return $container;
      };
      AttachBody.prototype._hideDropdown = function(decorated) {
        this.$dropdownContainer.detach();
      };
      AttachBody.prototype._attachPositioningHandler = function(decorated, container) {
        var self = this;
        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;
        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.each(function() {
          $(this).data('select2-scroll-position', {
            x: $(this).scrollLeft(),
            y: $(this).scrollTop()
          });
        });
        $watchers.on(scrollEvent, function(ev) {
          var position = $(this).data('select2-scroll-position');
          $(this).scrollTop(position.y);
        });
        $(window).on(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent, function(e) {
          self._positionDropdown();
          self._resizeDropdown();
        });
      };
      AttachBody.prototype._detachPositioningHandler = function(decorated, container) {
        var scrollEvent = 'scroll.select2.' + container.id;
        var resizeEvent = 'resize.select2.' + container.id;
        var orientationEvent = 'orientationchange.select2.' + container.id;
        var $watchers = this.$container.parents().filter(Utils.hasScroll);
        $watchers.off(scrollEvent);
        $(window).off(scrollEvent + ' ' + resizeEvent + ' ' + orientationEvent);
      };
      AttachBody.prototype._positionDropdown = function() {
        var $window = $(window);
        var isCurrentlyAbove = this.$dropdown.hasClass('select2-dropdown--above');
        var isCurrentlyBelow = this.$dropdown.hasClass('select2-dropdown--below');
        var newDirection = null;
        var offset = this.$container.offset();
        offset.bottom = offset.top + this.$container.outerHeight(false);
        var container = {height: this.$container.outerHeight(false)};
        container.top = offset.top;
        container.bottom = offset.top + container.height;
        var dropdown = {height: this.$dropdown.outerHeight(false)};
        var viewport = {
          top: $window.scrollTop(),
          bottom: $window.scrollTop() + $window.height()
        };
        var enoughRoomAbove = viewport.top < (offset.top - dropdown.height);
        var enoughRoomBelow = viewport.bottom > (offset.bottom + dropdown.height);
        var css = {
          left: offset.left,
          top: container.bottom
        };
        var $offsetParent = this.$dropdownParent;
        if ($offsetParent.css('position') === 'static') {
          $offsetParent = $offsetParent.offsetParent();
        }
        var parentOffset = $offsetParent.offset();
        css.top -= parentOffset.top;
        css.left -= parentOffset.left;
        if (!isCurrentlyAbove && !isCurrentlyBelow) {
          newDirection = 'below';
        }
        if (!enoughRoomBelow && enoughRoomAbove && !isCurrentlyAbove) {
          newDirection = 'above';
        } else if (!enoughRoomAbove && enoughRoomBelow && isCurrentlyAbove) {
          newDirection = 'below';
        }
        if (newDirection == 'above' || (isCurrentlyAbove && newDirection !== 'below')) {
          css.top = container.top - parentOffset.top - dropdown.height;
        }
        if (newDirection != null) {
          this.$dropdown.removeClass('select2-dropdown--below select2-dropdown--above').addClass('select2-dropdown--' + newDirection);
          this.$container.removeClass('select2-container--below select2-container--above').addClass('select2-container--' + newDirection);
        }
        this.$dropdownContainer.css(css);
      };
      AttachBody.prototype._resizeDropdown = function() {
        var css = {width: this.$container.outerWidth(false) + 'px'};
        if (this.options.get('dropdownAutoWidth')) {
          css.minWidth = css.width;
          css.position = 'relative';
          css.width = 'auto';
        }
        this.$dropdown.css(css);
      };
      AttachBody.prototype._showDropdown = function(decorated) {
        this.$dropdownContainer.appendTo(this.$dropdownParent);
        this._positionDropdown();
        this._resizeDropdown();
      };
      return AttachBody;
    });
    S2.define('select2/dropdown/minimumResultsForSearch', [], function() {
      function countResults(data) {
        var count = 0;
        for (var d = 0; d < data.length; d++) {
          var item = data[d];
          if (item.children) {
            count += countResults(item.children);
          } else {
            count++;
          }
        }
        return count;
      }
      function MinimumResultsForSearch(decorated, $element, options, dataAdapter) {
        this.minimumResultsForSearch = options.get('minimumResultsForSearch');
        if (this.minimumResultsForSearch < 0) {
          this.minimumResultsForSearch = Infinity;
        }
        decorated.call(this, $element, options, dataAdapter);
      }
      MinimumResultsForSearch.prototype.showSearch = function(decorated, params) {
        if (countResults(params.data.results) < this.minimumResultsForSearch) {
          return false;
        }
        return decorated.call(this, params);
      };
      return MinimumResultsForSearch;
    });
    S2.define('select2/dropdown/selectOnClose', [], function() {
      function SelectOnClose() {}
      SelectOnClose.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        container.on('close', function(params) {
          self._handleSelectOnClose(params);
        });
      };
      SelectOnClose.prototype._handleSelectOnClose = function(_, params) {
        if (params && params.originalSelect2Event != null) {
          var event = params.originalSelect2Event;
          if (event._type === 'select' || event._type === 'unselect') {
            return;
          }
        }
        var $highlightedResults = this.getHighlightedResults();
        if ($highlightedResults.length < 1) {
          return;
        }
        var data = $highlightedResults.data('data');
        if ((data.element != null && data.element.selected) || (data.element == null && data.selected)) {
          return;
        }
        this.trigger('select', {data: data});
      };
      return SelectOnClose;
    });
    S2.define('select2/dropdown/closeOnSelect', [], function() {
      function CloseOnSelect() {}
      CloseOnSelect.prototype.bind = function(decorated, container, $container) {
        var self = this;
        decorated.call(this, container, $container);
        container.on('select', function(evt) {
          self._selectTriggered(evt);
        });
        container.on('unselect', function(evt) {
          self._selectTriggered(evt);
        });
      };
      CloseOnSelect.prototype._selectTriggered = function(_, evt) {
        var originalEvent = evt.originalEvent;
        if (originalEvent && originalEvent.ctrlKey) {
          return;
        }
        this.trigger('close', {
          originalEvent: originalEvent,
          originalSelect2Event: evt
        });
      };
      return CloseOnSelect;
    });
    S2.define('select2/i18n/en', [], function() {
      return {
        errorLoading: function() {
          return 'The results could not be loaded.';
        },
        inputTooLong: function(args) {
          var overChars = args.input.length - args.maximum;
          var message = 'Please delete ' + overChars + ' character';
          if (overChars != 1) {
            message += 's';
          }
          return message;
        },
        inputTooShort: function(args) {
          var remainingChars = args.minimum - args.input.length;
          var message = 'Please enter ' + remainingChars + ' or more characters';
          return message;
        },
        loadingMore: function() {
          return 'Loading more results…';
        },
        maximumSelected: function(args) {
          var message = 'You can only select ' + args.maximum + ' item';
          if (args.maximum != 1) {
            message += 's';
          }
          return message;
        },
        noResults: function() {
          return 'No results found';
        },
        searching: function() {
          return 'Searching…';
        }
      };
    });
    S2.define('select2/defaults', ['jquery', 'require', './results', './selection/single', './selection/multiple', './selection/placeholder', './selection/allowClear', './selection/search', './selection/eventRelay', './utils', './translation', './diacritics', './data/select', './data/array', './data/ajax', './data/tags', './data/tokenizer', './data/minimumInputLength', './data/maximumInputLength', './data/maximumSelectionLength', './dropdown', './dropdown/search', './dropdown/hidePlaceholder', './dropdown/infiniteScroll', './dropdown/attachBody', './dropdown/minimumResultsForSearch', './dropdown/selectOnClose', './dropdown/closeOnSelect', './i18n/en'], function($, require, ResultsList, SingleSelection, MultipleSelection, Placeholder, AllowClear, SelectionSearch, EventRelay, Utils, Translation, DIACRITICS, SelectData, ArrayData, AjaxData, Tags, Tokenizer, MinimumInputLength, MaximumInputLength, MaximumSelectionLength, Dropdown, DropdownSearch, HidePlaceholder, InfiniteScroll, AttachBody, MinimumResultsForSearch, SelectOnClose, CloseOnSelect, EnglishTranslation) {
      function Defaults() {
        this.reset();
      }
      Defaults.prototype.apply = function(options) {
        options = $.extend(true, {}, this.defaults, options);
        if (options.dataAdapter == null) {
          if (options.ajax != null) {
            options.dataAdapter = AjaxData;
          } else if (options.data != null) {
            options.dataAdapter = ArrayData;
          } else {
            options.dataAdapter = SelectData;
          }
          if (options.minimumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, MinimumInputLength);
          }
          if (options.maximumInputLength > 0) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, MaximumInputLength);
          }
          if (options.maximumSelectionLength > 0) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, MaximumSelectionLength);
          }
          if (options.tags) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, Tags);
          }
          if (options.tokenSeparators != null || options.tokenizer != null) {
            options.dataAdapter = Utils.Decorate(options.dataAdapter, Tokenizer);
          }
          if (options.query != null) {
            var Query = require(options.amdBase + 'compat/query');
            options.dataAdapter = Utils.Decorate(options.dataAdapter, Query);
          }
          if (options.initSelection != null) {
            var InitSelection = require(options.amdBase + 'compat/initSelection');
            options.dataAdapter = Utils.Decorate(options.dataAdapter, InitSelection);
          }
        }
        if (options.resultsAdapter == null) {
          options.resultsAdapter = ResultsList;
          if (options.ajax != null) {
            options.resultsAdapter = Utils.Decorate(options.resultsAdapter, InfiniteScroll);
          }
          if (options.placeholder != null) {
            options.resultsAdapter = Utils.Decorate(options.resultsAdapter, HidePlaceholder);
          }
          if (options.selectOnClose) {
            options.resultsAdapter = Utils.Decorate(options.resultsAdapter, SelectOnClose);
          }
        }
        if (options.dropdownAdapter == null) {
          if (options.multiple) {
            options.dropdownAdapter = Dropdown;
          } else {
            var SearchableDropdown = Utils.Decorate(Dropdown, DropdownSearch);
            options.dropdownAdapter = SearchableDropdown;
          }
          if (options.minimumResultsForSearch !== 0) {
            options.dropdownAdapter = Utils.Decorate(options.dropdownAdapter, MinimumResultsForSearch);
          }
          if (options.closeOnSelect) {
            options.dropdownAdapter = Utils.Decorate(options.dropdownAdapter, CloseOnSelect);
          }
          if (options.dropdownCssClass != null || options.dropdownCss != null || options.adaptDropdownCssClass != null) {
            var DropdownCSS = require(options.amdBase + 'compat/dropdownCss');
            options.dropdownAdapter = Utils.Decorate(options.dropdownAdapter, DropdownCSS);
          }
          options.dropdownAdapter = Utils.Decorate(options.dropdownAdapter, AttachBody);
        }
        if (options.selectionAdapter == null) {
          if (options.multiple) {
            options.selectionAdapter = MultipleSelection;
          } else {
            options.selectionAdapter = SingleSelection;
          }
          if (options.placeholder != null) {
            options.selectionAdapter = Utils.Decorate(options.selectionAdapter, Placeholder);
          }
          if (options.allowClear) {
            options.selectionAdapter = Utils.Decorate(options.selectionAdapter, AllowClear);
          }
          if (options.multiple) {
            options.selectionAdapter = Utils.Decorate(options.selectionAdapter, SelectionSearch);
          }
          if (options.containerCssClass != null || options.containerCss != null || options.adaptContainerCssClass != null) {
            var ContainerCSS = require(options.amdBase + 'compat/containerCss');
            options.selectionAdapter = Utils.Decorate(options.selectionAdapter, ContainerCSS);
          }
          options.selectionAdapter = Utils.Decorate(options.selectionAdapter, EventRelay);
        }
        if (typeof options.language === 'string') {
          if (options.language.indexOf('-') > 0) {
            var languageParts = options.language.split('-');
            var baseLanguage = languageParts[0];
            options.language = [options.language, baseLanguage];
          } else {
            options.language = [options.language];
          }
        }
        if ($.isArray(options.language)) {
          var languages = new Translation();
          options.language.push('en');
          var languageNames = options.language;
          for (var l = 0; l < languageNames.length; l++) {
            var name = languageNames[l];
            var language = {};
            try {
              language = Translation.loadPath(name);
            } catch (e) {
              try {
                name = this.defaults.amdLanguageBase + name;
                language = Translation.loadPath(name);
              } catch (ex) {
                if (options.debug && window.console && console.warn) {
                  console.warn('Select2: The language file for "' + name + '" could not be ' + 'automatically loaded. A fallback will be used instead.');
                }
                continue;
              }
            }
            languages.extend(language);
          }
          options.translations = languages;
        } else {
          var baseTranslation = Translation.loadPath(this.defaults.amdLanguageBase + 'en');
          var customTranslation = new Translation(options.language);
          customTranslation.extend(baseTranslation);
          options.translations = customTranslation;
        }
        return options;
      };
      Defaults.prototype.reset = function() {
        function stripDiacritics(text) {
          function match(a) {
            return DIACRITICS[a] || a;
          }
          return text.replace(/[^\u0000-\u007E]/g, match);
        }
        function matcher(params, data) {
          if ($.trim(params.term) === '') {
            return data;
          }
          if (data.children && data.children.length > 0) {
            var match = $.extend(true, {}, data);
            for (var c = data.children.length - 1; c >= 0; c--) {
              var child = data.children[c];
              var matches = matcher(params, child);
              if (matches == null) {
                match.children.splice(c, 1);
              }
            }
            if (match.children.length > 0) {
              return match;
            }
            return matcher(params, match);
          }
          var original = stripDiacritics(data.text).toUpperCase();
          var term = stripDiacritics(params.term).toUpperCase();
          if (original.indexOf(term) > -1) {
            return data;
          }
          return null;
        }
        this.defaults = {
          amdBase: './',
          amdLanguageBase: './i18n/',
          closeOnSelect: true,
          debug: false,
          dropdownAutoWidth: false,
          escapeMarkup: Utils.escapeMarkup,
          language: EnglishTranslation,
          matcher: matcher,
          minimumInputLength: 0,
          maximumInputLength: 0,
          maximumSelectionLength: 0,
          minimumResultsForSearch: 0,
          selectOnClose: false,
          sorter: function(data) {
            return data;
          },
          templateResult: function(result) {
            return result.text;
          },
          templateSelection: function(selection) {
            return selection.text;
          },
          theme: 'default',
          width: 'resolve'
        };
      };
      Defaults.prototype.set = function(key, value) {
        var camelKey = $.camelCase(key);
        var data = {};
        data[camelKey] = value;
        var convertedData = Utils._convertData(data);
        $.extend(this.defaults, convertedData);
      };
      var defaults = new Defaults();
      return defaults;
    });
    S2.define('select2/options', ['require', 'jquery', './defaults', './utils'], function(require, $, Defaults, Utils) {
      function Options(options, $element) {
        this.options = options;
        if ($element != null) {
          this.fromElement($element);
        }
        this.options = Defaults.apply(this.options);
        if ($element && $element.is('input')) {
          var InputCompat = require(this.get('amdBase') + 'compat/inputData');
          this.options.dataAdapter = Utils.Decorate(this.options.dataAdapter, InputCompat);
        }
      }
      Options.prototype.fromElement = function($e) {
        var excludedData = ['select2'];
        if (this.options.multiple == null) {
          this.options.multiple = $e.prop('multiple');
        }
        if (this.options.disabled == null) {
          this.options.disabled = $e.prop('disabled');
        }
        if (this.options.language == null) {
          if ($e.prop('lang')) {
            this.options.language = $e.prop('lang').toLowerCase();
          } else if ($e.closest('[lang]').prop('lang')) {
            this.options.language = $e.closest('[lang]').prop('lang');
          }
        }
        if (this.options.dir == null) {
          if ($e.prop('dir')) {
            this.options.dir = $e.prop('dir');
          } else if ($e.closest('[dir]').prop('dir')) {
            this.options.dir = $e.closest('[dir]').prop('dir');
          } else {
            this.options.dir = 'ltr';
          }
        }
        $e.prop('disabled', this.options.disabled);
        $e.prop('multiple', this.options.multiple);
        if ($e.data('select2Tags')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn('Select2: The `data-select2-tags` attribute has been changed to ' + 'use the `data-data` and `data-tags="true"` attributes and will be ' + 'removed in future versions of Select2.');
          }
          $e.data('data', $e.data('select2Tags'));
          $e.data('tags', true);
        }
        if ($e.data('ajaxUrl')) {
          if (this.options.debug && window.console && console.warn) {
            console.warn('Select2: The `data-ajax-url` attribute has been changed to ' + '`data-ajax--url` and support for the old attribute will be removed' + ' in future versions of Select2.');
          }
          $e.attr('ajax--url', $e.data('ajaxUrl'));
          $e.data('ajax--url', $e.data('ajaxUrl'));
        }
        var dataset = {};
        if ($.fn.jquery && $.fn.jquery.substr(0, 2) == '1.' && $e[0].dataset) {
          dataset = $.extend(true, {}, $e[0].dataset, $e.data());
        } else {
          dataset = $e.data();
        }
        var data = $.extend(true, {}, dataset);
        data = Utils._convertData(data);
        for (var key in data) {
          if ($.inArray(key, excludedData) > -1) {
            continue;
          }
          if ($.isPlainObject(this.options[key])) {
            $.extend(this.options[key], data[key]);
          } else {
            this.options[key] = data[key];
          }
        }
        return this;
      };
      Options.prototype.get = function(key) {
        return this.options[key];
      };
      Options.prototype.set = function(key, val) {
        this.options[key] = val;
      };
      return Options;
    });
    S2.define('select2/core', ['jquery', './options', './utils', './keys'], function($, Options, Utils, KEYS) {
      var Select2 = function($element, options) {
        if ($element.data('select2') != null) {
          $element.data('select2').destroy();
        }
        this.$element = $element;
        this.id = this._generateId($element);
        options = options || {};
        this.options = new Options(options, $element);
        Select2.__super__.constructor.call(this);
        var tabindex = $element.attr('tabindex') || 0;
        $element.data('old-tabindex', tabindex);
        $element.attr('tabindex', '-1');
        var DataAdapter = this.options.get('dataAdapter');
        this.dataAdapter = new DataAdapter($element, this.options);
        var $container = this.render();
        this._placeContainer($container);
        var SelectionAdapter = this.options.get('selectionAdapter');
        this.selection = new SelectionAdapter($element, this.options);
        this.$selection = this.selection.render();
        this.selection.position(this.$selection, $container);
        var DropdownAdapter = this.options.get('dropdownAdapter');
        this.dropdown = new DropdownAdapter($element, this.options);
        this.$dropdown = this.dropdown.render();
        this.dropdown.position(this.$dropdown, $container);
        var ResultsAdapter = this.options.get('resultsAdapter');
        this.results = new ResultsAdapter($element, this.options, this.dataAdapter);
        this.$results = this.results.render();
        this.results.position(this.$results, this.$dropdown);
        var self = this;
        this._bindAdapters();
        this._registerDomEvents();
        this._registerDataEvents();
        this._registerSelectionEvents();
        this._registerDropdownEvents();
        this._registerResultsEvents();
        this._registerEvents();
        this.dataAdapter.current(function(initialData) {
          self.trigger('selection:update', {data: initialData});
        });
        $element.addClass('select2-hidden-accessible');
        $element.attr('aria-hidden', 'true');
        this._syncAttributes();
        $element.data('select2', this);
      };
      Utils.Extend(Select2, Utils.Observable);
      Select2.prototype._generateId = function($element) {
        var id = '';
        if ($element.attr('id') != null) {
          id = $element.attr('id');
        } else if ($element.attr('name') != null) {
          id = $element.attr('name') + '-' + Utils.generateChars(2);
        } else {
          id = Utils.generateChars(4);
        }
        id = id.replace(/(:|\.|\[|\]|,)/g, '');
        id = 'select2-' + id;
        return id;
      };
      Select2.prototype._placeContainer = function($container) {
        $container.insertAfter(this.$element);
        var width = this._resolveWidth(this.$element, this.options.get('width'));
        if (width != null) {
          $container.css('width', width);
        }
      };
      Select2.prototype._resolveWidth = function($element, method) {
        var WIDTH = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;
        if (method == 'resolve') {
          var styleWidth = this._resolveWidth($element, 'style');
          if (styleWidth != null) {
            return styleWidth;
          }
          return this._resolveWidth($element, 'element');
        }
        if (method == 'element') {
          var elementWidth = $element.outerWidth(false);
          if (elementWidth <= 0) {
            return 'auto';
          }
          return elementWidth + 'px';
        }
        if (method == 'style') {
          var style = $element.attr('style');
          if (typeof(style) !== 'string') {
            return null;
          }
          var attrs = style.split(';');
          for (var i = 0,
              l = attrs.length; i < l; i = i + 1) {
            var attr = attrs[i].replace(/\s/g, '');
            var matches = attr.match(WIDTH);
            if (matches !== null && matches.length >= 1) {
              return matches[1];
            }
          }
          return null;
        }
        return method;
      };
      Select2.prototype._bindAdapters = function() {
        this.dataAdapter.bind(this, this.$container);
        this.selection.bind(this, this.$container);
        this.dropdown.bind(this, this.$container);
        this.results.bind(this, this.$container);
      };
      Select2.prototype._registerDomEvents = function() {
        var self = this;
        this.$element.on('change.select2', function() {
          self.dataAdapter.current(function(data) {
            self.trigger('selection:update', {data: data});
          });
        });
        this.$element.on('focus.select2', function(evt) {
          self.trigger('focus', evt);
        });
        this._syncA = Utils.bind(this._syncAttributes, this);
        this._syncS = Utils.bind(this._syncSubtree, this);
        if (this.$element[0].attachEvent) {
          this.$element[0].attachEvent('onpropertychange', this._syncA);
        }
        var observer = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        ;
        if (observer != null) {
          this._observer = new observer(function(mutations) {
            $.each(mutations, self._syncA);
            $.each(mutations, self._syncS);
          });
          this._observer.observe(this.$element[0], {
            attributes: true,
            childList: true,
            subtree: false
          });
        } else if (this.$element[0].addEventListener) {
          this.$element[0].addEventListener('DOMAttrModified', self._syncA, false);
          this.$element[0].addEventListener('DOMNodeInserted', self._syncS, false);
          this.$element[0].addEventListener('DOMNodeRemoved', self._syncS, false);
        }
      };
      Select2.prototype._registerDataEvents = function() {
        var self = this;
        this.dataAdapter.on('*', function(name, params) {
          self.trigger(name, params);
        });
      };
      Select2.prototype._registerSelectionEvents = function() {
        var self = this;
        var nonRelayEvents = ['toggle', 'focus'];
        this.selection.on('toggle', function() {
          self.toggleDropdown();
        });
        this.selection.on('focus', function(params) {
          self.focus(params);
        });
        this.selection.on('*', function(name, params) {
          if ($.inArray(name, nonRelayEvents) !== -1) {
            return;
          }
          self.trigger(name, params);
        });
      };
      Select2.prototype._registerDropdownEvents = function() {
        var self = this;
        this.dropdown.on('*', function(name, params) {
          self.trigger(name, params);
        });
      };
      Select2.prototype._registerResultsEvents = function() {
        var self = this;
        this.results.on('*', function(name, params) {
          self.trigger(name, params);
        });
      };
      Select2.prototype._registerEvents = function() {
        var self = this;
        this.on('open', function() {
          self.$container.addClass('select2-container--open');
        });
        this.on('close', function() {
          self.$container.removeClass('select2-container--open');
        });
        this.on('enable', function() {
          self.$container.removeClass('select2-container--disabled');
        });
        this.on('disable', function() {
          self.$container.addClass('select2-container--disabled');
        });
        this.on('blur', function() {
          self.$container.removeClass('select2-container--focus');
        });
        this.on('query', function(params) {
          if (!self.isOpen()) {
            self.trigger('open', {});
          }
          this.dataAdapter.query(params, function(data) {
            self.trigger('results:all', {
              data: data,
              query: params
            });
          });
        });
        this.on('query:append', function(params) {
          this.dataAdapter.query(params, function(data) {
            self.trigger('results:append', {
              data: data,
              query: params
            });
          });
        });
        this.on('keypress', function(evt) {
          var key = evt.which;
          if (self.isOpen()) {
            if (key === KEYS.ESC || key === KEYS.TAB || (key === KEYS.UP && evt.altKey)) {
              self.close();
              evt.preventDefault();
            } else if (key === KEYS.ENTER) {
              self.trigger('results:select', {});
              evt.preventDefault();
            } else if ((key === KEYS.SPACE && evt.ctrlKey)) {
              self.trigger('results:toggle', {});
              evt.preventDefault();
            } else if (key === KEYS.UP) {
              self.trigger('results:previous', {});
              evt.preventDefault();
            } else if (key === KEYS.DOWN) {
              self.trigger('results:next', {});
              evt.preventDefault();
            }
          } else {
            if (key === KEYS.ENTER || key === KEYS.SPACE || (key === KEYS.DOWN && evt.altKey)) {
              self.open();
              evt.preventDefault();
            }
          }
        });
      };
      Select2.prototype._syncAttributes = function() {
        this.options.set('disabled', this.$element.prop('disabled'));
        if (this.options.get('disabled')) {
          if (this.isOpen()) {
            this.close();
          }
          this.trigger('disable', {});
        } else {
          this.trigger('enable', {});
        }
      };
      Select2.prototype._syncSubtree = function(evt, mutations) {
        var changed = false;
        var self = this;
        if (evt && evt.target && (evt.target.nodeName !== 'OPTION' && evt.target.nodeName !== 'OPTGROUP')) {
          return;
        }
        if (!mutations) {
          changed = true;
        } else if (mutations.addedNodes && mutations.addedNodes.length > 0) {
          for (var n = 0; n < mutations.addedNodes.length; n++) {
            var node = mutations.addedNodes[n];
            if (node.selected) {
              changed = true;
            }
          }
        } else if (mutations.removedNodes && mutations.removedNodes.length > 0) {
          changed = true;
        }
        if (changed) {
          this.dataAdapter.current(function(currentData) {
            self.trigger('selection:update', {data: currentData});
          });
        }
      };
      Select2.prototype.trigger = function(name, args) {
        var actualTrigger = Select2.__super__.trigger;
        var preTriggerMap = {
          'open': 'opening',
          'close': 'closing',
          'select': 'selecting',
          'unselect': 'unselecting'
        };
        if (args === undefined) {
          args = {};
        }
        if (name in preTriggerMap) {
          var preTriggerName = preTriggerMap[name];
          var preTriggerArgs = {
            prevented: false,
            name: name,
            args: args
          };
          actualTrigger.call(this, preTriggerName, preTriggerArgs);
          if (preTriggerArgs.prevented) {
            args.prevented = true;
            return;
          }
        }
        actualTrigger.call(this, name, args);
      };
      Select2.prototype.toggleDropdown = function() {
        if (this.options.get('disabled')) {
          return;
        }
        if (this.isOpen()) {
          this.close();
        } else {
          this.open();
        }
      };
      Select2.prototype.open = function() {
        if (this.isOpen()) {
          return;
        }
        this.trigger('query', {});
      };
      Select2.prototype.close = function() {
        if (!this.isOpen()) {
          return;
        }
        this.trigger('close', {});
      };
      Select2.prototype.isOpen = function() {
        return this.$container.hasClass('select2-container--open');
      };
      Select2.prototype.hasFocus = function() {
        return this.$container.hasClass('select2-container--focus');
      };
      Select2.prototype.focus = function(data) {
        if (this.hasFocus()) {
          return;
        }
        this.$container.addClass('select2-container--focus');
        this.trigger('focus', {});
      };
      Select2.prototype.enable = function(args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn('Select2: The `select2("enable")` method has been deprecated and will' + ' be removed in later Select2 versions. Use $element.prop("disabled")' + ' instead.');
        }
        if (args == null || args.length === 0) {
          args = [true];
        }
        var disabled = !args[0];
        this.$element.prop('disabled', disabled);
      };
      Select2.prototype.data = function() {
        if (this.options.get('debug') && arguments.length > 0 && window.console && console.warn) {
          console.warn('Select2: Data can no longer be set using `select2("data")`. You ' + 'should consider setting the value instead using `$element.val()`.');
        }
        var data = [];
        this.dataAdapter.current(function(currentData) {
          data = currentData;
        });
        return data;
      };
      Select2.prototype.val = function(args) {
        if (this.options.get('debug') && window.console && console.warn) {
          console.warn('Select2: The `select2("val")` method has been deprecated and will be' + ' removed in later Select2 versions. Use $element.val() instead.');
        }
        if (args == null || args.length === 0) {
          return this.$element.val();
        }
        var newVal = args[0];
        if ($.isArray(newVal)) {
          newVal = $.map(newVal, function(obj) {
            return obj.toString();
          });
        }
        this.$element.val(newVal).trigger('change');
      };
      Select2.prototype.destroy = function() {
        this.$container.remove();
        if (this.$element[0].detachEvent) {
          this.$element[0].detachEvent('onpropertychange', this._syncA);
        }
        if (this._observer != null) {
          this._observer.disconnect();
          this._observer = null;
        } else if (this.$element[0].removeEventListener) {
          this.$element[0].removeEventListener('DOMAttrModified', this._syncA, false);
          this.$element[0].removeEventListener('DOMNodeInserted', this._syncS, false);
          this.$element[0].removeEventListener('DOMNodeRemoved', this._syncS, false);
        }
        this._syncA = null;
        this._syncS = null;
        this.$element.off('.select2');
        this.$element.attr('tabindex', this.$element.data('old-tabindex'));
        this.$element.removeClass('select2-hidden-accessible');
        this.$element.attr('aria-hidden', 'false');
        this.$element.removeData('select2');
        this.dataAdapter.destroy();
        this.selection.destroy();
        this.dropdown.destroy();
        this.results.destroy();
        this.dataAdapter = null;
        this.selection = null;
        this.dropdown = null;
        this.results = null;
      };
      Select2.prototype.render = function() {
        var $container = $('<span class="select2 select2-container">' + '<span class="selection"></span>' + '<span class="dropdown-wrapper" aria-hidden="true"></span>' + '</span>');
        $container.attr('dir', this.options.get('dir'));
        this.$container = $container;
        this.$container.addClass('select2-container--' + this.options.get('theme'));
        $container.data('element', this.$element);
        return $container;
      };
      return Select2;
    });
    S2.define('jquery-mousewheel', ['jquery'], function($) {
      return $;
    });
    S2.define('jquery.select2', ['jquery', 'jquery-mousewheel', './select2/core', './select2/defaults'], function($, _, Select2, Defaults) {
      if ($.fn.select2 == null) {
        var thisMethods = ['open', 'close', 'destroy'];
        $.fn.select2 = function(options) {
          options = options || {};
          if (typeof options === 'object') {
            this.each(function() {
              var instanceOptions = $.extend(true, {}, options);
              var instance = new Select2($(this), instanceOptions);
            });
            return this;
          } else if (typeof options === 'string') {
            var ret;
            var args = Array.prototype.slice.call(arguments, 1);
            this.each(function() {
              var instance = $(this).data('select2');
              if (instance == null && window.console && console.error) {
                console.error('The select2(\'' + options + '\') method was called on an ' + 'element that is not using Select2.');
              }
              ret = instance[options].apply(instance, args);
            });
            if ($.inArray(options, thisMethods) > -1) {
              return this;
            }
            return ret;
          } else {
            throw new Error('Invalid arguments for Select2: ' + options);
          }
        };
      }
      if ($.fn.select2.defaults == null) {
        $.fn.select2.defaults = Defaults;
      }
      return Select2;
    });
    return {
      define: S2.define,
      require: S2.require
    };
  }());
  var select2 = S2.require('jquery.select2');
  jQuery.fn.select2.amd = S2;
  return select2;
}));

})();
System.registerDynamic("github:systemjs/plugin-css@0.1.32.json", [], false, function() {
  return {
    "main": "css"
  };
});

System.registerDynamic("github:select2/select2@4.0.3.json", [], false, function() {
  return {
    "main": "js/select2"
  };
});

System.registerDynamic("github:select2/select2@4.0.3/css/select2.min.css!github:systemjs/plugin-css@0.1.32/css.js", [], false, function ($__require, $__exports, $__module) {
  var _retrieveGlobal = System.get("@@global-helpers").prepareGlobal($__module.id, null, null);

  (function ($__global) {})(this);

  return _retrieveGlobal();
});
System.registerDynamic("lib/common/views/errorMessageView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		<li>\r\n			<pre>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.message : depth0, depth0)) + "</pre>\r\n			<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.trace : depth0, { "name": "each", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			</ul>\r\n		</li>\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return "					<li>\r\n						<div><label class=\"secondary radius label\">Class:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0["class"] : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">File:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.file : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">Function:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0["function"] : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">Line:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.line : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">Namespace:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.namespace : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">Short Class:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.short_class : depth0, depth0)) + "</div>\r\n						<div><label class=\"secondary radius label\">Type:</label>" + container.escapeExpression(container.lambda(depth0 != null ? depth0.type : depth0, depth0)) + "</div>\r\n					</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<h2>" + container.escapeExpression((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "message", "hash": {}, "data": data }) : helper)) + "</h2>\r\n<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.exception : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</ul>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/common/views/errorMessageView.js', ['marionette', './errorMessageView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_errorMessageViewHbs) {
      viewTpl = _errorMessageViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl
      }));
    }
  };
});
'use strict';

System.register('lib/util.js', ['underscore', 'jquery', 'jquery-ui', 'select2', 'select2/css/select2.min.css!', 'backbone', 'backbone.radio', 'marionette', 'backbone.syphon', 'lib/common/behaviors/behaviors.js', 'lib/common/views/errorMessageView.js'], function (_export, _context) {
    "use strict";

    var _, $, Backbone, Radio, Marionette, Syphon, AppBehaviors, ErrorMessageView, handleAjaxError, nullForBlankReaderSet, ui_dialog_interaction;

    return {
        setters: [function (_underscore) {
            _ = _underscore.default;
        }, function (_jquery) {
            $ = _jquery.default;
        }, function (_jqueryUi) {}, function (_select) {}, function (_select2CssSelect2MinCss) {}, function (_backbone) {
            Backbone = _backbone.default;
        }, function (_backboneRadio) {
            Radio = _backboneRadio.default;
        }, function (_marionette) {
            Marionette = _marionette.default;
        }, function (_backboneSyphon) {
            Syphon = _backboneSyphon.default;
        }, function (_libCommonBehaviorsBehaviorsJs) {
            AppBehaviors = _libCommonBehaviorsBehaviorsJs.default;
        }, function (_libCommonViewsErrorMessageViewJs) {
            ErrorMessageView = _libCommonViewsErrorMessageViewJs.default;
        }],
        execute: function () {

            if (window.__agent) {
                window.__agent.start(Backbone, Marionette);
            }

            handleAjaxError = function handleAjaxError(jqXHR, textStatus, errorThrown, dialogOptions) {
                var model = null;
                try {
                    var errorObj = jqXHR.responseJSON ? jqXHR.responseJSON : JSON.parse(jqXHR.responseText);
                    model = new Backbone.Model(errorObj.error);
                } catch (e) {
                    model = new Backbone.Model();
                }
                var view = new ErrorMessageView({
                    model: model
                });
                var options = _.extend({
                    title: 'HTTP Error',
                    width: '80%'
                }, dialogOptions);
                Radio.channel('dialog').trigger('open', view, options);
            };

            Backbone.ajax = function () {
                // Invoke $.ajaxSetup in the context of Backbone.$
                Backbone.$.ajaxSetup.call(Backbone.$, {
                    statusCode: {
                        400: function _(jqXHR, textStatus, errorThrown) {
                            //400  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        401: function _() {
                            // Redirect the to the login page.
                            window.location = '/login';
                        },
                        403: function _(jqXHR, textStatus, errorThrown) {
                            // 403 -- Access denied
                            var options = {
                                title: 'Access Denied',
                                width: '80%'
                            };
                            handleAjaxError(jqXHR, textStatus, errorThrown, options);
                        },
                        404: function _(jqXHR, textStatus, errorThrown) {
                            //405  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        405: function _(jqXHR, textStatus, errorThrown) {
                            //405  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        409: function _(jqXHR, textStatus, errorThrown) {
                            //405  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        415: function _(jqXHR, textStatus, errorThrown) {
                            //415  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        422: function _(jqXHR, textStatus, errorThrown) {
                            //400  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        },
                        500: function _(jqXHR, textStatus, errorThrown) {
                            //500  -- Show Error in Dialog
                            handleAjaxError(jqXHR, textStatus, errorThrown);
                        }
                    } });
                return Backbone.$.ajax.apply(Backbone.$, arguments);
            };

            Marionette.Behaviors.behaviorsLookup = function () {
                return AppBehaviors;
            };

            nullForBlankReaderSet = new Syphon.InputReaderSet();

            nullForBlankReaderSet.registerDefault(function ($el) {
                return $el.val() === '' ? null : $el.val();
            });
            Syphon.InputReaders = nullForBlankReaderSet;

            //select2 fix in jquery dialogs
            if ($.ui && $.ui.dialog && $.ui.dialog.prototype._allowInteraction) {
                ui_dialog_interaction = $.ui.dialog.prototype._allowInteraction;

                $.ui.dialog.prototype._allowInteraction = function (e) {
                    if ($(e.target).closest('.select2-dropdown').length) return true;
                    return ui_dialog_interaction.apply(this, arguments);
                };
            }

            String.prototype.capitalizeFirstLetter = function () {
                return this.charAt(0).toUpperCase() + this.slice(1);
            };

            _export('default', {
                castAsType: function castAsType(variable, type) {

                    switch (type) {
                        case 'int':
                        case 'integer':
                            return Number(variable);
                        case 'bool':
                        case 'boolean':
                            if (variable === 'false') {
                                return false;
                            }
                            return variable ? true : false;
                        default:
                            return variable;
                    }
                }
            });
        }
    };
});
System.registerDynamic("lib/common/views/helpView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<p class=\"panel-heading\">\r\n	" + container.escapeExpression((helper = (helper = helpers.heading || (depth0 != null ? depth0.heading : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "heading", "hash": {}, "data": data }) : helper)) + "\r\n</p>\r\n<div class=\"panel-block\">\r\n	<div class=\"content\">\r\n		" + ((stack1 = (helper = (helper = helpers.content || (depth0 != null ? depth0.content : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "content", "hash": {}, "data": data }) : helper)) != null ? stack1 : "") + "\r\n	</div>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/helpView.js', ['lib/util.js', 'jquery', 'underscore', 'marionette', './helpView.hbs!'], function (_export, _context) {
  "use strict";

  var util, jquery, _, Marionette, viewTpl;

  return {
    setters: [function (_libUtilJs) {
      util = _libUtilJs.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_helpViewHbs) {
      viewTpl = _helpViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        className: 'panel si-help-panel',
        onAttach: function onAttach() {
          this.$el.find('.accordion').accordion(this.getAccordionOptions());
          this.moveArrowsToLevelLeft();
        },
        getAccordionOptions: function getAccordionOptions() {
          return this.$el.find('.accordion').data();
          /*
          let options = this.$el.find('.accordion').data();
          let castedOptions = {};
          _.each(options, (value, key)=>{
          	if(key === 'active' && value === 'false'){
          		castedOptions[key] = false;
          	}else{
          		castedOptions[key] = util.castAsType(value, this.accordionOptionTypes[key]);
          	}
          });
          return castedOptions;
          */
        },

        //this moves the arrows from the accordion to the level left item if it exists
        moveArrowsToLevelLeft: function moveArrowsToLevelLeft() {
          this.$el.find('.accordion').find('.level').each(function (ind, elem) {
            jquery(elem).find('.level-left').prepend(jquery(elem).siblings());
          });
        },

        accordionOptionTypes: {
          active: 'integer',
          collapsible: 'boolean',
          heightStyle: 'string'
        }
      }));
    }
  };
});
"use strict";

System.register('lib/appLayoutView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './appLayoutView.hbs!', 'lib/common/regions/dialogRegion.js', 'lib/common/views/navLayoutView.js', 'lib/common/views/menuLayoutView.js', 'lib/common/views/defaultView.js', 'lib/common/views/menuStaticView.js', 'lib/common/views/loadingView.js', 'lib/common/views/helpView.js', 'lib/common/models/myselfModel.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, appLayoutTpl, DialogRegion, NavLayoutView, MenuLayoutView, DefaultView, MenuStaticView, LoadingView, HelpView, MyselfModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_appLayoutViewHbs) {
      appLayoutTpl = _appLayoutViewHbs.default;
    }, function (_libCommonRegionsDialogRegionJs) {
      DialogRegion = _libCommonRegionsDialogRegionJs.default;
    }, function (_libCommonViewsNavLayoutViewJs) {
      NavLayoutView = _libCommonViewsNavLayoutViewJs.default;
    }, function (_libCommonViewsMenuLayoutViewJs) {
      MenuLayoutView = _libCommonViewsMenuLayoutViewJs.default;
    }, function (_libCommonViewsDefaultViewJs) {
      DefaultView = _libCommonViewsDefaultViewJs.default;
    }, function (_libCommonViewsMenuStaticViewJs) {
      MenuStaticView = _libCommonViewsMenuStaticViewJs.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }, function (_libCommonViewsHelpViewJs) {
      HelpView = _libCommonViewsHelpViewJs.default;
    }, function (_libCommonModelsMyselfModelJs) {
      MyselfModel = _libCommonModelsMyselfModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          //this.listenTo(Radio.channel('app'), 'change:menuItems', this._showMenuItem);
          this.listenTo(Radio.channel('app'), 'show:view', this._showView);
          this.listenTo(Radio.channel('dialog'), 'open', this._openDialog);
          this.listenTo(Radio.channel('dialog'), 'opened', this._dialogOpened);
          this.listenTo(Radio.channel('dialog'), 'close', this._closeDialog);
          this.listenTo(Radio.channel('dialog'), 'closed', this._dialogClosed);
          this.listenTo(Radio.channel('help'), 'show', this._showHelp);
          this.listenTo(Radio.channel('sideMenu'), 'toggle', this._toggleSideMenu);
        },

        template: appLayoutTpl,
        ui: {
          'dialog': '#dialog',
          'sideMenuToggle': '.si-side-menu-toggle',
          'sideMenuDirectionIcons': '[data-ui="sideMenuDirectionIcons"]'
        },
        regions: {
          nav: {
            el: '.nav',
            replaceElement: true
          },
          menu: {
            el: '.menu',
            replaceElement: true
          },
          mobileMenu: {
            el: '.mobile-menu',
            replaceElement: true
          },
          help: '#help-panel',
          main: "#main-section",
          dialogContent: DialogRegion,
          footer: '.footer'
        },
        events: {
          'click @ui.sideMenuToggle': '_toggleSideMenu'
        },
        onRender: function onRender() {
          var myself = Radio.channel('data').request('myself');
          this.showChildView('nav', new NavLayoutView({
            model: myself
          }));
          //this.showChildView('main', new DefaultView({model: myself}));
          this.showChildView('menu', new MenuStaticView({ isMobile: false }));
          this.showChildView('mobileMenu', new MenuStaticView({ isMobile: true }));
          myself.fetch();
          this.ui.dialog.dialog({
            autoOpen: false,
            modal: true,
            close: function close(event, ui) {
              Radio.channel('dialog').trigger('closed');
            },
            open: function open(event, ui) {
              Radio.channel('dialog').trigger('opened');
            }
          });
        },
        _toggleSideMenu: function _toggleSideMenu() {
          this.getChildView('mobileMenu').$el.toggleClass('si-side-menu-open');
          this.ui.sideMenuDirectionIcons.toggleClass('fa-toggle-right fa-toggle-left');
        },
        _showView: function _showView(view) {
          this.showChildView('main', view);
        },
        _showMenuItem: function _showMenuItem(menuItemcollection) {
          var menuLayoutView = new MenuLayoutView({
            collection: menuItemcollection
          });
          this.showChildView('menu', menuLayoutView);
        },
        _openDialog: function _openDialog(view, options) {
          options = _.extend({ modal: true }, options);
          this.showChildView('dialogContent', view);
          this.ui.dialog.dialog('option', options);
          this.ui.dialog.dialog('open');
        },
        _dialogOpened: function _dialogOpened() {
          //no-op
        },
        _closeDialog: function _closeDialog() {
          this.ui.dialog.dialog('close');
        },
        _dialogClosed: function _dialogClosed() {
          this.getRegion('dialogContent').reset();
        },
        _showHelp: function _showHelp(helpItemName) {
          var _this = this;

          this.showChildView('help', new LoadingView());
          Radio.channel('help').request('get', helpItemName).then(function (helpItem) {
            _this.showChildView('help', new HelpView({
              model: helpItem
            }));
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/defaultView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<li class=\"notification is-warning\">\r\n				<button class=\"delete\" data-log-id=\"" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "\"></button>\r\n				" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.department : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + " -\r\n				" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + ":\r\n				" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.count : stack1, depth0)) + "\r\n				" + container.escapeExpression(helpers.lookup.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.types : stack1, (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.type : stack1, { "name": "lookup", "hash": {}, "data": data })) + "\r\n				" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.count : stack1, depth0)) + "\r\n				at " + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.performedAt : stack1, { "name": "moment", "hash": {}, "data": data })) + ".\r\n			</li>\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "			<li class=\"notification is-success\">No Alerts Found</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<div class=\"columns\">\r\n	<div class=\"column is-one-third is-offset-one-third\">\r\n		<figure class=\"image\">\r\n		  <img src=\"/assets/images/si-logo-small.png\">\r\n		</figure>\r\n	</div>\r\n</div>\r\n<div class=\"columns\">\r\n	<div class=\"column is-one-third is-offset-one-third\">\r\n		<div class=\"message is-primary\">\r\n		  <div class=\"message-header\">\r\n		    <p>Latest Annoucement</p>\r\n		  </div>\r\n		  <div class=\"message-body\">\r\n		    " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.appAnnouncement : depth0) != null ? stack1.attributes : stack1) != null ? stack1.content : stack1, depth0)) + "\r\n		  </div>\r\n		</div>\r\n	</div>\r\n</div>\r\n<div class=\"columns\">\r\n	<div class=\"column is-one-third is-offset-one-third\">\r\n	    <h3 class=\"title is-3\">Inventory Alerts</h3>\r\n		<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.inventoryAlertLogs : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "		</ul>\r\n	</div>\r\n</div>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register("lib/common/views/defaultView.js", ["./defaultView.hbs!", "marionette"], function (_export, _context) {
  "use strict";

  var viewTpl, Marionette;
  return {
    setters: [function (_defaultViewHbs) {
      viewTpl = _defaultViewHbs.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        modelEvents: {
          'change': 'render'
        },
        ui: {
          'dismissAlertButton': 'button.delete[data-log-id]'
        },
        events: {
          'click @ui.dismissAlertButton': 'dismissAlert'
        },
        onRender: function onRender() {},
        dismissAlert: function dismissAlert(event) {
          var logId = parseInt(event.target.dataset.logId);
          var model = this.model.get('inventoryAlertLogs').find({ id: logId });
          var parent = event.target.parentNode;
          var loadingIcon = document.createElement('i');
          loadingIcon.classList.add('fa', 'fa-spinner', 'fa-pulse', 'is-pulled-right');
          parent.replaceChild(loadingIcon, event.target);
          model.dismissAlert().then(function () {
            parent.remove();
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/profileView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h3 class=\"title is-3 has-text-centered\">Profile</h3>\r\n<form data-ui=\"userInfo\">\r\n	<label class=\"label\">Username:</label>\r\n	<p class=\"control\">\r\n		<input name=\"username\" class=\"input\" />\r\n	</p>\r\n	<label class=\"label\">Email:</label>\r\n	<p class=\"control\">\r\n		<input name=\"email\" class=\"input\" />\r\n	</p>\r\n	<label class=\"label\">First Name:</label>\r\n	<p class=\"control\">\r\n		<input name=\"firstName\" class=\"input\" />\r\n	</p>\r\n	<label class=\"label\">Last Name:</label>\r\n	<p class=\"control\">\r\n		<input name=\"lastName\" class=\"input\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"update\">Update</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"revert\">Revert</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/profileView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './profileView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_profileViewHbs) {
      viewTpl = _profileViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          var myself = Radio.channel('data').request('myself');
          this.model = myself;
        },

        template: viewTpl,
        className: 'box',
        behaviors: {
          'Stickit': {}
        },
        ui: {
          'userInfoForm': 'form[data-ui="userInfo"]',
          'usernameInput': 'input[name="username"]',
          'emailInput': 'input[name="email"]',
          'firstNameInput': 'input[name="firstName"]',
          'lastNameInput': 'input[name="lastName"]',
          'accountInfoTabs': '[data-ui="accountInfoTabs"]',
          'syncStatusIndicator': '.not-synced-alert',
          'updateButton': 'button[data-ui-name="update"]',
          'revertButton': 'button[data-ui-name="revert"]'
        },
        bindings: {
          '@ui.usernameInput': 'username',
          '@ui.emailInput': 'email',
          '@ui.firstNameInput': 'firstName',
          '@ui.lastNameInput': 'lastName'
        },
        events: {
          'submit @ui.userInfoForm': 'updateProfile',
          'click @ui.revertButton': 'revertUserInfoForm'
        },
        modelEvents: {
          'change:username': 'showNotSynced',
          'change:email': 'showNotSynced',
          'change:firstName': 'showNotSynced',
          'change:lastName': 'showNotSynced',
          'change:organization': 'render'
        },
        onRender: function onRender() {
          this.ui.syncStatusIndicator.hide();
        },
        revertUserInfoForm: function revertUserInfoForm() {
          var _this = this;

          this.disableFormButtons();
          this.model.fetch().done(function () {
            _this.enableFormButtons();
            _this.ui.syncStatusIndicator.hide();
          });
        },
        showNotSynced: function showNotSynced() {
          this.ui.syncStatusIndicator.show();
        },
        updateProfile: function updateProfile(event) {
          var _this2 = this;

          event.preventDefault();
          this.disableFormButtons();
          var profileModel = new Backbone.Model(this.model.attributes);
          profileModel.url = '/profile';
          profileModel.save().always(function () {
            _this2.enableFormButtons();
            _this2.revertUserInfoForm();
          });
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.updateButton.addClass('is-loading').prop('disabled', true);
          this.ui.revertButton.addClass('is-disabled').prop('disabled', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.updateButton.removeClass('is-loading').prop('disabled', false);
          this.ui.revertButton.removeClass('is-disabled').prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/accountView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		   		<button class=\"button is-danger\" type=\"button\" data-ui=\"cancelSubscription\">Cancel</button>\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "	   			<button class=\"button\" type=\"button\" data-ui=\"startSubscription\">Start</button>\r\n";
        }, "5": function (container, depth0, helpers, partials, data, blockParams, depths) {
            var stack1;

            return (stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, "==", (stack1 = (stack1 = depths[1] != null ? depths[1].subscription : depths[1]) != null ? stack1.attributes : stack1) != null ? stack1.status : stack1, { "name": "ifCond", "hash": {}, "fn": container.program(6, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		   			<span class=\"tag " + ((stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, "<", 3, { "name": "ifCond", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.program(9, data, 0), "data": data })) != null ? stack1 : "") + "\">" + container.escapeExpression((helpers.titleCase || depth0 && depth0.titleCase || helpers.helperMissing).call(depth0 != null ? depth0 : {}, data && data.key, { "name": "titleCase", "hash": {}, "data": data })) + "</span>\r\n";
        }, "7": function (container, depth0, helpers, partials, data) {
            return "is-info";
        }, "9": function (container, depth0, helpers, partials, data) {
            return "is-danger";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data, blockParams, depths) {
            var stack1, helper;

            return "<h3 class=\"title is-3 has-text-centered\">Account</h3>\r\n<form data-ui=\"accountInfo\">\r\n	<label class=\"label\">Owner</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	    	<select name=\"owner\"></select>\r\n		</span>\r\n	   	<button class=\"button is-primary\" type=\"button\" data-ui=\"changeOwner\">Change</button>\r\n	</p>\r\n	<label class=\"label\">Subscription Plan</label>\r\n	<div class=\"control is-grouped level\">\r\n		<p class=\"control has-addons\">\r\n			<span class=\"select\">\r\n		    	<select name=\"plan\"></select>\r\n			</span>\r\n		   	<button class=\"button is-primary\" type=\"button\" data-ui=\"changePlan\">Change</button>\r\n		</p>\r\n		<p class=\"control\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.subscription : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0, blockParams, depths), "inverse": container.program(3, data, 0, blockParams, depths), "data": data })) != null ? stack1 : "") + "		</p>\r\n		<p class=\"control\">\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.subscription : depth0) != null ? stack1.attributes : stack1) != null ? stack1.stripeStatuses : stack1, { "name": "each", "hash": {}, "fn": container.program(5, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		<p>\r\n	</div>\r\n	<p data-ui=\"planDesc\"></p>\r\n</form>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr><th colspan=\"6\"><h4 class=\"title is-4 has-text-centered\">Payment Methods</h4></th></tr>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Type</th>\r\n			<th>Last Four Digits</th>\r\n			<th>Expiration</th>\r\n			<th style=\"width:50px\"></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody data-region=\"paymentSources\"></tbody>\r\n</table>\r\n<button class=\"button is-info\" type=\"button\" data-ui=\"addPaymentInfo\">Add Payment Info</button>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th colspan=\"5\">\r\n				<h4 class=\"title is-4 has-text-centered\">Current Monthly TravelerIds</h4>\r\n				<p class=\"has-text-centered\">" + container.escapeExpression((helper = (helper = helpers.monthlyTravelerIds || (depth0 != null ? depth0.monthlyTravelerIds : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "monthlyTravelerIds", "hash": {}, "data": data }) : helper)) + " / " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.subscription : depth0) != null ? stack1.attributes : stack1) != null ? stack1.plan : stack1) != null ? stack1.attributes : stack1) != null ? stack1.maxMonthlyTravelerIds : stack1, depth0)) + "</p>\r\n			</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th colspan=\"6\">\r\n				<h4 class=\"title is-4 has-text-centered\">Current Sessions</h4>\r\n				<p class=\"has-text-centered\">" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.currentSessions : depth0) != null ? stack1.length : stack1, depth0)) + " / " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.subscription : depth0) != null ? stack1.attributes : stack1) != null ? stack1.plan : stack1) != null ? stack1.attributes : stack1) != null ? stack1.maxConcurrentUsers : stack1, depth0)) + "</p>\r\n			</th>\r\n		</tr>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Id</th>\r\n			<th>For User</th>\r\n			<th>Started At</th>\r\n			<th>Last Updated At</th>\r\n			<th></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody data-region=\"currentSessions\"></tbody>\r\n</table>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr><th colspan=\"6\"><h4 class=\"title is-4 has-text-centered\">Change History</h4></th></tr>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Type</th>\r\n			<th>Changed At</th>\r\n			<th>Changed By</th>\r\n			<th>Old Value</th>\r\n			<th>New Value</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody data-region=\"changeHistory\"></tbody>\r\n</table>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr><th colspan=\"3\"><h4 class=\"title is-4 has-text-centered\">Billing History</h4></th></tr>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Charged At</th>\r\n			<th>Amount</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody data-region=\"billingHistory\"></tbody>\r\n</table>\r\n";
        }, "useData": true, "useDepths": true });
    return module.exports;
});
'use strict';

System.register('lib/common/models/planCollection.js', ['./baseUrlBaseCollection.js', './planModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_planModelJs) {
      Model = _planModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/plan';
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/paymentSourceItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n	" + container.escapeExpression((helper = (helper = helpers.brand || (depth0 != null ? depth0.brand : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "brand", "hash": {}, "data": data }) : helper)) + "\r\n</td>\r\n<td>..." + container.escapeExpression((helper = (helper = helpers.last4 || (depth0 != null ? depth0.last4 : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "last4", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.expirationMonth || (depth0 != null ? depth0.expirationMonth : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "expirationMonth", "hash": {}, "data": data }) : helper)) + " / " + container.escapeExpression((helper = (helper = helpers.expirationYear || (depth0 != null ? depth0.expirationYear : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "expirationYear", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n	<button class=\"button is-danger is-small\" type=\"button\" data-ui=\"removePaymentMethod\" title=\"Remove Payment Method\">\r\n		<span class=\"icon is-small\">\r\n			<i class=\"fa fa-minus\"></i>\r\n		</span>\r\n	</button>\r\n</td>\r\n\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/paymentSourceItemView.js', ['marionette', './paymentSourceItemView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_paymentSourceItemViewHbs) {
      viewTpl = _paymentSourceItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        ui: {
          'removePaymentMethodButton': '[data-ui="removePaymentMethod"]'
        },
        events: {
          'click @ui.removePaymentMethodButton': 'removePaymentMethod'
        },
        removePaymentMethod: function removePaymentMethod(event) {
          event.preventDefault();
          if (this.ui.removePaymentMethodButton.data('confirmed') === true) {
            this.ui.removePaymentMethodButton.addClass('is-loading').prop('disabled', true);
            this.model.destroy();
          } else {
            this.ui.removePaymentMethodButton.data('confirmed', true).text('Confirm?');
          }
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/currentSessionItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.rowNum || (depth0 != null ? depth0.rowNum : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "rowNum", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.forUsername || (depth0 != null ? depth0.forUsername : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "forUsername", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.startedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.updatedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>\r\n	<button class=\"button is-danger is-small\" type=\"button\" data-ui=\"closeSession\" title=\"Logout Session\">\r\n		<span class=\"icon is-small\">\r\n			<i class=\"fa fa-close\"></i>\r\n		</span>\r\n	</button>\r\n</td>\r\n\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/currentSessionItemView.js', ['underscore', 'marionette', './currentSessionItemView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_currentSessionItemViewHbs) {
      viewTpl = _currentSessionItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        ui: {
          'closeSessionButton': 'button[data-ui="closeSession"]'
        },
        events: {
          'click @ui.closeSessionButton': 'closeSession'
        },
        serializeData: function serializeData() {
          var data = _.clone(this.model.attributes);
          data.rowNum = this.options.parentCollection.indexOf(this.model) + 1;
          return data;
        },
        closeSession: function closeSession(event) {
          var _this = this;

          event.preventDefault();
          if (this.confirmed) {
            this.model.destroy().then(function () {
              _this.triggerMethod('session:destoyed');
            });
          } else {
            this.confirmed = true;
            this.ui.closeSessionButton.text('Confirm?');
          }
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/accountChangeItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		Owner\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		Subscription Plan\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.newOwner : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.newPlan : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.changedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.changedBy : depth0) != null ? stack1.attributes : stack1) != null ? stack1.username : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.oldOwner : depth0) != null ? stack1.attributes : stack1) != null ? stack1.username : stack1, depth0)) + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.oldPlan : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.newOwner : depth0) != null ? stack1.attributes : stack1) != null ? stack1.username : stack1, depth0)) + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.newPlan : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/common/views/accountChangeItemView.js', ['marionette', './accountChangeItemView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_accountChangeItemViewHbs) {
      viewTpl = _accountChangeItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr'
      }));
    }
  };
});
System.registerDynamic("lib/common/views/billItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.chargedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>$" + container.escapeExpression((helper = (helper = helpers.amount || (depth0 != null ? depth0.amount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "amount", "hash": {}, "data": data }) : helper)) + "</td>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/billItemView.js', ['marionette', './billItemView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_billItemViewHbs) {
      viewTpl = _billItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr'
      }));
    }
  };
});
System.registerDynamic("lib/common/views/paymentInfoView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<form data-ui=\"paymentInfo\">\r\n	<img src=\"/assets/images/powered_by_stripe.png\">\r\n	<p>Step Inventory does not store or even know your card info.  It only receives a reference to a Stripe payment source.</p>\r\n	<div data-ui-name=\"stripeElement\" class=\"si-stripe-element\"></div>\r\n	<div data-ui-name=\"stripeError\" class=\"notification is-danger\" role=\"alert\"></div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"add\">Add Payment Method</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/paymentCardSourceModel.js', ['lib/globalNamespace.js', 'backbone.relational', './paymentSourceModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, PaymentSourceModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_paymentSourceModelJs) {
      PaymentSourceModel = _paymentSourceModelJs.default;
    }],
    execute: function () {
      Model = PaymentSourceModel.extend({
        defaults: {
          brand: null,
          last4: null,
          expirationMonth: null,
          expirationYear: null
        }
      });


      globalNamespace.Models.PaymentCardSourceModel = Model;

      _export('default', Model);
    }
  };
});
"use strict";

System.register('lib/common/views/paymentInfoView.js', ['marionette', 'backbone.radio', 'backbone.syphon', './paymentInfoView.hbs!', '../models/paymentCardSourceModel.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, Syphon, viewTpl, PaymentSourceCardModel;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_paymentInfoViewHbs) {
      viewTpl = _paymentInfoViewHbs.default;
    }, function (_modelsPaymentCardSourceModelJs) {
      PaymentSourceCardModel = _modelsPaymentCardSourceModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        stripe: null,
        stripElements: null,
        template: viewTpl,
        ui: {
          'form': 'form',
          'stripeElement': '[data-ui-name="stripeElement"]',
          'stripeError': '[data-ui-name="stripeError"]',
          'addButton': '[data-ui-name="add"]',
          'cancelButton': '[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form': 'addPaymentMethod',
          'click @ui.cancelButton': 'cancel'
        },
        onRender: function onRender() {
          if (!Stripe) {
            alert('waiting on stripe...');
          } else {
            this.initializeStripeElement();
          }
        },
        initializeStripeElement: function initializeStripeElement() {
          var _this = this;

          var stripe = Stripe(this.model.get('stripePublicKey'));
          var elements = stripe.elements();
          var card = elements.create('card');
          card.mount(this.ui.stripeElement.get(0));
          card.addEventListener('change', function (event) {
            if (event.error) {
              _this.ui.stripeError.text(event.error.message).show();
            } else {
              _this.ui.stripeError.text('').hide();
            }
          });
          this.ui.stripeError.hide();
          this.stripeCard = card;
          this.stripe = stripe;
        },
        cancel: function cancel(event) {
          event.preventDefault();
          Radio.channel('dialog').trigger('close');
        },
        addPaymentMethod: function addPaymentMethod(event) {
          var _this2 = this;

          event.preventDefault();
          this.disableButtons();
          this.stripe.createSource(this.stripeCard).then(function (result) {
            if (result.error) {
              alert(result.error);
            } else {
              var paymentSource = PaymentSourceCardModel.findOrCreate({
                externalId: result.source.id,
                account: _this2.model
              });
              paymentSource.save().then(function () {
                _this2.enableButtons();
                Radio.channel('dialog').trigger('close');
              });
            }
          });
        },
        disableButtons: function disableButtons() {
          this.ui.addButton.addClass('is-loading').prop('disabled', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.addButton.removeClass('is-loading').prop('disabled', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disabled', false);
        }
      }));
    }
  };
});
"use strict";

System.register('lib/common/views/accountView.js', ['marionette', 'backbone.radio', './accountView.hbs!', '../models/userCollection.js', '../models/planCollection.js', '../models/subscriptionModel.js', '../models/accountOwnerChangeModel.js', '../models/accountPlanChangeModel.js', 'lib/common/views/noChildrenRowView.js', './paymentSourceItemView.js', './currentSessionItemView.js', './accountChangeItemView.js', './billItemView.js', './paymentInfoView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, viewTpl, UserCollection, PlanCollection, SubscriptionModel, AccountOwnerChangeModel, AccountPlanChangeModel, NoChildrenRowView, PaymentSourceItemView, CurrentSessionItemView, AccountChangeItemView, BillItemView, PaymentInfoView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_accountViewHbs) {
      viewTpl = _accountViewHbs.default;
    }, function (_modelsUserCollectionJs) {
      UserCollection = _modelsUserCollectionJs.default;
    }, function (_modelsPlanCollectionJs) {
      PlanCollection = _modelsPlanCollectionJs.default;
    }, function (_modelsSubscriptionModelJs) {
      SubscriptionModel = _modelsSubscriptionModelJs.default;
    }, function (_modelsAccountOwnerChangeModelJs) {
      AccountOwnerChangeModel = _modelsAccountOwnerChangeModelJs.default;
    }, function (_modelsAccountPlanChangeModelJs) {
      AccountPlanChangeModel = _modelsAccountPlanChangeModelJs.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }, function (_paymentSourceItemViewJs) {
      PaymentSourceItemView = _paymentSourceItemViewJs.default;
    }, function (_currentSessionItemViewJs) {
      CurrentSessionItemView = _currentSessionItemViewJs.default;
    }, function (_accountChangeItemViewJs) {
      AccountChangeItemView = _accountChangeItemViewJs.default;
    }, function (_billItemViewJs) {
      BillItemView = _billItemViewJs.default;
    }, function (_paymentInfoViewJs) {
      PaymentInfoView = _paymentInfoViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.setInitialProperties();
        },

        template: viewTpl,
        className: 'box',
        behaviors: {
          'Stickit': {}
        },
        regions: {
          'paymentSources': {
            el: 'tbody[data-region="paymentSources"]',
            replaceElement: true
          },
          'currentSessions': {
            el: 'tbody[data-region="currentSessions"]',
            replaceElement: true
          },
          'changeHistory': {
            el: 'tbody[data-region="changeHistory"]',
            replaceElement: true
          },
          'billingHistory': {
            el: 'tbody[data-region="billingHistory"]',
            replaceElement: true
          }
        },
        ui: {
          'ownerSelect': 'select[name="owner"]',
          'planSelect': 'select[name="plan"]',
          'planDesc': '[data-ui="planDesc"]',
          'changeOwnerButton': 'button[data-ui="changeOwner"]',
          'changePlanButton': 'button[data-ui="changePlan"]',
          'cancelSubscriptionButton': 'button[data-ui="cancelSubscription"]',
          'startSubscriptionButton': 'button[data-ui="startSubscription"]',
          'addPaymentInfoButton': 'button[data-ui="addPaymentInfo"]'
        },
        events: {
          'click @ui.changeOwnerButton': 'changeOwner',
          'click @ui.changePlanButton': 'changePlan',
          'click @ui.cancelSubscriptionButton': 'cancelSubscription',
          'click @ui.startSubscriptionButton': 'startSubscription',
          'click @ui.addPaymentInfoButton': 'openAddPaymentInfoDialog'
        },
        modelEvents: {
          'change:organization': 'setInitialProperties',
          'change:newPlan': 'planChanged'
        },
        childEvents: {
          'session:destroyed': 'render'
        },
        bindings: {
          '@ui.ownerSelect': {
            observe: 'owner',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.username',
              collection: function collection() {
                return this.model.get('ownerSelections');
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.planSelect': {
            observe: 'subscription',
            useBackboneModels: true,
            onGet: function onGet(value) {
              if (value) {
                return value.get('plan');
              } else {
                return null;
              }
            },
            updateModel: function updateModel(value) {
              this.model.set('newPlan', value);
              return false;
            },

            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', PlanCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        setInitialProperties: function setInitialProperties() {
          this.initialProperties = {
            owner: this.model.get('owner'),
            subscription: this.model.get('subscription')
          };
        },
        getPlanInfo: function getPlanInfo(planModel) {
          var price = new Number(planModel.get('amount') / 100);
          return '<strong>' + price.toLocaleString('en-US', { style: 'currency', currency: 'USD' }) + '</strong>: ' + planModel.get('description');
        },
        planChanged: function planChanged() {
          this.ui.planDesc.html(this.getPlanInfo(this.model.get('newPlan')));
        },
        onRender: function onRender() {
          if (this.model.get('subscription') && this.model.get('subscription').get('plan')) {
            this.ui.planDesc.html(this.getPlanInfo(this.model.get('subscription').get('plan')));
          }
          this.showChildView('paymentSources', new Marionette.CollectionView({
            collection: this.model.get('paymentSources'),
            childView: PaymentSourceItemView,
            tagName: 'tbody',
            emptyView: NoChildrenRowView,
            emptyViewOptions: {
              colspan: 5
            }
          }));
          this.showChildView('currentSessions', new Marionette.CollectionView({
            collection: this.model.get('currentSessions'),
            childView: CurrentSessionItemView,
            childViewOptions: {
              parentCollection: this.model.get('currentSessions')
            },
            tagName: 'tbody',
            emptyView: NoChildrenRowView,
            emptyViewOptions: {
              colspan: 6
            },
            filter: function filter(session) {
              return session.get('forUsername') && session.get('startedAt') && session.get('updatedAt');
            }
          }));
          this.showChildView('changeHistory', new Marionette.CollectionView({
            collection: this.model.get('accountChanges'),
            childView: AccountChangeItemView,
            tagName: 'tbody',
            emptyView: NoChildrenRowView,
            emptyViewOptions: {
              colspan: 6
            }
          }));
          this.showChildView('billingHistory', new Marionette.CollectionView({
            collection: this.model.get('bills'),
            childView: BillItemView,
            tagName: 'tbody',
            emptyView: NoChildrenRowView,
            emptyViewOptions: {
              colspan: 3
            }
          }));
        },
        changeOwner: function changeOwner(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons('changeOwnerButton');
          var accountOwnerChange = AccountOwnerChangeModel.findOrCreate({
            account: this.model,
            oldOwner: this.initialProperties.owner,
            newOwner: this.model.get('owner')
          });
          accountOwnerChange.save().always(function () {
            _this.enableButtons();
          }).done(function () {
            _this.model.get('accountChanges').add(accountOwnerChange);
          });
        },
        changePlan: function changePlan(event) {
          var _this2 = this;

          event.preventDefault();
          this.disableButtons('changePlanButton');
          var accountPlanChange = AccountPlanChangeModel.findOrCreate({
            account: this.model,
            oldPlan: this.model.get('subscription').get('plan'),
            newPlan: this.model.get('newPlan')
          });
          accountPlanChange.save().always(function () {
            _this2.enableButtons();
          }).done(function () {
            _this2.model.get('accountChanges').add(accountPlanChange);
          });
        },
        cancelSubscription: function cancelSubscription(event) {
          var _this3 = this;

          event.preventDefault();
          if (this.ui.cancelSubscriptionButton.data('confirmed') === true) {
            this.ui.cancelSubscriptionButton.prop('disabled', true);
            this.disableButtons('cancelSubscriptionButton');
            if (this.model.get('subscription')) {
              this.model.get('subscription').cancel().then(function () {
                _this3.model.set('subscription', null);
                _this3.render();
              });
            }
          } else {
            this.ui.cancelSubscriptionButton.data('confirmed', true).text('Confirm?');
          }
        },
        startSubscription: function startSubscription(event) {
          var _this4 = this;

          event.preventDefault();
          if (this.ui.startSubscriptionButton.data('confirmed') === true) {
            this.ui.startSubscriptionButton.prop('disabled', true);
            this.disableButtons('startSubscriptionButton');
            if (this.model.get('subscription') === null && this.model.get('newPlan')) {
              (function () {
                var subscription = SubscriptionModel.findOrCreate({
                  plan: _this4.model.get('newPlan'),
                  account: _this4.model
                });
                subscription.save().then(function () {
                  _this4.model.set('subscription', subscription);
                  _this4.render();
                });
              })();
            }
          } else {
            this.ui.startSubscriptionButton.data('confirmed', true).text('Confirm?');
          }
        },
        openAddPaymentInfoDialog: function openAddPaymentInfoDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Add Payment Info',
            width: '400px'
          };
          var view = new PaymentInfoView({
            model: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        disableButtons: function disableButtons(loadingButtonName) {
          this.ui.changeOwnerButton.addClass('is-disabled').prop('disabled', true);
          this.ui.changePlanButton.addClass('is-disabled').prop('disabled', true);
          this.ui[loadingButtonName].removeClass('is-disabled').addClass('is-loading');
        },
        enableButtons: function enableButtons() {
          this.ui.changeOwnerButton.removeClass('is-disabled is-loading').prop('disabled', false);
          this.ui.changePlanButton.removeClass('is-disabled is-loading').prop('disabled', false);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/planModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/plan';
        },

        defaults: {
          name: null,
          description: null,
          amount: null,
          currency: null,
          interval: null,
          intervalCount: null,
          trialPeriodDays: null,
          maxConcurrentUsers: null,
          maxSkus: null,
          isActive: null
        }
      });


      globalNamespace.Models.PlanModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/subscriptionModel.js', ['jquery', 'lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './planModel.js'], function (_export, _context) {
  "use strict";

  var jquery, globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_jquery) {
      jquery = _jquery.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_planModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/subscription';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'account',
          relatedModel: 'AccountModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasOne,
          key: 'plan',
          relatedModel: 'PlanModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          account: null,
          plan: null,
          createdAt: null,
          cancelAtPeriodEnd: null,
          canceledAt: null,
          currentPeriodEnd: null,
          currentPeriodStart: null,
          endedAt: null,
          quantity: null,
          startAt: null,
          status: null,
          taxPercent: null,
          trialEnd: null,
          trialStart: null
        },
        cancel: function cancel() {
          var thisModel = this;
          return new Promise(function (resolve, reject) {
            jquery.ajax('/subscription_cancel', {
              accepts: {
                json: 'application/json'
              },
              dataType: 'json'
            }).done(function (subscriptionData) {
              thisModel.set(subscriptionData);
              resolve(subscriptionData);
            }).fail(function (response) {
              reject(response);
            });
          });
        }
      });


      globalNamespace.Models.SubscriptionModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/paymentSourceModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/payment_source';
        },

        subModelTypeAttribute: 'discriminator',
        subModelTypes: {
          'PaymentCardSource': 'PaymentCardSourceModel'
        },
        /*
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'account',
          relatedModel: 'AccountModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        */
        defaults: {
          externalId: null,
          account: null
        }
      });


      globalNamespace.Models.PaymentSourceModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/accountOwnerChangeModel.js', ['lib/globalNamespace.js', 'backbone.relational', './accountChangeModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, AccountChangeModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_accountChangeModelJs) {
      AccountChangeModel = _accountChangeModelJs.default;
    }],
    execute: function () {
      Model = AccountChangeModel.extend({
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'oldOwner',
          relatedModel: 'UserModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasOne,
          key: 'newOwner',
          relatedModel: 'UserModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          oldOwner: null,
          newOwner: null
        }
      });


      globalNamespace.Models.AccountOwnerChangeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/accountChangeModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/account_change';
        },

        subModelTypeAttribute: 'discriminator',
        subModelTypes: {
          'AccountOwnerChange': 'AccountOwnerChangeModel',
          'AccountPlanChange': 'AccountPlanChangeModel'
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'changedBy',
          relatedModel: 'UserModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          changedBy: null,
          changedAt: null,
          account: null
        }
      });


      globalNamespace.Models.AccountChangeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/accountPlanChangeModel.js', ['lib/globalNamespace.js', 'backbone.relational', './accountChangeModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, AccountChangeModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_accountChangeModelJs) {
      AccountChangeModel = _accountChangeModelJs.default;
    }],
    execute: function () {
      Model = AccountChangeModel.extend({
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'oldPlan',
          relatedModel: 'PlanModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasOne,
          key: 'newPlan',
          relatedModel: 'PlanModel',
          includeInJSON: ['id', 'plan'],
          reverseRelation: false
        }],
        defaults: {
          oldPlan: null,
          newPlan: null
        }
      });


      globalNamespace.Models.AccountPlanChangeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/billModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/bill';
        },

        defaults: {
          chargedAt: null,
          amount: null,
          account: null
        }
      });


      globalNamespace.Models.BillModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/currentSessionModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/current_session';
        },

        defaults: {
          startedAt: null,
          updatedAt: null,
          forUsername: null
        }
      });


      globalNamespace.Models.CurrentSessionModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/accountModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './organizationModel.js', './userModel.js', './subscriptionModel.js', './paymentSourceModel.js', './accountChangeModel.js', './accountOwnerChangeModel.js', './accountPlanChangeModel.js', './billModel.js', './currentSessionModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_organizationModelJs) {}, function (_userModelJs) {}, function (_subscriptionModelJs) {}, function (_paymentSourceModelJs) {}, function (_accountChangeModelJs) {}, function (_accountOwnerChangeModelJs) {}, function (_accountPlanChangeModelJs) {}, function (_billModelJs) {}, function (_currentSessionModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/account';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasOne,
          key: 'owner',
          relatedModel: 'UserModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasMany,
          key: 'ownerSelections',
          relatedModel: 'UserModel',
          includeInJSON: false,
          reverseRelation: false
        }, {
          type: BackboneRelational.HasOne,
          key: 'subscription',
          relatedModel: 'SubscriptionModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }, {
          type: BackboneRelational.HasMany,
          key: 'paymentSources',
          relatedModel: 'PaymentSourceModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'account',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'currentSessions',
          relatedModel: 'CurrentSessionModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'account',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'accountChanges',
          relatedModel: 'AccountChangeModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'account',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'bills',
          relatedModel: 'BillModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'account',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          organization: null,
          owner: null,
          subscription: null,
          currentSessions: null,
          accountChanges: null,
          bills: null
        }
      });


      globalNamespace.Models.AccountModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/accountCollection.js', ['./baseUrlBaseCollection.js', './accountModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_accountModelJs) {
      Model = _accountModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/account';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/controller.js', ['backbone.radio', 'marionette', 'lib/common/views/loadingView.js', 'lib/common/views/defaultView.js', 'lib/common/views/profileView.js', 'lib/common/views/accountView.js', 'lib/common/models/accountCollection.js'], function (_export, _context) {
  "use strict";

  var Radio, Marionette, LoadingView, DefaultView, ProfileView, AccountView, AccountCollection;
  return {
    setters: [function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }, function (_libCommonViewsDefaultViewJs) {
      DefaultView = _libCommonViewsDefaultViewJs.default;
    }, function (_libCommonViewsProfileViewJs) {
      ProfileView = _libCommonViewsProfileViewJs.default;
    }, function (_libCommonViewsAccountViewJs) {
      AccountView = _libCommonViewsAccountViewJs.default;
    }, function (_libCommonModelsAccountCollectionJs) {
      AccountCollection = _libCommonModelsAccountCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        main: function main() {
          var myself = Radio.channel('data').request('myself');
          Radio.channel('app').trigger('show:view', new DefaultView({ model: myself }));
        },
        profile: function profile() {
          Radio.channel('app').trigger('show:view', new ProfileView());
        },
        account: function account() {
          Radio.channel('app').trigger('show:view', new LoadingView());
          var accounts = new AccountCollection();
          accounts.fetch().done(function () {
            Radio.channel('app').trigger('show:view', new AccountView({
              model: accounts.first()
            }));
          });
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/router.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './controller.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_controllerJs) {}],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          this.options = {};
          Object.assign(this.options, options);
          if (!(this.options.appRouter instanceof Marionette.AppRouter)) {
            throw 'Controller Must be passed an AppRouter instance.';
          } else {
            this.appRouter = this.options.appRouter;
          }
          this.appRouter.processAppRoutes(this, this.routes);
        },

        routes: {
          '': 'main',
          'profile': 'profile',
          'account': 'account'
        },
        main: function main() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/common/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.main();
          });
        },
        profile: function profile() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/common/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.profile();
          });
        },
        account: function account() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/common/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.account();
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/entity/indexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "	<button class=\"button is-light create-entity-button\">Create</button>\r\n	<button class=\"button is-light import-entity-button\">Import/Export</button>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isCreatable : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "<div class=\"entity-action-pane\"></div>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/common/models/massImportModel.js', ['lib/globalNamespace.js', './baseSearchableCollection.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseSearchableCollection, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseSearchableCollectionJs) {
      BaseSearchableCollection = _baseSearchableCollectionJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize(attrs, options) {
          this.set('items', new BaseSearchableCollection([], { mode: 'client' }));
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/mass_import';
        },

        defaults: {
          items: null,
          type: null
        }
      });


      globalNamespace.Models.MassImportModel = Model;

      _export('default', Model);
    }
  };
});
System.registerDynamic("npm:papaparse@4.3.3.json", [], false, function() {
  return {
    "main": "papaparse.js",
    "format": "cjs",
    "meta": {
      "*": {
        "globals": {
          "process": "process"
        }
      },
      "*.json": {
        "format": "json"
      }
    }
  };
});

System.registerDynamic('npm:papaparse@4.3.3/papaparse.js', ['process'], true, function ($__require, exports, module) {
	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	/*!
 	Papa Parse
 	v4.3.3
 	https://github.com/mholt/PapaParse
 	License: MIT
 */
	(function (root, factory) {
		if (typeof define === 'function' && define.amd) {
			// AMD. Register as an anonymous module.
			define([], factory);
		} else if (typeof module === 'object' && typeof exports !== 'undefined') {
			// Node. Does not work with strict CommonJS, but
			// only CommonJS-like environments that support module.exports,
			// like Node.
			module.exports = factory();
		} else {
			// Browser globals (root is window)
			root.Papa = factory();
		}
	})(this, function () {
		'use strict';

		var global = function () {
			// alternative method, similar to `Function('return this')()`
			// but without using `eval` (which is disabled when
			// using Content Security Policy).

			if (typeof self !== 'undefined') {
				return self;
			}
			if (typeof window !== 'undefined') {
				return window;
			}
			if (typeof global !== 'undefined') {
				return global;
			}

			// When running tests none of the above have been defined
			return {};
		}();

		var IS_WORKER = !global.document && !!global.postMessage,
		    IS_PAPA_WORKER = IS_WORKER && /(\?|&)papaworker(=|&|$)/.test(global.location.search),
		    LOADED_SYNC = false,
		    AUTO_SCRIPT_PATH;
		var workers = {},
		    workerIdCounter = 0;

		var Papa = {};

		Papa.parse = CsvToJson;
		Papa.unparse = JsonToCsv;

		Papa.RECORD_SEP = String.fromCharCode(30);
		Papa.UNIT_SEP = String.fromCharCode(31);
		Papa.BYTE_ORDER_MARK = '\ufeff';
		Papa.BAD_DELIMITERS = ['\r', '\n', '"', Papa.BYTE_ORDER_MARK];
		Papa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;
		Papa.SCRIPT_PATH = null; // Must be set by your code if you use workers and this lib is loaded asynchronously

		// Configurable chunk sizes for local and remote files, respectively
		Papa.LocalChunkSize = 1024 * 1024 * 10; // 10 MB
		Papa.RemoteChunkSize = 1024 * 1024 * 5; // 5 MB
		Papa.DefaultDelimiter = ','; // Used if not specified and detection fails

		// Exposed for testing and development only
		Papa.Parser = Parser;
		Papa.ParserHandle = ParserHandle;
		Papa.NetworkStreamer = NetworkStreamer;
		Papa.FileStreamer = FileStreamer;
		Papa.StringStreamer = StringStreamer;
		Papa.ReadableStreamStreamer = ReadableStreamStreamer;

		if (global.jQuery) {
			var $ = global.jQuery;
			$.fn.parse = function (options) {
				var config = options.config || {};
				var queue = [];

				this.each(function (idx) {
					var supported = $(this).prop('tagName').toUpperCase() === 'INPUT' && $(this).attr('type').toLowerCase() === 'file' && global.FileReader;

					if (!supported || !this.files || this.files.length === 0) return true; // continue to next input element

					for (var i = 0; i < this.files.length; i++) {
						queue.push({
							file: this.files[i],
							inputElem: this,
							instanceConfig: $.extend({}, config)
						});
					}
				});

				parseNextFile(); // begin parsing
				return this; // maintains chainability


				function parseNextFile() {
					if (queue.length === 0) {
						if (isFunction(options.complete)) options.complete();
						return;
					}

					var f = queue[0];

					if (isFunction(options.before)) {
						var returned = options.before(f.file, f.inputElem);

						if (typeof returned === 'object') {
							if (returned.action === 'abort') {
								error('AbortError', f.file, f.inputElem, returned.reason);
								return; // Aborts all queued files immediately
							} else if (returned.action === 'skip') {
								fileComplete(); // parse the next file in the queue, if any
								return;
							} else if (typeof returned.config === 'object') f.instanceConfig = $.extend(f.instanceConfig, returned.config);
						} else if (returned === 'skip') {
							fileComplete(); // parse the next file in the queue, if any
							return;
						}
					}

					// Wrap up the user's complete callback, if any, so that ours also gets executed
					var userCompleteFunc = f.instanceConfig.complete;
					f.instanceConfig.complete = function (results) {
						if (isFunction(userCompleteFunc)) userCompleteFunc(results, f.file, f.inputElem);
						fileComplete();
					};

					Papa.parse(f.file, f.instanceConfig);
				}

				function error(name, file, elem, reason) {
					if (isFunction(options.error)) options.error({ name: name }, file, elem, reason);
				}

				function fileComplete() {
					queue.splice(0, 1);
					parseNextFile();
				}
			};
		}

		if (IS_PAPA_WORKER) {
			global.onmessage = workerThreadReceivedMessage;
		} else if (Papa.WORKERS_SUPPORTED) {
			AUTO_SCRIPT_PATH = getScriptPath();

			// Check if the script was loaded synchronously
			if (!document.body) {
				// Body doesn't exist yet, must be synchronous
				LOADED_SYNC = true;
			} else {
				document.addEventListener('DOMContentLoaded', function () {
					LOADED_SYNC = true;
				}, true);
			}
		}

		function CsvToJson(_input, _config) {
			_config = _config || {};
			var dynamicTyping = _config.dynamicTyping || false;
			if (isFunction(dynamicTyping)) {
				_config.dynamicTypingFunction = dynamicTyping;
				// Will be filled on first row call
				dynamicTyping = {};
			}
			_config.dynamicTyping = dynamicTyping;

			if (_config.worker && Papa.WORKERS_SUPPORTED) {
				var w = newWorker();

				w.userStep = _config.step;
				w.userChunk = _config.chunk;
				w.userComplete = _config.complete;
				w.userError = _config.error;

				_config.step = isFunction(_config.step);
				_config.chunk = isFunction(_config.chunk);
				_config.complete = isFunction(_config.complete);
				_config.error = isFunction(_config.error);
				delete _config.worker; // prevent infinite loop

				w.postMessage({
					input: _input,
					config: _config,
					workerId: w.id
				});

				return;
			}

			var streamer = null;
			if (typeof _input === 'string') {
				if (_config.download) streamer = new NetworkStreamer(_config);else streamer = new StringStreamer(_config);
			} else if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on)) {
				streamer = new ReadableStreamStreamer(_config);
			} else if (global.File && _input instanceof File || _input instanceof Object) // ...Safari. (see issue #106)
				streamer = new FileStreamer(_config);

			return streamer.stream(_input);
		}

		function JsonToCsv(_input, _config) {
			var _output = '';
			var _fields = [];

			// Default configuration

			/** whether to surround every datum with quotes */
			var _quotes = false;

			/** whether to write headers */
			var _writeHeader = true;

			/** delimiting character */
			var _delimiter = ',';

			/** newline character(s) */
			var _newline = '\r\n';

			/** quote character */
			var _quoteChar = '"';

			unpackConfig();

			var quoteCharRegex = new RegExp(_quoteChar, 'g');

			if (typeof _input === 'string') _input = JSON.parse(_input);

			if (_input instanceof Array) {
				if (!_input.length || _input[0] instanceof Array) return serialize(null, _input);else if (typeof _input[0] === 'object') return serialize(objectKeys(_input[0]), _input);
			} else if (typeof _input === 'object') {
				if (typeof _input.data === 'string') _input.data = JSON.parse(_input.data);

				if (_input.data instanceof Array) {
					if (!_input.fields) _input.fields = _input.meta && _input.meta.fields;

					if (!_input.fields) _input.fields = _input.data[0] instanceof Array ? _input.fields : objectKeys(_input.data[0]);

					if (!(_input.data[0] instanceof Array) && typeof _input.data[0] !== 'object') _input.data = [_input.data]; // handles input like [1,2,3] or ['asdf']
				}

				return serialize(_input.fields || [], _input.data || []);
			}

			// Default (any valid paths should return before this)
			throw 'exception: Unable to serialize unrecognized input';

			function unpackConfig() {
				if (typeof _config !== 'object') return;

				if (typeof _config.delimiter === 'string' && _config.delimiter.length === 1 && Papa.BAD_DELIMITERS.indexOf(_config.delimiter) === -1) {
					_delimiter = _config.delimiter;
				}

				if (typeof _config.quotes === 'boolean' || _config.quotes instanceof Array) _quotes = _config.quotes;

				if (typeof _config.newline === 'string') _newline = _config.newline;

				if (typeof _config.quoteChar === 'string') _quoteChar = _config.quoteChar;

				if (typeof _config.header === 'boolean') _writeHeader = _config.header;
			}

			/** Turns an object's keys into an array */
			function objectKeys(obj) {
				if (typeof obj !== 'object') return [];
				var keys = [];
				for (var key in obj) keys.push(key);
				return keys;
			}

			/** The double for loop that iterates the data and writes out a CSV string including header row */
			function serialize(fields, data) {
				var csv = '';

				if (typeof fields === 'string') fields = JSON.parse(fields);
				if (typeof data === 'string') data = JSON.parse(data);

				var hasHeader = fields instanceof Array && fields.length > 0;
				var dataKeyedByField = !(data[0] instanceof Array);

				// If there a header row, write it first
				if (hasHeader && _writeHeader) {
					for (var i = 0; i < fields.length; i++) {
						if (i > 0) csv += _delimiter;
						csv += safe(fields[i], i);
					}
					if (data.length > 0) csv += _newline;
				}

				// Then write out the data
				for (var row = 0; row < data.length; row++) {
					var maxCol = hasHeader ? fields.length : data[row].length;

					for (var col = 0; col < maxCol; col++) {
						if (col > 0) csv += _delimiter;
						var colIdx = hasHeader && dataKeyedByField ? fields[col] : col;
						csv += safe(data[row][colIdx], col);
					}

					if (row < data.length - 1) csv += _newline;
				}

				return csv;
			}

			/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */
			function safe(str, col) {
				if (typeof str === 'undefined' || str === null) return '';

				str = str.toString().replace(quoteCharRegex, _quoteChar + _quoteChar);

				var needsQuotes = typeof _quotes === 'boolean' && _quotes || _quotes instanceof Array && _quotes[col] || hasAny(str, Papa.BAD_DELIMITERS) || str.indexOf(_delimiter) > -1 || str.charAt(0) === ' ' || str.charAt(str.length - 1) === ' ';

				return needsQuotes ? _quoteChar + str + _quoteChar : str;
			}

			function hasAny(str, substrings) {
				for (var i = 0; i < substrings.length; i++) if (str.indexOf(substrings[i]) > -1) return true;
				return false;
			}
		}

		/** ChunkStreamer is the base prototype for various streamer implementations. */
		function ChunkStreamer(config) {
			this._handle = null;
			this._paused = false;
			this._finished = false;
			this._input = null;
			this._baseIndex = 0;
			this._partialLine = '';
			this._rowCount = 0;
			this._start = 0;
			this._nextChunk = null;
			this.isFirstChunk = true;
			this._completeResults = {
				data: [],
				errors: [],
				meta: {}
			};
			replaceConfig.call(this, config);

			this.parseChunk = function (chunk) {
				// First chunk pre-processing
				if (this.isFirstChunk && isFunction(this._config.beforeFirstChunk)) {
					var modifiedChunk = this._config.beforeFirstChunk(chunk);
					if (modifiedChunk !== undefined) chunk = modifiedChunk;
				}
				this.isFirstChunk = false;

				// Rejoin the line we likely just split in two by chunking the file
				var aggregate = this._partialLine + chunk;
				this._partialLine = '';

				var results = this._handle.parse(aggregate, this._baseIndex, !this._finished);

				if (this._handle.paused() || this._handle.aborted()) return;

				var lastIndex = results.meta.cursor;

				if (!this._finished) {
					this._partialLine = aggregate.substring(lastIndex - this._baseIndex);
					this._baseIndex = lastIndex;
				}

				if (results && results.data) this._rowCount += results.data.length;

				var finishedIncludingPreview = this._finished || this._config.preview && this._rowCount >= this._config.preview;

				if (IS_PAPA_WORKER) {
					global.postMessage({
						results: results,
						workerId: Papa.WORKER_ID,
						finished: finishedIncludingPreview
					});
				} else if (isFunction(this._config.chunk)) {
					this._config.chunk(results, this._handle);
					if (this._paused) return;
					results = undefined;
					this._completeResults = undefined;
				}

				if (!this._config.step && !this._config.chunk) {
					this._completeResults.data = this._completeResults.data.concat(results.data);
					this._completeResults.errors = this._completeResults.errors.concat(results.errors);
					this._completeResults.meta = results.meta;
				}

				if (finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) this._config.complete(this._completeResults, this._input);

				if (!finishedIncludingPreview && (!results || !results.meta.paused)) this._nextChunk();

				return results;
			};

			this._sendError = function (error) {
				if (isFunction(this._config.error)) this._config.error(error);else if (IS_PAPA_WORKER && this._config.error) {
					global.postMessage({
						workerId: Papa.WORKER_ID,
						error: error,
						finished: false
					});
				}
			};

			function replaceConfig(config) {
				// Deep-copy the config so we can edit it
				var configCopy = copy(config);
				configCopy.chunkSize = parseInt(configCopy.chunkSize); // parseInt VERY important so we don't concatenate strings!
				if (!config.step && !config.chunk) configCopy.chunkSize = null; // disable Range header if not streaming; bad values break IIS - see issue #196
				this._handle = new ParserHandle(configCopy);
				this._handle.streamer = this;
				this._config = configCopy; // persist the copy to the caller
			}
		}

		function NetworkStreamer(config) {
			config = config || {};
			if (!config.chunkSize) config.chunkSize = Papa.RemoteChunkSize;
			ChunkStreamer.call(this, config);

			var xhr;

			if (IS_WORKER) {
				this._nextChunk = function () {
					this._readChunk();
					this._chunkLoaded();
				};
			} else {
				this._nextChunk = function () {
					this._readChunk();
				};
			}

			this.stream = function (url) {
				this._input = url;
				this._nextChunk(); // Starts streaming
			};

			this._readChunk = function () {
				if (this._finished) {
					this._chunkLoaded();
					return;
				}

				xhr = new XMLHttpRequest();

				if (this._config.withCredentials) {
					xhr.withCredentials = this._config.withCredentials;
				}

				if (!IS_WORKER) {
					xhr.onload = bindFunction(this._chunkLoaded, this);
					xhr.onerror = bindFunction(this._chunkError, this);
				}

				xhr.open('GET', this._input, !IS_WORKER);
				// Headers can only be set when once the request state is OPENED
				if (this._config.downloadRequestHeaders) {
					var headers = this._config.downloadRequestHeaders;

					for (var headerName in headers) {
						xhr.setRequestHeader(headerName, headers[headerName]);
					}
				}

				if (this._config.chunkSize) {
					var end = this._start + this._config.chunkSize - 1; // minus one because byte range is inclusive
					xhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);
					xhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672
				}

				try {
					xhr.send();
				} catch (err) {
					this._chunkError(err.message);
				}

				if (IS_WORKER && xhr.status === 0) this._chunkError();else this._start += this._config.chunkSize;
			};

			this._chunkLoaded = function () {
				if (xhr.readyState != 4) return;

				if (xhr.status < 200 || xhr.status >= 400) {
					this._chunkError();
					return;
				}

				this._finished = !this._config.chunkSize || this._start > getFileSize(xhr);
				this.parseChunk(xhr.responseText);
			};

			this._chunkError = function (errorMessage) {
				var errorText = xhr.statusText || errorMessage;
				this._sendError(errorText);
			};

			function getFileSize(xhr) {
				var contentRange = xhr.getResponseHeader('Content-Range');
				if (contentRange === null) {
					// no content range, then finish!
					return -1;
				}
				return parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));
			}
		}
		NetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);
		NetworkStreamer.prototype.constructor = NetworkStreamer;

		function FileStreamer(config) {
			config = config || {};
			if (!config.chunkSize) config.chunkSize = Papa.LocalChunkSize;
			ChunkStreamer.call(this, config);

			var reader, slice;

			// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862
			// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76
			var usingAsyncReader = typeof FileReader !== 'undefined'; // Safari doesn't consider it a function - see issue #105

			this.stream = function (file) {
				this._input = file;
				slice = file.slice || file.webkitSlice || file.mozSlice;

				if (usingAsyncReader) {
					reader = new FileReader(); // Preferred method of reading files, even in workers
					reader.onload = bindFunction(this._chunkLoaded, this);
					reader.onerror = bindFunction(this._chunkError, this);
				} else reader = new FileReaderSync(); // Hack for running in a web worker in Firefox

				this._nextChunk(); // Starts streaming
			};

			this._nextChunk = function () {
				if (!this._finished && (!this._config.preview || this._rowCount < this._config.preview)) this._readChunk();
			};

			this._readChunk = function () {
				var input = this._input;
				if (this._config.chunkSize) {
					var end = Math.min(this._start + this._config.chunkSize, this._input.size);
					input = slice.call(input, this._start, end);
				}
				var txt = reader.readAsText(input, this._config.encoding);
				if (!usingAsyncReader) this._chunkLoaded({ target: { result: txt } }); // mimic the async signature
			};

			this._chunkLoaded = function (event) {
				// Very important to increment start each time before handling results
				this._start += this._config.chunkSize;
				this._finished = !this._config.chunkSize || this._start >= this._input.size;
				this.parseChunk(event.target.result);
			};

			this._chunkError = function () {
				this._sendError(reader.error);
			};
		}
		FileStreamer.prototype = Object.create(ChunkStreamer.prototype);
		FileStreamer.prototype.constructor = FileStreamer;

		function StringStreamer(config) {
			config = config || {};
			ChunkStreamer.call(this, config);

			var string;
			var remaining;
			this.stream = function (s) {
				string = s;
				remaining = s;
				return this._nextChunk();
			};
			this._nextChunk = function () {
				if (this._finished) return;
				var size = this._config.chunkSize;
				var chunk = size ? remaining.substr(0, size) : remaining;
				remaining = size ? remaining.substr(size) : '';
				this._finished = !remaining;
				return this.parseChunk(chunk);
			};
		}
		StringStreamer.prototype = Object.create(StringStreamer.prototype);
		StringStreamer.prototype.constructor = StringStreamer;

		function ReadableStreamStreamer(config) {
			config = config || {};

			ChunkStreamer.call(this, config);

			var queue = [];
			var parseOnData = true;

			this.stream = function (stream) {
				this._input = stream;

				this._input.on('data', this._streamData);
				this._input.on('end', this._streamEnd);
				this._input.on('error', this._streamError);
			};

			this._nextChunk = function () {
				if (queue.length) {
					this.parseChunk(queue.shift());
				} else {
					parseOnData = true;
				}
			};

			this._streamData = bindFunction(function (chunk) {
				try {
					queue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));

					if (parseOnData) {
						parseOnData = false;
						this.parseChunk(queue.shift());
					}
				} catch (error) {
					this._streamError(error);
				}
			}, this);

			this._streamError = bindFunction(function (error) {
				this._streamCleanUp();
				this._sendError(error.message);
			}, this);

			this._streamEnd = bindFunction(function () {
				this._streamCleanUp();
				this._finished = true;
				this._streamData('');
			}, this);

			this._streamCleanUp = bindFunction(function () {
				this._input.removeListener('data', this._streamData);
				this._input.removeListener('end', this._streamEnd);
				this._input.removeListener('error', this._streamError);
			}, this);
		}
		ReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);
		ReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;

		// Use one ParserHandle per entire CSV file or string
		function ParserHandle(_config) {
			// One goal is to minimize the use of regular expressions...
			var FLOAT = /^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;

			var self = this;
			var _stepCounter = 0; // Number of times step was called (number of rows parsed)
			var _input; // The input being parsed
			var _parser; // The core parser being used
			var _paused = false; // Whether we are paused or not
			var _aborted = false; // Whether the parser has aborted or not
			var _delimiterError; // Temporary state between delimiter detection and processing results
			var _fields = []; // Fields are from the header row of the input, if there is one
			var _results = { // The last results returned from the parser
				data: [],
				errors: [],
				meta: {}
			};

			if (isFunction(_config.step)) {
				var userStep = _config.step;
				_config.step = function (results) {
					_results = results;

					if (needsHeaderRow()) processResults();else // only call user's step function after header row
						{
							processResults();

							// It's possbile that this line was empty and there's no row here after all
							if (_results.data.length === 0) return;

							_stepCounter += results.data.length;
							if (_config.preview && _stepCounter > _config.preview) _parser.abort();else userStep(_results, self);
						}
				};
			}

			/**
    * Parses input. Most users won't need, and shouldn't mess with, the baseIndex
    * and ignoreLastRow parameters. They are used by streamers (wrapper functions)
    * when an input comes in multiple chunks, like from a file.
    */
			this.parse = function (input, baseIndex, ignoreLastRow) {
				if (!_config.newline) _config.newline = guessLineEndings(input);

				_delimiterError = false;
				if (!_config.delimiter) {
					var delimGuess = guessDelimiter(input, _config.newline);
					if (delimGuess.successful) _config.delimiter = delimGuess.bestDelimiter;else {
						_delimiterError = true; // add error after parsing (otherwise it would be overwritten)
						_config.delimiter = Papa.DefaultDelimiter;
					}
					_results.meta.delimiter = _config.delimiter;
				} else if (isFunction(_config.delimiter)) {
					_config.delimiter = _config.delimiter(input);
					_results.meta.delimiter = _config.delimiter;
				}

				var parserConfig = copy(_config);
				if (_config.preview && _config.header) parserConfig.preview++; // to compensate for header row

				_input = input;
				_parser = new Parser(parserConfig);
				_results = _parser.parse(_input, baseIndex, ignoreLastRow);
				processResults();
				return _paused ? { meta: { paused: true } } : _results || { meta: { paused: false } };
			};

			this.paused = function () {
				return _paused;
			};

			this.pause = function () {
				_paused = true;
				_parser.abort();
				_input = _input.substr(_parser.getCharIndex());
			};

			this.resume = function () {
				_paused = false;
				self.streamer.parseChunk(_input);
			};

			this.aborted = function () {
				return _aborted;
			};

			this.abort = function () {
				_aborted = true;
				_parser.abort();
				_results.meta.aborted = true;
				if (isFunction(_config.complete)) _config.complete(_results);
				_input = '';
			};

			function processResults() {
				if (_results && _delimiterError) {
					addError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \'' + Papa.DefaultDelimiter + '\'');
					_delimiterError = false;
				}

				if (_config.skipEmptyLines) {
					for (var i = 0; i < _results.data.length; i++) if (_results.data[i].length === 1 && _results.data[i][0] === '') _results.data.splice(i--, 1);
				}

				if (needsHeaderRow()) fillHeaderFields();

				return applyHeaderAndDynamicTyping();
			}

			function needsHeaderRow() {
				return _config.header && _fields.length === 0;
			}

			function fillHeaderFields() {
				if (!_results) return;
				for (var i = 0; needsHeaderRow() && i < _results.data.length; i++) for (var j = 0; j < _results.data[i].length; j++) _fields.push(_results.data[i][j]);
				_results.data.splice(0, 1);
			}

			function shouldApplyDynamicTyping(field) {
				// Cache function values to avoid calling it for each row
				if (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {
					_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);
				}
				return (_config.dynamicTyping[field] || _config.dynamicTyping) === true;
			}

			function parseDynamic(field, value) {
				if (shouldApplyDynamicTyping(field)) {
					if (value === 'true' || value === 'TRUE') return true;else if (value === 'false' || value === 'FALSE') return false;else return tryParseFloat(value);
				}
				return value;
			}

			function applyHeaderAndDynamicTyping() {
				if (!_results || !_config.header && !_config.dynamicTyping) return _results;

				for (var i = 0; i < _results.data.length; i++) {
					var row = _config.header ? {} : [];

					for (var j = 0; j < _results.data[i].length; j++) {
						var field = j;
						var value = _results.data[i][j];

						if (_config.header) field = j >= _fields.length ? '__parsed_extra' : _fields[j];

						value = parseDynamic(field, value);

						if (field === '__parsed_extra') {
							row[field] = row[field] || [];
							row[field].push(value);
						} else row[field] = value;
					}

					_results.data[i] = row;

					if (_config.header) {
						if (j > _fields.length) addError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, i);else if (j < _fields.length) addError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, i);
					}
				}

				if (_config.header && _results.meta) _results.meta.fields = _fields;
				return _results;
			}

			function guessDelimiter(input, newline) {
				var delimChoices = [',', '\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];
				var bestDelim, bestDelta, fieldCountPrevRow;

				for (var i = 0; i < delimChoices.length; i++) {
					var delim = delimChoices[i];
					var delta = 0,
					    avgFieldCount = 0;
					fieldCountPrevRow = undefined;

					var preview = new Parser({
						delimiter: delim,
						newline: newline,
						preview: 10
					}).parse(input);

					for (var j = 0; j < preview.data.length; j++) {
						var fieldCount = preview.data[j].length;
						avgFieldCount += fieldCount;

						if (typeof fieldCountPrevRow === 'undefined') {
							fieldCountPrevRow = fieldCount;
							continue;
						} else if (fieldCount > 1) {
							delta += Math.abs(fieldCount - fieldCountPrevRow);
							fieldCountPrevRow = fieldCount;
						}
					}

					if (preview.data.length > 0) avgFieldCount /= preview.data.length;

					if ((typeof bestDelta === 'undefined' || delta < bestDelta) && avgFieldCount > 1.99) {
						bestDelta = delta;
						bestDelim = delim;
					}
				}

				_config.delimiter = bestDelim;

				return {
					successful: !!bestDelim,
					bestDelimiter: bestDelim
				};
			}

			function guessLineEndings(input) {
				input = input.substr(0, 1024 * 1024); // max length 1 MB

				var r = input.split('\r');

				var n = input.split('\n');

				var nAppearsFirst = n.length > 1 && n[0].length < r[0].length;

				if (r.length === 1 || nAppearsFirst) return '\n';

				var numWithN = 0;
				for (var i = 0; i < r.length; i++) {
					if (r[i][0] === '\n') numWithN++;
				}

				return numWithN >= r.length / 2 ? '\r\n' : '\r';
			}

			function tryParseFloat(val) {
				var isNumber = FLOAT.test(val);
				return isNumber ? parseFloat(val) : val;
			}

			function addError(type, code, msg, row) {
				_results.errors.push({
					type: type,
					code: code,
					message: msg,
					row: row
				});
			}
		}

		/** The core parser implements speedy and correct CSV parsing */
		function Parser(config) {
			// Unpack the config object
			config = config || {};
			var delim = config.delimiter;
			var newline = config.newline;
			var comments = config.comments;
			var step = config.step;
			var preview = config.preview;
			var fastMode = config.fastMode;
			var quoteChar = config.quoteChar || '"';

			// Delimiter must be valid
			if (typeof delim !== 'string' || Papa.BAD_DELIMITERS.indexOf(delim) > -1) delim = ',';

			// Comment character must be valid
			if (comments === delim) throw 'Comment character same as delimiter';else if (comments === true) comments = '#';else if (typeof comments !== 'string' || Papa.BAD_DELIMITERS.indexOf(comments) > -1) comments = false;

			// Newline must be valid: \r, \n, or \r\n
			if (newline != '\n' && newline != '\r' && newline != '\r\n') newline = '\n';

			// We're gonna need these at the Parser scope
			var cursor = 0;
			var aborted = false;

			this.parse = function (input, baseIndex, ignoreLastRow) {
				// For some reason, in Chrome, this speeds things up (!?)
				if (typeof input !== 'string') throw 'Input must be a string';

				// We don't need to compute some of these every time parse() is called,
				// but having them in a more local scope seems to perform better
				var inputLen = input.length,
				    delimLen = delim.length,
				    newlineLen = newline.length,
				    commentsLen = comments.length;
				var stepIsFunction = isFunction(step);

				// Establish starting state
				cursor = 0;
				var data = [],
				    errors = [],
				    row = [],
				    lastCursor = 0;

				if (!input) return returnable();

				if (fastMode || fastMode !== false && input.indexOf(quoteChar) === -1) {
					var rows = input.split(newline);
					for (var i = 0; i < rows.length; i++) {
						var row = rows[i];
						cursor += row.length;
						if (i !== rows.length - 1) cursor += newline.length;else if (ignoreLastRow) return returnable();
						if (comments && row.substr(0, commentsLen) === comments) continue;
						if (stepIsFunction) {
							data = [];
							pushRow(row.split(delim));
							doStep();
							if (aborted) return returnable();
						} else pushRow(row.split(delim));
						if (preview && i >= preview) {
							data = data.slice(0, preview);
							return returnable(true);
						}
					}
					return returnable();
				}

				var nextDelim = input.indexOf(delim, cursor);
				var nextNewline = input.indexOf(newline, cursor);
				var quoteCharRegex = new RegExp(quoteChar + quoteChar, 'g');

				// Parser loop
				for (;;) {
					// Field has opening quote
					if (input[cursor] === quoteChar) {
						// Start our search for the closing quote where the cursor is
						var quoteSearch = cursor;

						// Skip the opening quote
						cursor++;

						for (;;) {
							// Find closing quote
							var quoteSearch = input.indexOf(quoteChar, quoteSearch + 1);

							if (quoteSearch === -1) {
								if (!ignoreLastRow) {
									// No closing quote... what a pity
									errors.push({
										type: 'Quotes',
										code: 'MissingQuotes',
										message: 'Quoted field unterminated',
										row: data.length, // row has yet to be inserted
										index: cursor
									});
								}
								return finish();
							}

							if (quoteSearch === inputLen - 1) {
								// Closing quote at EOF
								var value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);
								return finish(value);
							}

							// If this quote is escaped, it's part of the data; skip it
							if (input[quoteSearch + 1] === quoteChar) {
								quoteSearch++;
								continue;
							}

							if (input[quoteSearch + 1] === delim) {
								// Closing quote followed by delimiter
								row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
								cursor = quoteSearch + 1 + delimLen;
								nextDelim = input.indexOf(delim, cursor);
								nextNewline = input.indexOf(newline, cursor);
								break;
							}

							if (input.substr(quoteSearch + 1, newlineLen) === newline) {
								// Closing quote followed by newline
								row.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));
								saveRow(quoteSearch + 1 + newlineLen);
								nextDelim = input.indexOf(delim, cursor); // because we may have skipped the nextDelim in the quoted field

								if (stepIsFunction) {
									doStep();
									if (aborted) return returnable();
								}

								if (preview && data.length >= preview) return returnable(true);

								break;
							}
						}

						continue;
					}

					// Comment found at start of new line
					if (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments) {
						if (nextNewline === -1) // Comment ends at EOF
							return returnable();
						cursor = nextNewline + newlineLen;
						nextNewline = input.indexOf(newline, cursor);
						nextDelim = input.indexOf(delim, cursor);
						continue;
					}

					// Next delimiter comes before next newline, so we've reached end of field
					if (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1)) {
						row.push(input.substring(cursor, nextDelim));
						cursor = nextDelim + delimLen;
						nextDelim = input.indexOf(delim, cursor);
						continue;
					}

					// End of row
					if (nextNewline !== -1) {
						row.push(input.substring(cursor, nextNewline));
						saveRow(nextNewline + newlineLen);

						if (stepIsFunction) {
							doStep();
							if (aborted) return returnable();
						}

						if (preview && data.length >= preview) return returnable(true);

						continue;
					}

					break;
				}

				return finish();

				function pushRow(row) {
					data.push(row);
					lastCursor = cursor;
				}

				/**
     * Appends the remaining input from cursor to the end into
     * row, saves the row, calls step, and returns the results.
     */
				function finish(value) {
					if (ignoreLastRow) return returnable();
					if (typeof value === 'undefined') value = input.substr(cursor);
					row.push(value);
					cursor = inputLen; // important in case parsing is paused
					pushRow(row);
					if (stepIsFunction) doStep();
					return returnable();
				}

				/**
     * Appends the current row to the results. It sets the cursor
     * to newCursor and finds the nextNewline. The caller should
     * take care to execute user's step function and check for
     * preview and end parsing if necessary.
     */
				function saveRow(newCursor) {
					cursor = newCursor;
					pushRow(row);
					row = [];
					nextNewline = input.indexOf(newline, cursor);
				}

				/** Returns an object with the results, errors, and meta. */
				function returnable(stopped) {
					return {
						data: data,
						errors: errors,
						meta: {
							delimiter: delim,
							linebreak: newline,
							aborted: aborted,
							truncated: !!stopped,
							cursor: lastCursor + (baseIndex || 0)
						}
					};
				}

				/** Executes the user's step function and resets data & errors. */
				function doStep() {
					step(returnable());
					data = [], errors = [];
				}
			};

			/** Sets the abort flag */
			this.abort = function () {
				aborted = true;
			};

			/** Gets the cursor position */
			this.getCharIndex = function () {
				return cursor;
			};
		}

		// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code
		// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358
		function getScriptPath() {
			var scripts = document.getElementsByTagName('script');
			return scripts.length ? scripts[scripts.length - 1].src : '';
		}

		function newWorker() {
			if (!Papa.WORKERS_SUPPORTED) return false;
			if (!LOADED_SYNC && Papa.SCRIPT_PATH === null) throw new Error('Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' + 'You need to set Papa.SCRIPT_PATH manually.');
			var workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;
			// Append 'papaworker' to the search string to tell papaparse that this is our worker.
			workerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';
			var w = new global.Worker(workerUrl);
			w.onmessage = mainThreadReceivedMessage;
			w.id = workerIdCounter++;
			workers[w.id] = w;
			return w;
		}

		/** Callback when main thread receives a message */
		function mainThreadReceivedMessage(e) {
			var msg = e.data;
			var worker = workers[msg.workerId];
			var aborted = false;

			if (msg.error) worker.userError(msg.error, msg.file);else if (msg.results && msg.results.data) {
				var abort = function () {
					aborted = true;
					completeWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });
				};

				var handle = {
					abort: abort,
					pause: notImplemented,
					resume: notImplemented
				};

				if (isFunction(worker.userStep)) {
					for (var i = 0; i < msg.results.data.length; i++) {
						worker.userStep({
							data: [msg.results.data[i]],
							errors: msg.results.errors,
							meta: msg.results.meta
						}, handle);
						if (aborted) break;
					}
					delete msg.results; // free memory ASAP
				} else if (isFunction(worker.userChunk)) {
					worker.userChunk(msg.results, handle, msg.file);
					delete msg.results;
				}
			}

			if (msg.finished && !aborted) completeWorker(msg.workerId, msg.results);
		}

		function completeWorker(workerId, results) {
			var worker = workers[workerId];
			if (isFunction(worker.userComplete)) worker.userComplete(results);
			worker.terminate();
			delete workers[workerId];
		}

		function notImplemented() {
			throw 'Not implemented.';
		}

		/** Callback when worker thread receives a message */
		function workerThreadReceivedMessage(e) {
			var msg = e.data;

			if (typeof Papa.WORKER_ID === 'undefined' && msg) Papa.WORKER_ID = msg.workerId;

			if (typeof msg.input === 'string') {
				global.postMessage({
					workerId: Papa.WORKER_ID,
					results: Papa.parse(msg.input, msg.config),
					finished: true
				});
			} else if (global.File && msg.input instanceof File || msg.input instanceof Object) // thank you, Safari (see issue #106)
				{
					var results = Papa.parse(msg.input, msg.config);
					if (results) global.postMessage({
						workerId: Papa.WORKER_ID,
						results: results,
						finished: true
					});
				}
		}

		/** Makes a deep copy of an array or object (mostly) */
		function copy(obj) {
			if (typeof obj !== 'object') return obj;
			var cpy = obj instanceof Array ? [] : {};
			for (var key in obj) cpy[key] = copy(obj[key]);
			return cpy;
		}

		function bindFunction(f, self) {
			return function () {
				f.apply(self, arguments);
			};
		}

		function isFunction(func) {
			return typeof func === 'function';
		}

		return Papa;
	});
	return module.exports;
});
System.registerDynamic("lib/common/views/massImportView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<li class=\"" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.required : depth0, { "name": "if", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\" title=\"" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.required : depth0, { "name": "if", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + container.escapeExpression((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "description", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</li>\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return "is-required";
        }, "4": function (container, depth0, helpers, partials, data) {
            return "(Required)";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<h3 class=\"title is-3 has-text-centered\">Mass Import</h3>\r\n<div>\r\n	<p>The CSV file must have a header row which can contain the following properties.  Hover each property for a description; properties in red are required. If an id is supplied, and a record with that id exists, it will be updated.</p>\r\n	<ul class=\"si-import-property-list\">\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.typeModel : depth0) != null ? stack1.prototype : stack1) != null ? stack1.importData : stack1) != null ? stack1.properties : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "	</ul>\r\n</div>\r\n<form data-ui=\"dropTarget\" class=\"box\">\r\n	<p class=\"control\">\r\n		<input class=\"is-hidden\" name=\"csvFile\" type=\"file\" />\r\n		<button data-ui=\"dataAltering\" type=\"button\" name=\"openFile\" class=\"button radius\"><span class=\"fa fa-download fa-5x\"></span></button>\r\n		<p>Click Button or Drag CSV File</p>\r\n	</p>\r\n</form>\r\n<div>\r\n	<button type=\"button\" class=\"button is-primary\" data-ui-name=\"import\">Import</button>\r\n	<button type=\"button\" class=\"button is-info\" data-ui-name=\"export\">Export</button>\r\n	<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n</div>\r\n<div class=\"notification is-danger\" data-ui=\"validationErrors\"><p></p><ul></ul></div>\r\n<div data-region=\"csv-table\"></div>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/common/views/massImportTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "				<th>" + container.escapeExpression(container.lambda(depth0, depth0)) + "</th>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>Row #</th>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0._columns : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			<th></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/common/views/massImportRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		<span class=\"tag is-danger icon\"><i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i></span>\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "	<td class=\"" + ((stack1 = (helpers.ifCond || depth0 && depth0.ifCond || helpers.helperMissing).call(depth0 != null ? depth0 : {}, data && data.key, "==", "id", { "name": "ifCond", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">" + container.escapeExpression(container.lambda(depth0, depth0)) + "</td>\r\n";
        }, "4": function (container, depth0, helpers, partials, data) {
            return "is-warning";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.error : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "	" + container.escapeExpression((helper = (helper = helpers.rowNum || (depth0 != null ? depth0.rowNum : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "rowNum", "hash": {}, "data": data }) : helper)) + "\r\n</td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.attributes : depth0, { "name": "each", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "<td>\r\n	<button class=\"delete\" data-method=\"removeItem\" title=\"Remove Row\"></button>\r\n</td>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/common/models/baseSearchableModel.js', ['backbone', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var Backbone, Radio;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Backbone.Model.extend({
        url: function url() {
          return 'url';
        },
        getValueFromPath: function getValueFromPath(path) {
          var pathArray = path.split('.');
          var currentModel = this;
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = pathArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var pathPart = _step.value;

              currentModel = currentModel.get(pathPart);
              if (typeof currentModel === 'undefined') {
                return null;
              }
              if (!Backbone.Model || !(currentModel instanceof Backbone.Model)) {
                break;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          return currentModel;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/baseSearchableCollection.js', ['backbone', 'backbone.radio', 'backbone.paginator'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, proto, PageableCollection;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backbonePaginator) {}],
    execute: function () {
      proto = Backbone.PageableCollection.prototype;
      PageableCollection = Backbone.PageableCollection.extend({
        url: function url() {
          return 'url';
        }
      });


      PageableCollection.prototype.__prepareModel = PageableCollection.prototype._prepareModel;
      PageableCollection.prototype._prepareModel = Backbone.Relational.Collection.prototype._prepareModel;

      _export('default', PageableCollection);
    }
  };
});
"use strict";

System.register('lib/common/views/massImportView.js', ['underscore', 'jquery', 'backbone', 'backbone.radio', 'marionette', 'papa', './massImportView.hbs!', './massImportTableLayoutTpl.hbs!', './massImportRowTpl.hbs!', 'lib/common/views/entity/searchableListLayoutView.js', 'lib/common/models/baseSearchableModel.js', 'lib/common/models/baseSearchableCollection.js'], function (_export2, _context) {
  "use strict";

  var _, jquery, Backbone, Radio, Marionette, Papa, viewTpl, tableViewTpl, rowViewTpl, SearchableListLayoutView, BaseSearchableModel, BaseSearchableCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_papa) {
      Papa = _papa.default;
    }, function (_massImportViewHbs) {
      viewTpl = _massImportViewHbs.default;
    }, function (_massImportTableLayoutTplHbs) {
      tableViewTpl = _massImportTableLayoutTplHbs.default;
    }, function (_massImportRowTplHbs) {
      rowViewTpl = _massImportRowTplHbs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_libCommonModelsBaseSearchableModelJs) {
      BaseSearchableModel = _libCommonModelsBaseSearchableModelJs.default;
    }, function (_libCommonModelsBaseSearchableCollectionJs) {
      BaseSearchableCollection = _libCommonModelsBaseSearchableCollectionJs.default;
    }],
    execute: function () {

      Papa.SCRIPT_PATH = '/assets/jspm_packages/npm/papaparse@4.3.3/papaparse.js';

      _export2('default', Marionette.View.extend({
        initialize: function initialize() {},

        template: viewTpl,
        regions: {
          table: '[data-region="csv-table"]'
        },
        ui: {
          'dropTarget': '[data-ui="dropTarget"]',
          'openFileButton': 'button[name="openFile"]',
          'csvFileInput': 'input[name="csvFile"]',
          'validationErrors': '[data-ui="validationErrors"]',
          'importButton': 'button[data-ui-name="import"]',
          'exportButton': 'button[data-ui-name="export"]',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'click @ui.openFileButton': 'onOpenFileButtonClick',
          'change @ui.csvFileInput': 'addSelectedFile',
          'click @ui.importButton': 'import',
          'click @ui.exportButton': 'export',
          'click @ui.cancelButton': 'cancel'
        },
        onRender: function onRender() {
          var _this = this;

          this.ui.validationErrors.hide();
          var dropTarget = this.ui.dropTarget.get(0);
          ['dragenter', 'dragover', 'dragleave', 'dragstop', 'drop'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.stopNormalBehavior.bind(_this), false);
          });
          ['dragenter', 'dragover'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.showFileHover.bind(_this), false);
          });
          ['drop', 'dragleave', 'dragstop'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.hideFileHover.bind(_this), false);
          });
          dropTarget.addEventListener('drop', this.openDroppedFile.bind(this), false);
        },
        stopNormalBehavior: function stopNormalBehavior(event) {
          event.preventDefault();
          event.stopPropagation();
        },
        showFileHover: function showFileHover() {
          this.ui.dropTarget.css('background-color', 'lightgreen');
        },
        hideFileHover: function hideFileHover() {
          this.ui.dropTarget.css('background-color', '');
        },
        onOpenFileButtonClick: function onOpenFileButtonClick(event) {
          this.ui.csvFileInput.click();
        },
        openDroppedFile: function openDroppedFile(event) {
          this.openFile(event.dataTransfer.files);
        },
        openSelectedFile: function openSelectedFile(event) {
          this.openFile(event.target.files);
        },
        openFile: function openFile(files) {
          var _this2 = this;

          this.disableFormButtons();
          this.initializeValidationErrors();
          var viewCollection = this.viewCollection = new BaseSearchableCollection();
          var columns = [];
          var childSerializeData = function childSerializeData(model) {
            model = model || this.model;
            var data = { attributes: {} };
            _.each(columns, function (val) {
              data.attributes[val] = model.get(val);
            });
            data.rowNum = model.get('_rowNum');
            data.error = model.get('_error');
            return data;
          };
          var serializeData = function serializeData() {
            var data = { _columns: [] };
            _.each(columns, function (val) {
              data._columns.push(val);
            });
            return data;
          };
          var viewOptions = {
            listLength: 20,
            collection: viewCollection,
            searchPath: columns,
            useTableView: true,
            usePagination: true,
            entityListTableLayoutTpl: tableViewTpl,
            entityRowTpl: rowViewTpl,
            colspan: 0,
            childViewOptions: {
              serializeData: childSerializeData
            },
            serializeData: serializeData
          };
          var viewShown = false;
          Papa.parse(files[0], {
            worker: true,
            header: true,
            step: function step(row) {
              if (!viewShown) {
                viewOptions.colspan = row.meta.fields.length + 1;
                _.each(row.meta.fields, function (col) {
                  columns.push(col);
                });
                viewShown = true;
              }
              var model = new BaseSearchableModel(row.data[0]);
              viewCollection.add(model);
              model.set('_rowNum', viewCollection.indexOf(model) + 1);
              _this2.validateModel(model);
            },
            complete: function complete() {
              _this2.model.set('items', viewCollection);
              _this2.showValidationErrors();

              _this2.showChildView('table', new SearchableListLayoutView(viewOptions));
              _this2.enableFormButtons();
            }
          });
        },
        validateModel: function validateModel(model) {
          var _this3 = this;

          _.each(this.model.get('typeModel').prototype.importData.properties, function (property) {
            if (property.required) {
              if (model.get(property.name) === undefined || model.get(property.name) === null || model.get(property.name) === '') {
                model.set('_error', true);
                _this3.validationErrors.push('Missing required property "' + property.name + '" at row ' + model.get('_rowNum'));
              }
            }
          });
        },
        validateCollection: function validateCollection(collection) {
          var _this4 = this;

          collection.each(function (model) {
            _this4.validateModel(model);
          });
        },
        initializeValidationErrors: function initializeValidationErrors() {
          this.validationErrors = [];
          this.ui.validationErrors.hide();
          this.ui.validationErrors.find('ul').empty();
        },
        showValidationErrors: function showValidationErrors() {
          var _this5 = this;

          if (this.validationErrors.length > 0) {
            this.ui.validationErrors.removeClass('is-success').addClass('is-danger').find('p').text('Found ' + this.validationErrors.length + ' errors.');
            _.find(this.validationErrors, function (error, idx) {
              if (idx >= 10) {
                _this5.ui.validationErrors.find('ul').append('<li>..And ' + (_this5.validationErrors.length - 10) + ' more not shown.</li>');
                return true;
              }
              _this5.ui.validationErrors.find('ul').append('<li>' + error + '</li>');
            });
          } else {
            this.ui.validationErrors.removeClass('is-danger').addClass('is-success').find('p').text('No Errors Found.');
          }
          this.ui.validationErrors.show();
        },
        import: function _import(event) {
          var _this6 = this;

          this.disableFormButtons();
          this.model.save({
            type: this.model.get('typeModel').prototype.importData.type
          }).then(function () {
            _this6.enableFormButtons();
          }).catch(function () {
            _this6.enableFormButtons();
          });
        },
        export: function _export(event) {
          window.location = '/export/' + this.model.get('typeModel').prototype.importData.type;
        },
        cancel: function cancel(event) {
          this.triggerMethod('show:list');
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.openFileButton.addClass('is-loading').prop('disabled', true);
          this.ui.importButton.addClass('is-loading').prop('disabled', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disabled', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.openFileButton.removeClass('is-loading').prop('disabled', false);
          this.ui.importButton.removeClass('is-loading').prop('disabled', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disabled', false);
        },
        onChildviewButtonClick: function onChildviewButtonClick(childView, args) {
          var $button = jquery(args.button).closest('button');
          var methodName = $button.data('method');
          this[methodName](args);
        },
        removeItem: function removeItem(args) {
          args.model.set('id', null);
          args.model.destroy();
          this.initializeValidationErrors();
          this.validateCollection(this.viewCollection);
          this.showValidationErrors();
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/indexView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './indexView.hbs!', './searchableListLayoutView', 'lib/common/models/massImportModel.js', 'lib/common/views/massImportView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, SearchableListLayoutView, MassImportModel, MassImportView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_indexViewHbs) {
      viewTpl = _indexViewHbs.default;
    }, function (_searchableListLayoutView) {
      SearchableListLayoutView = _searchableListLayoutView.default;
    }, function (_libCommonModelsMassImportModelJs) {
      MassImportModel = _libCommonModelsMassImportModelJs.default;
    }, function (_libCommonViewsMassImportViewJs) {
      MassImportView = _libCommonViewsMassImportViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          if (!options.EditView) {
            throw 'Must pass the Entity Index view a EditView constructor option';
          }
          this.EditView = options.EditView;

          if (!this.model) {
            this.model = new Backbone.Model({
              isCreatable: true,
              isImportable: false
            });
          }
          this.listenTo(this.model, "change:isCreatable", this.checkCreateButtonVisiblity);
          this.listenTo(this.model, "change:isImportable", this.checkImportButtonVisiblity);

          if (!this.collection) {
            throw 'Must pass the Entity Index view a collection';
          }
        },
        serializeData: function serializeData() {
          return {
            entityUrl: this.collection.url(),
            title: this.collection.title,
            isCreatable: this.model.get('isCreatable'),
            isImportable: this.model.get('isImportable')
          };
        },

        template: viewTpl,
        regions: {
          action: '.entity-action-pane'
        },
        onRender: function onRender() {
          if (this.options.usePagination !== 'server') {
            this.collection.fetch();
          }
          if (this.options.entityId) {
            var model = this.collection.model.findOrCreate({ id: this.options.entityId });
            model.fetch();
            if (typeof this.options.logEntryId !== 'undefined') {
              if (this.options.logEntryId) {
                var logCollection = new LogCollection({
                  baseModelInstance: model
                });
                if (!model.logs) {
                  model.logs = logCollection;
                }
                var logEntryModel = new LogModel({ id: this.options.logEntryId });
                logEntryModel.baseModelInstance = model;
                logEntryModel.fetch();
                logCollection.fetch().done(function () {
                  model.logs.reset(logCollection.models);
                  logEntryModel.trigger('change');
                });
                this.showLog({ model: model }, { model: logEntryModel });
              } else {
                this.showLogs(null, { model: model });
              }
            } else {
              this.showEdit(null, { model: model });
            }
          } else {
            this.showList();
          }
          this.checkCreateButtonVisiblity();
          this.checkImportButtonVisiblity();
        },

        ui: {
          'entityListLink': 'a.entity-list-link',
          'createButton': '.create-entity-button',
          'importButton': '.import-entity-button'
        },
        events: {
          'click @ui.entityListLink': 'showListLinkClicked',
          'click @ui.createButton': 'createEntityButtonClicked',
          'click @ui.importButton': 'importEntityButtonClicked'
        },
        childViewEvents: {
          'show:view': 'showView',
          'show:list': 'showList',
          'show:logs': 'showLogs',
          'show:log': 'showLog',
          'select:model': 'showEdit'
        },
        checkCreateButtonVisiblity: function checkCreateButtonVisiblity() {
          if (this.isRendered) {
            if (this.model.get('isCreatable')) {
              this.ui.createButton.show();
            } else {
              this.ui.createButton.hide();
            }
          }
        },
        checkImportButtonVisiblity: function checkImportButtonVisiblity() {
          if (this.isRendered) {
            if (this.model.get('isImportable')) {
              this.ui.importButton.show();
            } else {
              this.ui.importButton.hide();
            }
          }
        },
        showListLinkClicked: function showListLinkClicked(event) {
          event.preventDefault();
          this.showList();
        },
        createEntityButtonClicked: function createEntityButtonClicked(event) {
          event.preventDefault();
          var newEntityDefaults = _.extend({ isLocked: false }, this.options.newEntityDefaults);
          var model = new this.collection.model(newEntityDefaults);
          this.showEdit(null, { model: model }, { preventDestroy: true });
        },
        importEntityButtonClicked: function importEntityButtonClicked(event) {
          event.preventDefault();
          var importModel = new MassImportModel({
            typeModel: this.collection.model
          });
          var importView = new MassImportView({
            model: importModel
          });
          this.showView(null, { view: importView });
        },
        showView: function showView(childView, args, options) {
          this.getRegion('action').show(args.view, options);
        },
        showList: function showList(childView, args, options) {
          if (this.options.isCreatable === false) {
            this.model.set('isCreatable', false);
          } else {
            this.model.set('isCreatable', true);
          }
          if (this.options.isImportable === true) {
            this.model.set('isImportable', true);
          } else {
            this.model.set('isImportable', false);
          }
          var viewOptions = _.extend(this.options, {
            collection: this.collection
          });
          this.getRegion('action').show(new SearchableListLayoutView(viewOptions), options);
          Radio.channel('app').trigger('navigate', this.collection.url(), { trigger: false });
        },
        onShowEdit: function onShowEdit(childView, args, options) {
          this.showEdit(childView, args, options);
        },
        showEdit: function showEdit(childView, args, options) {
          this.model.set('isCreatable', false);
          this.model.set('isImportable', false);
          var editView = new this.EditView({
            model: args.model,
            parentView: this
          });
          this.getRegion('action').show(editView, options);
          var url = args.model.url();
          if (typeof editView.entityUrl === 'function') {
            url = editView.entityUrl();
          }
          Radio.channel('app').trigger('navigate', url, { trigger: false });
        },
        showLogs: function showLogs(childView, args, options) {
          this.model.set('isCreatable', false);
          this.model.set('isImportable', false);
          var logCollection = new LogCollection(null, {
            baseModelInstance: args.model
          });
          if (!args.model.logs) {
            args.model.logs = logCollection;
          }
          this.getRegion('action').show(new LogLayoutView({
            collection: args.model.logs,
            model: args.model,
            returnModel: childView.options.returnModel
          }), options);

          logCollection.requestTrackingFetch(this.model).done(function () {
            args.model.logs.reset(logCollection.models);
          });
          Radio.channel('app').trigger('navigate', logCollection.url(), { trigger: false });
        },
        showLog: function showLog(childView, args, options) {
          this.model.set('isCreatable', false);
          this.model.set('isImportable', false);
          if (!args.model.baseModelInstance) {
            args.model.baseModelInstance = childView.model;
          }
          var logView = new LogView({
            model: args.model,
            parentView: this,
            returnModel: childView.options.returnModel
          });
          this.getRegion('action').show(logView, options);
          Radio.channel('app').trigger('navigate', args.model.url(), { trigger: false });
        },
        addEntity: function addEntity(childView) {
          this.collection.add(childView.model);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Admin Options</h2>\r\n<div id=\"admin-tabs\"></div>\r\n<div id=\"admin-content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "		<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/menu_link", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/menu_link\">Menu Link</a></li>\r\n		<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/help_topic", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/help_topic\">Help Topic</a></li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/office", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/office\">Offices</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/department", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/department\">Departments</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/user", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/user\">Users</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/announcement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/announcement\">Announcements</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/organization", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/organization\">Organization</a></li>\r\n" + ((stack1 = (helpers.isGrantedRole || depth0 && depth0.isGrantedRole || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "ROLE_DEV", { "name": "isGrantedRole", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register("lib/admin/views/adminIndexView.js", ["marionette", "./adminIndexView.hbs!", "backbone.radio", "lib/common/views/navTabsView.js", "./adminIndexTabsView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl, Radio, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminIndexViewHbs) {
      viewTpl = _adminIndexViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_adminIndexTabsViewHbs) {
      tabsTpl = _adminIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#admin-content",
          tabs: "#admin-tabs"
        },
        ui: {
          tabLink: "#admin-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInventoryIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Inventory Admin Options</h2>\r\n<div id=\"admin-inventory-tabs\"></div>\r\n<div id=\"admin-inventory-content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminInventoryIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return " is-active";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "not-active";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/sku", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part_category", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part_group", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/commodity", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/unit_type", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>Inventory Options</a>\r\n		<ul>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/sku", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/sku\">SKUs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/part\">Parts</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part_category", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/part_category\">Part Categories</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/part_group", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/part_group\">Part Groups</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/commodity", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/commodity\">Commodities</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/unit_type", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/unit_type\">Unit Types</a></li>\r\n		</ul>\r\n	</li>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/bin", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/bin_type", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>Location Options</a>\r\n		<ul>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/bin", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/bin\">Bins</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/bin_type", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/bin_type\">Bin Types</a></li>\r\n		</ul>\r\n	</li>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_movement_rule", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_alert", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>Rules and Alerts</a>\r\n		<ul>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_movement_rule", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_movement_rule\">Inventory Movement Rules</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_alert", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_alert\">Inventory Alerts</a></li>\r\n		</ul>\r\n	</li>\r\n</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register("lib/admin/views/adminInventoryIndexView.js", ["marionette", "./adminInventoryIndexView.hbs!", "backbone.radio", "lib/common/views/navTabsView.js", "./adminInventoryIndexTabsView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl, Radio, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminInventoryIndexViewHbs) {
      viewTpl = _adminInventoryIndexViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_adminInventoryIndexTabsViewHbs) {
      tabsTpl = _adminInventoryIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#admin-inventory-content",
          tabs: "#admin-inventory-tabs"
        },
        ui: {
          tabLink: "#admin-inventory-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          if (e.target.getAttribute('href')) {
            Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
          }
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl,
            hasDropdown: true
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminAccountingIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Accounting Admin Options</h2>\r\n<div id=\"admin-accounting-tabs\"></div>\r\n<div id=\"admin-accounting-content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminAccountingIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/client", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/client\">Client</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/customer", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/customer\">Customer</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inbound_order", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inbound_order\">Inbound Order</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/outbound_order", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/outbound_order\">Outbound Order</a></li>\r\n</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register("lib/admin/views/adminAccountingIndexView.js", ["marionette", "./adminAccountingIndexView.hbs!", "backbone.radio", "lib/common/views/navTabsView.js", "./adminAccountingIndexTabsView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl, Radio, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminAccountingIndexViewHbs) {
      viewTpl = _adminAccountingIndexViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_adminAccountingIndexTabsViewHbs) {
      tabsTpl = _adminAccountingIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#admin-accounting-content",
          tabs: "#admin-accounting-tabs"
        },
        ui: {
          tabLink: "#admin-accounting-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminOrganizationsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "					<img src=\"/image/" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.logo : depth0) != null ? stack1.id : stack1, depth0)) + "/src\" />\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Organization #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<!--\r\n	<label class=\"label\">Logo</label>\r\n	<p class=\"control\">\r\n		<div class=\"si-uploaded-img-figure-container\">\r\n			<figure class=\"image is-16by9\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.logo : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			</figure>\r\n		</div>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"upload\">Upload Logo</button>\r\n	</p>\r\n	-->\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminOrganizationsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminOrganizationsEditView.hbs!', 'lib/common/views/uploadImageView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, UploadImageView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminOrganizationsEditViewHbs) {
      viewTpl = _adminOrganizationsEditViewHbs.default;
    }, function (_libCommonViewsUploadImageViewJs) {
      UploadImageView = _libCommonViewsUploadImageViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'uploadButton': 'button[data-ui-name="upload"]'
        },
        events: {
          'click @ui.uploadButton': 'showLogoUploadDialog'
        },
        modelEvents: {
          'change:logo': 'render'
        },
        bindings: {
          '@ui.nameInput': 'name'
        },
        showLogoUploadDialog: function showLogoUploadDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Upload Logo',
            width: '400px'
          };
          var view = new UploadImageView({
            model: this.model,
            imageAttributeName: 'logo',
            organization: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminOrganizationsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminOrganizationsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/userCollection.js', ['./baseUrlBaseCollection.js', './userModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_userModelJs) {
      Model = _userModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        title: 'Users',
        model: Model,
        url: function url() {
          return this.baseUrl + '/user';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminUsersEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "disabled";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "			<button type=\"button\" class=\"button is-warning\" name=\"resetPassword\">Reset</button>\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "		<label class=\"label\">Organization</label>\r\n		<p class=\"control\">\r\n			<span class=\"select\">\r\n		  		<select name=\"organization\"></select>\r\n	  		</span>\r\n		</p>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<h3 class=\"title is-3\">User #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">User Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"username\" type=\"text\" placeholder=\"Enter User Name\">\r\n	</p>\r\n	<label class=\"label\">Password</label>\r\n	<p class=\"control  is-grouped\">\r\n		<input class=\"input\" name=\"newPassword\" type=\"password\" " + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"receivesInventoryAlert\" type=\"checkbox\">\r\n	    	Receives Inventory Alert?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">First Name</label>\r\n	<p class=\"control\">\r\n	  	<input class=\"input\" name=\"firstName\" type=\"text\" placeholder=\"Enter First Name\">\r\n	</p>\r\n	<label class=\"label\">Last Name</label>\r\n	<p class=\"control\">\r\n	  	<input class=\"input\" name=\"lastName\" type=\"text\" placeholder=\"Enter Liast Name\">\r\n	</p>\r\n	<label class=\"label\">Email</label>\r\n	<p class=\"control\">\r\n	  	<input class=\"input\" name=\"email\" type=\"text\" placeholder=\"Enter Email\">\r\n	</p>\r\n" + ((stack1 = (helpers.isGrantedRole || depth0 && depth0.isGrantedRole || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "ROLE_DEV", { "name": "isGrantedRole", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "	<label class=\"label\">Default Department</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"defaultDepartment\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Roles</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	  		<select name=\"role\"></select>\r\n  		</span>\r\n  		<button type=\"button\" class=\"button is-success\" name=\"addRole\">Add</button>\r\n	</p>\r\n	<label class=\"label\">Assigned Roles</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"roles\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/common/models/organizationCollection.js', ['./baseUrlBaseCollection.js', './organizationModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_organizationModelJs) {
      Model = _organizationModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/organization';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/userRoleItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<span class=\"tag is-dark\">\r\n	" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.role : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	<button type=\"button\" name=\"delete\" class=\"delete\"></button>\r\n</span>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminUsersEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminUsersEditView.hbs!', 'lib/common/models/officeCollection.js', 'lib/common/models/organizationCollection.js', 'lib/common/models/roleCollection.js', 'lib/common/models/userRoleModel.js', 'lib/common/views/formChildListView.js', './userRoleItemView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, OfficeCollection, OrganizationCollection, RoleCollection, UserRoleModel, FormChildListView, userRoleItemViewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminUsersEditViewHbs) {
      viewTpl = _adminUsersEditViewHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_libCommonModelsOrganizationCollectionJs) {
      OrganizationCollection = _libCommonModelsOrganizationCollectionJs.default;
    }, function (_libCommonModelsRoleCollectionJs) {
      RoleCollection = _libCommonModelsRoleCollectionJs.default;
    }, function (_libCommonModelsUserRoleModelJs) {
      UserRoleModel = _libCommonModelsUserRoleModelJs.default;
    }, function (_libCommonViewsFormChildListViewJs) {
      FormChildListView = _libCommonViewsFormChildListViewJs.default;
    }, function (_userRoleItemViewHbs) {
      userRoleItemViewTpl = _userRoleItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        regions: {
          'roles': '[data-ui-name="roles"]'
        },
        ui: {
          'usernameInput': 'input[name="username"]',
          'newPasswordInput': 'input[name="newPassword"]',
          'resetPasswordButton': 'button[name="resetPassword"]',
          'isActiveInput': 'input[name="isActive"]',
          'receivesInventoryAlertInput': 'input[name="receivesInventoryAlert"]',
          'firstNameInput': 'input[name="firstName"]',
          'lastNameInput': 'input[name="lastName"]',
          'emailInput': 'input[name="email"]',
          'organizationSelect': 'select[name="organization"]',
          'defaultDepartmentSelect': 'select[name="defaultDepartment"]',
          'roleSelect': 'select[name="role"]',
          'addRoleButton': 'button[name="addRole"]'
        },
        events: {
          'click @ui.resetPasswordButton': 'onResetPasswordButtonClicked',
          'click @ui.addRoleButton': 'onAddRoleButtonClicked'
        },
        onResetPasswordButtonClicked: function onResetPasswordButtonClicked(event) {
          event.preventDefault();
          this.ui.newPasswordInput.prop('disabled', false);
        },
        onAddRoleButtonClicked: function onAddRoleButtonClicked(event) {
          event.preventDefault();
          if (this.model.get('selectedRole') && !this.model.hasUserRole(this.model.get('selectedRole'))) {
            var userRole = new UserRoleModel({
              user: this.model,
              role: this.model.get('selectedRole')
            });
          }
        },

        bindings: {
          '@ui.usernameInput': 'username',
          '@ui.newPasswordInput': 'newPassword',
          '@ui.isActiveInput': 'isActive',
          '@ui.receivesInventoryAlertInput': 'receivesInventoryAlert',
          '@ui.firstNameInput': 'firstName',
          '@ui.lastNameInput': 'lastName',
          '@ui.emailInput': 'email',
          '@ui.organizationSelect': {
            observe: 'organization',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', OrganizationCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.defaultDepartmentSelect': {
            observe: 'defaultDepartment',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var departments = [];
                var collection = Radio.channel('data').request('collection', OfficeCollection);
                collection.each(function (office) {
                  office.get('departments').each(function (department) {
                    departments.push(department);
                  });
                });
                return departments;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.roleSelect': {
            observe: 'selectedRole',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var roles = Radio.channel('data').request('collection', RoleCollection);
                return roles;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        onRender: function onRender() {
          this.model.set('newPassword', null);
          this.showChildView('roles', new FormChildListView({
            collection: this.model.get('userRoles'),
            childTemplate: userRoleItemViewTpl
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminUsersListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Username</th>\r\n			<th>Is Active?</th>\r\n			<th>First Name</th>\r\n			<th>Last Name</th>\r\n			<th>Email</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminUsersRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.username || (depth0 != null ? depth0.username : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "username", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.isActive || (depth0 != null ? depth0.isActive : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "isActive", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.firstName || (depth0 != null ? depth0.firstName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "firstName", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.lastName || (depth0 != null ? depth0.lastName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "lastName", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "email", "hash": {}, "data": data }) : helper)) + "</td>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminOfficesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Office #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminOfficesEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminOfficesEditView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminOfficesEditViewHbs) {
      viewTpl = _adminOfficesEditViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]'
        },
        bindings: {
          '@ui.nameInput': 'name'
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminOfficesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Departments</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminOfficesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.name : stack1, depth0)) + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, data && data.last, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return ", ";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.departments : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminDepartmentsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Office #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<label class=\"label\">Office</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"office\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminDepartmentsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminDepartmentsEditView.hbs!', 'lib/common/models/officeCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, OfficeCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminDepartmentsEditViewHbs) {
      viewTpl = _adminDepartmentsEditViewHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'officeSelect': 'select[name="office"]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.officeSelect': {
            observe: 'office',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                return Radio.channel('data').request('collection', OfficeCollection);
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminDepartmentsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Office</th>\r\n			<th>Count Of MenuItems</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminDepartmentsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.office : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers["return"] || depth0 && depth0["return"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.office : depth0) != null ? stack1.getDepartmentTotalMenuItemCount : stack1, depth0 != null ? depth0.office : depth0, depth0 != null ? depth0.id : depth0, { "name": "return", "hash": {}, "data": data })) + "</td>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/announcementCollection.js', ['./baseUrlBaseCollection.js', './announcementModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_announcementModelJs) {
      Model = _announcementModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/announcement';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminAnnouncementsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Announcement #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Content</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"content\" type=\"text\" placeholder=\"Enter Content\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminAnnouncementsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminAnnouncementsEditView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminAnnouncementsEditViewHbs) {
      viewTpl = _adminAnnouncementsEditViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'contentInput': 'input[name="content"]'
        },
        bindings: {
          '@ui.contentInput': 'content'
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminAnnouncementsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Content</th>\r\n			<th>By User</th>\r\n			<th>Posted At</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminAnnouncementsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.content : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</a></td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.username : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.postedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/menuItemCollection.js', ['./baseUrlBaseCollection.js', './menuItemModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_menuItemModelJs) {
      Model = _menuItemModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/menu_item';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminMenuItemsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">MenuItem #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Position</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"position\" type=\"number\" placeholder=\"Enter Position\">\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Menu Link</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"menuLink\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Department</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"department\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Parent</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	  		<select name=\"parent\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Children</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"children\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/menuItemItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		- " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
    }, "3": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		[" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.department : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "]\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<span class=\"tag is-dark\">\r\n	#" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.menuLink : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.department : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</span>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminMenuItemsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', 'lib/common/models/menuLinkCollection.js', 'lib/common/models/officeCollection.js', 'lib/common/models/menuItemCollection.js', './adminMenuItemsEditView.hbs!', 'lib/common/views/formChildListView.js', './menuItemItemView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, MenuLinkCollection, OfficeCollection, MenuItemCollection, viewTpl, FormChildListView, menuItemItemViewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsMenuLinkCollectionJs) {
      MenuLinkCollection = _libCommonModelsMenuLinkCollectionJs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_libCommonModelsMenuItemCollectionJs) {
      MenuItemCollection = _libCommonModelsMenuItemCollectionJs.default;
    }, function (_adminMenuItemsEditViewHbs) {
      viewTpl = _adminMenuItemsEditViewHbs.default;
    }, function (_libCommonViewsFormChildListViewJs) {
      FormChildListView = _libCommonViewsFormChildListViewJs.default;
    }, function (_menuItemItemViewHbs) {
      menuItemItemViewTpl = _menuItemItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        regions: {
          'children': '[data-ui-name="children"]'
        },
        ui: {
          'positionInput': 'input[name="position"]',
          'isActiveInput': 'input[name="isActive"]',
          'menuLinkSelect': 'select[name="menuLink"]',
          'departmentSelect': 'select[name="department"]',
          'parentSelect': 'select[name="parent"]'
        },
        bindings: {
          '@ui.positionInput': 'position',
          '@ui.isActiveInput': 'isActive',
          '@ui.menuLinkSelect': {
            observe: 'menuLink',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', MenuLinkCollection, { fetchAll: true });
                return collection;
              }
            }
          },
          '@ui.departmentSelect': {
            observe: 'department',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var departments = [];
                var collection = Radio.channel('data').request('collection', OfficeCollection);
                collection.each(function (office) {
                  office.get('departments').each(function (department) {
                    departments.push(department);
                  });
                });
                return departments;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          },
          '@ui.parentSelect': {
            observe: 'parent',
            useBackboneModels: true,
            selectOptions: {
              labelPath: function labelPath(item) {
                var label = '#' + item.id;
                if (item.get('menuLink')) {
                  label += ' - ' + item.get('menuLink').get('name');
                }
                if (item.get('department')) {
                  label += ' (' + item.get('department').get('name') + ')';
                }
                return label;
              },
              collection: function collection() {
                var _this = this;

                var collection = Radio.channel('data').request('collection', MenuItemCollection, { doFetch: false });
                collection.fetch({ data: { disable_pagination: true } }).done(function () {
                  collection.remove(_this.model);
                });
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          }
        },
        onRender: function onRender() {
          this.showChildView('children', new FormChildListView({
            collection: this.model.get('children'),
            childTemplate: menuItemItemViewTpl,
            noDelete: true
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminMenuItemsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Is Active</th>\r\n			<th>Position</th>\r\n			<th>Menu Link</th>\r\n			<th>Department</th>\r\n			<th>Parent</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminMenuItemsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		#" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.parent : depth0) != null ? stack1.id : stack1, depth0)) + "\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.isActive || (depth0 != null ? depth0.isActive : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "isActive", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.position || (depth0 != null ? depth0.position : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "position", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.menuLink : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.department : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.parent : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/menuLinkCollection.js', ['./baseUrlBaseCollection.js', './menuLinkModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_menuLinkModelJs) {
      Model = _menuLinkModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/menu_link';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminMenuLinksEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">MenuLink #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<label class=\"label\">Url</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"url\" type=\"text\" placeholder=\"Enter Url\" />\r\n	</p>\r\n	<p class=\"control has-addons\">\r\n		<input class=\"input\" name=\"routeMatch\" type=\"text\" placeholder=\"Enter Matching Route\" />\r\n		<button name=\"addRouteMatch\">Add Matching Route</button>\r\n	</p>\r\n	<label class=\"label\">Matching Routes</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"routeMatches\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/routeMatchItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<span class=\"tag is-dark\">\r\n	" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "\r\n	<button type=\"button\" name=\"delete\" class=\"delete\"></button>\r\n</span>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminMenuLinksEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminMenuLinksEditView.hbs!', 'lib/common/views/formChildListView.js', './routeMatchItemView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, FormChildListView, routeMatchItemViewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminMenuLinksEditViewHbs) {
      viewTpl = _adminMenuLinksEditViewHbs.default;
    }, function (_libCommonViewsFormChildListViewJs) {
      FormChildListView = _libCommonViewsFormChildListViewJs.default;
    }, function (_routeMatchItemViewHbs) {
      routeMatchItemViewTpl = _routeMatchItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.routeMatchesCollection = new Backbone.Collection();
          this.routeMatchesChanged();
        },

        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        regions: {
          'routeMatches': '[data-ui-name="routeMatches"]'
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'urlInput': 'input[name="url"]',
          'routeMatchInput': 'input[name="routeMatch"]',
          'addRouteMatchButton': 'button[name="addRouteMatch"]'
        },
        events: {
          'click @ui.addRouteMatchButton': 'onAddRouteMatchButtonClicked'
        },
        modelEvents: {
          'change:routeMatches': 'routeMatchesChanged'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.urlInput': 'url'
        },
        onRender: function onRender() {
          this.showChildView('routeMatches', new FormChildListView({
            collection: this.routeMatchesCollection,
            childTemplate: routeMatchItemViewTpl
          }));
        },
        routeMatchesChanged: function routeMatchesChanged() {
          var _this = this;

          _.each(this.model.get('routeMatches'), function (routeMatch) {
            _this.createAndAddRouteMatchModel(routeMatch);
          });
        },
        createAndAddRouteMatchModel: function createAndAddRouteMatchModel(routeMatch) {
          var _this2 = this;

          var model = new Backbone.Model({
            label: routeMatch
          });
          this.listenTo(model, 'destroy', function () {
            var index = _this2.model.get('routeMatches').indexOf(model.get('label'));
            if (index > -1) {
              _this2.model.get('routeMatches').splice(index, 1);
            }
          });
          this.routeMatchesCollection.add(model);
        },
        onAddRouteMatchButtonClicked: function onAddRouteMatchButtonClicked(event) {
          event.preventDefault();
          var routeMatch = this.ui.routeMatchInput.val().trim();
          if (this.model.get('routeMatches').indexOf(routeMatch) < 0) {
            this.model.get('routeMatches').push(routeMatch);
            this.createAndAddRouteMatchModel(routeMatch);
          }
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminMenuLinksListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Url</th>\r\n			<th>Route Matches</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminMenuLinksRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda(depth0, depth0)) + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, data && data.last, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return ", ";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.url || (depth0 != null ? depth0.url : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "url", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.routeMatches : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminHelpTopicsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">HelpTopic #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<label class=\"label\">Heading</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"heading\" type=\"text\" placeholder=\"Enter Heading\" />\r\n	</p>\r\n	<label class=\"label\">Content</label>\r\n	<p class=\"control\">\r\n		<textarea name=\"content\" class=\"textarea\" placeholder=\"Enter Content\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminHelpTopicsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminHelpTopicsEditView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminHelpTopicsEditViewHbs) {
      viewTpl = _adminHelpTopicsEditViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'headingInput': 'input[name="heading"]',
          'contentInput': 'textarea[name="content"]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.headingInput': 'heading',
          '@ui.contentInput': 'content'
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminHelpTopicsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Heading</th>\r\n			<th>Content</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminHelpTopicsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.heading || (depth0 != null ? depth0.heading : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "heading", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.content : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminSkusEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Sku #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Number</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"number\" type=\"text\" placeholder=\"Enter Number\">\r\n	</p>\r\n	<label class=\"label\">Label</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"label\" type=\"text\" placeholder=\"Enter Label\">\r\n	</p>\r\n	<label class=\"label\">Supplier Code</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"supplierCode\" type=\"text\" placeholder=\"Enter Supplier Code\">\r\n	</p>\r\n	<label class=\"label\">Supplier SKU</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"supplierSku\" type=\"text\" placeholder=\"Enter Supplier SKU\">\r\n	</p>\r\n	<div class=\"box\">\r\n		<h3 class=\"has-text-centered title is-3\">One Of:</h3>\r\n		<div class=\"columns\">\r\n			<div class=\"column\">\r\n				<label class=\"label\">Part</label>\r\n				<p class=\"control\">\r\n			  		<select name=\"part\"></select>\r\n				</p>\r\n			</div>\r\n			<div class=\"column\">\r\n				<label class=\"label\">Commodity</label>\r\n				<p class=\"control\">\r\n			  		<select name=\"commodity\"></select>\r\n				</p>\r\n			</div>\r\n			<div class=\"column\">\r\n				<label class=\"label\">Unit Type</label>\r\n				<p class=\"control\">\r\n			  		<select name=\"unitType\"></select>\r\n				</p>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<label class=\"label\">Quantity</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"quantity\" type=\"text\" placeholder=\"Enter Number\">\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isVoid\" type=\"checkbox\">\r\n	    	Is Void?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminSkusEditView.js', ['underscore', 'backbone', 'backbone.syphon', 'backbone.radio', 'marionette', './adminSkusEditView.hbs!', 'lib/inventory/models/partCollection.js', 'lib/inventory/models/commodityCollection.js', 'lib/inventory/models/unitTypeCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Syphon, Radio, Marionette, viewTpl, PartCollection, CommodityCollection, UnitTypeCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminSkusEditViewHbs) {
      viewTpl = _adminSkusEditViewHbs.default;
    }, function (_libInventoryModelsPartCollectionJs) {
      PartCollection = _libInventoryModelsPartCollectionJs.default;
    }, function (_libInventoryModelsCommodityCollectionJs) {
      CommodityCollection = _libInventoryModelsCommodityCollectionJs.default;
    }, function (_libInventoryModelsUnitTypeCollectionJs) {
      UnitTypeCollection = _libInventoryModelsUnitTypeCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {
            save: 'save'
          },
          'RemoteSearchSelect2': {
            part: {
              url: PartCollection.prototype.selectOptionsUrl,
              search: 'name',
              allowClear: true,
              placeholder: 'Select Part'
            },
            commodity: {
              url: CommodityCollection.prototype.selectOptionsUrl,
              search: 'name',
              allowClear: true,
              placeholder: 'Select Commodity'
            },
            unitType: {
              url: UnitTypeCollection.prototype.selectOptionsUrl,
              search: 'name',
              allowClear: true,
              placeholder: 'Select Unit Type'
            }
          }
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'numberInput': 'input[name="number"]',
          'labelInput': 'input[name="label"]',
          'isVoidInput': 'input[name="isVoid"]',
          'quantityInput': 'input[name="quantity"]',
          'supplierCodeInput': 'input[name="supplierCode"]',
          'supplierSkuInput': 'input[name="supplierSku"]',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.numberInput': 'number',
          '@ui.labelInput': 'label',
          '@ui.supplierCodeInput': 'supplierCode',
          '@ui.supplierSkuInput': 'supplierSku',
          '@ui.isVoidInput': 'isVoid',
          '@ui.quantityInput': 'quantity'
        },
        save: function save(event) {
          var _this = this;

          this.disableFormButtons();
          this.updateSku();
          this.model.save().always(function () {
            _this.enableFormButtons();
          }).done(function () {
            _this.triggerMethod('show:list', _this, {
              view: _this,
              model: _this.model
            });
          });
        },
        updateSku: function updateSku() {
          var attr = Syphon.serialize(this);
          var setAttr = {
            part: PartCollection,
            commodity: CommodityCollection,
            unitType: UnitTypeCollection
          };
          _.each(setAttr, function (Collection, attributeName) {
            if (parseInt(attr[attributeName])) {
              setAttr[attributeName] = Collection.prototype.model.findOrCreate({ id: parseInt(attr[attributeName]) });
            } else {
              setAttr[attributeName] = null;
            }
          });
          this.model.set(setAttr);
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminSkusListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Number</th>\r\n			<th>Label</th>\r\n			<th>Type</th>\r\n			<th>Quantity</th>\r\n    		<th>Is Void?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminSkusRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		Part: " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.part : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		Commodity: " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.commodity : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		Unit Type: " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.unitType : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
        }, "7": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "9": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.number || (depth0 != null ? depth0.number : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "number", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.part : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.commodity : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.unitType : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.program(9, data, 0), "data": data })) != null ? stack1 : "") + "</td>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/partCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './partModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_partModelJs) {
      Model = _partModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/part';
        },

        selectOptionsUrl: '/select_options/part'
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminPartsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "					<img width=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "\" height=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, depth0)) + "\" src=\"/image/" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.id : stack1, depth0)) + "/src\" />\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Part #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Part Id</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"partId\" type=\"text\" placeholder=\"Enter Id\">\r\n	</p>\r\n	<label class=\"label\">Alternate Id</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"partAltId\" type=\"text\" placeholder=\"Enter Alternate Id\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<label class=\"label\">Image</label>\r\n	<p class=\"control\">\r\n		<div class=\"si-uploaded-img-figure-container\" style=\"width:" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "px;\">\r\n			<figure class=\"image " + container.escapeExpression((helpers.getAspectRatioClass || depth0 && depth0.getAspectRatioClass || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, { "name": "getAspectRatioClass", "hash": {}, "data": data })) + "\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.image : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			</figure>\r\n		</div>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"upload\">Upload Image</button>\r\n	</p>\r\n	<label class=\"label\">Category</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"partCategory\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Group</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"partGroup\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminPartsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminPartsEditView.hbs!', 'lib/inventory/models/partCategoryCollection.js', 'lib/inventory/models/partGroupCollection.js', 'lib/common/views/uploadImageView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, PartCategoryCollection, PartGroupCollection, UploadImageView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminPartsEditViewHbs) {
      viewTpl = _adminPartsEditViewHbs.default;
    }, function (_libInventoryModelsPartCategoryCollectionJs) {
      PartCategoryCollection = _libInventoryModelsPartCategoryCollectionJs.default;
    }, function (_libInventoryModelsPartGroupCollectionJs) {
      PartGroupCollection = _libInventoryModelsPartGroupCollectionJs.default;
    }, function (_libCommonViewsUploadImageViewJs) {
      UploadImageView = _libCommonViewsUploadImageViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'partIdInput': 'input[name="partId"]',
          'partAltIdInput': 'input[name="partAltId"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'partCategorySelect': 'select[name="partCategory"]',
          'partGroupSelect': 'select[name="partGroup"]',
          'uploadButton': 'button[data-ui-name="upload"]'
        },
        events: {
          'click @ui.uploadButton': 'showLogoUploadDialog'
        },
        modelEvents: {
          'change:image': 'render'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.partIdInput': 'partId',
          '@ui.partAltIdInput': 'partAltId',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive',
          '@ui.partCategorySelect': {
            observe: 'partCategory',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', PartCategoryCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          },
          '@ui.partGroupSelect': {
            observe: 'partGroup',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', PartGroupCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          }
        },
        showLogoUploadDialog: function showLogoUploadDialog(event) {
          var myself = Radio.channel('data').request('myself');
          var organization = myself.get('organization');
          event.preventDefault();
          var options = {
            title: 'Upload Image',
            width: '400px'
          };
          var view = new UploadImageView({
            model: this.model,
            imageAttributeName: 'image',
            organization: organization
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminPartsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Part Id</th>\r\n			<th>Part Alt Id</th>\r\n			<th>Description</th>\r\n			<th>Part Category</th>\r\n			<th>Part Group</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminPartsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.partId || (depth0 != null ? depth0.partId : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "partId", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.partAltId || (depth0 != null ? depth0.partAltId : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "partAltId", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.partCategory : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.partGroup : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminPartCategoriesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">PartCategory #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register("lib/admin/views/adminPartCategoriesEditView.js", ["marionette", "./adminPartCategoriesEditView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminPartCategoriesEditViewHbs) {
      viewTpl = _adminPartCategoriesEditViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'isActiveInput': 'input[name="isActive"]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.isActiveInput': 'isActive'
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminPartCategoriesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminPartCategoriesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/partGroupCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './partGroupModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_partGroupModelJs) {
      Model = _partGroupModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/part_group';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminPartGroupsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">PartGroup #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register("lib/admin/views/adminPartGroupsEditView.js", ["marionette", "./adminPartGroupsEditView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminPartGroupsEditViewHbs) {
      viewTpl = _adminPartGroupsEditViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'isActiveInput': 'input[name="isActive"]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.isActiveInput': 'isActive'
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminPartGroupsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminPartGroupsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/commodityCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './commodityModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_commodityModelJs) {
      Model = _commodityModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/commodity';
        },

        selectOptionsUrl: '/select_options/commodity'
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminCommoditiesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "					<img width=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "\" height=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, depth0)) + "\" src=\"/image/" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.id : stack1, depth0)) + "/src\" />\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Commodity #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Commodity Id</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"commodityId\" type=\"text\" placeholder=\"Enter Id\">\r\n	</p>\r\n	<label class=\"label\">Alternate Id</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"commodityAltId\" type=\"text\" placeholder=\"Enter Alternate Id\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<label class=\"label\">Image</label>\r\n	<p class=\"control\">\r\n		<div class=\"si-uploaded-img-figure-container\" style=\"width:" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "px;\">\r\n			<figure class=\"image " + container.escapeExpression((helpers.getAspectRatioClass || depth0 && depth0.getAspectRatioClass || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, { "name": "getAspectRatioClass", "hash": {}, "data": data })) + "\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.image : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			</figure>\r\n		</div>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"upload\">Upload Image</button>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminCommoditiesEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminCommoditiesEditView.hbs!', 'lib/common/views/uploadImageView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, UploadImageView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminCommoditiesEditViewHbs) {
      viewTpl = _adminCommoditiesEditViewHbs.default;
    }, function (_libCommonViewsUploadImageViewJs) {
      UploadImageView = _libCommonViewsUploadImageViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'commodityIdInput': 'input[name="commodityId"]',
          'commodityAltIdInput': 'input[name="commodityAltId"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'partCategorySelect': 'select[name="partCategory"]',
          'partGroupSelect': 'select[name="partGroup"]',
          'uploadButton': 'button[data-ui-name="upload"]'
        },
        events: {
          'click @ui.uploadButton': 'showLogoUploadDialog'
        },
        modelEvents: {
          'change:image': 'render'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.commodityIdInput': 'commodityId',
          '@ui.commodityAltIdInput': 'commodityAltId',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive'
        },
        showLogoUploadDialog: function showLogoUploadDialog(event) {
          var myself = Radio.channel('data').request('myself');
          var organization = myself.get('organization');
          event.preventDefault();
          var options = {
            title: 'Upload Image',
            width: '400px'
          };
          var view = new UploadImageView({
            model: this.model,
            imageAttributeName: 'image',
            organization: organization
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminCommoditiesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Commodity Id</th>\r\n			<th>Commodity Alt Id</th>\r\n			<th>Description</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminCommoditiesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.commodityId || (depth0 != null ? depth0.commodityId : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "commodityId", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.commodityAltId || (depth0 != null ? depth0.commodityAltId : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "commodityAltId", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/unitTypeCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './unitTypeModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_unitTypeModelJs) {
      Model = _unitTypeModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/unit_type';
        },

        selectOptionsUrl: '/select_options/unit_type'
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminUnitTypesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "					<img width=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "\" height=\"" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, depth0)) + "\" src=\"/image/" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.id : stack1, depth0)) + "/src\" />\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Unit Type #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Manufacturer</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"manufacturer\" type=\"text\" placeholder=\"Enter Manufacturer\">\r\n	</p>\r\n	<label class=\"label\">Model</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"model\" type=\"text\" placeholder=\"Enter Model\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<label class=\"label\">Image</label>\r\n	<p class=\"control\">\r\n		<div class=\"si-uploaded-img-figure-container\" style=\"width:" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, depth0)) + "px;\">\r\n			<figure class=\"image " + container.escapeExpression((helpers.getAspectRatioClass || depth0 && depth0.getAspectRatioClass || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.width : stack1, (stack1 = (stack1 = depth0 != null ? depth0.image : depth0) != null ? stack1.attributes : stack1) != null ? stack1.height : stack1, { "name": "getAspectRatioClass", "hash": {}, "data": data })) + "\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.image : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "			</figure>\r\n		</div>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"upload\">Upload Image</button>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Properties</label>\r\n	<div class=\"control\">\r\n		<button type=\"button\" class=\"button is-small\" data-ui-name=\"addProperty\"><span class=\"fa fa-plus\"></span></button>\r\n		<span class=\"fa fa-spinner fa-pulse\" data-ui-name=\"propertyLoadingIndicator\"></span>\r\n		<ul data-region=\"properties\"></ul>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/uploadImageView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h3 class=\"title is-3\">Upload Image</h3>\r\n<div class=\"card\">\r\n  	<div class=\"card-image\">\r\n    	<figure class=\"image is-16by9\">\r\n      		<img data-ui-name=\"imageDisplay\" />\r\n    	</figure>\r\n  	</div>\r\n  	<div class=\"card-content\">\r\n		<form>\r\n			<label class=\"label\">Image</label>\r\n			<p class=\"control\">\r\n				<div class=\"message\" data-ui-name=\"dropTarget\">\r\n				  	<div class=\"message-body\">\r\n				  		<input class=\"is-hidden\" name=\"image\" type=\"file\" />\r\n						<button type=\"button\" name=\"openAddFile\" class=\"button is-large\">\r\n							<span class=\"icon is-large\">\r\n								<span class=\"fa fa-download fa-5x\"></span>\r\n							</span>\r\n						</button>\r\n						<p>Click Button or Drag Image File</p>\r\n				  	</div>\r\n				</div>\r\n			</p>\r\n			<p class=\"control\">\r\n				<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"upload\">Upload</button>\r\n				<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n			</p>\r\n		</form>\r\n	</div>\r\n</div>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/uploadImageView.js', ['jquery', 'underscore', 'backbone', 'backbone.radio', 'marionette', 'lib/common/models/uploadedImageModel.js', './uploadImageView.hbs!'], function (_export, _context) {
  "use strict";

  var jquery, _, Backbone, Radio, Marionette, ImageModel, viewTpl;

  return {
    setters: [function (_jquery) {
      jquery = _jquery.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsUploadedImageModelJs) {
      ImageModel = _libCommonModelsUploadedImageModelJs.default;
    }, function (_uploadImageViewHbs) {
      viewTpl = _uploadImageViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'imageDisplay': '[data-ui-name="imageDisplay"]',
          'dropTarget': '[data-ui-name="dropTarget"]',
          'openAddFileButton': 'button[name="openAddFile"]',
          'imageFileInput': 'input[name="image"]',
          'uploadButton': 'button[data-ui-name="upload"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'form': 'form'
        },
        events: {
          'click @ui.openAddFileButton': 'onOpenAddFileButtonClick',
          'change @ui.imageFileInput': 'addSelectedFile',
          'click @ui.uploadButton': 'uploadImage',
          'submit @ui.form': 'uploadImage',
          'click @ui.cancelButton': 'cancel'
        },
        onRender: function onRender() {
          var _this = this;

          var dropTarget = this.ui.dropTarget.get(0);
          ['dragenter', 'dragover', 'dragleave', 'dragstop', 'drop'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.stopNormalBehavior.bind(_this), false);
          });
          ['dragenter', 'dragover'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.showFilesHover.bind(_this), false);
          });
          ['drop', 'dragleave', 'dragstop'].forEach(function (event) {
            return dropTarget.addEventListener(event, _this.hideFilesHover.bind(_this), false);
          });
          window.addEventListener('dragover', this.stopNormalBehavior.bind(this), false);
          window.addEventListener('drop', this.stopNormalBehavior.bind(this), false);
          dropTarget.addEventListener('drop', this.addDroppedFiles.bind(this), false);
        },
        stopNormalBehavior: function stopNormalBehavior(event) {
          event.preventDefault();
          event.stopPropagation();
        },
        showFilesHover: function showFilesHover(event) {
          if (event.dataTransfer.files.length > 1) {
            this.ui.dropTarget.addClass('is-danger');
          } else {
            this.ui.dropTarget.addClass('is-success');
          }
        },
        hideFilesHover: function hideFilesHover(event) {
          this.ui.dropTarget.removeClass('is-success is-danger');
        },
        onOpenAddFileButtonClick: function onOpenAddFileButtonClick(event) {
          this.ui.imageFileInput.click();
        },
        addDroppedFiles: function addDroppedFiles(event) {
          if (event.dataTransfer.files.length > 0) {
            this.addFile(event.dataTransfer.files[0]);
          }
        },
        addSelectedFile: function addSelectedFile(event) {
          if (event.target.files.length > 0) {
            this.addFile(event.target.files[0]);
          }
        },
        addFile: function addFile(file) {
          var _this2 = this;

          this.imageFile = file;
          var fileReader = new FileReader();
          fileReader.onload = function () {
            _this2.ui.imageDisplay.attr('src', fileReader.result);
          };
          fileReader.readAsDataURL(file);
        },

        imageFile: null,
        uploadImage: function uploadImage(event) {
          var _this3 = this;

          event.preventDefault();
          this.disableButtons();
          if (this.imageFile) {
            (function () {
              var view = _this3;
              var image = new ImageModel({
                organization: _this3.options.organization
              });
              var formData = new FormData();
              formData.append('image', _this3.imageFile);
              jquery.ajax({
                url: '/organization/' + _this3.options.organization.id + '/upload_image',
                data: formData,
                processData: false,
                contentType: false,
                type: 'POST',
                success: function success(data) {
                  image.set(data);
                  view.assignImageToModelProperty(image);
                }
              });
            })();
          }
        },
        assignImageToModelProperty: function assignImageToModelProperty(image) {
          this.model.set(this.options.imageAttributeName, image);
          if (!this.model.isNew()) {
            this.model.save().then(function () {
              Radio.channel('dialog').trigger('close');
            });
          }
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        disableButtons: function disableButtons() {
          this.ui.uploadButton.prop('disabled', true).addClass('is-loading');
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.uploadButton.prop('disabled', false).removeClass('is-loading');
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/unitTypePropertiesItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "	(Required)\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return container.escapeExpression((helper = (helper = helpers.propertyName || (depth0 != null ? depth0.propertyName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "propertyName", "hash": {}, "data": data }) : helper)) + " -\r\n" + container.escapeExpression((helper = (helper = helpers.propertyType || (depth0 != null ? depth0.propertyType : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "propertyType", "hash": {}, "data": data }) : helper)) + "\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isRequired : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "<button type=\"button\" class=\"button is-small\" data-ui-name=\"editProperty\"><span class=\"fa fa-edit\"></span></button>\r\n<button type=\"button\" class=\"button is-small\" data-ui-name=\"removeProperty\"><span class=\"fa fa-minus\"></span></button>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/admin/views/unitTypePropertiesItemView.js', ['lib/globalNamespace.js', 'underscore', 'marionette', 'backbone.radio', './unitTypePropertiesItemView.hbs!', './editUnitTypePropertyView.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, Marionette, Radio, viewTpl, EditUnitTypePropertyView, View;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_unitTypePropertiesItemViewHbs) {
      viewTpl = _unitTypePropertiesItemViewHbs.default;
    }, function (_editUnitTypePropertyViewJs) {
      EditUnitTypePropertyView = _editUnitTypePropertyViewJs.default;
    }],
    execute: function () {
      View = Marionette.View.extend({
        template: viewTpl,
        tagName: "li",
        ui: {
          editButton: '[data-ui-name="editProperty"]',
          removeButton: '[data-ui-name="removeProperty"]'
        },
        events: {
          'click @ui.editButton': 'edit',
          'click @ui.removeButton': 'remove'
        },
        modelEvents: {
          'change': 'render'
        },
        edit: function edit(event) {
          event.preventDefault();
          var options = {
            title: 'Edit Property',
            width: '600px'
          };
          var view = new EditUnitTypePropertyView({
            model: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        remove: function remove() {
          this.model.destroy();
        }
      });


      globalNamespace.Views.UnitTypePropertiesItemView = View;

      _export('default', View);
    }
  };
});
"use strict";

System.register('lib/admin/views/unitTypePropertiesListView.js', ['marionette', './unitTypePropertiesItemView.js'], function (_export, _context) {
    "use strict";

    var Marionette, ItemView;
    return {
        setters: [function (_marionette) {
            Marionette = _marionette.default;
        }, function (_unitTypePropertiesItemViewJs) {
            ItemView = _unitTypePropertiesItemViewJs.default;
        }],
        execute: function () {
            _export('default', Marionette.CollectionView.extend({
                childView: ItemView,
                tagName: 'ul'
            }));
        }
    };
});
System.registerDynamic("lib/admin/views/editUnitTypePropertyView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "checked";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<h3 class=\"title is-3\">Unit Type Property #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Property Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"propertyName\" type=\"text\" value=\"" + container.escapeExpression((helper = (helper = helpers.propertyName || (depth0 != null ? depth0.propertyName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "propertyName", "hash": {}, "data": data }) : helper)) + "\" placeholder=\"Enter Property Name\">\r\n	</p>\r\n	<label class=\"label\">Property Type</label>\r\n	<p class=\"control\">\r\n		<select class=\"select\" name=\"propertyType\">\r\n			" + container.escapeExpression((helper = (helper = helpers.renderUnitTypePropertyTypesOptions || (depth0 != null ? depth0.renderUnitTypePropertyTypesOptions : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "renderUnitTypePropertyTypesOptions", "hash": {}, "data": data }) : helper)) + "\r\n		</select>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isRequired\" type=\"checkbox\" " + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isRequired : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">\r\n	    	Is Required?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Valid Values</label>\r\n	<div class=\"control\">\r\n		<p>If no valid values are supplied, the property is treated as free form</p>\r\n		<button type=\"button\" class=\"button is-small\" data-ui-name=\"addValidValue\"><span class=\"fa fa-plus\"></span></button>\r\n		<ul data-region=\"valid-values\"></ul>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Save</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/unitTypePropertyValidValuesItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
   var define,
       global = this || self,
       GLOBAL = global;
   var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
   module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
         return container.escapeExpression((helpers.renderUnitTypePropertyValidValueInput || depth0 && depth0.renderUnitTypePropertyValidValueInput || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "renderUnitTypePropertyValidValueInput", "hash": {}, "data": data })) + "\r\n<button type=\"button\" class=\"button is-small\" data-ui-name=\"removeValidValue\"><span class=\"fa fa-minus\"></span></button>\r\n";
      }, "useData": true });
   return module.exports;
});
"use strict";

System.register('lib/admin/views/unitTypePropertyValidValuesItemView.js', ['lib/globalNamespace.js', 'underscore', 'marionette', 'backbone.radio', './unitTypePropertyValidValuesItemView.hbs!'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, Marionette, Radio, viewTpl, View;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_unitTypePropertyValidValuesItemViewHbs) {
      viewTpl = _unitTypePropertyValidValuesItemViewHbs.default;
    }],
    execute: function () {
      View = Marionette.View.extend({
        template: viewTpl,
        tagName: "li",
        behaviors: {
          'Stickit': {}
        },
        ui: {
          integerValueInput: '[data-value-name="integerValue"]',
          floatValueInput: '[data-value-name="floatValue"]',
          booleanValueInput: '[data-value-name="booleanValue"]',
          stringValueInput: '[data-value-name="stringValue"]',
          removeButton: '[data-ui-name="removeValidValue"]'
        },
        events: {
          'click @ui.removeButton': 'remove'
        },
        modelEvents: {
          'change': 'render'
        },
        bindings: {
          '@ui.integerValueInput': 'integerValue',
          '@ui.floatValueInput': 'floatValue',
          '@ui.booleanValueInput': 'booleanValue',
          '@ui.stringValueInput': 'stringValue'
        },
        remove: function remove() {
          this.model.destroy();
        }
      });


      globalNamespace.Views.UnitTypePropertyValidValuesItemView = View;

      _export('default', View);
    }
  };
});
"use strict";

System.register('lib/admin/views/unitTypePropertyValidValuesListView.js', ['marionette', './unitTypePropertyValidValuesItemView.js'], function (_export, _context) {
    "use strict";

    var Marionette, ItemView;
    return {
        setters: [function (_marionette) {
            Marionette = _marionette.default;
        }, function (_unitTypePropertyValidValuesItemViewJs) {
            ItemView = _unitTypePropertyValidValuesItemViewJs.default;
        }],
        execute: function () {
            _export('default', Marionette.CollectionView.extend({
                childView: ItemView,
                tagName: 'ul'
            }));
        }
    };
});
"use strict";

System.register('lib/admin/views/editUnitTypePropertyView.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/defineProperty.js', 'jquery', 'underscore', 'backbone', 'backbone.radio', 'backbone.syphon', 'marionette', './editUnitTypePropertyView.hbs!', 'lib/inventory/models/unitTypePropertyValidValueModel.js', './unitTypePropertyValidValuesListView.js'], function (_export, _context) {
  "use strict";

  var _defineProperty, jquery, _, Backbone, Radio, Syphon, Marionette, viewTpl, UnitTypePropertyValidValueModel, UnitTypePropertyValidValuesListView;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs) {
      _defineProperty = _npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_editUnitTypePropertyViewHbs) {
      viewTpl = _editUnitTypePropertyViewHbs.default;
    }, function (_libInventoryModelsUnitTypePropertyValidValueModelJs) {
      UnitTypePropertyValidValueModel = _libInventoryModelsUnitTypePropertyValidValueModelJs.default;
    }, function (_unitTypePropertyValidValuesListViewJs) {
      UnitTypePropertyValidValuesListView = _unitTypePropertyValidValuesListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'propertyTypeSelect': 'select[name="propertyType"]',
          'isRequiredCheckbox': 'input[name="isRequired"]',
          'addValidValueButton': 'button[data-ui-name="addValidValue"]',
          'saveButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'form': 'form'
        },
        regions: {
          validValues: {
            el: '[data-region="valid-values"]',
            replaceElement: true
          }
        },
        events: {
          'change @ui.propertyTypeSelect': 'propertyTypeChanged',
          'click @ui.addValidValueButton': 'addValidValue',
          'submit @ui.form': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        onRender: function onRender() {
          var listView = new UnitTypePropertyValidValuesListView({
            collection: this.model.get('validValues')
          });
          this.showChildView('validValues', listView);
        },
        propertyTypeChanged: function propertyTypeChanged(event) {
          event.preventDefault();
          var newPropertyType = this.ui.propertyTypeSelect.val();
          var oldPropertyType = this.model.get('propertyType');
          this.model.set('propertyType', newPropertyType);
          this.model.get('validValues').each(function (validValue) {
            var _attrs;

            var attrs = (_attrs = {}, _defineProperty(_attrs, newPropertyType + 'Value', validValue.get(oldPropertyType + 'Value')), _defineProperty(_attrs, oldPropertyType + 'Value', null), _attrs);
            validValue.set(attrs);
          });
        },
        addValidValue: function addValidValue(event) {
          event.preventDefault();
          var validValue = UnitTypePropertyValidValueModel.findOrCreate({
            unitTypeProperty: this.model
          });
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableFormButtons();
          var attrs = Syphon.serialize(this);
          attrs.isRequired = this.ui.isRequiredCheckbox.prop('checked');
          this.model.save(attrs).always(function () {
            _this.enableFormButtons();
          }).done(function () {
            Radio.channel('dialog').trigger('close');
          });
        },
        cancel: function cancel(event) {
          event.preventDefault();
          Radio.channel('dialog').trigger('close');
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminUnitTypesEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminUnitTypesEditView.hbs!', 'lib/common/views/uploadImageView.js', 'lib/inventory/models/unitTypePropertyModel.js', './unitTypePropertiesListView.js', './editUnitTypePropertyView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, UploadImageView, UnitTypePropertyModel, UnitTypePropertiesListView, EditUnitTypePropertyView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminUnitTypesEditViewHbs) {
      viewTpl = _adminUnitTypesEditViewHbs.default;
    }, function (_libCommonViewsUploadImageViewJs) {
      UploadImageView = _libCommonViewsUploadImageViewJs.default;
    }, function (_libInventoryModelsUnitTypePropertyModelJs) {
      UnitTypePropertyModel = _libInventoryModelsUnitTypePropertyModelJs.default;
    }, function (_unitTypePropertiesListViewJs) {
      UnitTypePropertiesListView = _unitTypePropertiesListViewJs.default;
    }, function (_editUnitTypePropertyViewJs) {
      EditUnitTypePropertyView = _editUnitTypePropertyViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'manufacturerInput': 'input[name="manufacturer"]',
          'modelInput': 'input[name="model"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'partCategorySelect': 'select[name="partCategory"]',
          'partGroupSelect': 'select[name="partGroup"]',
          'uploadButton': 'button[data-ui-name="upload"]',
          'addPropertyButton': 'button[data-ui-name="addProperty"]',
          'removePropertyButton': 'button[data-ui-name="removeProperty"]',
          'propertyLoadingIndicator': 'span[data-ui-name="propertyLoadingIndicator"]'
        },
        regions: {
          properties: {
            el: '[data-region="properties"]',
            replaceElement: true
          }
        },
        events: {
          'click @ui.uploadButton': 'showLogoUploadDialog',
          'click @ui.addPropertyButton': 'addProperty',
          'click @ui.removePropertyButton': 'removeProperty'
        },
        modelEvents: {
          'change:image': 'render'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.manufacturerInput': 'manufacturer',
          '@ui.modelInput': 'model',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive'
        },
        onRender: function onRender() {
          this.ui.propertyLoadingIndicator.hide();
          var listView = new UnitTypePropertiesListView({
            collection: this.model.get('properties')
          });
          this.showChildView('properties', listView);
        },
        showLogoUploadDialog: function showLogoUploadDialog(event) {
          var myself = Radio.channel('data').request('myself');
          var organization = myself.get('organization');
          event.preventDefault();
          var options = {
            title: 'Upload Image',
            width: '400px'
          };
          var view = new UploadImageView({
            model: this.model,
            imageAttributeName: 'image',
            organization: organization
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        addProperty: function addProperty(event) {
          event.preventDefault();
          var property = UnitTypePropertyModel.findOrCreate({
            unitType: this.model
          });
          var options = {
            title: 'Add Property',
            width: '600px'
          };
          var view = new EditUnitTypePropertyView({
            model: property
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminUnitTypesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Manufacturer</th>\r\n			<th>Model</th>\r\n			<th>Description</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminUnitTypesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.manufacturer || (depth0 != null ? depth0.manufacturer : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "manufacturer", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.model || (depth0 != null ? depth0.model : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "model", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminBinTypesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">BinType #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Behavoirs</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	  		<select name=\"behavoir\"></select>\r\n  		</span>\r\n  		<button type=\"button\" class=\"button is-success\" name=\"addBehavoir\">Add</button>\r\n	</p>\r\n	<label class=\"label\">Current Behavoirs</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"behavoirs\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminBinTypesEditView.js', ['backbone', 'marionette', './adminBinTypesEditView.hbs!', 'lib/common/views/propertyArrayListView.js'], function (_export, _context) {
  "use strict";

  var Backbone, Marionette, viewTpl, PropertyArrayListView;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminBinTypesEditViewHbs) {
      viewTpl = _adminBinTypesEditViewHbs.default;
    }, function (_libCommonViewsPropertyArrayListViewJs) {
      PropertyArrayListView = _libCommonViewsPropertyArrayListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'behavoirSelect': 'select[name="behavoir"]',
          'addBehavoirButton': 'button[name="addBehavoir"]'
        },
        regions: {
          'behavoirs': '[data-ui-name="behavoirs"]'
        },
        events: {
          'click @ui.addBehavoirButton': 'onAddBehavoirButtonClicked'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive',
          '@ui.behavoirSelect': {
            observe: 'selectedBehavoir',
            selectOptions: {
              collection: function collection() {
                return this.model.behavoirList;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        onAddBehavoirButtonClicked: function onAddBehavoirButtonClicked(event) {
          event.preventDefault();
          if (this.model.get('selectedBehavoir') && !this.model.hasBehavoir(this.model.get('selectedBehavoir'))) {
            this.model.addBehavoir(this.model.get('selectedBehavoir'));
          }
        },
        onRender: function onRender() {
          this.showChildView('behavoirs', new PropertyArrayListView({
            model: this.model,
            propertyName: 'behavoirs',
            dictionary: this.model.behavoirList
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminBinTypesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Description</th>\r\n    		<th>Is Active?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminBinTypesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminBinsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Bin #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<label class=\"label\">Department</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"department\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Part Category</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"partCategory\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Bin Type</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"binType\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Parent</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"parent\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Children</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"children\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/partCategoryCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './partCategoryModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_partCategoryModelJs) {
      Model = _partCategoryModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/part_category';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/binItemViewTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<span class=\"tag is-dark\">\r\n	" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "\r\n</span>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/formChildItemView.js', ['underscore', 'marionette', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var _, Marionette, Radio;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        getTemplate: function getTemplate() {
          return this.options.template;
        },

        tagName: 'li',
        ui: {
          'deleteButton': 'button[name="delete"]'
        },
        events: {
          'click @ui.deleteButton': 'delete'
        },
        delete: function _delete(event) {
          if (!this.options.noDelete) {
            event.stopPropagation();
            this.model.destroy();
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/formChildListView.js', ['marionette', './formChildItemView.js', './noChildrenRowView.js', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenRowView, Radio;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_formChildItemViewJs) {
      ChildView = _formChildItemViewJs.default;
    }, function (_noChildrenRowViewJs) {
      NoChildrenRowView = _noChildrenRowViewJs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        emptyView: NoChildrenRowView,
        tagName: 'ul',
        childViewOptions: function childViewOptions(model, index) {
          if (this.collection.length > 0) {
            return {
              template: this.options.childTemplate,
              noDelete: this.options.noDelete
            };
          } else {
            return {
              noDelete: this.options.noDelete
            };
          }
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminBinsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminBinsEditView.hbs!', 'lib/common/models/officeCollection.js', 'lib/common/models/departmentCollection.js', 'lib/inventory/models/partCategoryCollection.js', 'lib/inventory/models/binTypeCollection.js', 'lib/inventory/models/binCollection.js', './binItemViewTpl.hbs!', 'lib/common/views/formChildListView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, OfficeCollection, DepartmentCollection, PartCategoryCollection, BinTypeCollection, BinCollection, binItemViewTpl, FormChildListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminBinsEditViewHbs) {
      viewTpl = _adminBinsEditViewHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_libCommonModelsDepartmentCollectionJs) {
      DepartmentCollection = _libCommonModelsDepartmentCollectionJs.default;
    }, function (_libInventoryModelsPartCategoryCollectionJs) {
      PartCategoryCollection = _libInventoryModelsPartCategoryCollectionJs.default;
    }, function (_libInventoryModelsBinTypeCollectionJs) {
      BinTypeCollection = _libInventoryModelsBinTypeCollectionJs.default;
    }, function (_libInventoryModelsBinCollectionJs) {
      BinCollection = _libInventoryModelsBinCollectionJs.default;
    }, function (_binItemViewTplHbs) {
      binItemViewTpl = _binItemViewTplHbs.default;
    }, function (_libCommonViewsFormChildListViewJs) {
      FormChildListView = _libCommonViewsFormChildListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'departmentSelect': 'select[name="department"]',
          'partCategorySelect': 'select[name="partCategory"]',
          'binTypeSelect': 'select[name="binType"]',
          'parentSelect': 'select[name="parent"]'
        },
        regions: {
          'children': '[data-ui-name="children"]'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.partIdInput': 'partId',
          '@ui.partAltIdInput': 'partAltId',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive',
          '@ui.departmentSelect': {
            observe: 'department',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', DepartmentCollection, { doFetch: false });
                var officeCollection = Radio.channel('data').request('collection', OfficeCollection, { doFetch: false });
                this.listenTo(officeCollection, 'add', function (office) {
                  collection.add(office.get('departments').models);
                });
                officeCollection.each(function (office) {
                  collection.add(office.get('departments').models);
                });
                return collection;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.partCategorySelect': {
            observe: 'partCategory',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', PartCategoryCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          },
          '@ui.binTypeSelect': {
            observe: 'binType',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', BinTypeCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          },
          '@ui.parentSelect': {
            observe: 'parent',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', BinCollection, { fetchAll: true });
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          }
        },
        onRender: function onRender() {
          this.showChildView('children', new FormChildListView({
            collection: this.model.get('children'),
            childTemplate: binItemViewTpl,
            noDelete: true
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminBinsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Description</th>\r\n			<th>Department</th>\r\n			<th>Part Category</th>\r\n			<th>Bin Type</th>\r\n    		<th>Is Active?</th>\r\n    		<th>Parent</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminBinsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.department : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.partCategory : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.binType : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.parent : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryMovementRuleModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userRoleModel.js', './binTypeModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserRoleModelJs) {}, function (_binTypeModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize() {
          this.set('restrictions', []);
        },

        restrictionList: {},
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_movement_rule';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'role',
          relatedModel: 'UserRoleModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'binType',
          relatedModel: 'BinTypeModel',
          includeInJSON: ['id']
        }],
        defaults: {
          name: null,
          description: null,
          isActive: null,
          role: true,
          binType: null,
          restrictions: null
        },
        hasRestriction: function hasRestriction(restriction) {
          return this.get('restrictions').indexOf(restriction) > -1;
        },
        addRestriction: function addRestriction(restriction) {
          if (!this.hasRestriction(restriction)) {
            this.get('restrictions').push(restriction);
            this.trigger('change:restrictions', this, this.get('restrictions'), {});
          }
        },
        removeRestriction: function removeRestriction(restriction) {
          var index = this.get('restrictions').indexOf(restriction);
          if (index > -1) {
            this.get('restrictions').splice(index, 1);
            this.trigger('change:restrictions', this, this.get('restrictions'), {});
          }
        }
      });


      globalNamespace.Models.InventoryMovementRuleModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryMovementRuleCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryMovementRuleModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryMovementRuleModelJs) {
      Model = _inventoryMovementRuleModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_movement_rule';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInventoryMovementRulesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">InventoryMomentRule #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\">\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Roles</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	  		<select name=\"role\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Bin Type</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"binType\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">Restrictions</label>\r\n	<p class=\"control has-addons\">\r\n		<span class=\"select\">\r\n	  		<select name=\"restriction\"></select>\r\n  		</span>\r\n  		<button type=\"button\" class=\"button is-success\" name=\"addRestriction\">Add</button>\r\n	</p>\r\n	<label class=\"label\">Current Restrictions</label>\r\n	<div class=\"control\">\r\n		<div class=\"box\" data-ui-name=\"restrictions\"></div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/propertyArrayListView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data, blockParams, depths) {
            return "	<li>\r\n		<span class=\"tag is-dark\">\r\n			" + container.escapeExpression((helpers.translate || depth0 && depth0.translate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, depths[1] != null ? depths[1].dictionary : depths[1], { "name": "translate", "hash": {}, "data": data })) + "\r\n			<button data-restriction=\"" + container.escapeExpression(container.lambda(depth0, depth0)) + "\" type=\"button\" name=\"delete\" class=\"delete\"></button>\r\n		</span>\r\n	</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data, blockParams, depths) {
            var stack1;

            return "<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.elements : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</ul>";
        }, "useData": true, "useDepths": true });
    return module.exports;
});
"use strict";

System.register('lib/common/views/propertyArrayListView.js', ['underscore', 'marionette', './propertyArrayListView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_propertyArrayListViewHbs) {
      viewTpl = _propertyArrayListViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.listenTo(options.model, 'change:' + options.propertyName, this.render);
        },

        template: viewTpl,
        ui: {
          'deleteButton': 'button[name="delete"]'
        },
        events: {
          'click @ui.deleteButton': 'removeElement'
        },
        serializeData: function serializeData() {
          return {
            elements: this.model.get(this.options.propertyName),
            dictionary: this.options.dictionary
          };
        },
        removeElement: function removeElement(event) {
          event.preventDefault();
          this.model['remove' + this.options.propertyName.capitalizeFirstLetter()](event.target.dataset.element);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/roleCollection.js', ['./baseUrlBaseCollection.js', './roleModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_roleModelJs) {
      Model = _roleModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        title: 'Users',
        model: Model,
        url: function url() {
          return this.baseUrl + '/role';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/binTypeCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './binTypeModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_binTypeModelJs) {
      Model = _binTypeModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/bin_type';
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminInventoryMovementRulesEditView.js', ['backbone', 'backbone.radio', 'marionette', './adminInventoryMovementRulesEditView.hbs!', 'lib/common/views/propertyArrayListView.js', 'lib/common/models/roleCollection.js', 'lib/inventory/models/binTypeCollection.js'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, Marionette, viewTpl, PropertyArrayListView, RoleCollection, BinTypeCollection;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminInventoryMovementRulesEditViewHbs) {
      viewTpl = _adminInventoryMovementRulesEditViewHbs.default;
    }, function (_libCommonViewsPropertyArrayListViewJs) {
      PropertyArrayListView = _libCommonViewsPropertyArrayListViewJs.default;
    }, function (_libCommonModelsRoleCollectionJs) {
      RoleCollection = _libCommonModelsRoleCollectionJs.default;
    }, function (_libInventoryModelsBinTypeCollectionJs) {
      BinTypeCollection = _libInventoryModelsBinTypeCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'descriptionInput': 'textarea[name="description"]',
          'isActiveInput': 'input[name="isActive"]',
          'roleSelect': 'select[name="role"]',
          'binTypeSelect': 'select[name="binType"]',
          'restrictionSelect': 'select[name="restriction"]',
          'addRestrictionButton': 'button[name="addRestriction"]'
        },
        regions: {
          'restrictions': '[data-ui-name="restrictions"]'
        },
        events: {
          'click @ui.addRestrictionButton': 'onAddRestrictionButtonClicked'
        },
        bindings: {
          '@ui.nameInput': 'name',
          '@ui.descriptionInput': 'description',
          '@ui.isActiveInput': 'isActive',
          '@ui.roleSelect': {
            observe: 'role',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var roles = Radio.channel('data').request('collection', RoleCollection);
                return roles;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          },
          '@ui.binTypeSelect': {
            observe: 'binType',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', BinTypeCollection);
                return collection;
              },

              defaultOption: {
                label: 'Choose one or none...',
                value: null
              }
            }
          },
          '@ui.restrictionSelect': {
            observe: 'selectedRestriction',
            selectOptions: {
              collection: function collection() {
                return this.model.restrictionList;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        onAddRestrictionButtonClicked: function onAddRestrictionButtonClicked(event) {
          event.preventDefault();
          if (this.model.get('selectedRestriction') && !this.model.hasRestriction(this.model.get('selectedRestriction'))) {
            this.model.addRestriction(this.model.get('selectedRestriction'));
          }
        },
        onRender: function onRender() {
          this.showChildView('restrictions', new PropertyArrayListView({
            model: this.model,
            propertyName: 'restrictions',
            dictionary: this.model.restrictionList
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInventoryMovementRulesListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n			<th>Description</th>\r\n    		<th>Is Active?</th>\r\n    		<th>For Role</th>\r\n    		<th>For Bin Type</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminInventoryMovementRulesRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.role : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.binType : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryAlertModel.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/defineProperty.js', 'jquery', 'lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userRoleModel.js', './binTypeModel.js'], function (_export, _context) {
  "use strict";

  var _defineProperty, jquery, globalNamespace, BackboneRelational, BaseUrlBaseModel, _types, TYPE_LESS_THAN, TYPE_GREATER_THAN, Model;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs) {
      _defineProperty = _npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserRoleModelJs) {}, function (_binTypeModelJs) {}],
    execute: function () {
      TYPE_LESS_THAN = 1;
      TYPE_GREATER_THAN = 2;
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_alert';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'department',
          relatedModel: 'DepartmentModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }],
        defaults: {
          department: null,
          sku: null,
          isActive: true,
          count: null,
          type: TYPE_LESS_THAN,
          types: (_types = {}, _defineProperty(_types, TYPE_LESS_THAN, 'Less Than'), _defineProperty(_types, TYPE_GREATER_THAN, 'Greater Than'), _types)
        },
        runAlert: function runAlert() {
          var thisModel = this;
          return new Promise(function (resolve, reject) {
            jquery.ajax(thisModel.url() + '/run', {
              accepts: {
                json: 'application/json'
              },
              dataType: 'json'
            }).done(function (resultsData) {
              resolve(resultsData);
            }).fail(function (response) {
              reject(response);
            });
          });
        }
      });


      globalNamespace.Models.InventoryAlertModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryAlertCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryAlertModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryAlertModelJs) {
      Model = _inventoryAlertModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_alert';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInventoryAlertsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "		  			<option value=\"" + container.escapeExpression((helper = (helper = helpers.key || data && data.key) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "key", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression(container.lambda(depth0, depth0)) + "</option>\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">InventoryAlert #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Department</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"department\"></select>\r\n  		</span>\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"sku\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isActive\" type=\"checkbox\">\r\n	    	Is Active?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"count\" type=\"number\" placeholder=\"Enter Count\" />\r\n	</p>\r\n	<label class=\"label\">Type</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n			<select name=\"type\">\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.types : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		  	</select>\r\n  		</span>\r\n	</p>\r\n	<p>\r\n		<button type=\"button\" class=\"button is-warning\" data-ui=\"run\">Run Alert</button>\r\n		<span data-ui=\"alertResults\"></span>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/models/officeCollection.js', ['./baseUrlBaseCollection.js', './officeModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_officeModelJs) {
      Model = _officeModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/office';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/departmentCollection.js', ['./baseUrlBaseCollection.js', './departmentModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_departmentModelJs) {
      Model = _departmentModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/department';
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminInventoryAlertsEditView.js', ['backbone', 'backbone.radio', 'marionette', './adminInventoryAlertsEditView.hbs!', 'lib/common/models/officeCollection.js', 'lib/common/models/departmentCollection.js', 'lib/inventory/models/skuCollection.js'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, Marionette, viewTpl, OfficeCollection, DepartmentCollection, SkuCollection;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminInventoryAlertsEditViewHbs) {
      viewTpl = _adminInventoryAlertsEditViewHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_libCommonModelsDepartmentCollectionJs) {
      DepartmentCollection = _libCommonModelsDepartmentCollectionJs.default;
    }, function (_libInventoryModelsSkuCollectionJs) {
      SkuCollection = _libInventoryModelsSkuCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {},
          'RemoteSearchSelect2': {
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name'
            }
          }
        },
        ui: {
          'departmentSelect': 'select[name="department"]',
          'skuSelect': 'select[name="sku"]',
          'isActiveInput': 'input[name="isActive"]',
          'countInput': 'input[name="count"]',
          'typeSelect': 'select[name="type"]',
          'runAlertButton': 'button[data-ui="run"]',
          'alertResults': 'span[data-ui="alertResults"]'
        },
        events: {
          'change @ui.skuSelect': 'skuChanged',
          'click @ui.runAlertButton': 'runAlert'
        },
        bindings: {
          '@ui.countInput': 'count',
          '@ui.typeSelect': 'type',
          '@ui.isActiveInput': 'isActive',
          '@ui.departmentSelect': {
            observe: 'department',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: function collection() {
                var collection = Radio.channel('data').request('collection', DepartmentCollection, { doFetch: false });
                var officeCollection = Radio.channel('data').request('collection', OfficeCollection, { doFetch: false });
                this.listenTo(officeCollection, 'add', function (office) {
                  collection.add(office.get('departments').models);
                });
                officeCollection.each(function (office) {
                  collection.add(office.get('departments').models);
                });
                return collection;
              },

              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        skuChanged: function skuChanged() {
          this.model.set('sku', SkuCollection.prototype.model.findOrCreate({ id: parseInt(this.ui.skuSelect.val()) }));
        },
        runAlert: function runAlert() {
          var _this = this;

          this.ui.runAlertButton.prop('disabled', true);
          this.ui.alertResults.text('...');
          this.model.runAlert().then(function (results) {
            _this.ui.runAlertButton.prop('disabled', false);
            _this.ui.alertResults.text(results.alertsRun + ' alerts run, ' + results.alertsFound + ' alerts found, ' + results.alertsSent + ' alerts sent.');
          }).catch(function (err) {
            _this.ui.runAlertButton.prop('disabled', false);
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInventoryAlertsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Department</th>\r\n			<th>SKU</th>\r\n    		<th>Is Active?</th>\r\n    		<th>Count</th>\r\n    		<th>Type</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminInventoryAlertsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "Yes";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "No";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.department : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isActive : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.count || (depth0 != null ? depth0.count : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "count", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression(helpers.lookup.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.types : depth0, depth0 != null ? depth0.type : depth0, { "name": "lookup", "hash": {}, "data": data })) + "</td>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/admin/views/adminClientsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Client #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<div class=\"columns\">\r\n		<div class=\"column\">\r\n			<label class=\"label\">Contacts</label>\r\n			<button class=\"button\" data-ui-name=\"addContact\"><span class=\"fa fa-plus\"></span></button>\r\n			<div class=\"control\">\r\n				<div class=\"box\" data-ui-name=\"contacts\"></div>\r\n			</div>\r\n		</div>\r\n		<div class=\"column\">\r\n			<label class=\"label\">Addresses</label>\r\n			<button class=\"button\" data-ui-name=\"addAddress\"><span class=\"fa fa-plus\"></span></button>\r\n			<div class=\"control\">\r\n				<div class=\"box\" data-ui-name=\"addresses\"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminClientsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminClientsEditView.hbs!', 'lib/common/models/contactModel.js', './adminContactsEditView.js', './contactListView.js', 'lib/common/models/addressModel.js', './adminAddressesEditView.js', './addressListView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, ContactModel, AdminContactsEditView, ContactListView, AddressModel, AdminAddressesEditView, AddressListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminClientsEditViewHbs) {
      viewTpl = _adminClientsEditViewHbs.default;
    }, function (_libCommonModelsContactModelJs) {
      ContactModel = _libCommonModelsContactModelJs.default;
    }, function (_adminContactsEditViewJs) {
      AdminContactsEditView = _adminContactsEditViewJs.default;
    }, function (_contactListViewJs) {
      ContactListView = _contactListViewJs.default;
    }, function (_libCommonModelsAddressModelJs) {
      AddressModel = _libCommonModelsAddressModelJs.default;
    }, function (_adminAddressesEditViewJs) {
      AdminAddressesEditView = _adminAddressesEditViewJs.default;
    }, function (_addressListViewJs) {
      AddressListView = _addressListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        regions: {
          'contacts': '[data-ui-name="contacts"]',
          'addresses': '[data-ui-name="addresses"]'
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'addContactButton': 'button[data-ui-name="addContact"]',
          'addAddressButton': 'button[data-ui-name="addAddress"]'
        },
        events: {
          'click @ui.addContactButton': 'openAddContactDialog',
          'click @ui.addAddressButton': 'openAddAddressDialog'
        },
        bindings: {
          '@ui.nameInput': 'name'
        },
        onRender: function onRender() {
          this.showChildView('contacts', new ContactListView({
            collection: this.model.get('contacts')
          }));
          this.showChildView('addresses', new AddressListView({
            collection: this.model.get('addresses')
          }));
        },
        openAddContactDialog: function openAddContactDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Add Contact',
            width: '400px'
          };
          var contact = ContactModel.findOrCreate({
            client: this.model
          });
          var view = new AdminContactsEditView({
            model: contact,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        openAddAddressDialog: function openAddAddressDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Add Address',
            width: '400px'
          };
          var address = AddressModel.findOrCreate({
            client: this.model
          });
          var view = new AdminAddressesEditView({
            model: address,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminClientsListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminClientsRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminCustomersEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Customer #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"name\" type=\"text\" placeholder=\"Enter Name\" />\r\n	</p>\r\n	<div class=\"columns\">\r\n		<div class=\"column\">\r\n			<label class=\"label\">Contacts</label>\r\n			<button class=\"button\" data-ui-name=\"addContact\"><span class=\"fa fa-plus\"></span></button>\r\n			<div class=\"control\">\r\n				<div class=\"box\" data-ui-name=\"contacts\"></div>\r\n			</div>\r\n		</div>\r\n		<div class=\"column\">\r\n			<label class=\"label\">Addresses</label>\r\n			<button class=\"button\" data-ui-name=\"addAddress\"><span class=\"fa fa-plus\"></span></button>\r\n			<div class=\"control\">\r\n				<div class=\"box\" data-ui-name=\"addresses\"></div>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/contactItemViewTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<span class=\"tag is-large is-dark\">\r\n	" + container.escapeExpression((helper = (helper = helpers.firstName || (depth0 != null ? depth0.firstName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "firstName", "hash": {}, "data": data }) : helper)) + " " + container.escapeExpression((helper = (helper = helpers.lastName || (depth0 != null ? depth0.lastName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "lastName", "hash": {}, "data": data }) : helper)) + "\r\n	<button type=\"button\" data-ui=\"edit\" title=\"Edit\" class=\"si-tag-button button is-dark is-small\">\r\n		<span class=\"icon is-small fa fa-pencil\"></span>\r\n	</button>\r\n</span>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminContactsEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.client : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
    }, "3": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.customer : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Contact #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<h5 class=\"subtitle is-5\">For\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.client : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.customer : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</h5>\r\n<form>\r\n	<label class=\"label\">First Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"firstName\" type=\"text\" placeholder=\"Enter First Name\" />\r\n	</p>\r\n	<label class=\"label\">Name</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"lastName\" type=\"text\" placeholder=\"Enter Last Name\" />\r\n	</p>\r\n	<label class=\"label\">Email Address</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"emailAddress\" type=\"text\" placeholder=\"Enter Email Address\" />\r\n	</p>\r\n	<label class=\"label\">Phone Number</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"phoneNumber\" type=\"text\" placeholder=\"Enter Phone Number\" />\r\n	</p>\r\n	<label class=\"label\">Position</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"position\" type=\"text\" placeholder=\"Enter Position\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminContactsEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminContactsEditView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminContactsEditViewHbs) {
      viewTpl = _adminContactsEditViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: function behaviors() {
          return {
            'Stickit': {},
            'ShowNotSynced': {},
            'SetNotSynced': {},
            'SaveCancelDelete': {
              postDelete: this.options.postDelete
            }
          };
        },

        ui: {
          'firstNameInput': 'input[name="firstName"]',
          'lastNameInput': 'input[name="lastName"]',
          'emailAddressInput': 'input[name="emailAddress"]',
          'phoneNumberInput': 'input[name="phoneNumber"]',
          'positionInput': 'input[name="position"]'
        },
        bindings: {
          '@ui.firstNameInput': 'firstName',
          '@ui.lastNameInput': 'lastName',
          '@ui.emailAddressInput': 'emailAddress',
          '@ui.phoneNumberInput': 'phoneNumber',
          '@ui.positionInput': 'position'
        }
      }));
    }
  };
});
'use strict';

System.register('lib/admin/views/contactItemView.js', ['marionette', 'backbone.radio', './contactItemViewTpl.hbs!', './adminContactsEditView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, viewTpl, AdminContactsEditView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_contactItemViewTplHbs) {
      viewTpl = _contactItemViewTplHbs.default;
    }, function (_adminContactsEditViewJs) {
      AdminContactsEditView = _adminContactsEditViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'li',
        ui: {
          'editButton': 'button[data-ui="edit"]'
        },
        events: {
          'click @ui.editButton': 'openEditContactDialog'
        },
        modelEvents: {
          'change': 'render'
        },
        openEditContactDialog: function openEditContactDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Edit Contact',
            width: '400px'
          };
          var view = new AdminContactsEditView({
            model: this.model,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/admin/views/contactListView.js', ['marionette', './contactItemView.js'], function (_export, _context) {
  "use strict";

  var Marionette, ContactItemView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_contactItemViewJs) {
      ContactItemView = _contactItemViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ContactItemView,
        tagName: 'ul',
        className: 'si-large-tag-list'
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/addressItemViewTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<span class=\"tag is-large is-dark\">\r\n	" + container.escapeExpression((helper = (helper = helpers.type || (depth0 != null ? depth0.type : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "type", "hash": {}, "data": data }) : helper)) + ": " + container.escapeExpression((helper = (helper = helpers.street || (depth0 != null ? depth0.street : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "street", "hash": {}, "data": data }) : helper)) + "\r\n	<button type=\"button\" data-ui=\"edit\" title=\"Edit\" class=\"si-tag-button button is-dark is-small\">\r\n		<span class=\"icon is-small fa fa-pencil\"></span>\r\n	</button>\r\n</span>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminAddressesEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.client : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
    }, "3": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.customer : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Address #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<h5 class=\"subtitle is-5\">For\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.client : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.customer : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</h5>\r\n<form>\r\n	<label class=\"label\">Street</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"street\" type=\"text\" placeholder=\"Enter Street\" />\r\n	</p>\r\n	<label class=\"label\">Unit</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"unit\" type=\"text\" placeholder=\"Enter Unit #\" />\r\n	</p>\r\n	<label class=\"label\">City</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"city\" type=\"text\" placeholder=\"Enter City\" />\r\n	</p>\r\n	<label class=\"label\">State / Province</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"state\" type=\"text\" placeholder=\"Enter State or Province\" />\r\n	</p>\r\n	<label class=\"label\">Zip / Postal Code</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"postalCode\" type=\"text\" placeholder=\"Enter Zip or Postal Code\" />\r\n	</p>\r\n	<label class=\"label\">Country</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"country\" type=\"text\" placeholder=\"Enter Country\" />\r\n	</p>\r\n	<label class=\"label\">Address Type</label>\r\n	<p class=\"control\">\r\n	  	<span class=\"select\">\r\n	    	<select name=\"type\">\r\n	      		<option value=\"billing\">Billing</option>\r\n	      		<option value=\"mailing\">Mailing</option>\r\n	      		<option value=\"shipping\">Shipping</option>\r\n	    	</select>\r\n	  	</span>\r\n	</p>\r\n	<label class=\"label\">Note</label>\r\n	<p class=\"control\">\r\n	 	<textarea class=\"textarea\" name=\"note\" placeholder=\"Enter Notes\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/adminAddressesEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminAddressesEditView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminAddressesEditViewHbs) {
      viewTpl = _adminAddressesEditViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: function behaviors() {
          return {
            'Stickit': {},
            'ShowNotSynced': {},
            'SetNotSynced': {},
            'SaveCancelDelete': {
              postDelete: this.options.postDelete
            }
          };
        },

        ui: {
          'streetInput': 'input[name="street"]',
          'unitInput': 'input[name="unit"]',
          'cityInput': 'input[name="city"]',
          'stateInput': 'input[name="state"]',
          'postalCodeInput': 'input[name="postalCode"]',
          'countryInput': 'input[name="country"]',
          'typeInput': 'select[name="type"]',
          'noteInput': 'input[name="note"]'
        },
        bindings: {
          '@ui.streetInput': 'street',
          '@ui.unitInput': 'unit',
          '@ui.cityInput': 'city',
          '@ui.stateInput': 'state',
          '@ui.postalCodeInput': 'postalCode',
          '@ui.countryInput': 'country',
          '@ui.typeInput': 'type',
          '@ui.noteInput': 'note'
        }
      }));
    }
  };
});
'use strict';

System.register('lib/admin/views/addressItemView.js', ['marionette', 'backbone.radio', './addressItemViewTpl.hbs!', './adminAddressesEditView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, viewTpl, AdminAddressesEditView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_addressItemViewTplHbs) {
      viewTpl = _addressItemViewTplHbs.default;
    }, function (_adminAddressesEditViewJs) {
      AdminAddressesEditView = _adminAddressesEditViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'li',
        ui: {
          'editButton': 'button[data-ui="edit"]'
        },
        events: {
          'click @ui.editButton': 'openEditAddressDialog'
        },
        modelEvents: {
          'change': 'render'
        },
        openEditAddressDialog: function openEditAddressDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Edit Address',
            width: '400px'
          };
          var view = new AdminAddressesEditView({
            model: this.model,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/admin/views/addressListView.js', ['marionette', './addressItemView.js'], function (_export, _context) {
  "use strict";

  var Marionette, AddressItemView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_addressItemViewJs) {
      AddressItemView = _addressItemViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: AddressItemView,
        tagName: 'ul',
        className: 'si-large-tag-list'
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminCustomersEditView.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './adminCustomersEditView.hbs!', 'lib/common/models/contactModel.js', './adminContactsEditView.js', './contactListView.js', 'lib/common/models/addressModel.js', './adminAddressesEditView.js', './addressListView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, viewTpl, ContactModel, AdminContactsEditView, ContactListView, AddressModel, AdminAddressesEditView, AddressListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminCustomersEditViewHbs) {
      viewTpl = _adminCustomersEditViewHbs.default;
    }, function (_libCommonModelsContactModelJs) {
      ContactModel = _libCommonModelsContactModelJs.default;
    }, function (_adminContactsEditViewJs) {
      AdminContactsEditView = _adminContactsEditViewJs.default;
    }, function (_contactListViewJs) {
      ContactListView = _contactListViewJs.default;
    }, function (_libCommonModelsAddressModelJs) {
      AddressModel = _libCommonModelsAddressModelJs.default;
    }, function (_adminAddressesEditViewJs) {
      AdminAddressesEditView = _adminAddressesEditViewJs.default;
    }, function (_addressListViewJs) {
      AddressListView = _addressListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {}
        },
        regions: {
          'contacts': '[data-ui-name="contacts"]',
          'addresses': '[data-ui-name="addresses"]'
        },
        ui: {
          'nameInput': 'input[name="name"]',
          'addContactButton': 'button[data-ui-name="addContact"]',
          'addAddressButton': 'button[data-ui-name="addAddress"]'
        },
        events: {
          'click @ui.addContactButton': 'openAddContactDialog',
          'click @ui.addAddressButton': 'openAddAddressDialog'
        },
        bindings: {
          '@ui.nameInput': 'name'
        },
        onRender: function onRender() {
          this.showChildView('contacts', new ContactListView({
            collection: this.model.get('contacts')
          }));
          this.showChildView('addresses', new AddressListView({
            collection: this.model.get('addresses')
          }));
        },
        openAddContactDialog: function openAddContactDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Add Contact',
            width: '400px'
          };
          var contact = ContactModel.findOrCreate({
            customer: this.model
          });
          var view = new AdminContactsEditView({
            model: contact,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        openAddAddressDialog: function openAddAddressDialog(event) {
          event.preventDefault();
          var options = {
            title: 'Add Address',
            width: '400px'
          };
          var address = AddressModel.findOrCreate({
            customer: this.model
          });
          var view = new AdminAddressesEditView({
            model: address,
            postDelete: function postDelete() {
              Radio.channel('dialog').trigger('close');
            }
          });
          this.listenTo(view, 'show:list', function () {
            Radio.channel('dialog').trigger('close');
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminCustomersListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Name</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminCustomersRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</a></td>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminInboundOrdersEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "New ";
        }, "3": function (container, depth0, helpers, partials, data) {
            var helper;

            return "	#" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "[" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "]\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<h3 class=\"title is-3\">\r\n" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "unless", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\nInboundOrder\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</h3>\r\n<form>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isVoid\" type=\"checkbox\">\r\n	    	Is Void?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Client</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"client\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<button type=\"button\" class=\"button\" data-ui-name=\"showManifest\">Show Manifest</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/accounting/models/clientCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './clientModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_clientModelJs) {
      Model = _clientModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/client';
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminInboundOrdersEditView.js', ['underscore', 'backbone', 'backbone.radio', 'backbone.syphon', 'marionette', './adminInboundOrdersEditView.hbs!', 'lib/accounting/models/clientCollection.js', 'lib/common/views/loadingView.js', './orderManifestListTableLayoutView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Syphon, Marionette, viewTpl, ClientCollection, LoadingView, OrderManifestListTableLayoutView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminInboundOrdersEditViewHbs) {
      viewTpl = _adminInboundOrdersEditViewHbs.default;
    }, function (_libAccountingModelsClientCollectionJs) {
      ClientCollection = _libAccountingModelsClientCollectionJs.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }, function (_orderManifestListTableLayoutViewJs) {
      OrderManifestListTableLayoutView = _orderManifestListTableLayoutViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {
            save: 'save'
          },
          'RemoteSearchSelect2': {
            client: {
              url: ClientCollection.prototype.url(),
              search: 'name'
            }
          }
        },
        ui: {
          'descriptionInput': 'textarea[name="description"]',
          'isVoidInput': 'input[name="isVoid"]',
          'clientSelect': 'select[name="client"]',
          'showManifestButton': 'button[data-ui-name="showManifest"]',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        bindings: {
          '@ui.descriptionInput': 'description',
          '@ui.isVoidInput': 'isVoid'
        },
        events: {
          'click @ui.showManifestButton': 'showManifest'
        },
        showManifest: function showManifest(event) {
          event.preventDefault();
          var options = {
            title: 'InboundOrder ' + this.model.get('label') + ' Manifest',
            width: '800px'
          };
          var view = new OrderManifestListTableLayoutView({
            collection: this.model.get('travelerIds'),
            model: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', new LoadingView(), options);
          this.model.fetch().then(function () {
            Radio.channel('dialog').trigger('open', view, options);
          });
        },
        save: function save(event) {
          var _this = this;

          this.disableFormButtons();
          this.update();
          this.model.save().always(function () {
            _this.enableFormButtons();
          }).done(function () {
            _this.triggerMethod('show:list', _this, {
              view: _this,
              model: _this.model
            });
          });
        },
        update: function update() {
          var attr = Syphon.serialize(this);
          var setAttr = {
            client: ClientCollection
          };
          _.each(setAttr, function (Collection, attributeName) {
            if (parseInt(attr[attributeName])) {
              setAttr[attributeName] = Collection.prototype.model.findOrCreate({ id: parseInt(attr[attributeName]) });
            } else {
              delete setAttr[attributeName];
            }
          });
          this.model.set(setAttr);
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminInboundOrdersListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Client</th>\r\n			<th>Inbound Order Label</th>\r\n			<th>Description</th>\r\n			<th>Is Void?</th>\r\n			<th>Traveler Id Count</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminInboundOrdersRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.client : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helpers["boolean"] || depth0 && depth0["boolean"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "boolean", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.travelerIdCount || (depth0 != null ? depth0.travelerIdCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "travelerIdCount", "hash": {}, "data": data }) : helper)) + "</td>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminOutboundOrdersEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "New ";
        }, "3": function (container, depth0, helpers, partials, data) {
            var helper;

            return "	#" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "[" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "]\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            return " is-disabled";
        }, "7": function (container, depth0, helpers, partials, data) {
            return "disabled";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<h3 class=\"title is-3\">\r\n" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "unless", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\nOutboundOrder\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</h3>\r\n<form>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea class=\"textarea\" name=\"description\" placeholder=\"Enter Description\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isVoid\" type=\"checkbox\">\r\n	    	Is Void?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Customer</label>\r\n	<p class=\"control\">\r\n		<span class=\"select\">\r\n	  		<select name=\"customer\"></select>\r\n  		</span>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<button type=\"button\" class=\"button\" data-ui-name=\"showManifest\">Show Manifest</button>\r\n		<button type=\"button\" class=\"button" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isShipped : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\" " + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isShipped : depth0, { "name": "if", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + " data-ui-name=\"shipOrder\">Ship Order</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/accounting/models/customerCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './customerModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_customerModelJs) {
      Model = _customerModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/customer';
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/orderManifestItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return " si-is-void";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.transform : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "4": function (container, depth0, helpers, partials, data) {
            return " si-has-transform";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		(" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.unit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.serial : stack1, depth0)) + ")\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>\r\n	<a class=\"entity-link" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.transform : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</a>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.unit : depth0, { "name": "if", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.quantity : stack1, depth0)) + "</td>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/admin/views/orderManifestItemView.js', ['lib/globalNamespace.js', 'underscore', 'marionette', 'backbone.radio', './orderManifestItemView.hbs!'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, Marionette, Radio, viewTpl, View;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_orderManifestItemViewHbs) {
      viewTpl = _orderManifestItemViewHbs.default;
    }],
    execute: function () {
      View = Marionette.View.extend({
        template: viewTpl,
        tagName: "tr",
        modelEvents: {
          'change': 'render'
        },
        serializeData: function serializeData() {
          var data = _.clone(this.model.attributes);
          data.entityUrl = this.model.url();
          return data;
        }
      });


      globalNamespace.Views.OrderManifestItemItemView = View;

      _export('default', View);
    }
  };
});
"use strict";

System.register('lib/admin/views/orderManifestListView.js', ['marionette', './orderManifestItemView.js'], function (_export, _context) {
    "use strict";

    var Marionette, ItemView;
    return {
        setters: [function (_marionette) {
            Marionette = _marionette.default;
        }, function (_orderManifestItemViewJs) {
            ItemView = _orderManifestItemViewJs.default;
        }],
        execute: function () {
            _export('default', Marionette.CollectionView.extend({
                childView: ItemView,
                tagName: 'tbody'
            }));
        }
    };
});
System.registerDynamic("lib/admin/views/orderManifestListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<a href=\"" + container.escapeExpression((helper = (helper = helpers.manifestUrl || (depth0 != null ? depth0.manifestUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "manifestUrl", "hash": {}, "data": data }) : helper)) + "\" class=\"button\" title=\"Download Manifest\"><span class=\"fa fa-download\"></span></a>\r\n<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>" + container.escapeExpression((helper = (helper = helpers.itemName || (depth0 != null ? depth0.itemName : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "itemName", "hash": {}, "data": data }) : helper)) + "</th>\r\n			<th>Bin</th>\r\n			<th>SKU</th>\r\n			<th>QTY</th>\r\n			<th>SKU QTY</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/admin/views/orderManifestListTableLayoutView.js', ['underscore', 'marionette', './orderManifestListView.js', './orderManifestListTableLayoutTpl.hbs!', 'lib/accounting/models/inboundOrderModel.js', 'lib/accounting/models/outboundOrderModel.js'], function (_export, _context) {
  "use strict";

  var _, Marionette, ListView, viewTpl, InboundOrderModel, OutboundOrderModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_orderManifestListViewJs) {
      ListView = _orderManifestListViewJs.default;
    }, function (_orderManifestListTableLayoutTplHbs) {
      viewTpl = _orderManifestListTableLayoutTplHbs.default;
    }, function (_libAccountingModelsInboundOrderModelJs) {
      InboundOrderModel = _libAccountingModelsInboundOrderModelJs.default;
    }, function (_libAccountingModelsOutboundOrderModelJs) {
      OutboundOrderModel = _libAccountingModelsOutboundOrderModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        regions: {
          tbody: {
            el: 'tbody',
            replaceElement: true
          }
        },
        onRender: function onRender() {
          this.showChildView('tbody', new ListView({
            collection: this.collection
          }));
        },

        serializeData: function serializeData() {
          var data = _.clone(this.model.attributes);
          data.manifestUrl = this.model.url() + '/manifest';
          if (this.model instanceof InboundOrderModel) {
            data.type = 'InboundOrder';
            data.itemName = 'TravelerId';
          }
          if (this.model instanceof OutboundOrderModel) {
            data.type = 'OutboundOrder';
            data.itemName = 'SalesItem';
            data.shippedUrl = this.model.url() + '/shipped';
          }
          return data;
        }
      }));
    }
  };
});
"use strict";

System.register('lib/admin/views/adminOutboundOrdersEditView.js', ['underscore', 'backbone', 'backbone.radio', 'backbone.syphon', 'marionette', './adminOutboundOrdersEditView.hbs!', 'lib/accounting/models/customerCollection.js', 'lib/common/views/loadingView.js', './orderManifestListTableLayoutView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Syphon, Marionette, viewTpl, CustomerCollection, LoadingView, OrderManifestListTableLayoutView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_adminOutboundOrdersEditViewHbs) {
      viewTpl = _adminOutboundOrdersEditViewHbs.default;
    }, function (_libAccountingModelsCustomerCollectionJs) {
      CustomerCollection = _libAccountingModelsCustomerCollectionJs.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }, function (_orderManifestListTableLayoutViewJs) {
      OrderManifestListTableLayoutView = _orderManifestListTableLayoutViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'SaveCancelDelete': {
            save: 'save'
          },
          'RemoteSearchSelect2': {
            customer: {
              url: CustomerCollection.prototype.url(),
              search: 'name'
            }
          }
        },
        ui: {
          'descriptionInput': 'textarea[name="description"]',
          'isVoidInput': 'input[name="isVoid"]',
          'customerSelect': 'select[name="customer"]',
          'showManifestButton': 'button[data-ui-name="showManifest"]',
          'shipOrderButton': 'button[data-ui-name="shipOrder"]',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        bindings: {
          '@ui.descriptionInput': 'description',
          '@ui.isVoidInput': 'isVoid'
        },
        events: {
          'click @ui.showManifestButton': 'showManifest',
          'click @ui.shipOrderButton': 'shipOrder'
        },
        showManifest: function showManifest(event) {
          event.preventDefault();
          var options = {
            title: 'OutboundOrder ' + this.model.get('label') + ' Manifest',
            width: '800px'
          };
          var view = new OrderManifestListTableLayoutView({
            collection: this.model.get('salesItems'),
            model: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', new LoadingView(), options);
          this.model.fetch().then(function () {
            Radio.channel('dialog').trigger('open', view, options);
          });
        },
        shipOrder: function shipOrder(event) {
          var _this = this;

          event.preventDefault();
          this.ui.shipOrderButton.prop('disabled', true);
          this.ui.shipOrderButton.addClass('is-disabled');
          this.ui.shipOrderButton.addClass('is-loading');
          this.model.ship().then(function () {
            _this.ui.shipOrderButton.removeClass('is-loading');
          });
        },
        save: function save(event) {
          var _this2 = this;

          this.disableFormButtons();
          this.update();
          this.model.save().always(function () {
            _this2.enableFormButtons();
          }).done(function () {
            _this2.triggerMethod('show:list', _this2, {
              view: _this2,
              model: _this2.model
            });
          });
        },
        update: function update() {
          var attr = Syphon.serialize(this);
          var setAttr = {
            customer: CustomerCollection
          };
          _.each(setAttr, function (Collection, attributeName) {
            if (parseInt(attr[attributeName])) {
              setAttr[attributeName] = Collection.prototype.model.findOrCreate({ id: parseInt(attr[attributeName]) });
            } else {
              delete setAttr[attributeName];
            }
          });
          this.model.set(setAttr);
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/admin/views/adminOutboundOrdersListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>#</th>\r\n			<th>Customer</th>\r\n			<th>Outbound Order Label</th>\r\n			<th>Description</th>\r\n			<th>Is Void?</th>\r\n			<th>Is Shipped?</th>\r\n			<th>Sales Item Count</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/admin/views/adminOutboundOrdersRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.customer : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td><a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</a></td>\r\n<td>" + container.escapeExpression((helpers.truncate || depth0 && depth0.truncate || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.description : depth0, { "name": "truncate", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helpers["boolean"] || depth0 && depth0["boolean"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "boolean", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helpers["boolean"] || depth0 && depth0["boolean"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isShipped : depth0, { "name": "boolean", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.salesItemCount || (depth0 != null ? depth0.salesItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "salesItemCount", "hash": {}, "data": data }) : helper)) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/admin/controller.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/slicedToArray.js', 'underscore', 'backbone', 'backbone.radio', 'marionette', 'lib/common/views/entity/indexView.js', './views/adminIndexView.js', './views/adminInventoryIndexView.js', './views/adminAccountingIndexView.js', 'lib/common/models/organizationCollection.js', './views/adminOrganizationsEditView.js', './views/adminOrganizationsListTableLayoutTpl.hbs!', './views/adminOrganizationsRowTpl.hbs!', 'lib/common/models/userCollection.js', './views/adminUsersEditView.js', './views/adminUsersListTableLayoutTpl.hbs!', './views/adminUsersRowTpl.hbs!', 'lib/common/models/officeCollection.js', './views/adminOfficesEditView.js', './views/adminOfficesListTableLayoutTpl.hbs!', './views/adminOfficesRowTpl.hbs!', 'lib/common/models/departmentCollection.js', './views/adminDepartmentsEditView.js', './views/adminDepartmentsListTableLayoutTpl.hbs!', './views/adminDepartmentsRowTpl.hbs!', 'lib/common/models/announcementCollection.js', './views/adminAnnouncementsEditView.js', './views/adminAnnouncementsListTableLayoutTpl.hbs!', './views/adminAnnouncementsRowTpl.hbs!', 'lib/common/models/menuItemCollection.js', './views/adminMenuItemsEditView.js', './views/adminMenuItemsListTableLayoutTpl.hbs!', './views/adminMenuItemsRowTpl.hbs!', 'lib/common/models/menuLinkCollection.js', './views/adminMenuLinksEditView.js', './views/adminMenuLinksListTableLayoutTpl.hbs!', './views/adminMenuLinksRowTpl.hbs!', 'lib/common/models/helpTopicCollection.js', './views/adminHelpTopicsEditView.js', './views/adminHelpTopicsListTableLayoutTpl.hbs!', './views/adminHelpTopicsRowTpl.hbs!', 'lib/inventory/models/skuCollection.js', './views/adminSkusEditView.js', './views/adminSkusListTableLayoutTpl.hbs!', './views/adminSkusRowTpl.hbs!', 'lib/inventory/models/partCollection.js', './views/adminPartsEditView.js', './views/adminPartsListTableLayoutTpl.hbs!', './views/adminPartsRowTpl.hbs!', 'lib/inventory/models/partCategoryCollection.js', './views/adminPartCategoriesEditView.js', './views/adminPartCategoriesListTableLayoutTpl.hbs!', './views/adminPartCategoriesRowTpl.hbs!', 'lib/inventory/models/partGroupCollection.js', './views/adminPartGroupsEditView.js', './views/adminPartGroupsListTableLayoutTpl.hbs!', './views/adminPartGroupsRowTpl.hbs!', 'lib/inventory/models/commodityCollection.js', './views/adminCommoditiesEditView.js', './views/adminCommoditiesListTableLayoutTpl.hbs!', './views/adminCommoditiesRowTpl.hbs!', 'lib/inventory/models/unitTypeCollection.js', './views/adminUnitTypesEditView.js', './views/adminUnitTypesListTableLayoutTpl.hbs!', './views/adminUnitTypesRowTpl.hbs!', 'lib/inventory/models/binTypeCollection.js', './views/adminBinTypesEditView.js', './views/adminBinTypesListTableLayoutTpl.hbs!', './views/adminBinTypesRowTpl.hbs!', 'lib/inventory/models/binCollection.js', './views/adminBinsEditView.js', './views/adminBinsListTableLayoutTpl.hbs!', './views/adminBinsRowTpl.hbs!', 'lib/inventory/models/inventoryMovementRuleCollection.js', './views/adminInventoryMovementRulesEditView.js', './views/adminInventoryMovementRulesListTableLayoutTpl.hbs!', './views/adminInventoryMovementRulesRowTpl.hbs!', 'lib/inventory/models/inventoryAlertCollection.js', './views/adminInventoryAlertsEditView.js', './views/adminInventoryAlertsListTableLayoutTpl.hbs!', './views/adminInventoryAlertsRowTpl.hbs!', 'lib/accounting/models/clientCollection.js', './views/adminClientsEditView.js', './views/adminClientsListTableLayoutTpl.hbs!', './views/adminClientsRowTpl.hbs!', 'lib/accounting/models/customerCollection.js', './views/adminCustomersEditView.js', './views/adminCustomersListTableLayoutTpl.hbs!', './views/adminCustomersRowTpl.hbs!', 'lib/accounting/models/inboundOrderCollection.js', './views/adminInboundOrdersEditView.js', './views/adminInboundOrdersListTableLayoutTpl.hbs!', './views/adminInboundOrdersRowTpl.hbs!', 'lib/accounting/models/outboundOrderCollection.js', './views/adminOutboundOrdersEditView.js', './views/adminOutboundOrdersListTableLayoutTpl.hbs!', './views/adminOutboundOrdersRowTpl.hbs!'], function (_export, _context) {
  "use strict";

  var _slicedToArray, _, Backbone, Radio, Marionette, EntityIndexView, AdminIndexView, AdminInventoryIndexView, AdminAccountingIndexView, OrganizationCollection, AdminOrganizationsEditView, adminOrganizationsListTableLayoutTpl, adminOrganizationsRowTpl, UserCollection, AdminUsersEditView, adminUsersListTableLayoutTpl, adminUsersRowTpl, OfficeCollection, AdminOfficesEditView, adminOfficesListTableLayoutTpl, adminOfficesRowTpl, DepartmentCollection, AdminDepartmentsEditView, adminDepartmentsListTableLayoutTpl, adminDepartmentsRowTpl, AnnouncementCollection, AdminAnnouncementsEditView, adminAnnouncementsListTableLayoutTpl, adminAnnouncementsRowTpl, MenuItemCollection, AdminMenuItemsEditView, adminMenuItemsListTableLayoutTpl, adminMenuItemsRowTpl, MenuLinkCollection, AdminMenuLinksEditView, adminMenuLinksListTableLayoutTpl, adminMenuLinksRowTpl, HelpTopicCollection, AdminHelpTopicsEditView, adminHelpTopicsListTableLayoutTpl, adminHelpTopicsRowTpl, SkuCollection, AdminSkusEditView, adminSkusListTableLayoutTpl, adminSkusRowTpl, PartCollection, AdminPartsEditView, adminPartsListTableLayoutTpl, adminPartsRowTpl, PartCategoryCollection, AdminPartCategoriesEditView, adminPartCategoriesListTableLayoutTpl, adminPartCategoriesRowTpl, PartGroupCollection, AdminPartGroupsEditView, adminPartGroupsListTableLayoutTpl, adminPartGroupsRowTpl, CommodityCollection, AdminCommoditiesEditView, adminCommoditiesListTableLayoutTpl, adminCommoditiesRowTpl, UnitTypeCollection, AdminUnitTypesEditView, adminUnitTypesListTableLayoutTpl, adminUnitTypesRowTpl, BinTypeCollection, AdminBinTypesEditView, adminBinTypesListTableLayoutTpl, adminBinTypesRowTpl, BinCollection, AdminBinsEditView, adminBinsListTableLayoutTpl, adminBinsRowTpl, InventoryMovementRuleCollection, AdminInventoryMovementRulesEditView, adminInventoryMovementRulesListTableLayoutTpl, adminInventoryMovementRulesRowTpl, InventoryAlertCollection, AdminInventoryAlertsEditView, adminInventoryAlertsListTableLayoutTpl, adminInventoryAlertsRowTpl, ClientCollection, AdminClientsEditView, adminClientsListTableLayoutTpl, adminClientsRowTpl, CustomerCollection, AdminCustomersEditView, adminCustomersListTableLayoutTpl, adminCustomersRowTpl, InboundOrderCollection, AdminInboundOrdersEditView, adminInboundOrdersListTableLayoutTpl, adminInboundOrdersRowTpl, OutboundOrderCollection, AdminOutboundOrdersEditView, adminOutboundOrdersListTableLayoutTpl, adminOutboundOrdersRowTpl;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs) {
      _slicedToArray = _npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonViewsEntityIndexViewJs) {
      EntityIndexView = _libCommonViewsEntityIndexViewJs.default;
    }, function (_viewsAdminIndexViewJs) {
      AdminIndexView = _viewsAdminIndexViewJs.default;
    }, function (_viewsAdminInventoryIndexViewJs) {
      AdminInventoryIndexView = _viewsAdminInventoryIndexViewJs.default;
    }, function (_viewsAdminAccountingIndexViewJs) {
      AdminAccountingIndexView = _viewsAdminAccountingIndexViewJs.default;
    }, function (_libCommonModelsOrganizationCollectionJs) {
      OrganizationCollection = _libCommonModelsOrganizationCollectionJs.default;
    }, function (_viewsAdminOrganizationsEditViewJs) {
      AdminOrganizationsEditView = _viewsAdminOrganizationsEditViewJs.default;
    }, function (_viewsAdminOrganizationsListTableLayoutTplHbs) {
      adminOrganizationsListTableLayoutTpl = _viewsAdminOrganizationsListTableLayoutTplHbs.default;
    }, function (_viewsAdminOrganizationsRowTplHbs) {
      adminOrganizationsRowTpl = _viewsAdminOrganizationsRowTplHbs.default;
    }, function (_libCommonModelsUserCollectionJs) {
      UserCollection = _libCommonModelsUserCollectionJs.default;
    }, function (_viewsAdminUsersEditViewJs) {
      AdminUsersEditView = _viewsAdminUsersEditViewJs.default;
    }, function (_viewsAdminUsersListTableLayoutTplHbs) {
      adminUsersListTableLayoutTpl = _viewsAdminUsersListTableLayoutTplHbs.default;
    }, function (_viewsAdminUsersRowTplHbs) {
      adminUsersRowTpl = _viewsAdminUsersRowTplHbs.default;
    }, function (_libCommonModelsOfficeCollectionJs) {
      OfficeCollection = _libCommonModelsOfficeCollectionJs.default;
    }, function (_viewsAdminOfficesEditViewJs) {
      AdminOfficesEditView = _viewsAdminOfficesEditViewJs.default;
    }, function (_viewsAdminOfficesListTableLayoutTplHbs) {
      adminOfficesListTableLayoutTpl = _viewsAdminOfficesListTableLayoutTplHbs.default;
    }, function (_viewsAdminOfficesRowTplHbs) {
      adminOfficesRowTpl = _viewsAdminOfficesRowTplHbs.default;
    }, function (_libCommonModelsDepartmentCollectionJs) {
      DepartmentCollection = _libCommonModelsDepartmentCollectionJs.default;
    }, function (_viewsAdminDepartmentsEditViewJs) {
      AdminDepartmentsEditView = _viewsAdminDepartmentsEditViewJs.default;
    }, function (_viewsAdminDepartmentsListTableLayoutTplHbs) {
      adminDepartmentsListTableLayoutTpl = _viewsAdminDepartmentsListTableLayoutTplHbs.default;
    }, function (_viewsAdminDepartmentsRowTplHbs) {
      adminDepartmentsRowTpl = _viewsAdminDepartmentsRowTplHbs.default;
    }, function (_libCommonModelsAnnouncementCollectionJs) {
      AnnouncementCollection = _libCommonModelsAnnouncementCollectionJs.default;
    }, function (_viewsAdminAnnouncementsEditViewJs) {
      AdminAnnouncementsEditView = _viewsAdminAnnouncementsEditViewJs.default;
    }, function (_viewsAdminAnnouncementsListTableLayoutTplHbs) {
      adminAnnouncementsListTableLayoutTpl = _viewsAdminAnnouncementsListTableLayoutTplHbs.default;
    }, function (_viewsAdminAnnouncementsRowTplHbs) {
      adminAnnouncementsRowTpl = _viewsAdminAnnouncementsRowTplHbs.default;
    }, function (_libCommonModelsMenuItemCollectionJs) {
      MenuItemCollection = _libCommonModelsMenuItemCollectionJs.default;
    }, function (_viewsAdminMenuItemsEditViewJs) {
      AdminMenuItemsEditView = _viewsAdminMenuItemsEditViewJs.default;
    }, function (_viewsAdminMenuItemsListTableLayoutTplHbs) {
      adminMenuItemsListTableLayoutTpl = _viewsAdminMenuItemsListTableLayoutTplHbs.default;
    }, function (_viewsAdminMenuItemsRowTplHbs) {
      adminMenuItemsRowTpl = _viewsAdminMenuItemsRowTplHbs.default;
    }, function (_libCommonModelsMenuLinkCollectionJs) {
      MenuLinkCollection = _libCommonModelsMenuLinkCollectionJs.default;
    }, function (_viewsAdminMenuLinksEditViewJs) {
      AdminMenuLinksEditView = _viewsAdminMenuLinksEditViewJs.default;
    }, function (_viewsAdminMenuLinksListTableLayoutTplHbs) {
      adminMenuLinksListTableLayoutTpl = _viewsAdminMenuLinksListTableLayoutTplHbs.default;
    }, function (_viewsAdminMenuLinksRowTplHbs) {
      adminMenuLinksRowTpl = _viewsAdminMenuLinksRowTplHbs.default;
    }, function (_libCommonModelsHelpTopicCollectionJs) {
      HelpTopicCollection = _libCommonModelsHelpTopicCollectionJs.default;
    }, function (_viewsAdminHelpTopicsEditViewJs) {
      AdminHelpTopicsEditView = _viewsAdminHelpTopicsEditViewJs.default;
    }, function (_viewsAdminHelpTopicsListTableLayoutTplHbs) {
      adminHelpTopicsListTableLayoutTpl = _viewsAdminHelpTopicsListTableLayoutTplHbs.default;
    }, function (_viewsAdminHelpTopicsRowTplHbs) {
      adminHelpTopicsRowTpl = _viewsAdminHelpTopicsRowTplHbs.default;
    }, function (_libInventoryModelsSkuCollectionJs) {
      SkuCollection = _libInventoryModelsSkuCollectionJs.default;
    }, function (_viewsAdminSkusEditViewJs) {
      AdminSkusEditView = _viewsAdminSkusEditViewJs.default;
    }, function (_viewsAdminSkusListTableLayoutTplHbs) {
      adminSkusListTableLayoutTpl = _viewsAdminSkusListTableLayoutTplHbs.default;
    }, function (_viewsAdminSkusRowTplHbs) {
      adminSkusRowTpl = _viewsAdminSkusRowTplHbs.default;
    }, function (_libInventoryModelsPartCollectionJs) {
      PartCollection = _libInventoryModelsPartCollectionJs.default;
    }, function (_viewsAdminPartsEditViewJs) {
      AdminPartsEditView = _viewsAdminPartsEditViewJs.default;
    }, function (_viewsAdminPartsListTableLayoutTplHbs) {
      adminPartsListTableLayoutTpl = _viewsAdminPartsListTableLayoutTplHbs.default;
    }, function (_viewsAdminPartsRowTplHbs) {
      adminPartsRowTpl = _viewsAdminPartsRowTplHbs.default;
    }, function (_libInventoryModelsPartCategoryCollectionJs) {
      PartCategoryCollection = _libInventoryModelsPartCategoryCollectionJs.default;
    }, function (_viewsAdminPartCategoriesEditViewJs) {
      AdminPartCategoriesEditView = _viewsAdminPartCategoriesEditViewJs.default;
    }, function (_viewsAdminPartCategoriesListTableLayoutTplHbs) {
      adminPartCategoriesListTableLayoutTpl = _viewsAdminPartCategoriesListTableLayoutTplHbs.default;
    }, function (_viewsAdminPartCategoriesRowTplHbs) {
      adminPartCategoriesRowTpl = _viewsAdminPartCategoriesRowTplHbs.default;
    }, function (_libInventoryModelsPartGroupCollectionJs) {
      PartGroupCollection = _libInventoryModelsPartGroupCollectionJs.default;
    }, function (_viewsAdminPartGroupsEditViewJs) {
      AdminPartGroupsEditView = _viewsAdminPartGroupsEditViewJs.default;
    }, function (_viewsAdminPartGroupsListTableLayoutTplHbs) {
      adminPartGroupsListTableLayoutTpl = _viewsAdminPartGroupsListTableLayoutTplHbs.default;
    }, function (_viewsAdminPartGroupsRowTplHbs) {
      adminPartGroupsRowTpl = _viewsAdminPartGroupsRowTplHbs.default;
    }, function (_libInventoryModelsCommodityCollectionJs) {
      CommodityCollection = _libInventoryModelsCommodityCollectionJs.default;
    }, function (_viewsAdminCommoditiesEditViewJs) {
      AdminCommoditiesEditView = _viewsAdminCommoditiesEditViewJs.default;
    }, function (_viewsAdminCommoditiesListTableLayoutTplHbs) {
      adminCommoditiesListTableLayoutTpl = _viewsAdminCommoditiesListTableLayoutTplHbs.default;
    }, function (_viewsAdminCommoditiesRowTplHbs) {
      adminCommoditiesRowTpl = _viewsAdminCommoditiesRowTplHbs.default;
    }, function (_libInventoryModelsUnitTypeCollectionJs) {
      UnitTypeCollection = _libInventoryModelsUnitTypeCollectionJs.default;
    }, function (_viewsAdminUnitTypesEditViewJs) {
      AdminUnitTypesEditView = _viewsAdminUnitTypesEditViewJs.default;
    }, function (_viewsAdminUnitTypesListTableLayoutTplHbs) {
      adminUnitTypesListTableLayoutTpl = _viewsAdminUnitTypesListTableLayoutTplHbs.default;
    }, function (_viewsAdminUnitTypesRowTplHbs) {
      adminUnitTypesRowTpl = _viewsAdminUnitTypesRowTplHbs.default;
    }, function (_libInventoryModelsBinTypeCollectionJs) {
      BinTypeCollection = _libInventoryModelsBinTypeCollectionJs.default;
    }, function (_viewsAdminBinTypesEditViewJs) {
      AdminBinTypesEditView = _viewsAdminBinTypesEditViewJs.default;
    }, function (_viewsAdminBinTypesListTableLayoutTplHbs) {
      adminBinTypesListTableLayoutTpl = _viewsAdminBinTypesListTableLayoutTplHbs.default;
    }, function (_viewsAdminBinTypesRowTplHbs) {
      adminBinTypesRowTpl = _viewsAdminBinTypesRowTplHbs.default;
    }, function (_libInventoryModelsBinCollectionJs) {
      BinCollection = _libInventoryModelsBinCollectionJs.default;
    }, function (_viewsAdminBinsEditViewJs) {
      AdminBinsEditView = _viewsAdminBinsEditViewJs.default;
    }, function (_viewsAdminBinsListTableLayoutTplHbs) {
      adminBinsListTableLayoutTpl = _viewsAdminBinsListTableLayoutTplHbs.default;
    }, function (_viewsAdminBinsRowTplHbs) {
      adminBinsRowTpl = _viewsAdminBinsRowTplHbs.default;
    }, function (_libInventoryModelsInventoryMovementRuleCollectionJs) {
      InventoryMovementRuleCollection = _libInventoryModelsInventoryMovementRuleCollectionJs.default;
    }, function (_viewsAdminInventoryMovementRulesEditViewJs) {
      AdminInventoryMovementRulesEditView = _viewsAdminInventoryMovementRulesEditViewJs.default;
    }, function (_viewsAdminInventoryMovementRulesListTableLayoutTplHbs) {
      adminInventoryMovementRulesListTableLayoutTpl = _viewsAdminInventoryMovementRulesListTableLayoutTplHbs.default;
    }, function (_viewsAdminInventoryMovementRulesRowTplHbs) {
      adminInventoryMovementRulesRowTpl = _viewsAdminInventoryMovementRulesRowTplHbs.default;
    }, function (_libInventoryModelsInventoryAlertCollectionJs) {
      InventoryAlertCollection = _libInventoryModelsInventoryAlertCollectionJs.default;
    }, function (_viewsAdminInventoryAlertsEditViewJs) {
      AdminInventoryAlertsEditView = _viewsAdminInventoryAlertsEditViewJs.default;
    }, function (_viewsAdminInventoryAlertsListTableLayoutTplHbs) {
      adminInventoryAlertsListTableLayoutTpl = _viewsAdminInventoryAlertsListTableLayoutTplHbs.default;
    }, function (_viewsAdminInventoryAlertsRowTplHbs) {
      adminInventoryAlertsRowTpl = _viewsAdminInventoryAlertsRowTplHbs.default;
    }, function (_libAccountingModelsClientCollectionJs) {
      ClientCollection = _libAccountingModelsClientCollectionJs.default;
    }, function (_viewsAdminClientsEditViewJs) {
      AdminClientsEditView = _viewsAdminClientsEditViewJs.default;
    }, function (_viewsAdminClientsListTableLayoutTplHbs) {
      adminClientsListTableLayoutTpl = _viewsAdminClientsListTableLayoutTplHbs.default;
    }, function (_viewsAdminClientsRowTplHbs) {
      adminClientsRowTpl = _viewsAdminClientsRowTplHbs.default;
    }, function (_libAccountingModelsCustomerCollectionJs) {
      CustomerCollection = _libAccountingModelsCustomerCollectionJs.default;
    }, function (_viewsAdminCustomersEditViewJs) {
      AdminCustomersEditView = _viewsAdminCustomersEditViewJs.default;
    }, function (_viewsAdminCustomersListTableLayoutTplHbs) {
      adminCustomersListTableLayoutTpl = _viewsAdminCustomersListTableLayoutTplHbs.default;
    }, function (_viewsAdminCustomersRowTplHbs) {
      adminCustomersRowTpl = _viewsAdminCustomersRowTplHbs.default;
    }, function (_libAccountingModelsInboundOrderCollectionJs) {
      InboundOrderCollection = _libAccountingModelsInboundOrderCollectionJs.default;
    }, function (_viewsAdminInboundOrdersEditViewJs) {
      AdminInboundOrdersEditView = _viewsAdminInboundOrdersEditViewJs.default;
    }, function (_viewsAdminInboundOrdersListTableLayoutTplHbs) {
      adminInboundOrdersListTableLayoutTpl = _viewsAdminInboundOrdersListTableLayoutTplHbs.default;
    }, function (_viewsAdminInboundOrdersRowTplHbs) {
      adminInboundOrdersRowTpl = _viewsAdminInboundOrdersRowTplHbs.default;
    }, function (_libAccountingModelsOutboundOrderCollectionJs) {
      OutboundOrderCollection = _libAccountingModelsOutboundOrderCollectionJs.default;
    }, function (_viewsAdminOutboundOrdersEditViewJs) {
      AdminOutboundOrdersEditView = _viewsAdminOutboundOrdersEditViewJs.default;
    }, function (_viewsAdminOutboundOrdersListTableLayoutTplHbs) {
      adminOutboundOrdersListTableLayoutTpl = _viewsAdminOutboundOrdersListTableLayoutTplHbs.default;
    }, function (_viewsAdminOutboundOrdersRowTplHbs) {
      adminOutboundOrdersRowTpl = _viewsAdminOutboundOrdersRowTplHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        index: function index() {
          this.users();
        },
        organizations: function organizations(id) {
          var adminIndexView = new AdminIndexView();
          var organizationCollection = Radio.channel('data').request('collection', OrganizationCollection, { doFetch: false });
          var isCreatable = false;
          var myself = Radio.channel('data').request('myself');
          if (myself.isGrantedRole('ROLE_DEV')) {
            isCreatable = true;
          }
          var entityViewOptions = {
            isCreatable: isCreatable,
            listLength: 20,
            entityId: id,
            collection: organizationCollection,
            searchPath: ['id', 'name'],
            EditView: AdminOrganizationsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminOrganizationsListTableLayoutTpl,
            entityRowTpl: adminOrganizationsRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'organizations');
        },
        users: function users(id) {
          var adminIndexView = new AdminIndexView();
          var userCollection = Radio.channel('data').request('collection', UserCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: userCollection,
            searchPath: ['username'],
            EditView: AdminUsersEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminUsersListTableLayoutTpl,
            entityRowTpl: adminUsersRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'users');
        },
        offices: function offices(id) {
          var adminIndexView = new AdminIndexView();
          var officeCollection = Radio.channel('data').request('collection', OfficeCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: officeCollection,
            searchPath: ['id', 'name'],
            EditView: AdminOfficesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminOfficesListTableLayoutTpl,
            entityRowTpl: adminOfficesRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'offices');
        },
        departments: function departments(id) {
          var adminIndexView = new AdminIndexView();
          var departmentCollection = Radio.channel('data').request('collection', DepartmentCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: departmentCollection,
            searchPath: ['id', 'name', 'office.name'],
            EditView: AdminDepartmentsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminDepartmentsListTableLayoutTpl,
            entityRowTpl: adminDepartmentsRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'departments');
        },
        announcements: function announcements(id) {
          var adminIndexView = new AdminIndexView();
          var announcementCollection = Radio.channel('data').request('collection', AnnouncementCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: announcementCollection,
            searchPath: ['id', 'byUser.username'],
            EditView: AdminAnnouncementsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminAnnouncementsListTableLayoutTpl,
            entityRowTpl: adminAnnouncementsRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'announcements');
        },
        menuItems: function menuItems(id) {
          var adminIndexView = new AdminIndexView();
          var menuItemCollection = Radio.channel('data').request('collection', MenuItemCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: menuItemCollection,
            searchPath: ['id', 'menuLink.name', 'department.name'],
            EditView: AdminMenuItemsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminMenuItemsListTableLayoutTpl,
            entityRowTpl: adminMenuItemsRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'menuItems');
        },
        menuLinks: function menuLinks(id) {
          var adminIndexView = new AdminIndexView();
          var menuLinkCollection = Radio.channel('data').request('collection', MenuLinkCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: menuLinkCollection,
            searchPath: ['id', 'name', 'url'],
            EditView: AdminMenuLinksEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminMenuLinksListTableLayoutTpl,
            entityRowTpl: adminMenuLinksRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'menuLinks');
        },
        helpTopics: function helpTopics(id) {
          var adminIndexView = new AdminIndexView();
          var helpTopicCollection = Radio.channel('data').request('collection', HelpTopicCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: helpTopicCollection,
            searchPath: ['id', 'name'],
            EditView: AdminHelpTopicsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminHelpTopicsListTableLayoutTpl,
            entityRowTpl: adminHelpTopicsRowTpl,
            colspan: 4
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminIndexView);
          Radio.channel('help').trigger('show', 'helpTopics');
        },
        skus: function skus(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var skuCollection = Radio.channel('data').request('collection', SkuCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: skuCollection,
            searchPath: ['name', 'number', 'label'],
            EditView: AdminSkusEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminSkusListTableLayoutTpl,
            entityRowTpl: adminSkusRowTpl,
            colspan: 8
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'skus');
        },
        parts: function parts(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var partCollection = Radio.channel('data').request('collection', PartCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: partCollection,
            searchPath: ['name', 'partId', 'partAltId', 'partGroup.name', 'partCategory.name'],
            EditView: AdminPartsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminPartsListTableLayoutTpl,
            entityRowTpl: adminPartsRowTpl,
            colspan: 8
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'parts');
        },
        partCategories: function partCategories(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var partCategoryCollection = Radio.channel('data').request('collection', PartCategoryCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: partCategoryCollection,
            searchPath: ['name'],
            EditView: AdminPartCategoriesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminPartCategoriesListTableLayoutTpl,
            entityRowTpl: adminPartCategoriesRowTpl,
            colspan: 3
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'partCategories');
        },
        partGroups: function partGroups(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var partGroupCollection = Radio.channel('data').request('collection', PartGroupCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: partGroupCollection,
            searchPath: ['name'],
            EditView: AdminPartGroupsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminPartGroupsListTableLayoutTpl,
            entityRowTpl: adminPartGroupsRowTpl,
            colspan: 3
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'partGroups');
        },
        commodities: function commodities(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var commodityCollection = Radio.channel('data').request('collection', CommodityCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: commodityCollection,
            searchPath: ['name', 'commodityId', 'commodityAltId'],
            EditView: AdminCommoditiesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminCommoditiesListTableLayoutTpl,
            entityRowTpl: adminCommoditiesRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'commodities');
        },
        unitTypes: function unitTypes(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var unitTypeCollection = Radio.channel('data').request('collection', UnitTypeCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: unitTypeCollection,
            searchPath: ['name'],
            EditView: AdminUnitTypesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminUnitTypesListTableLayoutTpl,
            entityRowTpl: adminUnitTypesRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'unitTypes');
        },
        binTypes: function binTypes(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var binTypeCollection = Radio.channel('data').request('collection', BinTypeCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: binTypeCollection,
            searchPath: ['name'],
            EditView: AdminBinTypesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminBinTypesListTableLayoutTpl,
            entityRowTpl: adminBinTypesRowTpl,
            colspan: 4
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'binTypes');
        },
        bins: function bins(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var binCollection = Radio.channel('data').request('collection', BinCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: binCollection,
            searchPath: ['name', 'partCategory.name', 'binType.name', 'parent.name'],
            EditView: AdminBinsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminBinsListTableLayoutTpl,
            entityRowTpl: adminBinsRowTpl,
            colspan: 8
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'bins');
        },
        inventoryMovementRules: function inventoryMovementRules(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var inventoryMovementRuleCollection = Radio.channel('data').request('collection', InventoryMovementRuleCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: inventoryMovementRuleCollection,
            searchPath: ['name', 'role.name', 'binType.name'],
            EditView: AdminInventoryMovementRulesEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminInventoryMovementRulesListTableLayoutTpl,
            entityRowTpl: adminInventoryMovementRulesRowTpl,
            colspan: 7
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryMovementRules');
        },
        inventoryAlerts: function inventoryAlerts(id) {
          var adminInventoryIndexView = new AdminInventoryIndexView();
          var inventoryAlertCollection = Radio.channel('data').request('collection', InventoryAlertCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: inventoryAlertCollection,
            searchPath: ['department.name', 'sku.name'],
            EditView: AdminInventoryAlertsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminInventoryAlertsListTableLayoutTpl,
            entityRowTpl: adminInventoryAlertsRowTpl,
            colspan: 7
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminInventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminInventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryAlerts');
        },
        clients: function clients(id) {
          var adminAccountingIndexView = new AdminAccountingIndexView();
          var clientCollection = Radio.channel('data').request('collection', ClientCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: clientCollection,
            searchPath: ['id', 'name'],
            EditView: AdminClientsEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminClientsListTableLayoutTpl,
            entityRowTpl: adminClientsRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminAccountingIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminAccountingIndexView);
          Radio.channel('help').trigger('show', 'clients');
        },
        customers: function customers(id) {
          var adminAccountingIndexView = new AdminAccountingIndexView();
          var customerCollection = Radio.channel('data').request('collection', CustomerCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            isImportable: true,
            listLength: 20,
            entityId: id,
            collection: customerCollection,
            searchPath: ['id', 'name'],
            EditView: AdminCustomersEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminCustomersListTableLayoutTpl,
            entityRowTpl: adminCustomersRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminAccountingIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminAccountingIndexView);
          Radio.channel('help').trigger('show', 'customers');
        },
        inboundOrders: function inboundOrders(id) {
          var adminAccountingIndexView = new AdminAccountingIndexView();
          var inboundOrderCollection = Radio.channel('data').request('collection', InboundOrderCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: inboundOrderCollection,
            searchPath: ['id', 'label', 'client.name'],
            EditView: AdminInboundOrdersEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminInboundOrdersListTableLayoutTpl,
            entityRowTpl: adminInboundOrdersRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminAccountingIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminAccountingIndexView);
          Radio.channel('help').trigger('show', 'inboundOrders');
        },
        outboundOrders: function outboundOrders(id) {
          var adminAccountingIndexView = new AdminAccountingIndexView();
          var outboundOrderCollection = Radio.channel('data').request('collection', OutboundOrderCollection, { doFetch: false });
          var entityViewOptions = {
            isCreatable: true,
            listLength: 20,
            entityId: id,
            collection: outboundOrderCollection,
            searchPath: ['id', 'label', 'client.name'],
            EditView: AdminOutboundOrdersEditView,
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: adminOutboundOrdersListTableLayoutTpl,
            entityRowTpl: adminOutboundOrdersRowTpl,
            colspan: 6
          };

          var entityView = new EntityIndexView(entityViewOptions);

          this.buildViewStack([{
            regionViewMap: new Map([['content', entityView]]),
            viewInstance: adminAccountingIndexView
          }]);

          Radio.channel('app').trigger('show:view', adminAccountingIndexView);
          Radio.channel('help').trigger('show', 'outboundOrders');
        },
        buildViewStack: function buildViewStack(stack) {
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            var _loop = function _loop() {
              var viewObj = _step.value;
              var _iteratorNormalCompletion2 = true;
              var _didIteratorError2 = false;
              var _iteratorError2 = undefined;

              try {
                var _loop2 = function _loop2() {
                  var _step2$value = _slicedToArray(_step2.value, 2);

                  var regionName = _step2$value[0];
                  var viewInstance = _step2$value[1];

                  viewObj.viewInstance.once('render', function () {
                    viewObj.viewInstance.showChildView(regionName, viewInstance);
                  });
                };

                for (var _iterator2 = viewObj.regionViewMap[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  _loop2();
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator2.return) {
                    _iterator2.return();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            };

            for (var _iterator = stack[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              _loop();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/admin/router.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './controller.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_controllerJs) {}],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          this.options = {};
          Object.assign(this.options, options);
          if (!(this.options.appRouter instanceof Marionette.AppRouter)) {
            throw 'Controller Must be passed an AppRouter instance.';
          } else {
            this.appRouter = this.options.appRouter;
          }
          this.appRouter.processAppRoutes(this, this.routes);
        },

        routes: {
          'organization': 'organizations',
          'organization/:id': 'organizations',
          'admin/organization/:id': 'organizations',
          'user': 'users',
          'user/:id': 'users',
          'admin/user/:id': 'users',
          'office': 'offices',
          'office/:id': 'offices',
          'admin/office/:id': 'offices',
          'department': 'departments',
          'department/:id': 'departments',
          'admin/department/:id': 'departments',

          'announcement': 'announcements',
          'announcement/:id': 'announcements',
          'admin/announcement/:id': 'announcements',

          'menu_item': 'menuItems',
          'menu_item/:id': 'menuItems',
          'admin/menu_item/:id': 'menuItems',
          'menu_link': 'menuLinks',
          'menu_link/:id': 'menuLinks',
          'admin/menu_link/:id': 'menuLinks',
          'help_topic': 'helpTopics',
          'help_topic/:id': 'helpTopics',
          'admin/help_topic/:id': 'helpTopics',

          'admin_inventory': 'skus',
          'admin_inventory/sku': 'skus',
          'admin_inventory/sku/:id': 'skus',
          'sku': 'skus',
          'sku/:id': 'skus',
          'admin_inventory/part': 'parts',
          'admin_inventory/part/:id': 'parts',
          'part': 'parts',
          'part/:id': 'parts',
          'admin_inventory/part_category': 'partCategories',
          'admin_inventory/part_category/:id': 'partCategories',
          'part_category': 'partCategories',
          'part_category/:id': 'partCategories',
          'admin_inventory/part_group': 'partGroups',
          'admin_inventory/part_group/:id': 'partGroups',
          'part_group': 'partGroups',
          'part_group/:id': 'partGroups',
          'admin_inventory/commodity': 'commodities',
          'admin_inventory/commodity/:id': 'commodities',
          'commodity': 'commodities',
          'commodity/:id': 'commodities',
          'admin_inventory/unit_type': 'unitTypes',
          'admin_inventory/unit_type/:id': 'unitTypes',
          'unit_type': 'unitTypes',
          'unit_type/:id': 'unitTypes',
          'admin_inventory/bin_type': 'binTypes',
          'admin_inventory/bin_type/:id': 'binTypes',
          'bin_type': 'binTypes',
          'bin_type/:id': 'binTypes',
          'admin_inventory/bin': 'bins',
          'admin_inventory/bin/:id': 'bins',
          'bin': 'bins',
          'bin/:id': 'bins',
          'admin_inventory/inventory_movement_rule': 'inventoryMovementRules',
          'admin_inventory/inventory_movement_rule/:id': 'inventoryMovementRules',
          'inventory_movement_rule': 'inventoryMovementRules',
          'inventory_movement_rule/:id': 'inventoryMovementRules',
          'admin_inventory/inventory_alert': 'inventoryAlerts',
          'admin_inventory/inventory_alert/:id': 'inventoryAlerts',
          'inventory_alert': 'inventoryAlerts',
          'inventory_alert/:id': 'inventoryAlerts',
          'admin_accounting': 'clients',
          'client': 'clients',
          'client/:id': 'clients',
          'customer': 'customers',
          'customer/:id': 'customers',
          'inbound_order': 'inboundOrders',
          'inbound_order/:id': 'inboundOrders',
          'outbound_order': 'outboundOrders',
          'outbound_order/:id': 'outboundOrders',
          'admin': 'index'
        },
        index: function index() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.users();
          });
        },
        organizations: function organizations(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.organizations(id);
          });
        },
        users: function users(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.users(id);
          });
        },
        offices: function offices(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.offices(id);
          });
        },
        departments: function departments(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.departments(id);
          });
        },
        announcements: function announcements(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.announcements(id);
          });
        },
        menuItems: function menuItems(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.menuItems(id);
          });
        },
        menuLinks: function menuLinks(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.menuLinks(id);
          });
        },
        helpTopics: function helpTopics(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.helpTopics(id);
          });
        },
        skus: function skus(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.skus(id);
          });
        },
        parts: function parts(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.parts(id);
          });
        },
        partCategories: function partCategories(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.partCategories(id);
          });
        },
        partGroups: function partGroups(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.partGroups(id);
          });
        },
        commodities: function commodities(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.commodities(id);
          });
        },
        unitTypes: function unitTypes(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.unitTypes(id);
          });
        },
        binTypes: function binTypes(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.binTypes(id);
          });
        },
        bins: function bins(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.bins(id);
          });
        },
        inventoryMovementRules: function inventoryMovementRules(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryMovementRules(id);
          });
        },
        inventoryAlerts: function inventoryAlerts(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryAlerts(id);
          });
        },
        clients: function clients(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.clients(id);
          });
        },
        customers: function customers(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.customers(id);
          });
        },
        inboundOrders: function inboundOrders(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inboundOrders(id);
          });
        },
        outboundOrders: function outboundOrders(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/admin/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.outboundOrders(id);
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryActionIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Inventory Actions</h2>\r\n<div id=\"inventory-action-tabs\"></div>\r\n<div id=\"inventory-content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryActionIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/tid", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/tid\">TravlerId Actions</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/bin_sku_count", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/bin_sku_count\">SKU Actions</a></li>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/sales_item", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/sales_item\">Sales Item Actions</a></li>\r\n</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/inventory/views/inventoryActionIndexView.js', ['marionette', 'backbone.radio', './inventoryActionIndexView.hbs!', 'lib/common/views/navTabsView.js', './inventoryActionIndexTabsView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, viewTpl, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryActionIndexViewHbs) {
      viewTpl = _inventoryActionIndexViewHbs.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_inventoryActionIndexTabsViewHbs) {
      tabsTpl = _inventoryActionIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#inventory-content",
          tabs: "#inventory-action-tabs"
        },
        ui: {
          tabLink: "#inventory-action-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryLogIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Inventory Logs</h2>\r\n<div id=\"inventory-log-tabs\"></div>\r\n<div id=\"inventory-content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryLogIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return " is-active";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "not-active";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_edit", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_transform", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>Traveler Id Logs</a>\r\n		<ul>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_edit", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_tid_edit\">Traveler Id Edit Logs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_tid_movement\">Traveler Id Movement Logs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_tid_transform", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_tid_transform\">Traveler Id Transform Logs</a></li>\r\n		</ul>\r\n	</li>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sales_item_edit", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sales_item_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>Sales Item Logs</a>\r\n		<ul class=\"si-tabs-dropdown\">\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sales_item_edit", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_sales_item_edit\">Sales Item Edit Logs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sales_item_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_sales_item_movement\">Sales Item Movement Logs</a></li>\r\n		</ul>\r\n	</li>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_adjustment", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_transform", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a>SKU Logs</a>\r\n		<ul>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_adjustment", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_sku_adjustment\">SKU Adjustment Logs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_movement", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_sku_movement\">SKU Movement Logs</a></li>\r\n			<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_sku_transform", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.program(5, data, 0), "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_sku_transform\">SKU Transform Logs</a></li>\r\n		</ul>\r\n	</li>\r\n	<li class=\"si-tabs-dropdown" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/inventory_alert_log", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\">\r\n		<a  href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/inventory_alert_log\">Inventory Alert Logs</a>\r\n	</li>\r\n</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/inventory/views/inventoryLogIndexView.js', ['marionette', 'backbone.radio', './inventoryLogIndexView.hbs!', 'lib/common/views/navTabsView.js', './inventoryLogIndexTabsView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, viewTpl, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryLogIndexViewHbs) {
      viewTpl = _inventoryLogIndexViewHbs.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_inventoryLogIndexTabsViewHbs) {
      tabsTpl = _inventoryLogIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#inventory-content",
          tabs: "#inventory-log-tabs"
        },
        ui: {
          tabLink: "#inventory-log-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          if (e.target.getAttribute('href')) {
            Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
          }
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl,
            hasDropdown: true
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/travelerIdView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<div data-region=\"content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/travelerIdActionsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<button name=\"add\" class=\"button is-light\">Add Traveler Ids</button>\r\n<button name=\"massEdit\" class=\"button is-light\">Mass Edit Traveler Ids</button>\r\n<button name=\"massSelect\" class=\"button is-light\">Mass Select Traveler Ids</button>\r\n<button name=\"massTransform\" class=\"button is-light\">Mass Transform Traveler Ids</button>\r\n<div class=\"notification is-info\">\r\n	<span data-ui-name=\"selectedCount\"></span>\r\n	<button class=\"button is-pulled-right\" data-ui-name=\"clearSelection\">Clear</button>\r\n</div>\r\n<div data-region=\"list\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/travelerIdListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th colspan=\"2\">Traveler Id Label</th>\r\n			<th>Inbound Order</th>\r\n			<th>Bin</th>\r\n			<th>SKU</th>\r\n			<th>Quantity</th>\r\n			<th><button type=\"button\" name=\"toggleSelectAll\" class=\"button small\">Toggle Select All</button></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/travelerIdRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return " si-is-void";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.transform : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "4": function (container, depth0, helpers, partials, data) {
            return " si-has-transform";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		(" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.unit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.serial : stack1, depth0)) + ")\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>\r\n	<a class=\"entity-link" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.transform : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</a>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.unit : depth0, { "name": "if", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n	<button type=\"button\" name=\"showCard\" class=\"button small\">Show Card</button>\r\n</td>\r\n<td><a data-ui-link=\"inboundOrder\" href=\"" + container.escapeExpression((helpers["return"] || depth0 && depth0["return"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.inboundOrder : depth0) != null ? stack1.url : stack1, depth0 != null ? depth0.inboundOrder : depth0, { "name": "return", "hash": {}, "data": data })) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.inboundOrder : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</a></td>\r\n<td><a data-ui-link=\"bin\" href=\"" + container.escapeExpression((helpers["return"] || depth0 && depth0["return"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.url : stack1, depth0 != null ? depth0.bin : depth0, { "name": "return", "hash": {}, "data": data })) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</a></td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><input type=\"checkbox\" name=\"isSelected\" /></td>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdAddActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<form>\r\n	<label class=\"label\">Inbound Order</label>\r\n	<p class=\"control\">\r\n  		<select name=\"inboundOrder\"></select>\r\n	</p>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"bin\"></select>\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		<select name=\"sku\"></select>\r\n	</p>\r\n	<label class=\"label\">Quantity(Per SKU)</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"quantity\" type=\"number\" min=\"0.01\" step=\"0.01\" placeholder=\"Enter Quantity\" />\r\n	</p>\r\n	<label class=\"label\">Total Traveler Id Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"count\" type=\"number\" placeholder=\"Enter Count\">\r\n	</p>\r\n	<label class=\"label\">Serials(<span data-ui=\"serialCount\"></span>)</label>\r\n	<small>Optional</small>\r\n	<p class=\"control\">\r\n		<textarea rows=\"10\" name=\"serials\"></textarea>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdAddActionView.js', ['underscore', 'backbone.syphon', 'marionette', 'backbone.radio', './inventoryTravelerIdAddActionView.hbs!', 'lib/accounting/models/inboundOrderCollection.js', '../models/binCollection.js', '../models/skuCollection.js', '../models/travelerIdModel.js', '../models/unitModel.js', '../models/unitPropertyModel.js'], function (_export, _context) {
  "use strict";

  var _, Syphon, Marionette, Radio, viewTpl, InboundOrderCollection, BinCollection, SkuCollection, TravelerIdModel, UnitModel, UnitPropertyModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryTravelerIdAddActionViewHbs) {
      viewTpl = _inventoryTravelerIdAddActionViewHbs.default;
    }, function (_libAccountingModelsInboundOrderCollectionJs) {
      InboundOrderCollection = _libAccountingModelsInboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_modelsTravelerIdModelJs) {
      TravelerIdModel = _modelsTravelerIdModelJs.default;
    }, function (_modelsUnitModelJs) {
      UnitModel = _modelsUnitModelJs.default;
    }, function (_modelsUnitPropertyModelJs) {
      UnitPropertyModel = _modelsUnitPropertyModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'Stickit': {},
          'RemoteSearchSelect2': {
            inboundOrder: {
              url: InboundOrderCollection.prototype.selectOptionsUrl,
              search: 'label',
              textProperty: 'label',
              placeholder: 'Select Inbound Order'
            },
            bin: {
              url: BinCollection.prototype.selectOptionsUrl,
              search: 'name',
              placeholder: 'Select Bin'
            },
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name',
              placeholder: 'Select SKU'
            }
          }
        },
        template: viewTpl,
        ui: {
          'form': 'form',
          'submitButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'quantityInput': 'input[name="quantity"]',
          'countInput': 'input[name="count"]',
          'serialsInput': 'textarea[name="serials"]',
          'serialCount': '[data-ui="serialCount"]'
        },
        bindings: {
          '@ui.quantityInput': 'quantity',
          '@ui.countInput': 'count',
          '@ui.serialsInput': 'serials'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        modelEvents: {
          'change:serials': 'serialsChanged'
        },
        cancel: function cancel() {
          this.model.destroy();
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          setTimeout(function () {
            _this.model.get('travelerIds').reset();
            _this.addTravelerIds().then(function () {
              _this.model.save().done(function () {
                Radio.channel('dialog').trigger('close');
                Radio.channel('inventory').trigger('refresh:list:travelerId');
              });
            });
          }, 5);
        },
        serialsChanged: function serialsChanged() {
          var serialsArray = [];
          _.each(this.ui.serialsInput.val().split('\n'), function (serial) {
            var trimmedSerial = serial.trim();
            if (trimmedSerial) {
              serialsArray.push(trimmedSerial);
            }
          });
          this.model.set('serialsArray', serialsArray);
          this.ui.serialCount.text(serialsArray.length);
        },
        addTravelerIds: function addTravelerIds() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var attr = Syphon.serialize(_this2);
            _this2.serialsChanged();
            attr = {
              inboundOrder: InboundOrderCollection.prototype.model.findOrCreate({ id: parseInt(attr.inboundOrder) }),
              bin: BinCollection.prototype.model.findOrCreate({ id: parseInt(attr.bin) }),
              sku: SkuCollection.prototype.model.findOrCreate({ id: parseInt(attr.sku) }),
              count: parseInt(attr.count),
              quantity: attr.quantity
            };
            for (var i = 0; i < attr.count; i++) {
              var travelerId = TravelerIdModel.build({
                inboundOrder: attr.inboundOrder,
                bin: attr.bin,
                sku: attr.sku,
                quantity: attr.quantity
              });
              var serial = _this2.model.get('serialsArray')[i];
              if (travelerId.get('sku').get('unitType')) {
                (function () {
                  //create a new unit
                  var unit = UnitModel.build({
                    serial: serial,
                    travelerId: travelerId,
                    unitType: travelerId.get('sku').get('unitType')
                  });
                  travelerId.get('sku').get('unitType').get('properties').each(function (unitTypeProperty) {
                    var unitProperty = UnitPropertyModel.build({
                      unit: unit,
                      unitTypeProperty: unitTypeProperty
                    });
                  });
                })();
              }
              _this2.model.get('travelerIds').add(travelerId);
            }
            resolve();
          });
        },
        disableButtons: function disableButtons() {
          this.ui.submitButton.prop('disabled', true).addClass('is-loading');
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.submitButton.prop('disabled', false).removeClass('is-loading');
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdMassEditActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "  				<option value=\"" + container.escapeExpression((helper = (helper = helpers.key || data && data.key) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "key", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression(container.lambda(depth0 != null ? depth0.title : depth0, depth0)) + "</option>\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<form>\r\n	<label class=\"label\">Update Attribute</label>\r\n	<p class=\"control\">\r\n		<select name=\"updateAttribute\">\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.updateableAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "  		</select>\r\n	</p>\r\n	<label class=\"label\">Update Type</label>\r\n	<p class=\"control\">\r\n		<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"updateType\" value=\"single\" />\r\n	    	Single Value\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"updateType\" value=\"multiple\" />\r\n		    Multiple Values\r\n		</label>\r\n	</p>\r\n	<label class=\"label\" data-ui=\"controlLabel\"></label>\r\n	<p class=\"control\" data-ui=\"controlContainer\"></p>\r\n	<ul data-region=\"properties\"></ul>\r\n	<label class=\"label\" data-ui=\"countLabel\">Update " + container.escapeExpression((helper = (helper = helpers.selectedCount || (depth0 != null ? depth0.selectedCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedCount", "hash": {}, "data": data }) : helper)) + " Traveler Ids</label>\r\n	<p data-ui=\"errorContainer\" class=\"is-hidden notification is-danger\"></p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdMassEditActionView.js', ['underscore', 'jquery', 'backbone.syphon', 'marionette', 'backbone.radio', 'uuid/v4', 'lib/common/behaviors/remoteSearchSelect2.js', './inventoryTravelerIdMassEditActionView.hbs!', 'lib/accounting/models/inboundOrderCollection.js', '../models/binCollection.js', '../models/skuCollection.js', '../models/travelerIdModel.js', '../models/massTravelerIdModel.js', './unitPropertiesListView.js'], function (_export, _context) {
  "use strict";

  var _, jquery, Syphon, Marionette, Radio, Uuid, RemoteSearchSelect2Behavior, viewTpl, InboundOrderCollection, BinCollection, SkuCollection, TravelerIdModel, MassTravelerIdModel, UnitPropertiesListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_uuidV) {
      Uuid = _uuidV.default;
    }, function (_libCommonBehaviorsRemoteSearchSelect2Js) {
      RemoteSearchSelect2Behavior = _libCommonBehaviorsRemoteSearchSelect2Js.default;
    }, function (_inventoryTravelerIdMassEditActionViewHbs) {
      viewTpl = _inventoryTravelerIdMassEditActionViewHbs.default;
    }, function (_libAccountingModelsInboundOrderCollectionJs) {
      InboundOrderCollection = _libAccountingModelsInboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_modelsTravelerIdModelJs) {
      TravelerIdModel = _modelsTravelerIdModelJs.default;
    }, function (_modelsMassTravelerIdModelJs) {
      MassTravelerIdModel = _modelsMassTravelerIdModelJs.default;
    }, function (_unitPropertiesListViewJs) {
      UnitPropertiesListView = _unitPropertiesListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:travelerId');
        },

        template: viewTpl,
        regions: {
          properties: {
            el: '[data-region="properties"]',
            replaceElement: true
          }
        },
        ui: {
          'attributeSelect': 'select[name="updateAttribute"]',
          'updateTypeRadio': 'input[name="updateType"]',
          'controlLabel': '[data-ui="controlLabel"]',
          'controlContainer': '[data-ui="controlContainer"]',
          'form': 'form',
          'submitButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'errorContainer': '[data-ui="errorContainer"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel',
          'change @ui.attributeSelect': 'updateControl',
          'click @ui.updateTypeRadio': 'updateControl'
        },
        select2Options: {
          inboundOrder: {
            collection: InboundOrderCollection,
            url: InboundOrderCollection.prototype.selectOptionsUrl,
            search: 'label',
            textProperty: 'label'
          },
          bin: {
            collection: BinCollection,
            url: BinCollection.prototype.selectOptionsUrl,
            search: 'name'
          }
        },
        serializeData: function serializeData() {
          var data = {};
          data.updateableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes(this.selectedCollection);
          data.selectedCount = this.selectedCollection.length;
          return data;
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          setTimeout(function () {
            _this.editTravelerIds().then(function () {
              _this.enableButtons();
              Radio.channel('dialog').trigger('close');
              Radio.channel('inventory').trigger('refresh:list:travelerId');
            }).catch(function (err) {
              _this.ui.errorContainer.removeClass('is-hidden').show().text(err).fadeOut(3000);
              _this.enableButtons();
            });
          }, 5);
        },
        updateControl: function updateControl() {
          var updatableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes(this.selectedCollection);
          var attribute = this.ui.attributeSelect.val();
          var type = this.ui.updateTypeRadio.filter(':checked').val();
          if (!attribute || !type) {
            return;
          }
          this.ui.controlLabel.text(updatableAttributes[attribute].title);
          if (attribute === 'unit') {
            this.ui.controlContainer.empty();
            var listView = new UnitPropertiesListView({
              collection: updatableAttributes.unit.properties
            });
            this.showChildView('properties', listView);
          } else {
            this.getRegion('properties').empty();
            if (type === 'single') {
              if (updatableAttributes[attribute].type === 'select') {
                var $select = jquery('<select name="' + attribute + '">');
                this.ui.controlContainer.empty().append($select);
                RemoteSearchSelect2Behavior.prototype.setupSelect2($select, this.select2Options[attribute]);
              } else {
                var $input = jquery('<input name="' + attribute + '" type="' + updatableAttributes[attribute].type + '" />');
                this.ui.controlContainer.empty().append($input);
              }
            } else {
              var _$input = jquery('<textarea rows="10" name="' + attribute + '" ></textarea>');
              this.ui.controlContainer.empty().append(_$input);
            }
          }
        },
        editTravelerIds: function editTravelerIds() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var attr = Syphon.serialize(_this2);
            var type = _this2.ui.updateTypeRadio.filter(':checked').val();
            var valuePromise = null;
            var attrKey = null;
            if (attr.updateAttribute === 'unit') {
              _this2.selectedCollection.each(function (travelerId) {
                var unitModel = travelerId.get('unit');
                _this2.$el.find('[data-unit-type-property-id]').each(function (idx, propertyInput) {
                  var property = unitModel.findPropertyByUnitTypePropertyId(jquery(propertyInput).data('unitTypePropertyId'));
                  property.typeAndSet(jquery(propertyInput).data('valueName'), jquery(propertyInput).val());
                });
              });
              _this2.sendMassTidUpdate().then(function () {
                resolve();
              });
            } else {
              _.each(attr, function (value, key) {
                if (key.indexOf('update') < 0) {
                  attrKey = key;
                  if (type === 'single') {
                    valuePromise = _this2.getSingleValue(value, key);
                  } else {
                    valuePromise = _this2.getValuesArray(value, key);
                  }
                }
              });
              valuePromise.then(function (updateValue) {
                if (Array.isArray(updateValue)) {
                  _this2.selectedCollection.each(function (travelerId, index) {
                    travelerId.set(attrKey, updateValue[index]);
                  });
                } else {
                  _this2.selectedCollection.each(function (travelerId) {
                    travelerId.set(attrKey, updateValue);
                  });
                }
                console.log('updated ');
                _this2.sendMassTidUpdate().then(function () {
                  console.log('resolving editTravelerIds');
                  resolve();
                });
              }).catch(function (err) {
                reject(err);
              });
            }
          });
        },
        sendMassTidUpdate: function sendMassTidUpdate() {
          var _this3 = this;

          return new Promise(function (resolve, reject) {
            //set an Id so backbone does a "put" rather than "post"
            var massTravlerId = MassTravelerIdModel.findOrCreate({
              id: Uuid()
            });
            massTravlerId.set('type', 'edit');
            massTravlerId.get('travelerIds').reset(_this3.selectedCollection.models);
            console.log('saving');
            massTravlerId.save().done(function () {
              console.log('resolving sendMassTidUpdate');
              resolve();
            });
          });
        },
        getSingleValue: function getSingleValue(valueStr, attribute) {
          var _this4 = this;

          var updatableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes(this.selectedCollection);
          var updateValue = null;
          return new Promise(function (resolve, reject) {
            if (updatableAttributes[attribute].type === 'select') {
              updateValue = _this4.select2Options[attribute].collection.prototype.model.findOrCreate({ id: parseInt(valueStr) });
            } else {
              updateValue = valueStr;
            }
            resolve(updateValue);
          });
        },
        getValuesArray: function getValuesArray(valueStr, attribute) {
          var _this5 = this;

          var updatableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes(this.selectedCollection);
          var valuesLookup = {};
          var rawValuesArray = [];
          var valuesArray = [];
          _.each(valueStr.split('\n'), function (value) {
            var trimmedValue = value.trim();
            if (trimmedValue) {
              rawValuesArray.push(trimmedValue);
              if (!valuesLookup[trimmedValue]) {
                valuesLookup[trimmedValue] = true;
              }
            }
          });
          if (rawValuesArray.length !== this.selectedCollection.length) {
            throw 'Selected TID Count and Suppplied Values Count do not match';
          }
          return new Promise(function (resolve, reject) {
            _this5.getAjaxResult(valuesLookup, attribute, function (err) {
              if (err) {
                reject(err);
              } else {
                _.each(rawValuesArray, function (value) {
                  var trimmedValue = value.trim();
                  valuesArray.push(valuesLookup[trimmedValue]);
                });
                resolve(valuesArray);
              }
            });
          });
        },
        getAjaxResult: function getAjaxResult(valuesLookup, attribute, callback) {
          var _this6 = this;

          var updatableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes(this.selectedCollection);
          if (updatableAttributes[attribute].type === 'select') {
            (function () {
              var search = _this6.select2Options[attribute].search;
              var terms = _.keys(valuesLookup);
              jquery.ajax({
                url: _this6.select2Options[attribute].url,
                dataType: 'json',
                data: {
                  terms: terms.join(','),
                  search: search,
                  page: 1,
                  per_page: 1000
                }
              }).done(function (data) {
                _.each(data.list, function (attrs) {
                  valuesLookup[attrs[search]] = _this6.select2Options[attribute].collection.prototype.model.findOrCreate(attrs);
                });
                _.each(valuesLookup, function (value, key) {
                  if (!(value instanceof _this6.select2Options[attribute].collection.prototype.model)) {
                    callback('Missing Value for "' + key + '"');
                  }
                });
                callback();
              });
            })();
          } else {
            _.each(valuesLookup, function (value, key) {
              valuesLookup[key] = key;
            });
            callback();
          }
        },
        disableButtons: function disableButtons() {
          this.ui.submitButton.prop('disabled', true).addClass('is-loading');
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.submitButton.prop('disabled', false).removeClass('is-loading');
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdMassSelectionActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<form>\r\n	<label class=\"label\">Mode</label>\r\n	<p class=\"control\">\r\n		<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"mode\" value=\"add\" />\r\n	    	Add\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"mode\" value=\"remove\" />\r\n		    Remove\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"mode\" value=\"replace\" />\r\n		    Replace\r\n		</label>\r\n	</p>\r\n	<label class=\"label\">Traveler Ids(<span data-ui=\"count\"></span>)</label>\r\n	<p class=\"control\">\r\n		<textarea rows=\"10\" name=\"travelerIds\"></textarea>\r\n	</p>\r\n	<label class=\"label\" data-ui=\"countLabel\">" + container.escapeExpression((helper = (helper = helpers.selectedCount || (depth0 != null ? depth0.selectedCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedCount", "hash": {}, "data": data }) : helper)) + " Traveler Ids Selected</label>\r\n	<p data-ui=\"errorContainer\" class=\"is-hidden notification is-danger\"></p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"export\">Export Selected</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdMassSelectionActionView.js', ['underscore', 'jquery', 'marionette', 'backbone.radio', './inventoryTravelerIdMassSelectionActionView.hbs!', '../models/travelerIdModel.js'], function (_export2, _context) {
  "use strict";

  var _, jquery, Marionette, Radio, viewTpl, TravelerIdModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryTravelerIdMassSelectionActionViewHbs) {
      viewTpl = _inventoryTravelerIdMassSelectionActionViewHbs.default;
    }, function (_modelsTravelerIdModelJs) {
      TravelerIdModel = _modelsTravelerIdModelJs.default;
    }],
    execute: function () {
      _export2('default', Marionette.View.extend({
        initialize: function initialize() {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:travelerId');
        },

        template: viewTpl,
        ui: {
          'modeRadio': 'input[name="mode"]',
          'travelerIdsInput': 'textarea[name="travelerIds"]',
          'count': '[data-ui="count"]',
          'selectedCountLabel': '[data-ui="countLabel"]',
          'form': 'form',
          'saveButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'exportButton': 'button[data-ui-name="export"]',
          'errorContainer': '[data-ui="errorContainer"]'
        },
        events: {
          'change @ui.travelerIdsInput': 'travelerIdsChanged',
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel',
          'click @ui.exportButton': 'export'
        },
        serializeData: function serializeData() {
          var data = {};
          data.updateableAttributes = TravelerIdModel.prototype.getUpdatadableAttributes();
          data.selectedCount = this.selectedCollection.length;
          return data;
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        export: function _export() {
          var element = document.createElement('a');
          var csvText = 'Label,Serial,SKU,Inbound Order,Bin\n';
          this.selectedCollection.each(function (travelerId) {
            csvText += travelerId.get('label') + ',';
            csvText += travelerId.get('serial') + ',';
            csvText += travelerId.get('sku').get('label') + ',';
            csvText += travelerId.get('inboundOrder').get('label') + ',';
            csvText += travelerId.get('bin').get('name');
            csvText += '\n';
          });
          element.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csvText));
          element.setAttribute('download', 'selection.csv');

          element.style.display = 'none';
          document.body.appendChild(element);

          element.click();

          document.body.removeChild(element);
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          var mode = this.ui.modeRadio.filter(':checked').val();
          var promise = null;
          if (mode === 'add') {
            promise = this.addTravelerIdsToSelection();
          } else if (mode === 'remove') {
            promise = this.removeTravelerIdsFromSelection();
          } else if (mode === 'replace') {
            this.clearSelection();
            promise = this.addTravelerIdsToSelection();
          }
          if (promise) {
            promise.then(function () {
              Radio.channel('dialog').trigger('close');
            }).catch(function (err) {
              _this.ui.errorContainer.removeClass('is-hidden').show().text(err).fadeOut(3000);
              _this.enableButtons();
            });
          } else {
            this.enableButtons();
          }
        },
        travelerIdsChanged: function travelerIdsChanged() {
          this.ui.count.text(this.getTravelerIdsFromInput().length);
        },
        getTravelerIdsFromInput: function getTravelerIdsFromInput() {
          var travelerIdsArray = [];
          _.each(this.ui.travelerIdsInput.val().split('\n'), function (value) {
            var trimmedValue = value.trim();
            if (trimmedValue) {
              travelerIdsArray.push(trimmedValue);
            }
          });
          return travelerIdsArray;
        },
        addTravelerIdsToSelection: function addTravelerIdsToSelection() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var travelerIds = _this2.getTravelerIdsFromInput();
            jquery.ajax({
              url: TravelerIdModel.prototype.urlRoot(),
              dataType: 'json',
              data: {
                terms: travelerIds.join(','),
                search: 'label',
                page: 1,
                per_page: 1000
              }
            }).done(function (data) {
              _.each(data.list, function (attrs) {
                var travelerId = TravelerIdModel.findOrCreate(attrs);
                travelerId.set('isSelected', true);
              });
              _.each(travelerIds, function (travelerId) {
                var travlerIdModel = _this2.selectedCollection.findWhere({ label: travelerId });
                if (!travlerIdModel) {
                  reject('No Traveler Id found for "' + travelerId + '"');
                }
              });
              resolve();
            });
          });
        },
        removeTravelerIdsFromSelection: function removeTravelerIdsFromSelection() {
          var _this3 = this;

          return new Promise(function (resolve, reject) {
            var travelerIds = _this3.getTravelerIdsFromInput();
            var travelerIdModels = [];
            _this3.selectedCollection.each(function (travelerId) {
              if (travelerIds.indexOf(travelerId.get('label')) > -1) {
                travelerIdModels.push(travelerId);
              }
            });
            _.invoke(travelerIdModels, 'set', 'isSelected', false);
            resolve();
          });
        },
        clearSelection: function clearSelection() {
          var tids = this.selectedCollection.toArray();
          _.invoke(tids, 'set', 'isSelected', false);
          this.selectedCollection.reset();
        },
        disableButtons: function disableButtons() {
          this.ui.saveButton.addClass('is-loading').prop('disabled', true);
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.saveButton.removeClass('is-loading').prop('disabled', false);
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdMassTransformActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<form>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		<select name=\"sku\"></select>\r\n	</p>\r\n	<label class=\"label\">Transform To</label>\r\n	<p class=\"control\">\r\n  		<label class=\"radio\">\r\n	    	<input type=\"radio\" name=\"target\" value=\"travelerId\" />\r\n    		Traveler Id\r\n	  	</label>\r\n	  	<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"target\" value=\"salesItem\" />\r\n	    	Sales Item\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Quantity</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"quantity\" type=\"number\" placeholder=\"Enter Quantity\" />\r\n		<span class=\"help is-info\">SKU per Target</span>\r\n	</p>\r\n	<label class=\"label\">Transform Type</label>\r\n	<p class=\"control\">\r\n  		<label class=\"radio\">\r\n	    	<input type=\"radio\" name=\"type\" value=\"oneToOne\" checked />\r\n    		One To One\r\n	  	</label>\r\n	  	<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"type\" value=\"breakdown\" />\r\n	    	Breakdown\r\n	  	</label>\r\n	  	<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"type\" value=\"consolidate\" />\r\n	    	Consolidate\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Transform Ratio</label>\r\n	<div class=\"control is-grouped\">\r\n		<p class=\"control\">\r\n			<input class=\"input is-disabled si-transform-ratio-input\" value=\"1\" name=\"fromCount\" type=\"number\" placeholder=\"Enter 'From' Count\" disabled />\r\n		</p>\r\n		<p class=\"control\">\r\n			to\r\n		</p>\r\n		<p class=\"control\">\r\n			<input class=\"input is-disabled si-transform-ratio-input\" value=\"1\" name=\"toCount\" type=\"number\" placeholder=\"Enter 'To' Count\" disabled />\r\n		</p>\r\n	</div>\r\n	<label class=\"label\" data-ui=\"countLabel\">Transform " + container.escapeExpression((helper = (helper = helpers.selectedCount || (depth0 != null ? depth0.selectedCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedCount", "hash": {}, "data": data }) : helper)) + " Traveler Ids</label>\r\n	<p data-ui=\"errorContainer\" class=\"is-hidden notification is-danger\"></p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdMassTransformActionView.js', ['underscore', 'jquery', 'backbone', 'backbone.syphon', 'marionette', 'backbone.radio', 'uuid/v4', 'lib/common/behaviors/remoteSearchSelect2.js', './inventoryTravelerIdMassTransformActionView.hbs!', '../models/skuCollection.js', '../models/inventoryTravelerIdTransformModel.js', '../models/massTravelerIdModel.js', '../models/travelerIdModel.js', '../models/salesItemModel.js'], function (_export, _context) {
  "use strict";

  var _, jquery, Backbone, Syphon, Marionette, Radio, Uuid, RemoteSearchSelect2Behavior, viewTpl, SkuCollection, InventoryTravelerIdTransformModel, MassTravelerIdModel, TravelerIdModel, SalesItemModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_uuidV) {
      Uuid = _uuidV.default;
    }, function (_libCommonBehaviorsRemoteSearchSelect2Js) {
      RemoteSearchSelect2Behavior = _libCommonBehaviorsRemoteSearchSelect2Js.default;
    }, function (_inventoryTravelerIdMassTransformActionViewHbs) {
      viewTpl = _inventoryTravelerIdMassTransformActionViewHbs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_modelsInventoryTravelerIdTransformModelJs) {
      InventoryTravelerIdTransformModel = _modelsInventoryTravelerIdTransformModelJs.default;
    }, function (_modelsMassTravelerIdModelJs) {
      MassTravelerIdModel = _modelsMassTravelerIdModelJs.default;
    }, function (_modelsTravelerIdModelJs) {
      TravelerIdModel = _modelsTravelerIdModelJs.default;
    }, function (_modelsSalesItemModelJs) {
      SalesItemModel = _modelsSalesItemModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:travelerId');
          this.model = new Backbone.Model();
        },

        behaviors: {
          'RemoteSearchSelect2': {
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name',
              placeholder: 'Select SKU'
            }
          }
        },
        template: viewTpl,
        ui: {
          'form': 'form',
          'typeInput': 'input[name="type"]',
          'fromCountInput': 'input[name="fromCount"]',
          'toCountInput': 'input[name="toCount"]',
          'submitButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'errorContainer': '[data-ui="errorContainer"]'
        },
        events: {
          'change @ui.typeInput': 'typeChanged',
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        serializeData: function serializeData() {
          var data = {};
          data.selectedCount = this.selectedCollection.length;
          return data;
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          setTimeout(function () {
            _this.transformTravelerIds().then(function () {
              _this.enableButtons();
              Radio.channel('dialog').trigger('close');
              Radio.channel('inventory').trigger('refresh:list:travelerId');
            }).catch(function (err) {
              _this.ui.errorContainer.removeClass('is-hidden').show().text(err).fadeOut(3000);
              _this.enableButtons();
            });
          }, 5);
        },
        typeChanged: function typeChanged(event) {
          event.preventDefault();
          var attr = Syphon.serialize(this);
          if (attr.type === 'oneToOne') {
            this.ui.fromCountInput.val('1').addClass('is-disabled').prop('disabled', true);
            this.ui.toCountInput.val('1').addClass('is-disabled').prop('disabled', true);
          } else if (attr.type === 'breakdown') {
            this.ui.fromCountInput.val('1').addClass('is-disabled').prop('disabled', true);
            this.ui.toCountInput.val('').removeClass('is-disabled').prop('disabled', false);
          } else if (attr.type === 'consolidate') {
            this.ui.fromCountInput.val('').removeClass('is-disabled').prop('disabled', false);
            this.ui.toCountInput.val('1').addClass('is-disabled').prop('disabled', true);
          }
        },
        transformTravelerIds: function transformTravelerIds() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var attr = Syphon.serialize(_this2);
            if (!attr.target) {
              throw 'Must select a target';
            }
            if (!attr.quantity) {
              throw 'Must supply a Quantity';
            }
            if (!attr.sku) {
              throw 'Must supply a SKU';
            }
            if (attr.type === 'consolidate' && _this2.selectedCollection.length * attr.quantity % _this2.ui.fromCountInput.val() !== 0) {
              throw 'Selected count must be divisible by "From" Count';
            }
            var sku = SkuCollection.prototype.model.findOrCreate({ id: parseInt(attr.sku) });
            _this2.validateQuantities(attr);
            var transforms = new Backbone.Collection();
            _this2.selectedCollection.each(function (travelerId, idx) {
              if (travelerId.get('transform')) {
                throw 'TravelerId "' + travelerId.get('label') + '" has already been transformed';
              }
              var transform = null;
              if (attr.type === 'consolidate') {
                //need a way to let the server know of references / ids cid maybe?
                var _transform = transforms.at(Math.floor(idx / attr.fromCount));
                if (!_transform) {
                  _transform = _this2.createTransform(attr, sku, travelerId);
                  transforms.add(_transform);
                }
                _transform.get('fromTravelerIds').add(travelerId);
              } else {
                var _transform2 = _this2.createTransform(attr, sku, travelerId);
                transforms.add(_transform2);
              }
            });
            //set an Id so backbone does a "put" rather than "post"
            var massTravelerId = MassTravelerIdModel.findOrCreate({
              id: Uuid()
            });
            massTravelerId.set('type', 'transform');
            massTravelerId.get('travelerIds').reset(_this2.selectedCollection.models);
            massTravelerId.save().done(function () {
              resolve();
            }).fail(function () {
              var transformsArray = transforms.toArray();
              for (var i = 0; i < transformsArray.length; i++) {
                transformsArray[i].destroy();
              }
            });
          });
        },
        validateQuantities: function validateQuantities(attr) {
          var quantity = parseFloat(attr.quantity);
          var toCount = parseInt(attr.toCount);
          var fromCount = parseInt(attr.fromCount);
          /*if(attr.type === 'breakdown'){
            this.selectedCollection.each((travelerId)=>{
              if(parseFloat(travelerId.get('quantity')) <  quantity){
                throw 'TravelerId "'+travelerId.get('label')+'" only has '+travelerId.get('quantity')+' of SKU '+travelerId.get('sku').get('name');
              }
            });
          }else*/
          if (attr.type === 'consolidate') {
            var availableQuantity = 0;
            this.selectedCollection.each(function (travelerId) {
              availableQuantity += parseFloat(travelerId.get('quantity'));
            });
            if (availableQuantity < quantity) {
              throw 'Only "' + availableQuantity + '" total available quantity';
            }
          } else {
            this.selectedCollection.each(function (travelerId) {
              if (parseFloat(travelerId.get('quantity')) < quantity) {
                throw 'TravelerId "' + travelerId.get('label') + '" only has ' + travelerId.get('quantity') + ' of SKU ' + travelerId.get('sku').get('name');
              }
            });
          }
        },
        createTransform: function createTransform(attr, sku, travelerId) {
          var transform = InventoryTravelerIdTransformModel.build({
            quantity: attr.quantity
          });
          transform.set('cid', transform.cid);
          travelerId.set('transform', transform);
          var toCount = parseInt(attr.toCount);
          for (var i = 0; i < toCount; i++) {
            if (attr.target === 'travelerId') {
              var newTravelerId = TravelerIdModel.build({
                inboundOrder: travelerId.get('inboundOrder'),
                bin: travelerId.get('bin'),
                sku: sku,
                quantity: attr.quantity
              });
              transform.get('toTravelerIds').add(newTravelerId);
            } else {
              var newSalesItem = SalesItemModel.build({
                bin: travelerId.get('bin'),
                sku: sku,
                quantity: attr.quantity
              });
              transform.get('toSalesItems').add(newSalesItem);
            }
          }
          return transform;
        },
        disableButtons: function disableButtons() {
          this.ui.submitButton.prop('disabled', true).addClass('is-loading');
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.submitButton.prop('disabled', false).removeClass('is-loading');
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/travelerIdCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './travelerIdModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_travelerIdModelJs) {
      Model = _travelerIdModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/tid';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/massTravelerIdModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/accounting/models/inboundOrderModel'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libAccountingModelsInboundOrderModel) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/mass_tid';
        },

        relations: [{
          type: BackboneRelational.HasMany,
          key: 'travelerIds',
          relatedModel: 'TravelerIdModel',
          includeInJSON: true
        }],
        defaults: {
          travelerIds: null,
          //only for client for now
          serials: null,
          serialsArray: null,
          count: null,
          type: null
        },
        toJSON: function toJSON() {
          var attrs = {
            id: this.get('id'),
            type: this.get('type'),
            serials: this.get('serials'),
            serialsArray: this.get('serialsArray'),
            count: this.get('count'),
            travelerIds: []
          };
          this.get('travelerIds').each(function (travelerId) {
            if (attrs.type === 'transform') {
              attrs.travelerIds.push(travelerId.getMassTransformAttrs());
            } else {
              attrs.travelerIds.push(travelerId.getMassUpdateAttrs());
            }
          });
          return attrs;
        }
      });


      globalNamespace.Models.MassTravelerIdModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/views/travelerIdActionsView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './travelerIdActionsView.hbs!', 'lib/common/views/entity/searchableListLayoutView.js', './travelerIdListTableLayoutTpl.hbs!', './travelerIdRowTpl.hbs!', './inventoryTravelerIdAddActionView.js', './inventoryTravelerIdMassEditActionView.js', './inventoryTravelerIdMassSelectionActionView.js', './inventoryTravelerIdMassTransformActionView.js', '../models/travelerIdCollection.js', '../models/massTravelerIdModel.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, SearchableListLayoutView, travelerIdListTableLayoutTpl, travelerIdRowTpl, InventoryTravelerIdAddActionView, InventoryTravelerIdMassEditActionView, InventoryTravelerIdMassSelectionActionView, InventoryTravelerIdMassTransformActionView, TravelerIdCollection, MassTravelerIdModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_travelerIdActionsViewHbs) {
      viewTpl = _travelerIdActionsViewHbs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_travelerIdListTableLayoutTplHbs) {
      travelerIdListTableLayoutTpl = _travelerIdListTableLayoutTplHbs.default;
    }, function (_travelerIdRowTplHbs) {
      travelerIdRowTpl = _travelerIdRowTplHbs.default;
    }, function (_inventoryTravelerIdAddActionViewJs) {
      InventoryTravelerIdAddActionView = _inventoryTravelerIdAddActionViewJs.default;
    }, function (_inventoryTravelerIdMassEditActionViewJs) {
      InventoryTravelerIdMassEditActionView = _inventoryTravelerIdMassEditActionViewJs.default;
    }, function (_inventoryTravelerIdMassSelectionActionViewJs) {
      InventoryTravelerIdMassSelectionActionView = _inventoryTravelerIdMassSelectionActionViewJs.default;
    }, function (_inventoryTravelerIdMassTransformActionViewJs) {
      InventoryTravelerIdMassTransformActionView = _inventoryTravelerIdMassTransformActionViewJs.default;
    }, function (_modelsTravelerIdCollectionJs) {
      TravelerIdCollection = _modelsTravelerIdCollectionJs.default;
    }, function (_modelsMassTravelerIdModelJs) {
      MassTravelerIdModel = _modelsMassTravelerIdModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:travelerId');
          this.listenTo(this.selectedCollection, 'update', this.updateSelectedCount);
          this.listenTo(Radio.channel('inventory'), 'refresh:list:travelerId', this.refreshList);
        },

        template: viewTpl,
        regions: {
          list: '[data-region="list"]'
        },
        ui: {
          'addButton': 'button[name="add"]',
          'massEditButton': 'button[name="massEdit"]',
          'massSelectButton': 'button[name="massSelect"]',
          'massTransformButton': 'button[name="massTransform"]',
          'selectedCountMsg': 'span[data-ui-name="selectedCount"]',
          'clearSelectionButton': 'button[data-ui-name="clearSelection"]'
        },
        events: {
          'click @ui.addButton': 'add',
          'click @ui.massEditButton': 'massEdit',
          'click @ui.massSelectButton': 'massSelect',
          'click @ui.massTransformButton': 'massTransform',
          'click @ui.clearSelectionButton': 'clearSelection'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'button:click': 'buttonClicked',
          'link:click': 'linkClicked'
        },
        onRender: function onRender() {
          this.showList();
          this.updateSelectedCount();
        },
        showList: function showList() {
          var travelerIdCollection = Radio.channel('data').request('collection', TravelerIdCollection, { doFetch: false });
          this.listView = new SearchableListLayoutView({
            collection: travelerIdCollection,
            listLength: 20,
            searchPath: ['label', 'inboundOrder.label', 'bin.name', 'sku.name', 'sku.number', 'sku.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: travelerIdListTableLayoutTpl,
            entityRowTpl: travelerIdRowTpl,
            colspan: 8
          });
          this.showChildView('list', this.listView);
          Radio.channel('app').trigger('navigate', travelerIdCollection.url(), { trigger: false });
        },
        updateSelectedCount: function updateSelectedCount() {
          if (this.selectedCollection.length > 0) {
            this.ui.selectedCountMsg.parent().show();
            this.ui.selectedCountMsg.text(this.selectedCollection.length + ' TIDs Selected');
          } else {
            this.ui.selectedCountMsg.parent().hide();
            this.ui.selectedCountMsg.text('');
          }
        },
        clearSelection: function clearSelection() {
          var tids = this.selectedCollection.toArray();
          _.invoke(tids, 'set', 'isSelected', false);
          this.selectedCollection.reset();
          this.updateSelectedCount();
        },
        refreshList: function refreshList() {
          this.listView.search();
        },
        selectModel: function selectModel(childView, args) {
          this.triggerMethod('select:model', args);
        },
        buttonClicked: function buttonClicked(childView, args) {
          var action = args.button.getAttribute('name');
          this[action](args.model);
        },
        linkClicked: function linkClicked(childView, args) {
          var methodName = args.link.dataset.uiLink + 'LinkClicked';
          this[methodName](args.model);
        },

        selectAllToggleValue: false,
        toggleSelectAll: function toggleSelectAll() {
          this.selectAllToggleValue = !this.selectAllToggleValue;
          var collection = this.listView.getCurrentCollection();
          if (collection) {
            collection.invoke('set', 'isSelected', this.selectAllToggleValue);
          }
        },
        add: function add(event) {
          event.preventDefault();
          var options = {
            title: 'Add TravelerIds',
            width: '400px'
          };
          var massTravelerId = new MassTravelerIdModel();
          massTravelerId.set('type', 'add');
          var view = new InventoryTravelerIdAddActionView({
            model: massTravelerId
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        massEdit: function massEdit(event) {
          event.preventDefault();
          var options = {
            title: 'Mass Edit TravelerIds',
            width: '400px'
          };
          var view = new InventoryTravelerIdMassEditActionView();
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        massSelect: function massSelect(event) {
          event.preventDefault();
          var options = {
            title: 'Mass Select TravelerIds',
            width: '400px'
          };
          var view = new InventoryTravelerIdMassSelectionActionView();
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        massTransform: function massTransform(event) {
          event.preventDefault();
          var options = {
            title: 'Mass Transform TravelerIds',
            width: '400px'
          };
          var view = new InventoryTravelerIdMassTransformActionView();
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        inboundOrderLinkClicked: function inboundOrderLinkClicked(model) {
          this.triggerMethod('show:inboundOrder', model.get('inboundOrder'));
        },
        binLinkClicked: function binLinkClicked(model) {
          this.triggerMethod('show:bin', model.get('bin'));
        },
        showCard: function showCard(model) {
          this.triggerMethod('show:card', model);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/travelerIdEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "		<label class=\"label\">Unit</label>\r\n		<p>" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.unit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.unitType : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n		<p class=\"control\">\r\n			" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.unit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.serial : stack1, depth0)) + "\r\n			<button data-ui-name=\"editUnit\" class=\"button is-small\"><span class=\"fa fa-edit\"></span></button>\r\n		</p>\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Traveler Id #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Inbound Order</label>\r\n	<p class=\"control\">\r\n  		<select name=\"inboundOrder\">\r\n			<option>Select a Inbound Order...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">Label</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"label\" type=\"text\" placeholder=\"Enter Label\" />\r\n	</p>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"bin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.unit : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isVoid\" type=\"checkbox\">\r\n	    	Is Void?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Quantity</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"quantity\" type=\"number\" min=\"0.01\" step=\"0.01\" placeholder=\"Enter Quantity\" />\r\n	</p>\r\n	<label class=\"label\">Cost</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"cost\" type=\"number\" min=\"0.01\" step=\"0.01\" placeholder=\"Enter Cost\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/unitEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<h3 class=\"title is-3\">Traveler Id #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<form>\r\n	<label class=\"label\">Serial</label>\r\n	<p class=\"control\">\r\n		<input type=\"text\" name=\"serial\" value=\"" + container.escapeExpression((helper = (helper = helpers.serial || (depth0 != null ? depth0.serial : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "serial", "hash": {}, "data": data }) : helper)) + "\" />\r\n	</p>\r\n	<label class=\"label\">Description</label>\r\n	<p class=\"control\">\r\n		<textarea name=\"description\">" + container.escapeExpression((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "description", "hash": {}, "data": data }) : helper)) + "</textarea>\r\n	</p>\r\n	<label class=\"label\">Properties</label>\r\n	<div class=\"control\">\r\n		<ul data-region=\"properties\"></ul>\r\n	</div>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Save</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/accounting/models/inboundOrderCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inboundOrderModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inboundOrderModelJs) {
      Model = _inboundOrderModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inbound_order';
        },

        selectOptionsUrl: '/select_options/inbound_order'
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/unitPropertyItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<label class=\"label\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.unitTypeProperty : depth0) != null ? stack1.attributes : stack1) != null ? stack1.propertyName : stack1, depth0)) + "</label>\r\n<p class=\"control\">" + container.escapeExpression((helpers.renderUnitPropertyInput || depth0 && depth0.renderUnitPropertyInput || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "renderUnitPropertyInput", "hash": { "useUnitPropertyId": true }, "data": data })) + "</p>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/unitPropertyItemView.js', ['./unitPropertyItemView.hbs!', 'backbone.radio', 'marionette'], function (_export, _context) {
  "use strict";

  var viewTpl, Radio, Marionette;
  return {
    setters: [function (_unitPropertyItemViewHbs) {
      viewTpl = _unitPropertyItemViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'li',
        className: 'control is-horizontal'
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/unitPropertiesListView.js', ['marionette', './unitPropertyItemView.js', 'lib/common/views/noChildrenView.js'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_unitPropertyItemViewJs) {
      ChildView = _unitPropertyItemViewJs.default;
    }, function (_libCommonViewsNoChildrenViewJs) {
      NoChildrenView = _libCommonViewsNoChildrenViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        tagName: 'tbody',
        emptyView: NoChildrenView
      }));
    }
  };
});
"use strict";

System.register('lib/inventory/views/unitEditView.js', ['underscore', 'jquery', 'backbone', 'backbone.syphon', 'backbone.radio', 'marionette', './unitEditView.hbs!', 'lib/accounting/models/inboundOrderCollection.js', '../models/binCollection.js', '../models/skuCollection.js', './unitPropertiesListView.js'], function (_export, _context) {
  "use strict";

  var _, jquery, Backbone, Syphon, Radio, Marionette, viewTpl, InboundOrderCollection, BinCollection, SkuCollection, UnitPropertiesListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_unitEditViewHbs) {
      viewTpl = _unitEditViewHbs.default;
    }, function (_libAccountingModelsInboundOrderCollectionJs) {
      InboundOrderCollection = _libAccountingModelsInboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_unitPropertiesListViewJs) {
      UnitPropertiesListView = _unitPropertiesListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'form': 'form',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]'
        },
        regions: {
          properties: {
            el: '[data-region="properties"]',
            replaceElement: true
          }
        },
        events: {
          'click @ui.cancelButton': 'cancel',
          'submit @ui.form': 'save'
        },
        onRender: function onRender() {
          var listView = new UnitPropertiesListView({
            collection: this.model.get('properties')
          });
          this.showChildView('properties', listView);
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          event.stopPropagation();
          this.disableFormButtons();
          var attrs = Syphon.serialize(this);
          var unitModel = this.model;
          this.$el.find('[data-unit-property-id]').each(function (idx, propertyInput) {
            var property = unitModel.get('properties').get(jquery(propertyInput).data('unitPropertyId'));
            property.typeAndSet(jquery(propertyInput).data('valueName'), jquery(propertyInput).val());
          });
          this.model.save(attrs).always(function () {
            _this.enableFormButtons();
          }).done(function () {
            Radio.channel('dialog').trigger('close');
          });
        },
        cancel: function cancel(event) {
          event.preventDefault();
          Radio.channel('dialog').trigger('close');
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
"use strict";

System.register('lib/inventory/views/travelerIdEditView.js', ['underscore', 'backbone', 'backbone.syphon', 'backbone.radio', 'marionette', './travelerIdEditView.hbs!', 'lib/accounting/models/inboundOrderCollection.js', '../models/binCollection.js', '../models/skuCollection.js', './unitEditView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Syphon, Radio, Marionette, viewTpl, InboundOrderCollection, BinCollection, SkuCollection, UnitEditView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_travelerIdEditViewHbs) {
      viewTpl = _travelerIdEditViewHbs.default;
    }, function (_libAccountingModelsInboundOrderCollectionJs) {
      InboundOrderCollection = _libAccountingModelsInboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_unitEditViewJs) {
      UnitEditView = _unitEditViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'SaveCancelDelete': {
            save: 'save'
          },
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'RemoteSearchSelect2': {
            inboundOrder: {
              url: InboundOrderCollection.prototype.url(),
              search: 'label',
              textProperty: 'label'
            },
            bin: {
              url: BinCollection.prototype.url(),
              search: 'name'
            }
          }
        },
        ui: {
          'labelInput': 'input[name="label"]',
          'serialInput': 'input[name="serial"]',
          'isVoidInput': 'input[name="isVoid"]',
          'quantityInput': 'input[name="quantity"]',
          'costInput': 'input[name="cost"]',
          'inboundOrderSelect': 'select[name="inboundOrder"]',
          'binSelect': 'select[name="bin"]',
          'editUnitButton': 'button[data-ui-name=editUnit]',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        events: {
          'click @ui.editUnitButton': 'editUnit'
        },
        modelEvents: {
          'change:createdAt': 'render'
        },
        bindings: {
          '@ui.labelInput': 'label',
          '@ui.isVoidInput': 'isVoid',
          '@ui.quantityInput': 'quantity',
          '@ui.costInput': 'cost'
        },
        editUnit: function editUnit(event) {
          event.preventDefault();
          var options = {
            title: 'Edit Unit',
            width: '600px'
          };
          var view = new UnitEditView({
            model: this.model.get('unit')
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        save: function save(event) {
          var _this = this;

          this.disableFormButtons();
          this.updateTravelerId();
          this.model.save().always(function () {
            _this.enableFormButtons();
          }).done(function () {
            _this.triggerMethod('show:list', _this, {
              view: _this,
              model: _this.model
            });
          });
        },
        updateTravelerId: function updateTravelerId() {
          var attr = Syphon.serialize(this);
          var setAttr = {
            inboundOrder: InboundOrderCollection,
            bin: BinCollection
          };
          _.each(setAttr, function (Collection, attributeName) {
            if (parseInt(attr[attributeName])) {
              setAttr[attributeName] = Collection.prototype.model.findOrCreate({ id: parseInt(attr[attributeName]) });
            } else {
              delete setAttr[attributeName];
            }
          });
          this.model.set(setAttr);
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inboundOrderView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		Show Barcodes\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		Show List\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		<h5 class=\"subtitle is-5\">\r\n			Has " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.travelerIds : depth0) != null ? stack1.models : stack1) != null ? stack1.length : stack1, depth0)) + " Traveler Ids.\r\n		</h5>\r\n		<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.travelerIds : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		</ul>\r\n";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.transform : stack1, { "name": "unless", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "7": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(8, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "8": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "						<li>" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.label : stack1, depth0)) + "</li>\r\n";
        }, "10": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.travelerIdCount : depth0, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "11": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<h5 class=\"subtitle is-5\">Has " + container.escapeExpression((helper = (helper = helpers.travelerIdCount || (depth0 != null ? depth0.travelerIdCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "travelerIdCount", "hash": {}, "data": data }) : helper)) + " Traveler Ids</h5>\r\n			<div class=\"box\">\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["0"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["1"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["2"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-clearfix\"></div>\r\n			</div>\r\n";
        }, "12": function (container, depth0, helpers, partials, data) {
            return "						<li>\r\n							" + container.escapeExpression((helpers.barcodeHtml || depth0 && depth0.barcodeHtml || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "barcodeHtml", "hash": {}, "data": data })) + "\r\n						</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<button name=\"toggleViewType\" type=\"button\" class=\"button\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</button>\r\n<button name=\"print\" type=\"button\" class=\"button\">Print</button>\r\n<button name=\"back\" type=\"button\" class=\"button\">Back</button>\r\n<div data-ui=\"printContainer\">\r\n	<h3 class=\"title is-3\">InboundOrder #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + " : " + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</h3>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(10, data, 0), "data": data })) != null ? stack1 : "") + "</div>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/inventory/views/inboundOrderView.js', ['underscore', 'jquery', 'jsbarcode', 'marionette', 'backbone.radio', './inboundOrderView.hbs!'], function (_export, _context) {
  "use strict";

  var _, jquery, JsBarcode, Marionette, Radio, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_jsbarcode) {
      JsBarcode = _jsbarcode.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inboundOrderViewHbs) {
      viewTpl = _inboundOrderViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'toggleViewTypeButton': 'button[name="toggleViewType"]',
          'printButton': 'button[name="print"]',
          'backButton': 'button[name="back"]',
          'printContainer': 'div[data-ui="printContainer"]',
          'barcode': '[jsbarcode-value]',
          'topLabel': 'p[data-ui-top-label]'
        },
        events: {
          'click @ui.toggleViewTypeButton': 'toggleViewType',
          'click @ui.printButton': 'print',
          'click @ui.backButton': 'back'
        },
        modelEvents: {
          'change': 'render'
        },
        showCompactView: false,
        serializeData: function serializeData() {
          var _this = this;

          var data = _.clone(this.model.attributes);
          data.showCompactView = this.showCompactView;
          if (!this.showCompactView) {
            (function () {
              data.tidColumns = [[], [], []];
              data.travelerIdCount = 0;
              var columnIndex = 0;
              _this.model.get('travelerIds').each(function (tid, index) {
                if (!tid.get('transform') && !tid.get('isVoid')) {
                  data.tidColumns[columnIndex].push(tid);
                  columnIndex = columnIndex + 1 >= data.tidColumns.length ? 0 : columnIndex + 1;
                  data.travelerIdCount++;
                }
              });
            })();
          }
          return data;
        },
        onRender: function onRender() {
          this.ui.barcode.each(function (idx, elem) {
            if (elem.getAttribute('jsbarcode-value')) {
              JsBarcode(elem, elem.getAttribute('jsbarcode-value'), {
                height: 20
              });
            }
          });
        },
        onAttach: function onAttach() {
          this.resizeTopLabels();
        },
        onDomRefresh: function onDomRefresh() {
          this.resizeTopLabels();
        },
        resizeTopLabels: function resizeTopLabels() {
          this.ui.topLabel.each(function (idx, elem) {
            var width = jquery(elem).siblings('svg').first().width();
            jquery(elem).width(width);
          });
        },
        toggleViewType: function toggleViewType() {
          this.showCompactView = !this.showCompactView;
          this.render();
        },
        print: function print(event) {
          event.preventDefault();
          Radio.channel('app').trigger('print', this.ui.printContainer.html(), { title: 'Inbound Order Sheet' });
        },
        back: function back(event) {
          event.preventDefault();
          this.triggerMethod('show:list');
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/travelerIdCardView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
   var define,
       global = this || self,
       GLOBAL = global;
   var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
   module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
         return "<button name=\"print\" type=\"button\" class=\"button\">Print</button>\r\n<button name=\"back\" type=\"button\" class=\"button\">Back</button>\r\n<div data-ui=\"printContainer\">\r\n	<div class=\"box si-tid-card has-text-centered\">\r\n		" + container.escapeExpression((helpers.barcodeHtml || depth0 && depth0.barcodeHtml || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "barcodeHtml", "hash": { "type": "TravelerIdModel", "isCard": "true" }, "data": data })) + "\r\n	</div>\r\n</div>";
      }, "useData": true });
   return module.exports;
});
"use strict";

System.register('lib/inventory/views/travelerIdCardView.js', ['underscore', 'jquery', 'jsbarcode', 'marionette', 'backbone.radio', './travelerIdCardView.hbs!'], function (_export, _context) {
  "use strict";

  var _, jquery, JsBarcode, Marionette, Radio, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_jsbarcode) {
      JsBarcode = _jsbarcode.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_travelerIdCardViewHbs) {
      viewTpl = _travelerIdCardViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'printButton': 'button[name="print"]',
          'backButton': 'button[name="back"]',
          'printContainer': 'div[data-ui="printContainer"]',
          'tidCard': '.si-tid-card',
          'barcode': '[jsbarcode-value]',
          'topLabel': 'p[data-ui-top-label]'
        },
        events: {
          'click @ui.printButton': 'print',
          'click @ui.backButton': 'back'
        },
        modelEvents: {
          'change': 'render'
        },
        onRender: function onRender() {
          this.ui.barcode.each(function (idx, elem) {
            if (elem.getAttribute('jsbarcode-value')) {
              JsBarcode(elem, elem.getAttribute('jsbarcode-value'), {
                height: 20
              });
            }
          });
        },
        print: function print(event) {
          event.preventDefault();
          Radio.channel('app').trigger('print', this.ui.printContainer.html(), { title: 'TID Card' });
        },
        back: function back(event) {
          event.preventDefault();
          this.triggerMethod('show:list');
        }
      }));
    }
  };
});
"use strict";

System.register('lib/inventory/views/travelerIdView.js', ['backbone', 'backbone.radio', 'marionette', './travelerIdView.hbs!', './travelerIdActionsView.js', './travelerIdEditView.js', './binView.js', './inboundOrderView.js', './travelerIdCardView.js', '../models/travelerIdModel.js', 'lib/accounting/models/inboundOrderModel.js', '../models/binModel.js'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, Marionette, viewTpl, TravelerIdActionsView, TravelerIdEditView, BinView, InboundOrderView, TravelerIdCardView, TravelerIdModel, InboundOrderModel, BinModel;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_travelerIdViewHbs) {
      viewTpl = _travelerIdViewHbs.default;
    }, function (_travelerIdActionsViewJs) {
      TravelerIdActionsView = _travelerIdActionsViewJs.default;
    }, function (_travelerIdEditViewJs) {
      TravelerIdEditView = _travelerIdEditViewJs.default;
    }, function (_binViewJs) {
      BinView = _binViewJs.default;
    }, function (_inboundOrderViewJs) {
      InboundOrderView = _inboundOrderViewJs.default;
    }, function (_travelerIdCardViewJs) {
      TravelerIdCardView = _travelerIdCardViewJs.default;
    }, function (_modelsTravelerIdModelJs) {
      TravelerIdModel = _modelsTravelerIdModelJs.default;
    }, function (_libAccountingModelsInboundOrderModelJs) {
      InboundOrderModel = _libAccountingModelsInboundOrderModelJs.default;
    }, function (_modelsBinModelJs) {
      BinModel = _modelsBinModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.selectedCollection = Radio.channel('data').request('named:collection', Backbone.Collection, 'selectedTids');
          this.listenTo(Radio.channel('inventory'), 'change:isSelected:travelerId', this.isSelectedChanged);
          Radio.channel('inventory').reply('get:isSelected:travelerId', this.getSelectedCollection.bind(this));
        },

        template: viewTpl,
        regions: {
          content: '[data-region="content"]'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'show:list': 'showList',
          'show:inboundOrder': 'showInboundOrder',
          'show:bin': 'showBin',
          'show:card': 'showCard'
        },
        onRender: function onRender() {
          if (this.options.id) {
            var tidModel = TravelerIdModel.findOrCreate({ id: parseInt(this.options.id) });
            tidModel.fetch();
            this.selectModel({ model: tidModel });
          } else if (this.options.inboundOrder) {
            var inboundOrderModel = InboundOrderModel.findOrCreate({ id: this.options.inboundOrder });
            this.showInboundOrder(inboundOrderModel);
          } else if (this.options.bin) {
            var binModel = BinModel.findOrCreate({ id: this.options.bin });
            this.showBin(binModel);
          } else if (this.options.show) {
            var _tidModel = TravelerIdModel.findOrCreate({ id: this.options.show });
            _tidModel.fetch();
            this.showCard(_tidModel);
          } else {
            this.showList();
          }
        },
        showList: function showList() {
          this.showChildView('content', new TravelerIdActionsView());
          Radio.channel('app').trigger('navigate', '/tid', { trigger: false });
        },
        selectModel: function selectModel(args) {
          this.showChildView('content', new TravelerIdEditView({
            model: args.model
          }));
          Radio.channel('app').trigger('navigate', args.model.url(), { trigger: false });
        },
        showInboundOrder: function showInboundOrder(inboundOrder) {
          this.showChildView('content', new InboundOrderView({
            model: inboundOrder
          }));
          inboundOrder.fetch();
          Radio.channel('app').trigger('navigate', '/show' + inboundOrder.url(), { trigger: false });
        },
        showBin: function showBin(bin) {
          this.showChildView('content', new BinView({
            model: bin
          }));
          bin.fetch();
          Radio.channel('app').trigger('navigate', '/show' + bin.url(), { trigger: false });
        },
        showCard: function showCard(travelerId) {
          this.showChildView('content', new TravelerIdCardView({
            model: travelerId
          }));
          Radio.channel('app').trigger('navigate', '/show' + travelerId.url(), { trigger: false });
        },
        getSelectedCollection: function getSelectedCollection() {
          return this.selectedCollection;
        },
        isSelectedChanged: function isSelectedChanged(model) {
          if (model.get('isSelected')) {
            this.selectedCollection.add(model);
          } else {
            this.selectedCollection.remove(model);
          }
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/binSkuCountView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<button name=\"add\" class=\"button is-light\">Add SKU Inventory</button>\r\n<div data-region=\"list\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/binSkuCountListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>Bin</th>\r\n			<th>SKU</th>\r\n			<th>Count</th>\r\n			<th colspan=\"4\"></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/binSkuCountRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.count || (depth0 != null ? depth0.count : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "count", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><button class=\"button\" name=\"adjust\">Adjust</button></td>\r\n<td><button class=\"button\" name=\"moveIn\">Move In</button></td>\r\n<td><button class=\"button\" name=\"moveOut\">Move Out</button></td>\r\n<td><button class=\"button\" name=\"transform\">Transform</button></td>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuAdjustmentAddActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<form>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"forBin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		<select name=\"sku\">\r\n  			<option>Select a SKU...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"newCount\" type=\"number\" placeholder=\"Enter Count\">\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuAdjustmentActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<form>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">Old Count</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression((helper = (helper = helpers.oldCount || (depth0 != null ? depth0.oldCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "oldCount", "hash": {}, "data": data }) : helper)) + "\r\n	</p>\r\n	<label class=\"label\">New Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"newCount\" type=\"number\" placeholder=\"Enter New Count\">\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySkuAdjustmentActionView.js', ['underscore', 'backbone.syphon', 'marionette', 'backbone.radio', './inventorySkuAdjustmentAddActionView.hbs!', './inventorySkuAdjustmentActionView.hbs!', '../models/binCollection.js', '../models/skuCollection.js'], function (_export, _context) {
  "use strict";

  var _, Syphon, Marionette, Radio, addTpl, adjTpl, BinCollection, SkuCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventorySkuAdjustmentAddActionViewHbs) {
      addTpl = _inventorySkuAdjustmentAddActionViewHbs.default;
    }, function (_inventorySkuAdjustmentActionViewHbs) {
      adjTpl = _inventorySkuAdjustmentActionViewHbs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'RemoteSearchSelect2': {
            forBin: {
              url: BinCollection.prototype.selectOptionsUrl,
              search: 'name'
            },
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name'
            }
          }
        },
        getTemplate: function getTemplate() {
          if (this.model.get('oldCount') === null) {
            return addTpl;
          } else {
            return adjTpl;
          }
        },

        ui: {
          'form': 'form',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        cancel: function cancel() {
          this.model.destroy();
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          event.preventDefault();
          this.disableButtons();
          this.model.save(this.getNewAttrs()).done(function () {
            Radio.channel('dialog').trigger('close');
            Radio.channel('inventory').trigger('change:bin:sku:count');
          });
        },
        getNewAttrs: function getNewAttrs() {
          var attr = Syphon.serialize(this);
          if (this.model.get('oldCount') === null) {
            attr = {
              forBin: BinCollection.prototype.model.findOrCreate({ id: parseInt(attr.forBin) }),
              sku: SkuCollection.prototype.model.findOrCreate({ id: parseInt(attr.sku) }),
              newCount: parseInt(attr.newCount)
            };
          } else {
            attr = {
              newCount: parseInt(attr.newCount)
            };
          }
          return attr;
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').prop('disabled', true);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuMovementToActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<form>\r\n	<label class=\"label\">From Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"fromBin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">To Bin</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.toBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"count\" type=\"number\" placeholder=\"Enter Count\">\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuMovementFromActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<form>\r\n	<label class=\"label\">From Bin</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.fromBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">To Bin</label>\r\n	<p class=\"control\">\r\n		<select name=\"toBin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"count\" type=\"number\" placeholder=\"Enter Count\">\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySkuMovementActionView.js', ['underscore', 'backbone.syphon', 'marionette', 'backbone.radio', './inventorySkuMovementToActionView.hbs!', './inventorySkuMovementFromActionView.hbs!', '../models/binCollection.js', '../models/skuCollection.js'], function (_export, _context) {
  "use strict";

  var _, Syphon, Marionette, Radio, toTpl, fromTpl, BinCollection, SkuCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventorySkuMovementToActionViewHbs) {
      toTpl = _inventorySkuMovementToActionViewHbs.default;
    }, function (_inventorySkuMovementFromActionViewHbs) {
      fromTpl = _inventorySkuMovementFromActionViewHbs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'RemoteSearchSelect2': {
            fromBin: {
              url: BinCollection.prototype.selectOptionsUrl,
              search: 'name'
            },
            toBin: {
              url: BinCollection.prototype.selectOptionsUrl,
              search: 'name'
            },
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name'
            }
          }
        },
        getTemplate: function getTemplate() {
          if (this.model.get('toBin') === null) {
            return fromTpl;
          } else {
            return toTpl;
          }
        },

        ui: {
          'form': 'form',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        cancel: function cancel() {
          this.model.destroy();
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          event.preventDefault();
          this.disableButtons();
          this.model.save(this.getNewAttrs()).done(function () {
            Radio.channel('dialog').trigger('close');
            Radio.channel('inventory').trigger('change:bin:sku:count');
          });
        },
        getNewAttrs: function getNewAttrs() {
          var attr = Syphon.serialize(this);
          if (this.model.get('toBin') === null) {
            attr = {
              toBin: BinCollection.prototype.model.findOrCreate({ id: parseInt(attr.toBin) }),
              count: parseInt(attr.count)
            };
          } else {
            attr = {
              fromBin: BinCollection.prototype.model.findOrCreate({ id: parseInt(attr.fromBin) }),
              count: parseInt(attr.count)
            };
          }
          return attr;
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').prop('disabled', true);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuTransformActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<form>\r\n	<label class=\"label\">From Bin - SKU</label>\r\n	<p class=\"control\">\r\n  		#" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.id : stack1, depth0)) + " :" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.attributes : stack1) != null ? stack1.bin : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + " - " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.attributes : stack1) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</p>\r\n	<label class=\"label\">To SKU</label>\r\n	<p class=\"control\">\r\n  		<select name=\"sku\">\r\n  			<option>Select a SKU...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">Transform Quantity</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"quantity\" type=\"number\" placeholder=\"Enter Transform Quantity\">\r\n		<span class=\"help is-info\">Max " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.attributes : stack1) != null ? stack1.count : stack1, depth0)) + "</span>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySkuTransformActionView.js', ['underscore', 'backbone.syphon', 'marionette', 'backbone.radio', './inventorySkuTransformActionView.hbs!', '../models/skuCollection.js', '../models/inventorySkuTransformModel.js', '../models/salesItemModel.js'], function (_export, _context) {
  "use strict";

  var _, Syphon, Marionette, Radio, viewTpl, SkuCollection, InventorySkuTransformModel, SalesItemModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventorySkuTransformActionViewHbs) {
      viewTpl = _inventorySkuTransformActionViewHbs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_modelsInventorySkuTransformModelJs) {
      InventorySkuTransformModel = _modelsInventorySkuTransformModelJs.default;
    }, function (_modelsSalesItemModelJs) {
      SalesItemModel = _modelsSalesItemModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'RemoteSearchSelect2': {
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name'
            }
          }
        },
        template: viewTpl,
        ui: {
          'form': 'form',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        cancel: function cancel() {
          this.model.destroy();
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          event.preventDefault();
          this.disableButtons();
          this.model.save(this.getNewAttrs()).done(function () {
            Radio.channel('dialog').trigger('close');
            Radio.channel('inventory').trigger('change:bin:sku:count');
          }).fail(function () {});
        },
        getNewAttrs: function getNewAttrs() {
          var attr = Syphon.serialize(this);
          var sku = SkuCollection.prototype.model.findOrCreate({ id: parseInt(attr.sku) });
          var salesItem = SalesItemModel.findOrCreate({
            bin: this.model.get('fromBinSkuCount').get('bin'),
            sku: sku,
            quantity: parseInt(attr.quantity)
          });
          attr = {
            toSalesItem: salesItem,
            quantity: parseInt(attr.quantity)
          };
          return attr;
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').addClass('is-loading').prop('disabled', true);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/binSkuCountCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './binSkuCountModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_binSkuCountModelJs) {
      Model = _binSkuCountModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/bin_sku_count';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/binSkuCountView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './binSkuCountView.hbs!', 'lib/common/views/entity/searchableListLayoutView.js', './binSkuCountListTableLayoutTpl.hbs!', './binSkuCountRowTpl.hbs!', './inventorySkuAdjustmentActionView.js', './inventorySkuMovementActionView.js', './inventorySkuTransformActionView.js', '../models/binSkuCountCollection.js', '../models/inventorySkuAdjustmentModel.js', '../models/inventorySkuMovementModel.js', '../models/inventorySkuTransformModel.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, SearchableListLayoutView, binSkuCountListTableLayoutTpl, binSkuCountRowTpl, InventorySkuAdjustmentActionView, InventorySkuMovementActionView, InventorySkuTransformActionView, BinSkuCountCollection, InventorySkuAdjustmentModel, InventorySkuMovementModel, InventorySkuTransformModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_binSkuCountViewHbs) {
      viewTpl = _binSkuCountViewHbs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_binSkuCountListTableLayoutTplHbs) {
      binSkuCountListTableLayoutTpl = _binSkuCountListTableLayoutTplHbs.default;
    }, function (_binSkuCountRowTplHbs) {
      binSkuCountRowTpl = _binSkuCountRowTplHbs.default;
    }, function (_inventorySkuAdjustmentActionViewJs) {
      InventorySkuAdjustmentActionView = _inventorySkuAdjustmentActionViewJs.default;
    }, function (_inventorySkuMovementActionViewJs) {
      InventorySkuMovementActionView = _inventorySkuMovementActionViewJs.default;
    }, function (_inventorySkuTransformActionViewJs) {
      InventorySkuTransformActionView = _inventorySkuTransformActionViewJs.default;
    }, function (_modelsBinSkuCountCollectionJs) {
      BinSkuCountCollection = _modelsBinSkuCountCollectionJs.default;
    }, function (_modelsInventorySkuAdjustmentModelJs) {
      InventorySkuAdjustmentModel = _modelsInventorySkuAdjustmentModelJs.default;
    }, function (_modelsInventorySkuMovementModelJs) {
      InventorySkuMovementModel = _modelsInventorySkuMovementModelJs.default;
    }, function (_modelsInventorySkuTransformModelJs) {
      InventorySkuTransformModel = _modelsInventorySkuTransformModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.listenTo(Radio.channel('inventory'), 'change:bin:sku:count', this.refreshList);
        },

        template: viewTpl,
        regions: {
          list: '[data-region="list"]'
        },
        ui: {
          'addButton': 'button[name="add"]'
        },
        events: {
          'click @ui.addButton': 'add'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'button:click': 'buttonClicked'
        },
        onRender: function onRender() {
          this.showList();
        },
        showList: function showList() {
          var binSkuCountCollection = Radio.channel('data').request('collection', BinSkuCountCollection, { doFetch: false });
          this.listView = new SearchableListLayoutView({
            collection: binSkuCountCollection,
            listLength: 20,
            searchPath: ['bin.name', 'sku.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: binSkuCountListTableLayoutTpl,
            entityRowTpl: binSkuCountRowTpl,
            colspan: 6

          });
          this.showChildView('list', this.listView);
          Radio.channel('app').trigger('navigate', binSkuCountCollection.url(), { trigger: false });
        },
        refreshList: function refreshList() {
          this.listView.search();
        },
        selectModel: function selectModel(childView, args) {},
        buttonClicked: function buttonClicked(childView, args) {
          var action = args.button.getAttribute('name');
          this[action](args.model);
        },
        add: function add(event) {
          event.preventDefault();
          var options = {
            title: 'Add SKU Inventory',
            width: '400px'
          };
          var inventorySkuAdjustment = new InventorySkuAdjustmentModel();
          var view = new InventorySkuAdjustmentActionView({
            model: inventorySkuAdjustment
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        adjust: function adjust(model) {
          var options = {
            title: 'Adjust SKU Inventory',
            width: '400px'
          };
          var inventorySkuAdjustment = new InventorySkuAdjustmentModel({
            forBin: model.get('bin'),
            sku: model.get('sku'),
            oldCount: model.get('count')
          });
          var view = new InventorySkuAdjustmentActionView({
            model: inventorySkuAdjustment
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        moveIn: function moveIn(model) {
          var options = {
            title: 'Move In SKU Inventory',
            width: '400px'
          };
          var inventorySkuMovement = new InventorySkuMovementModel({
            toBin: model.get('bin'),
            sku: model.get('sku')
          });
          var view = new InventorySkuMovementActionView({
            model: inventorySkuMovement
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        moveOut: function moveOut(model) {
          var options = {
            title: 'Move Out SKU Inventory',
            width: '400px'
          };
          var inventorySkuMovement = new InventorySkuMovementModel({
            fromBin: model.get('bin'),
            sku: model.get('sku')
          });
          var view = new InventorySkuMovementActionView({
            model: inventorySkuMovement
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        transform: function transform(model) {
          var options = {
            title: 'Transform SKU Inventory',
            width: '400px'
          };
          var inventorySkuTransform = new InventorySkuTransformModel({
            fromBinSkuCount: model
          });
          var view = new InventorySkuTransformActionView({
            model: inventorySkuTransform
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/salesItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<div data-region=\"content\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/salesItemActionsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<button name=\"massEdit\" class=\"button is-light\">Mass Edit Sales Items</button>\r\n<button name=\"massSelect\" class=\"button is-light\">Mass Select Sales Items</button>\r\n<div class=\"notification is-info\">\r\n	<span data-ui-name=\"selectedCount\"></span>\r\n	<button class=\"button is-pulled-right\" data-ui-name=\"clearSelection\">Clear</button>\r\n</div>\r\n<div data-region=\"list\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/salesItemListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th colspan=\"2\">Sales Item Label</th>\r\n			<th>Outbound Order</th>\r\n			<th>Bin</th>\r\n			<th>SKU</th>\r\n			<th>Quantity</th>\r\n			<th><button type=\"button\" name=\"toggleSelectAll\" class=\"button small\">Toggle Select All</button></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/salesItemRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return " si-is-void";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>\r\n	<a class=\"entity-link" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</a>\r\n</td>\r\n<td>\r\n	<button type=\"button\" name=\"showCard\" class=\"button small\">Show Card</button>\r\n</td>\r\n<td><a data-ui-link=\"outboundOrder\" href=\"" + container.escapeExpression((helpers["return"] || depth0 && depth0["return"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.outboundOrder : depth0) != null ? stack1.url : stack1, depth0 != null ? depth0.outboundOrder : depth0, { "name": "return", "hash": {}, "data": data })) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.outboundOrder : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</a></td>\r\n<td><a data-ui-link=\"bin\" href=\"" + container.escapeExpression((helpers["return"] || depth0 && depth0["return"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.url : stack1, depth0 != null ? depth0.bin : depth0, { "name": "return", "hash": {}, "data": data })) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.bin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</a></td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td><input type=\"checkbox\" name=\"isSelected\" /></td>";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("npm:uuid@3.1.0/lib/rng-browser.js", [], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  // Unique ID creation requires a high quality random # generator.  In the
  // browser this is a little complicated due to unknown quality of Math.random()
  // and inconsistent support for the `crypto` API.  We do the best we can via
  // feature-detection
  var rng;

  var crypto = global.crypto || global.msCrypto; // for IE 11
  if (crypto && crypto.getRandomValues) {
    // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto
    var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef
    rng = function whatwgRNG() {
      crypto.getRandomValues(rnds8);
      return rnds8;
    };
  }

  if (!rng) {
    // Math.random()-based (RNG)
    //
    // If all else fails, use Math.random().  It's fast, but is of unspecified
    // quality.
    var rnds = new Array(16);
    rng = function () {
      for (var i = 0, r; i < 16; i++) {
        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
        rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
      }

      return rnds;
    };
  }

  module.exports = rng;
  return module.exports;
});
System.registerDynamic('npm:uuid@3.1.0/lib/bytesToUuid.js', [], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  /**
   * Convert array of 16 byte values to UUID string format of the form:
   * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
   */
  var byteToHex = [];
  for (var i = 0; i < 256; ++i) {
    byteToHex[i] = (i + 0x100).toString(16).substr(1);
  }

  function bytesToUuid(buf, offset) {
    var i = offset || 0;
    var bth = byteToHex;
    return bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + '-' + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]] + bth[buf[i++]];
  }

  module.exports = bytesToUuid;
  return module.exports;
});
System.registerDynamic("npm:uuid@3.1.0.json", [], false, function() {
  return {
    "main": "index.js",
    "format": "cjs",
    "meta": {
      "*.json": {
        "format": "json"
      },
      "lib/sha1.js": {
        "globals": {
          "Buffer": "buffer/global"
        }
      }
    },
    "map": {
      "./lib/rng.js": {
        "browser": "./lib/rng-browser.js"
      },
      "./lib/sha1.js": {
        "browser": "./lib/sha1-browser.js"
      }
    }
  };
});

System.registerDynamic('npm:uuid@3.1.0/v4.js', ['./lib/rng', './lib/bytesToUuid'], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var rng = $__require('./lib/rng');
  var bytesToUuid = $__require('./lib/bytesToUuid');

  function v4(options, buf, offset) {
    var i = buf && offset || 0;

    if (typeof options == 'string') {
      buf = options == 'binary' ? new Array(16) : null;
      options = null;
    }
    options = options || {};

    var rnds = options.random || (options.rng || rng)();

    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80;

    // Copy bytes to buffer, if provided
    if (buf) {
      for (var ii = 0; ii < 16; ++ii) {
        buf[i + ii] = rnds[ii];
      }
    }

    return buf || bytesToUuid(rnds);
  }

  module.exports = v4;
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySalesItemMassEditActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "  				<option value=\"" + container.escapeExpression((helper = (helper = helpers.key || data && data.key) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "key", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression(container.lambda(depth0 != null ? depth0.title : depth0, depth0)) + "</option>\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<form>\r\n	<label class=\"label\">Update Attribute</label>\r\n	<p class=\"control\">\r\n		<select name=\"updateAttribute\">\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.updateableAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "  		</select>\r\n	</p>\r\n	<label class=\"label\">Update Type</label>\r\n	<p class=\"control\">\r\n		<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"updateType\" value=\"single\" />\r\n	    	Single Value\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"updateType\" value=\"multiple\" />\r\n		    Multiple Values\r\n		</label>\r\n	</p>\r\n	<label class=\"label\" data-ui=\"controlLabel\"></label>\r\n	<p class=\"control\" data-ui=\"controlContainer\"></p>\r\n	<label class=\"label\" data-ui=\"countLabel\">Update " + container.escapeExpression((helper = (helper = helpers.selectedCount || (depth0 != null ? depth0.selectedCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedCount", "hash": {}, "data": data }) : helper)) + " Sales Items</label>\r\n	<p data-ui=\"errorContainer\" class=\"is-hidden notification is-danger\"></p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/massSalesItemModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/accounting/models/outboundOrderModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libAccountingModelsOutboundOrderModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/mass_sales_item';
        },

        relations: [{
          type: BackboneRelational.HasMany,
          key: 'salesItems',
          relatedModel: 'SalesItemModel',
          includeInJSON: true
        }],
        defaults: {
          salesItems: null,
          type: null
        },
        toJSON: function toJSON() {
          var attrs = {
            id: this.get('id'),
            salesItems: []
          };
          this.get('salesItems').each(function (salesItem) {
            attrs.salesItems.push(salesItem.getMassUpdateAttrs());
          });
          return attrs;
        }
      });


      globalNamespace.Models.MassSalesItemModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventorySalesItemMassEditActionView.js', ['underscore', 'jquery', 'backbone.syphon', 'marionette', 'backbone.radio', 'uuid/v4', 'lib/common/behaviors/remoteSearchSelect2.js', './inventorySalesItemMassEditActionView.hbs!', 'lib/accounting/models/outboundOrderCollection.js', '../models/binCollection.js', '../models/skuCollection.js', '../models/salesItemModel.js', '../models/massSalesItemModel.js'], function (_export, _context) {
  "use strict";

  var _, jquery, Syphon, Marionette, Radio, Uuid, RemoteSearchSelect2Behavior, viewTpl, OutboundOrderCollection, BinCollection, SkuCollection, SalesItemModel, MassSalesItemModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_uuidV) {
      Uuid = _uuidV.default;
    }, function (_libCommonBehaviorsRemoteSearchSelect2Js) {
      RemoteSearchSelect2Behavior = _libCommonBehaviorsRemoteSearchSelect2Js.default;
    }, function (_inventorySalesItemMassEditActionViewHbs) {
      viewTpl = _inventorySalesItemMassEditActionViewHbs.default;
    }, function (_libAccountingModelsOutboundOrderCollectionJs) {
      OutboundOrderCollection = _libAccountingModelsOutboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }, function (_modelsSalesItemModelJs) {
      SalesItemModel = _modelsSalesItemModelJs.default;
    }, function (_modelsMassSalesItemModelJs) {
      MassSalesItemModel = _modelsMassSalesItemModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:salesItem');
        },

        template: viewTpl,
        ui: {
          'attributeSelect': 'select[name="updateAttribute"]',
          'updateTypeRadio': 'input[name="updateType"]',
          'controlLabel': '[data-ui="controlLabel"]',
          'controlContainer': '[data-ui="controlContainer"]',
          'form': 'form',
          'submitButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'errorContainer': '[data-ui="errorContainer"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel',
          'change @ui.attributeSelect': 'updateControl',
          'click @ui.updateTypeRadio': 'updateControl'
        },
        select2Options: {
          outboundOrder: {
            collection: OutboundOrderCollection,
            url: OutboundOrderCollection.prototype.selectOptionsUrl,
            search: 'label',
            textProperty: 'label'
          },
          bin: {
            collection: BinCollection,
            url: BinCollection.prototype.selectOptionsUrl,
            search: 'name'
          }
        },
        serializeData: function serializeData() {
          var data = {};
          data.updateableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          data.selectedCount = this.selectedCollection.length;
          return data;
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          setTimeout(function () {
            _this.editSalesItems().then(function () {
              _this.enableButtons();
              Radio.channel('dialog').trigger('close');
              Radio.channel('inventory').trigger('refresh:list:salesItem');
            }).catch(function (err) {
              _this.ui.errorContainer.removeClass('is-hidden').show().text(err).fadeOut(3000);
              _this.enableButtons();
            });
          }, 5);
        },
        updateControl: function updateControl() {
          var updatableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          var attribute = this.ui.attributeSelect.val();
          var type = this.ui.updateTypeRadio.filter(':checked').val();
          if (!attribute || !type) {
            return;
          }
          this.ui.controlLabel.text(updatableAttributes[attribute].title);
          if (type === 'single') {
            if (updatableAttributes[attribute].type === 'select') {
              var $select = jquery('<select name="' + attribute + '">');
              this.ui.controlContainer.empty().append($select);
              RemoteSearchSelect2Behavior.prototype.setupSelect2($select, this.select2Options[attribute]);
            } else {
              var $input = jquery('<input name="' + attribute + '" type="' + updatableAttributes[attribute].type + '" />');
              this.ui.controlContainer.empty().append($input);
            }
          } else {
            var _$input = jquery('<textarea rows="10" name="' + attribute + '" ></textarea>');
            this.ui.controlContainer.empty().append(_$input);
          }
        },
        editSalesItems: function editSalesItems() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var updatableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
            var attr = Syphon.serialize(_this2);
            var type = _this2.ui.updateTypeRadio.filter(':checked').val();
            var valuePromise = null;
            var attrKey = null;
            _.each(attr, function (value, key) {
              if (key.indexOf('update') < 0) {
                attrKey = key;
                if (type === 'single') {
                  valuePromise = _this2.getSingleValue(value, key);
                } else {
                  valuePromise = _this2.getValuesArray(value, key);
                }
              }
            });
            valuePromise.then(function (updateValue) {
              if (Array.isArray(updateValue)) {
                _this2.selectedCollection.each(function (travelerId, index) {
                  travelerId.set(attrKey, updateValue[index]);
                });
              } else {
                _this2.selectedCollection.each(function (travelerId) {
                  travelerId.set(attrKey, updateValue);
                });
              }
              //set an Id so backbone does a "put" rather than "post"
              var massSalesItem = MassSalesItemModel.findOrCreate({
                id: Uuid()
              });
              massSalesItem.set('type', 'edit');
              massSalesItem.get('salesItems').reset(_this2.selectedCollection.models);
              massSalesItem.save().done(function () {
                resolve();
              });
            }).catch(function (err) {
              reject(err);
            });
          });
        },
        getSingleValue: function getSingleValue(valueStr, attribute) {
          var _this3 = this;

          var updatableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          var updateValue = null;
          return new Promise(function (resolve, reject) {
            if (updatableAttributes[attribute].type === 'select') {
              updateValue = _this3.select2Options[attribute].collection.prototype.model.findOrCreate({ id: parseInt(valueStr) });
            } else {
              updateValue = valueStr;
            }
            resolve(updateValue);
          });
        },
        getValuesArray: function getValuesArray(valueStr, attribute) {
          var _this4 = this;

          var updatableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          var valuesLookup = {};
          var rawValuesArray = [];
          var valuesArray = [];
          _.each(valueStr.split('\n'), function (value) {
            var trimmedValue = value.trim();
            if (trimmedValue) {
              rawValuesArray.push(trimmedValue);
              if (!valuesLookup[trimmedValue]) {
                valuesLookup[trimmedValue] = true;
              }
            }
          });
          if (rawValuesArray.length !== this.selectedCollection.length) {
            throw 'Selected Sales Item Count and Suppplied Values Count do not match';
          }
          return new Promise(function (resolve, reject) {
            _this4.getAjaxResult(valuesLookup, attribute, function (err) {
              if (err) {
                reject(err);
              } else {
                _.each(rawValuesArray, function (value) {
                  var trimmedValue = value.trim();
                  valuesArray.push(valuesLookup[trimmedValue]);
                });
                resolve(valuesArray);
              }
            });
          });
        },
        getAjaxResult: function getAjaxResult(valuesLookup, attribute, callback) {
          var _this5 = this;

          var updatableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          if (updatableAttributes[attribute].type === 'select') {
            (function () {
              var search = _this5.select2Options[attribute].search;
              var terms = _.keys(valuesLookup);
              jquery.ajax({
                url: _this5.select2Options[attribute].url,
                dataType: 'json',
                data: {
                  terms: terms.join(','),
                  search: search,
                  page: 1,
                  per_page: 1000
                }
              }).done(function (data) {
                _.each(data.list, function (attrs) {
                  valuesLookup[attrs[search]] = _this5.select2Options[attribute].collection.prototype.model.findOrCreate(attrs);
                });
                _.each(valuesLookup, function (value, key) {
                  if (!(value instanceof _this5.select2Options[attribute].collection.prototype.model)) {
                    callback('Missing Value for "' + key + '"');
                  }
                });
                callback();
              });
            })();
          } else {
            _.each(valuesLookup, function (value, key) {
              valuesLookup[key] = key;
            });
            callback();
          }
        },
        disableButtons: function disableButtons() {
          this.ui.submitButton.prop('disabled', true).addClass('is-loading');
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.submitButton.prop('disabled', false).removeClass('is-loading');
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySalesItemMassSelectionActionView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<form>\r\n	<label class=\"label\">Mode</label>\r\n	<p class=\"control\">\r\n		<label class=\"radio\">\r\n		    <input type=\"radio\" name=\"mode\" value=\"add\" />\r\n	    	Add\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"mode\" value=\"remove\" />\r\n		    Remove\r\n		</label>\r\n		<label class=\"radio\">\r\n			<input type=\"radio\" name=\"mode\" value=\"replace\" />\r\n		    Replace\r\n		</label>\r\n	</p>\r\n	<label class=\"label\">Sales Items(<span data-ui=\"count\"></span>)</label>\r\n	<p class=\"control\">\r\n		<textarea rows=\"10\" name=\"salesItems\"></textarea>\r\n	</p>\r\n	<label class=\"label\" data-ui=\"countLabel\">" + container.escapeExpression((helper = (helper = helpers.selectedCount || (depth0 != null ? depth0.selectedCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "selectedCount", "hash": {}, "data": data }) : helper)) + " Sales Items Selected</label>\r\n	<p data-ui=\"errorContainer\" class=\"is-hidden notification is-danger\"></p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-secondary is-outlined\" data-ui-name=\"export\">Export Selected</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySalesItemMassSelectionActionView.js', ['underscore', 'jquery', 'marionette', 'backbone.radio', './inventorySalesItemMassSelectionActionView.hbs!', '../models/salesItemModel.js'], function (_export2, _context) {
  "use strict";

  var _, jquery, Marionette, Radio, viewTpl, SalesItemModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventorySalesItemMassSelectionActionViewHbs) {
      viewTpl = _inventorySalesItemMassSelectionActionViewHbs.default;
    }, function (_modelsSalesItemModelJs) {
      SalesItemModel = _modelsSalesItemModelJs.default;
    }],
    execute: function () {
      _export2('default', Marionette.View.extend({
        initialize: function initialize() {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:salesItem');
        },

        template: viewTpl,
        ui: {
          'modeRadio': 'input[name="mode"]',
          'salesItemsInput': 'textarea[name="salesItems"]',
          'count': '[data-ui="count"]',
          'selectedCountLabel': '[data-ui="countLabel"]',
          'form': 'form',
          'saveButton': 'button[data-ui-name="save"]',
          'cancelButton': 'button[data-ui-name="cancel"]',
          'exportButton': 'button[data-ui-name="export"]',
          'errorContainer': '[data-ui="errorContainer"]'
        },
        events: {
          'change @ui.salesItemsInput': 'salesItemsChanged',
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel',
          'click @ui.exportButton': 'export'
        },
        serializeData: function serializeData() {
          var data = {};
          data.updateableAttributes = SalesItemModel.prototype.getUpdatadableAttributes();
          data.selectedCount = this.selectedCollection.length;
          return data;
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        export: function _export() {
          var element = document.createElement('a');
          var csvText = 'Label,Serial,SKU,Outbound Order,Bin\n';
          this.selectedCollection.each(function (salesItem) {
            csvText += salesItem.get('label') + ',';
            csvText += salesItem.get('serial') + ',';
            csvText += salesItem.get('sku').get('label') + ',';
            csvText += salesItem.get('outboundOrder') ? salesItem.get('outboundOrder').get('label') + ',' : ',';
            csvText += salesItem.get('bin').get('name');
            csvText += '\n';
          });
          element.setAttribute('href', 'data:text/csv;charset=utf-8,' + encodeURIComponent(csvText));
          element.setAttribute('download', 'selection.csv');

          element.style.display = 'none';
          document.body.appendChild(element);

          element.click();

          document.body.removeChild(element);
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          var mode = this.ui.modeRadio.filter(':checked').val();
          var promise = null;
          if (mode === 'add') {
            promise = this.addSalesItemsToSelection();
          } else if (mode === 'remove') {
            promise = this.removeSalesItemsFromSelection();
          } else if (mode === 'replace') {
            this.clearSelection();
            promise = this.addSalesItemsToSelection();
          }
          if (promise) {
            promise.then(function () {
              Radio.channel('dialog').trigger('close');
            }).catch(function (err) {
              _this.ui.errorContainer.removeClass('is-hidden').show().text(err).fadeOut(3000);
              _this.enableButtons();
            });
          } else {
            this.enableButtons();
          }
        },
        salesItemsChanged: function salesItemsChanged() {
          this.ui.count.text(this.getSalesItemsFromInput().length);
        },
        getSalesItemsFromInput: function getSalesItemsFromInput() {
          var salesItemsArray = [];
          _.each(this.ui.salesItemsInput.val().split('\n'), function (value) {
            var trimmedValue = value.trim();
            if (trimmedValue) {
              salesItemsArray.push(trimmedValue);
            }
          });
          return salesItemsArray;
        },
        addSalesItemsToSelection: function addSalesItemsToSelection() {
          var _this2 = this;

          return new Promise(function (resolve, reject) {
            var salesItems = _this2.getSalesItemsFromInput();
            jquery.ajax({
              url: SalesItemModel.prototype.urlRoot(),
              dataType: 'json',
              data: {
                terms: salesItems.join(','),
                search: 'label',
                page: 1,
                per_page: 1000
              }
            }).done(function (data) {
              _.each(data.list, function (attrs) {
                var salesItem = SalesItemModel.findOrCreate(attrs);
                salesItem.set('isSelected', true);
              });
              _.each(salesItems, function (salesItem) {
                var travlerIdModel = _this2.selectedCollection.findWhere({ label: salesItem });
                if (!travlerIdModel) {
                  reject('No Traveler Id found for "' + salesItem + '"');
                }
              });
              resolve();
            });
          });
        },
        removeSalesItemsFromSelection: function removeSalesItemsFromSelection() {
          var _this3 = this;

          return new Promise(function (resolve, reject) {
            var salesItems = _this3.getSalesItemsFromInput();
            var salesItemModels = [];
            _this3.selectedCollection.each(function (salesItem) {
              if (salesItems.indexOf(salesItem.get('label')) > -1) {
                salesItemModels.push(salesItem);
              }
            });
            _.invoke(salesItemModels, 'set', 'isSelected', false);
            resolve();
          });
        },
        clearSelection: function clearSelection() {
          var salesItem = this.selectedCollection.toArray();
          _.invoke(salesItem, 'set', 'isSelected', false);
          this.selectedCollection.reset();
        },
        disableButtons: function disableButtons() {
          this.ui.saveButton.addClass('is-loading').prop('disabled', true);
          this.ui.cancelButton.prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.ui.saveButton.removeClass('is-loading').prop('disabled', false);
          this.ui.cancelButton.prop('disabled', false);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/salesItemCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_salesItemModelJs) {
      Model = _salesItemModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/sales_item';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/salesItemActionsView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './salesItemActionsView.hbs!', 'lib/common/views/entity/searchableListLayoutView.js', './salesItemListTableLayoutTpl.hbs!', './salesItemRowTpl.hbs!', './inventorySalesItemMassEditActionView.js', './inventorySalesItemMassSelectionActionView.js', '../models/salesItemCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, SearchableListLayoutView, salesItemListTableLayoutTpl, salesItemRowTpl, InventorySalesItemMassEditActionView, InventorySalesItemMassSelectionActionView, SalesItemCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_salesItemActionsViewHbs) {
      viewTpl = _salesItemActionsViewHbs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_salesItemListTableLayoutTplHbs) {
      salesItemListTableLayoutTpl = _salesItemListTableLayoutTplHbs.default;
    }, function (_salesItemRowTplHbs) {
      salesItemRowTpl = _salesItemRowTplHbs.default;
    }, function (_inventorySalesItemMassEditActionViewJs) {
      InventorySalesItemMassEditActionView = _inventorySalesItemMassEditActionViewJs.default;
    }, function (_inventorySalesItemMassSelectionActionViewJs) {
      InventorySalesItemMassSelectionActionView = _inventorySalesItemMassSelectionActionViewJs.default;
    }, function (_modelsSalesItemCollectionJs) {
      SalesItemCollection = _modelsSalesItemCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.selectedCollection = Radio.channel('inventory').request('get:isSelected:salesItem');
          this.listenTo(this.selectedCollection, 'update', this.updateSelectedCount);
          this.listenTo(Radio.channel('inventory'), 'refresh:list:salesItem', this.refreshList);
        },

        template: viewTpl,
        regions: {
          list: '[data-region="list"]'
        },
        ui: {
          'massEditButton': 'button[name="massEdit"]',
          'massSelectButton': 'button[name="massSelect"]',
          'selectedCountMsg': 'span[data-ui-name="selectedCount"]',
          'clearSelectionButton': 'button[data-ui-name="clearSelection"]'
        },
        events: {
          'click @ui.massEditButton': 'massEdit',
          'click @ui.massSelectButton': 'massSelect',
          'click @ui.clearSelectionButton': 'clearSelection'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'button:click': 'buttonClicked',
          'link:click': 'linkClicked'
        },
        onRender: function onRender() {
          this.showList();
          this.updateSelectedCount();
        },
        showList: function showList() {
          var salesItemCollection = Radio.channel('data').request('collection', SalesItemCollection, { doFetch: false });
          this.listView = new SearchableListLayoutView({
            collection: salesItemCollection,
            listLength: 20,
            searchPath: ['id', 'outboundOrder.label', 'bin.name', 'sku.name', 'sku.number', 'sku.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: salesItemListTableLayoutTpl,
            entityRowTpl: salesItemRowTpl,
            colspan: 8
          });
          this.showChildView('list', this.listView);
          Radio.channel('app').trigger('navigate', salesItemCollection.url(), { trigger: false });
        },
        updateSelectedCount: function updateSelectedCount() {
          if (this.selectedCollection.length > 0) {
            this.ui.selectedCountMsg.parent().show();
            this.ui.selectedCountMsg.text(this.selectedCollection.length + ' Sales Items Selected');
          } else {
            this.ui.selectedCountMsg.parent().hide();
            this.ui.selectedCountMsg.text('');
          }
        },
        clearSelection: function clearSelection() {
          var salesItem = this.selectedCollection.toArray();
          _.invoke(salesItem, 'set', 'isSelected', false);
          this.selectedCollection.reset();
          this.updateSelectedCount();
        },
        refreshList: function refreshList() {
          this.listView.search();
        },
        selectModel: function selectModel(childView, args) {
          this.triggerMethod('select:model', args);
        },
        buttonClicked: function buttonClicked(childView, args) {
          var action = args.button.getAttribute('name');
          this[action](args.model);
        },
        linkClicked: function linkClicked(childView, args) {
          var methodName = args.link.dataset.uiLink + 'LinkClicked';
          this[methodName](args.model);
        },

        selectAllToggleValue: false,
        toggleSelectAll: function toggleSelectAll() {
          this.selectAllToggleValue = !this.selectAllToggleValue;
          var collection = this.listView.getCurrentCollection();
          if (collection) {
            collection.invoke('set', 'isSelected', this.selectAllToggleValue);
          }
        },
        massEdit: function massEdit(event) {
          event.preventDefault();
          var options = {
            title: 'Mass Edit SalesItem',
            width: '400px'
          };
          var view = new InventorySalesItemMassEditActionView();
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        massSelect: function massSelect(event) {
          event.preventDefault();
          var options = {
            title: 'Mass Select SalesItem',
            width: '400px'
          };
          var view = new InventorySalesItemMassSelectionActionView();
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        outboundOrderLinkClicked: function outboundOrderLinkClicked(model) {
          this.triggerMethod('show:outboundOrder', model.get('outboundOrder'));
        },
        binLinkClicked: function binLinkClicked(model) {
          this.triggerMethod('show:bin', model.get('bin'));
        },
        showCard: function showCard(model) {
          this.triggerMethod('show:card', model);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/salesItemEditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h3 class=\"title is-3\">Sales Item #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + "</h3>\r\n<span class=\"subtitle is-5\">SKU: " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + ", QTY: " + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</span>\r\n<form>\r\n	<label class=\"label\">Outbound Order</label>\r\n	<p class=\"control\">\r\n  		<select name=\"outboundOrder\">\r\n			<option>Select a Outbound Order...</option>\r\n  		</select>\r\n	</p>\r\n	<label class=\"label\">Label</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"label\" type=\"text\" placeholder=\"Enter Label\" />\r\n	</p>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"bin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<p class=\"control\">\r\n	  	<label class=\"checkbox\">\r\n	    	<input name=\"isVoid\" type=\"checkbox\">\r\n	    	Is Void?\r\n	  	</label>\r\n	</p>\r\n	<label class=\"label\">Revenue</label>\r\n	<p class=\"control\">\r\n  		<input class=\"input\" name=\"revenue\" type=\"number\" min=\"0.01\" step=\"0.01\" placeholder=\"Enter Revenue\" />\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n		<button type=\"button\" class=\"button is-danger\" data-ui-name=\"delete\">Delete</button>\r\n		<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This entity is not synced with the server.\"></span>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/accounting/models/outboundOrderCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './outboundOrderModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_outboundOrderModelJs) {
      Model = _outboundOrderModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/outbound_order';
        },

        selectOptionsUrl: '/select_options/outbound_order'
      }));
    }
  };
});
"use strict";

System.register('lib/inventory/views/salesItemEditView.js', ['underscore', 'backbone', 'backbone.syphon', 'backbone.radio', 'marionette', './salesItemEditView.hbs!', 'lib/accounting/models/outboundOrderCollection.js', '../models/binCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Syphon, Radio, Marionette, viewTpl, OutboundOrderCollection, BinCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_salesItemEditViewHbs) {
      viewTpl = _salesItemEditViewHbs.default;
    }, function (_libAccountingModelsOutboundOrderCollectionJs) {
      OutboundOrderCollection = _libAccountingModelsOutboundOrderCollectionJs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        behaviors: {
          'Stickit': {},
          'SaveCancelDelete': {
            save: 'save'
          },
          'ShowNotSynced': {},
          'SetNotSynced': {},
          'RemoteSearchSelect2': {
            outboundOrder: {
              url: OutboundOrderCollection.prototype.url(),
              search: 'label',
              textProperty: 'label'
            },
            bin: {
              url: BinCollection.prototype.url(),
              search: 'name'
            }
          }
        },
        ui: {
          'labelInput': 'input[name="label"]',
          'isVoidInput': 'input[name="isVoid"]',
          'revenueInput': 'input[name="revenue"]',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        bindings: {
          '@ui.labelInput': 'label',
          '@ui.isVoidInput': 'isVoid',
          '@ui.revenueInput': 'revenue'
        },
        save: function save(event) {
          var _this = this;

          this.disableFormButtons();
          this.updateSalesItem();
          this.model.save().always(function () {
            _this.enableFormButtons();
          }).done(function () {
            _this.triggerMethod('show:list', _this, {
              view: _this,
              model: _this.model
            });
          });
        },
        updateSalesItem: function updateSalesItem() {
          var _this2 = this;

          var attr = Syphon.serialize(this);
          var setAttr = {
            outboundOrder: OutboundOrderCollection,
            bin: BinCollection
          };
          _.each(setAttr, function (Collection, attributeName) {
            if (parseInt(attr[attributeName])) {
              var model = Collection.prototype.model.findOrCreate({ id: parseInt(attr[attributeName]) });
              _this2.setShownAttributeFromRemoteSelect2(model, attributeName);
              setAttr[attributeName] = model;
            } else {
              delete setAttr[attributeName];
            }
          });
          this.model.set(setAttr);
        },
        setShownAttributeFromRemoteSelect2: function setShownAttributeFromRemoteSelect2(model, attributeName) {
          if (this.behaviors && this.behaviors.RemoteSearchSelect2 && this.behaviors.RemoteSearchSelect2[attributeName]) {
            var options = this.behaviors.RemoteSearchSelect2[attributeName];
            var shownPropertyName = options.textProperty ? options.textProperty : options.search;
            //model.set(shownPropertyName, '???');
            var test = void 0;
          }
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-disabled').prop('disable', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disable', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disable', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-disabled').prop('disable', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disable', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disable', false);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/binView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		Show Barcodes\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		Show List\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		<h5 class=\"subtitle is-5\">\r\n			Has " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.travelerIds : depth0) != null ? stack1.models : stack1) != null ? stack1.length : stack1, depth0)) + " Traveler Ids,\r\n			" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.salesItems : depth0) != null ? stack1.models : stack1) != null ? stack1.length : stack1, depth0)) + " Sales Items,\r\n			and " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.skuCount : depth0) != null ? stack1.models : stack1) != null ? stack1.length : stack1, depth0)) + " Untracked SKUs.\r\n		</h5>\r\n		<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.travelerIds : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.salesItems : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(10, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.skuCount : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(13, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		</ul>\r\n";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.transform : stack1, { "name": "unless", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "7": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(8, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "8": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "						<li>" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.label : stack1, depth0)) + "</li>\r\n";
        }, "10": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "11": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "					<li>" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.label : stack1, depth0)) + "</li>\r\n";
        }, "13": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.count : stack1, { "name": "if", "hash": {}, "fn": container.program(14, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "14": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "					<li>" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + ":" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.count : stack1, depth0)) + "</li>\r\n";
        }, "16": function (container, depth0, helpers, partials, data) {
            var stack1;

            return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.travelerIdCount : depth0, { "name": "if", "hash": {}, "fn": container.program(17, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.salesItemCount : depth0, { "name": "if", "hash": {}, "fn": container.program(20, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.binSkuCountCount : depth0, { "name": "if", "hash": {}, "fn": container.program(22, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "");
        }, "17": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<h5 class=\"subtitle is-5\">Has " + container.escapeExpression((helper = (helper = helpers.travelerIdCount || (depth0 != null ? depth0.travelerIdCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "travelerIdCount", "hash": {}, "data": data }) : helper)) + " Traveler Ids</h5>\r\n			<div class=\"box\">\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["0"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["1"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.tidColumns : depth0) != null ? stack1["2"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-clearfix\"></div>\r\n			</div>\r\n";
        }, "18": function (container, depth0, helpers, partials, data) {
            return "						<li>\r\n							" + container.escapeExpression((helpers.barcodeHtml || depth0 && depth0.barcodeHtml || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "barcodeHtml", "hash": {}, "data": data })) + "\r\n						</li>\r\n";
        }, "20": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<h5 class=\"subtitle is-5\">Has " + container.escapeExpression((helper = (helper = helpers.salesItemCount || (depth0 != null ? depth0.salesItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "salesItemCount", "hash": {}, "data": data }) : helper)) + " Sales Items</h5>\r\n			<div class=\"box\">\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.salesItemColumns : depth0) != null ? stack1["0"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.salesItemColumns : depth0) != null ? stack1["1"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.salesItemColumns : depth0) != null ? stack1["2"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-clearfix\"></div>\r\n			</div>\r\n";
        }, "22": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<h5 class=\"subtitle is-5\">Has " + container.escapeExpression((helper = (helper = helpers.binSkuCountCount || (depth0 != null ? depth0.binSkuCountCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "binSkuCountCount", "hash": {}, "data": data }) : helper)) + " Untracked SKUs</h5>\r\n			<div class=\"box\">\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.binSkuCountColumns : depth0) != null ? stack1["0"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.binSkuCountColumns : depth0) != null ? stack1["1"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.binSkuCountColumns : depth0) != null ? stack1["2"] : stack1, { "name": "each", "hash": {}, "fn": container.program(18, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-clearfix\"></div>\r\n			</div>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<button name=\"toggleViewType\" type=\"button\" class=\"button\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</button>\r\n<button name=\"print\" type=\"button\" class=\"button\">Print</button>\r\n<button name=\"back\" type=\"button\" class=\"button\">Back</button>\r\n<div data-ui=\"printContainer\">\r\n	<h3 class=\"title is-3\">Bin #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + " : " + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "</h3>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(16, data, 0), "data": data })) != null ? stack1 : "") + "</div>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/inventory/views/binView.js', ['underscore', 'jquery', 'jsbarcode', 'marionette', 'backbone.radio', './binView.hbs!'], function (_export, _context) {
  "use strict";

  var _, jquery, JsBarcode, Marionette, Radio, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_jsbarcode) {
      JsBarcode = _jsbarcode.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_binViewHbs) {
      viewTpl = _binViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'toggleViewTypeButton': 'button[name="toggleViewType"]',
          'printButton': 'button[name="print"]',
          'backButton': 'button[name="back"]',
          'printContainer': 'div[data-ui="printContainer"]',
          'barcode': '[jsbarcode-value]',
          'topLabel': 'p[data-ui-top-label]'
        },
        events: {
          'click @ui.toggleViewTypeButton': 'toggleViewType',
          'click @ui.printButton': 'print',
          'click @ui.backButton': 'back'
        },
        modelEvents: {
          'change': 'render'
        },
        showCompactView: false,
        serializeData: function serializeData() {
          var _this = this;

          var data = _.clone(this.model.attributes);
          data.showCompactView = this.showCompactView;
          if (!this.showCompactView) {
            (function () {
              data.tidColumns = [[], [], []];
              data.travelerIdCount = 0;
              var columnIndex = 0;
              _this.model.get('travelerIds').each(function (tid, index) {
                if (!tid.get('transform') && !tid.get('isVoid')) {
                  data.tidColumns[columnIndex].push(tid);
                  columnIndex = columnIndex + 1 >= data.tidColumns.length ? 0 : columnIndex + 1;
                  data.travelerIdCount++;
                }
              });
              data.salesItemColumns = [[], [], []];
              data.salesItemCount = 0;
              columnIndex = 0;
              _this.model.get('salesItems').each(function (salesItem, index) {
                if (!salesItem.get('isVoid')) {
                  data.salesItemColumns[columnIndex].push(salesItem);
                  columnIndex = columnIndex + 1 >= data.salesItemColumns.length ? 0 : columnIndex + 1;
                  data.salesItemCount++;
                }
              });
              data.binSkuCountColumns = [[], [], []];
              data.binSkuCountCount = 0;
              columnIndex = 0;
              _this.model.get('skuCount').each(function (binSkuCount, index) {
                if (!binSkuCount.get('count') > 0) {
                  data.binSkuCountColumns[columnIndex].push(binSkuCount);
                  columnIndex = columnIndex + 1 >= data.binSkuCountColumns.length ? 0 : columnIndex + 1;
                  data.binSkuCountCount++;
                }
              });
            })();
          }
          return data;
        },
        onRender: function onRender() {
          this.ui.barcode.each(function (idx, elem) {
            if (elem.getAttribute('jsbarcode-value')) {
              JsBarcode(elem, elem.getAttribute('jsbarcode-value'), {
                height: 20
              });
            }
          });
        },
        onAttach: function onAttach() {
          this.resizeTopLabels();
        },
        onDomRefresh: function onDomRefresh() {
          this.resizeTopLabels();
        },
        resizeTopLabels: function resizeTopLabels() {
          this.ui.topLabel.each(function (idx, elem) {
            var width = jquery(elem).siblings('svg').first().width();
            jquery(elem).width(width);
          });
        },
        toggleViewType: function toggleViewType() {
          this.showCompactView = !this.showCompactView;
          this.render();
        },
        print: function print(event) {
          event.preventDefault();
          Radio.channel('app').trigger('print', this.ui.printContainer.html(), { title: 'Bin Sheet' });
        },
        back: function back(event) {
          event.preventDefault();
          this.triggerMethod('show:list');
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/outboundOrderView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "		Show Barcodes\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		Show List\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		<h5 class=\"subtitle is-5\">\r\n			Has " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.salesItems : depth0) != null ? stack1.models : stack1) != null ? stack1.length : stack1, depth0)) + " Sales Items.\r\n		</h5>\r\n		<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.salesItems : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(6, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		</ul>\r\n";
        }, "6": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.transform : stack1, { "name": "unless", "hash": {}, "fn": container.program(7, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "7": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.isVoid : stack1, { "name": "unless", "hash": {}, "fn": container.program(8, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "8": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "						<li>" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.label : stack1, depth0)) + "</li>\r\n";
        }, "10": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.salesItemCount : depth0, { "name": "if", "hash": {}, "fn": container.program(11, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "11": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "			<h5 class=\"subtitle is-5\">Has " + container.escapeExpression((helper = (helper = helpers.salesItemCount || (depth0 != null ? depth0.salesItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "salesItemCount", "hash": {}, "data": data }) : helper)) + " Sales Items</h5>\r\n			<div class=\"box\">\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.siColumns : depth0) != null ? stack1["0"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.siColumns : depth0) != null ? stack1["1"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-pulled-left\">\r\n					<ul>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.siColumns : depth0) != null ? stack1["2"] : stack1, { "name": "each", "hash": {}, "fn": container.program(12, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "					</ul>\r\n				</div>\r\n				<div class=\"is-clearfix\"></div>\r\n			</div>\r\n";
        }, "12": function (container, depth0, helpers, partials, data) {
            return "						<li>\r\n							" + container.escapeExpression((helpers.barcodeHtml || depth0 && depth0.barcodeHtml || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "barcodeHtml", "hash": {}, "data": data })) + "\r\n						</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<button name=\"toggleViewType\" type=\"button\" class=\"button\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</button>\r\n<button name=\"print\" type=\"button\" class=\"button\">Print</button>\r\n<button name=\"back\" type=\"button\" class=\"button\">Back</button>\r\n<div data-ui=\"printContainer\">\r\n	<h3 class=\"title is-3\">OutboundOrder #" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + " : " + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "</h3>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.showCompactView : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(10, data, 0), "data": data })) != null ? stack1 : "") + "</div>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register('lib/inventory/views/outboundOrderView.js', ['underscore', 'jquery', 'jsbarcode', 'marionette', 'backbone.radio', './outboundOrderView.hbs!'], function (_export, _context) {
  "use strict";

  var _, jquery, JsBarcode, Marionette, Radio, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_jsbarcode) {
      JsBarcode = _jsbarcode.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_outboundOrderViewHbs) {
      viewTpl = _outboundOrderViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'toggleViewTypeButton': 'button[name="toggleViewType"]',
          'printButton': 'button[name="print"]',
          'backButton': 'button[name="back"]',
          'printContainer': 'div[data-ui="printContainer"]',
          'barcode': '[jsbarcode-value]',
          'topLabel': 'p[data-ui-top-label]'
        },
        events: {
          'click @ui.toggleViewTypeButton': 'toggleViewType',
          'click @ui.printButton': 'print',
          'click @ui.backButton': 'back'
        },
        modelEvents: {
          'change': 'render'
        },
        showCompactView: false,
        serializeData: function serializeData() {
          var _this = this;

          var data = _.clone(this.model.attributes);
          data.showCompactView = this.showCompactView;
          if (!this.showCompactView) {
            (function () {
              data.siColumns = [[], [], []];
              data.salesItemCount = 0;
              var columnIndex = 0;
              _this.model.get('salesItems').each(function (tid, index) {
                if (!tid.get('transform') && !tid.get('isVoid')) {
                  data.siColumns[columnIndex].push(tid);
                  columnIndex = columnIndex + 1 >= data.siColumns.length ? 0 : columnIndex + 1;
                  data.salesItemCount++;
                }
              });
            })();
          }
          return data;
        },
        onRender: function onRender() {
          this.ui.barcode.each(function (idx, elem) {
            if (elem.getAttribute('jsbarcode-value')) {
              JsBarcode(elem, elem.getAttribute('jsbarcode-value'), {
                height: 20
              });
            }
          });
        },
        onAttach: function onAttach() {
          this.resizeTopLabels();
        },
        onDomRefresh: function onDomRefresh() {
          this.resizeTopLabels();
        },
        resizeTopLabels: function resizeTopLabels() {
          this.ui.topLabel.each(function (idx, elem) {
            var width = jquery(elem).siblings('svg').first().width();
            jquery(elem).width(width);
          });
        },
        toggleViewType: function toggleViewType() {
          this.showCompactView = !this.showCompactView;
          this.render();
        },
        print: function print(event) {
          event.preventDefault();
          Radio.channel('app').trigger('print', this.ui.printContainer.html(), { title: 'Inbound Order Sheet' });
        },
        back: function back(event) {
          event.preventDefault();
          this.triggerMethod('show:list');
        }
      }));
    }
  };
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/CODE39/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.CODE39 = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// https://en.wikipedia.org/wiki/Code_39#Encoding

	var CODE39 = function (_Barcode) {
		_inherits(CODE39, _Barcode);

		function CODE39(data, options) {
			_classCallCheck(this, CODE39);

			data = data.toUpperCase();

			// Calculate mod43 checksum if enabled
			if (options.mod43) {
				data += getCharacter(mod43checksum(data));
			}

			return _possibleConstructorReturn(this, _Barcode.call(this, data, options));
		}

		CODE39.prototype.encode = function encode() {
			// First character is always a *
			var result = getEncoding("*");

			// Take every character and add the binary representation to the result
			for (var i = 0; i < this.data.length; i++) {
				result += getEncoding(this.data[i]) + "0";
			}

			// Last character is always a *
			result += getEncoding("*");

			return {
				data: result,
				text: this.text
			};
		};

		CODE39.prototype.valid = function valid() {
			return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/) !== -1;
		};

		return CODE39;
	}(_Barcode3.default);

	// All characters. The position in the array is the (checksum) value


	var characters = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "-", ".", " ", "$", "/", "+", "%", "*"];

	// The decimal representation of the characters, is converted to the
	// corresponding binary with the getEncoding function
	var encodings = [20957, 29783, 23639, 30485, 20951, 29813, 23669, 20855, 29789, 23645, 29975, 23831, 30533, 22295, 30149, 24005, 21623, 29981, 23837, 22301, 30023, 23879, 30545, 22343, 30161, 24017, 21959, 30065, 23921, 22385, 29015, 18263, 29141, 17879, 29045, 18293, 17783, 29021, 18269, 17477, 17489, 17681, 20753, 35770];

	// Get the binary representation of a character by converting the encodings
	// from decimal to binary
	function getEncoding(character) {
		return getBinary(characterValue(character));
	}

	function getBinary(characterValue) {
		return encodings[characterValue].toString(2);
	}

	function getCharacter(characterValue) {
		return characters[characterValue];
	}

	function characterValue(character) {
		return characters.indexOf(character);
	}

	function mod43checksum(data) {
		var checksum = 0;
		for (var i = 0; i < data.length; i++) {
			checksum += characterValue(data[i]);
		}

		checksum = checksum % 43;
		return checksum;
	}

	exports.CODE39 = CODE39;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/CODE128/CODE128_AUTO.js', ['./CODE128.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _CODE2 = $__require('./CODE128.js');

	var _CODE3 = _interopRequireDefault(_CODE2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var CODE128AUTO = function (_CODE) {
		_inherits(CODE128AUTO, _CODE);

		function CODE128AUTO(data, options) {
			_classCallCheck(this, CODE128AUTO);

			// ASCII value ranges 0-127, 200-211
			if (data.search(/^[\x00-\x7F\xC8-\xD3]+$/) !== -1) {
				var _this = _possibleConstructorReturn(this, _CODE.call(this, autoSelectModes(data), options));
			} else {
				var _this = _possibleConstructorReturn(this, _CODE.call(this, data, options));
			}
			return _possibleConstructorReturn(_this);
		}

		return CODE128AUTO;
	}(_CODE3.default);

	function autoSelectModes(string) {
		// ASCII ranges 0-98 and 200-207 (FUNCs and SHIFTs)
		var aLength = string.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length;
		// ASCII ranges 32-127 and 200-207 (FUNCs and SHIFTs)
		var bLength = string.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length;
		// Number pairs or [FNC1]
		var cLength = string.match(/^(\xCF*[0-9]{2}\xCF*)*/)[0].length;

		var newString;
		// Select CODE128C if the string start with enough digits
		if (cLength >= 2) {
			newString = String.fromCharCode(210) + autoSelectFromC(string);
		}
		// Select A/C depending on the longest match
		else if (aLength > bLength) {
				newString = String.fromCharCode(208) + autoSelectFromA(string);
			} else {
				newString = String.fromCharCode(209) + autoSelectFromB(string);
			}

		newString = newString.replace(/[\xCD\xCE]([^])[\xCD\xCE]/, function (match, char) {
			return String.fromCharCode(203) + char;
		});

		return newString;
	}

	function autoSelectFromA(string) {
		var untilC = string.match(/^([\x00-\x5F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);

		if (untilC) {
			return untilC[1] + String.fromCharCode(204) + autoSelectFromC(string.substring(untilC[1].length));
		}

		var aChars = string.match(/^[\x00-\x5F\xC8-\xCF]+/);
		if (aChars[0].length === string.length) {
			return string;
		}

		return aChars[0] + String.fromCharCode(205) + autoSelectFromB(string.substring(aChars[0].length));
	}

	function autoSelectFromB(string) {
		var untilC = string.match(/^([\x20-\x7F\xC8-\xCF]+?)(([0-9]{2}){2,})([^0-9]|$)/);

		if (untilC) {
			return untilC[1] + String.fromCharCode(204) + autoSelectFromC(string.substring(untilC[1].length));
		}

		var bChars = string.match(/^[\x20-\x7F\xC8-\xCF]+/);
		if (bChars[0].length === string.length) {
			return string;
		}

		return bChars[0] + String.fromCharCode(206) + autoSelectFromA(string.substring(bChars[0].length));
	}

	function autoSelectFromC(string) {
		var cMatch = string.match(/^(\xCF*[0-9]{2}\xCF*)+/)[0];
		var length = cMatch.length;

		if (length === string.length) {
			return string;
		}

		string = string.substring(length);

		// Select A/B depending on the longest match
		var aLength = string.match(/^[\x00-\x5F\xC8-\xCF]*/)[0].length;
		var bLength = string.match(/^[\x20-\x7F\xC8-\xCF]*/)[0].length;
		if (aLength >= bLength) {
			return cMatch + String.fromCharCode(206) + autoSelectFromA(string);
		} else {
			return cMatch + String.fromCharCode(205) + autoSelectFromB(string);
		}
	}

	exports.default = CODE128AUTO;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/CODE128/CODE128A.js', ['./CODE128.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _CODE2 = $__require('./CODE128.js');

	var _CODE3 = _interopRequireDefault(_CODE2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var CODE128A = function (_CODE) {
		_inherits(CODE128A, _CODE);

		function CODE128A(string, options) {
			_classCallCheck(this, CODE128A);

			return _possibleConstructorReturn(this, _CODE.call(this, String.fromCharCode(208) + string, options));
		}

		CODE128A.prototype.valid = function valid() {
			return this.data.search(/^[\x00-\x5F\xC8-\xCF]+$/) !== -1;
		};

		return CODE128A;
	}(_CODE3.default);

	exports.default = CODE128A;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/CODE128/CODE128B.js', ['./CODE128.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _CODE2 = $__require('./CODE128.js');

	var _CODE3 = _interopRequireDefault(_CODE2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var CODE128B = function (_CODE) {
		_inherits(CODE128B, _CODE);

		function CODE128B(string, options) {
			_classCallCheck(this, CODE128B);

			return _possibleConstructorReturn(this, _CODE.call(this, String.fromCharCode(209) + string, options));
		}

		CODE128B.prototype.valid = function valid() {
			return this.data.search(/^[\x20-\x7F\xC8-\xCF]+$/) !== -1;
		};

		return CODE128B;
	}(_CODE3.default);

	exports.default = CODE128B;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/CODE128/CODE128.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // This is the master class, it does require the start code to be
	// included in the string

	var CODE128 = function (_Barcode) {
		_inherits(CODE128, _Barcode);

		function CODE128(data, options) {
			_classCallCheck(this, CODE128);

			// Fill the bytes variable with the ascii codes of string
			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data.substring(1), options));

			_this.bytes = [];
			for (var i = 0; i < data.length; ++i) {
				_this.bytes.push(data.charCodeAt(i));
			}

			// Data for each character, the last characters will not be encoded but are used for error correction
			// Numbers encode to (n + 1000) -> binary; 740 -> (740 + 1000).toString(2) -> "11011001100"
			_this.encodings = [// + 1000
			740, 644, 638, 176, 164, 100, 224, 220, 124, 608, 604, 572, 436, 244, 230, 484, 260, 254, 650, 628, 614, 764, 652, 902, 868, 836, 830, 892, 844, 842, 752, 734, 590, 304, 112, 94, 416, 128, 122, 672, 576, 570, 464, 422, 134, 496, 478, 142, 910, 678, 582, 768, 762, 774, 880, 862, 814, 896, 890, 818, 914, 602, 930, 328, 292, 200, 158, 68, 62, 424, 412, 232, 218, 76, 74, 554, 616, 978, 556, 146, 340, 212, 182, 508, 268, 266, 956, 940, 938, 758, 782, 974, 400, 310, 118, 512, 506, 960, 954, 502, 518, 886, 966, /* Start codes */668, 680, 692, 5379];
			return _this;
		}

		// The public encoding function


		CODE128.prototype.encode = function encode() {
			var encodingResult;
			var bytes = this.bytes;
			// Remove the startcode from the bytes and set its index
			var startIndex = bytes.shift() - 105;

			// Start encode with the right type
			if (startIndex === 103) {
				encodingResult = this.nextA(bytes, 1);
			} else if (startIndex === 104) {
				encodingResult = this.nextB(bytes, 1);
			} else if (startIndex === 105) {
				encodingResult = this.nextC(bytes, 1);
			}

			return {
				text: this.text == this.data ? this.text.replace(/[^\x20-\x7E]/g, "") : this.text,
				data:
				// Add the start bits
				this.getEncoding(startIndex) +
				// Add the encoded bits
				encodingResult.result +
				// Add the checksum
				this.getEncoding((encodingResult.checksum + startIndex) % 103) +
				// Add the end bits
				this.getEncoding(106)
			};
		};

		CODE128.prototype.getEncoding = function getEncoding(n) {
			return this.encodings[n] ? (this.encodings[n] + 1000).toString(2) : '';
		};

		// Use the regexp variable for validation


		CODE128.prototype.valid = function valid() {
			// ASCII value ranges 0-127, 200-211
			return this.data.search(/^[\x00-\x7F\xC8-\xD3]+$/) !== -1;
		};

		CODE128.prototype.nextA = function nextA(bytes, depth) {
			if (bytes.length <= 0) {
				return { "result": "", "checksum": 0 };
			}

			var next, index;

			// Special characters
			if (bytes[0] >= 200) {
				index = bytes[0] - 105;

				// Remove first element
				bytes.shift();

				// Swap to CODE128C
				if (index === 99) {
					next = this.nextC(bytes, depth + 1);
				}
				// Swap to CODE128B
				else if (index === 100) {
						next = this.nextB(bytes, depth + 1);
					}
					// Shift
					else if (index === 98) {
							// Convert the next character so that is encoded correctly
							bytes[0] = bytes[0] > 95 ? bytes[0] - 96 : bytes[0];
							next = this.nextA(bytes, depth + 1);
						}
						// Continue on CODE128A but encode a special character
						else {
								next = this.nextA(bytes, depth + 1);
							}
			}
			// Continue encoding of CODE128A
			else {
					var charCode = bytes[0];
					index = charCode < 32 ? charCode + 64 : charCode - 32;

					// Remove first element
					bytes.shift();

					next = this.nextA(bytes, depth + 1);
				}

			// Get the correct binary encoding and calculate the weight
			var enc = this.getEncoding(index);
			var weight = index * depth;

			return {
				"result": enc + next.result,
				"checksum": weight + next.checksum
			};
		};

		CODE128.prototype.nextB = function nextB(bytes, depth) {
			if (bytes.length <= 0) {
				return { "result": "", "checksum": 0 };
			}

			var next, index;

			// Special characters
			if (bytes[0] >= 200) {
				index = bytes[0] - 105;

				// Remove first element
				bytes.shift();

				// Swap to CODE128C
				if (index === 99) {
					next = this.nextC(bytes, depth + 1);
				}
				// Swap to CODE128A
				else if (index === 101) {
						next = this.nextA(bytes, depth + 1);
					}
					// Shift
					else if (index === 98) {
							// Convert the next character so that is encoded correctly
							bytes[0] = bytes[0] < 32 ? bytes[0] + 96 : bytes[0];
							next = this.nextB(bytes, depth + 1);
						}
						// Continue on CODE128B but encode a special character
						else {
								next = this.nextB(bytes, depth + 1);
							}
			}
			// Continue encoding of CODE128B
			else {
					index = bytes[0] - 32;
					bytes.shift();
					next = this.nextB(bytes, depth + 1);
				}

			// Get the correct binary encoding and calculate the weight
			var enc = this.getEncoding(index);
			var weight = index * depth;

			return { "result": enc + next.result, "checksum": weight + next.checksum };
		};

		CODE128.prototype.nextC = function nextC(bytes, depth) {
			if (bytes.length <= 0) {
				return { "result": "", "checksum": 0 };
			}

			var next, index;

			// Special characters
			if (bytes[0] >= 200) {
				index = bytes[0] - 105;

				// Remove first element
				bytes.shift();

				// Swap to CODE128B
				if (index === 100) {
					next = this.nextB(bytes, depth + 1);
				}
				// Swap to CODE128A
				else if (index === 101) {
						next = this.nextA(bytes, depth + 1);
					}
					// Continue on CODE128C but encode a special character
					else {
							next = this.nextC(bytes, depth + 1);
						}
			}
			// Continue encoding of CODE128C
			else {
					index = (bytes[0] - 48) * 10 + bytes[1] - 48;
					bytes.shift();
					bytes.shift();
					next = this.nextC(bytes, depth + 1);
				}

			// Get the correct binary encoding and calculate the weight
			var enc = this.getEncoding(index);
			var weight = index * depth;

			return { "result": enc + next.result, "checksum": weight + next.checksum };
		};

		return CODE128;
	}(_Barcode3.default);

	exports.default = CODE128;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/CODE128/CODE128C.js', ['./CODE128.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _CODE2 = $__require('./CODE128.js');

	var _CODE3 = _interopRequireDefault(_CODE2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var CODE128C = function (_CODE) {
		_inherits(CODE128C, _CODE);

		function CODE128C(string, options) {
			_classCallCheck(this, CODE128C);

			return _possibleConstructorReturn(this, _CODE.call(this, String.fromCharCode(210) + string, options));
		}

		CODE128C.prototype.valid = function valid() {
			return this.data.search(/^(\xCF*[0-9]{2}\xCF*)+$/) !== -1;
		};

		return CODE128C;
	}(_CODE3.default);

	exports.default = CODE128C;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/CODE128/index.js', ['./CODE128_AUTO.js', './CODE128A.js', './CODE128B.js', './CODE128C.js', 'process'], true, function ($__require, exports, module) {
  'use strict';

  var process = $__require('process');
  var define,
      global = this || self,
      GLOBAL = global;
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.CODE128C = exports.CODE128B = exports.CODE128A = exports.CODE128 = undefined;

  var _CODE128_AUTO = $__require('./CODE128_AUTO.js');

  var _CODE128_AUTO2 = _interopRequireDefault(_CODE128_AUTO);

  var _CODE128A = $__require('./CODE128A.js');

  var _CODE128A2 = _interopRequireDefault(_CODE128A);

  var _CODE128B = $__require('./CODE128B.js');

  var _CODE128B2 = _interopRequireDefault(_CODE128B);

  var _CODE128C = $__require('./CODE128C.js');

  var _CODE128C2 = _interopRequireDefault(_CODE128C);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
  }

  exports.CODE128 = _CODE128_AUTO2.default;
  exports.CODE128A = _CODE128A2.default;
  exports.CODE128B = _CODE128B2.default;
  exports.CODE128C = _CODE128C2.default;
  return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/EAN13.js", ["./ean_encoder.js", "../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ean_encoder = $__require("./ean_encoder.js");

	var _ean_encoder2 = _interopRequireDefault(_ean_encoder);

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Binary_encoding_of_data_digits_into_EAN-13_barcode

	var EAN13 = function (_Barcode) {
		_inherits(EAN13, _Barcode);

		function EAN13(data, options) {
			_classCallCheck(this, EAN13);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{12}$/) !== -1) {
				data += checksum(data);
			}

			// Make sure the font is not bigger than the space between the guard bars
			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			if (!options.flat && options.fontSize > options.width * 10) {
				_this.fontSize = options.width * 10;
			} else {
				_this.fontSize = options.fontSize;
			}

			// Make the guard bars go down half the way of the text
			_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;

			// Adds a last character to the end of the barcode
			_this.lastChar = options.lastChar;
			return _this;
		}

		EAN13.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{13}$/) !== -1 && this.data[12] == checksum(this.data);
		};

		EAN13.prototype.encode = function encode() {
			if (this.options.flat) {
				return this.flatEncoding();
			} else {
				return this.guardedEncoding();
			}
		};

		// Define the EAN-13 structure


		EAN13.prototype.getStructure = function getStructure() {
			return ["LLLLLL", "LLGLGG", "LLGGLG", "LLGGGL", "LGLLGG", "LGGLLG", "LGGGLL", "LGLGLG", "LGLGGL", "LGGLGL"];
		};

		// The "standard" way of printing EAN13 barcodes with guard bars


		EAN13.prototype.guardedEncoding = function guardedEncoding() {
			var encoder = new _ean_encoder2.default();
			var result = [];

			var structure = this.getStructure()[this.data[0]];

			// Get the string to be encoded on the left side of the EAN code
			var leftSide = this.data.substr(1, 6);

			// Get the string to be encoded on the right side of the EAN code
			var rightSide = this.data.substr(7, 6);

			// Add the first digigt
			if (this.options.displayValue) {
				result.push({
					data: "000000000000",
					text: this.text.substr(0, 1),
					options: { textAlign: "left", fontSize: this.fontSize }
				});
			}

			// Add the guard bars
			result.push({
				data: "101",
				options: { height: this.guardHeight }
			});

			// Add the left side
			result.push({
				data: encoder.encode(leftSide, structure),
				text: this.text.substr(1, 6),
				options: { fontSize: this.fontSize }
			});

			// Add the middle bits
			result.push({
				data: "01010",
				options: { height: this.guardHeight }
			});

			// Add the right side
			result.push({
				data: encoder.encode(rightSide, "RRRRRR"),
				text: this.text.substr(7, 6),
				options: { fontSize: this.fontSize }
			});

			// Add the end bits
			result.push({
				data: "101",
				options: { height: this.guardHeight }
			});

			if (this.options.lastChar && this.options.displayValue) {
				result.push({ data: "00" });

				result.push({
					data: "00000",
					text: this.options.lastChar,
					options: { fontSize: this.fontSize }
				});
			}
			return result;
		};

		EAN13.prototype.flatEncoding = function flatEncoding() {
			var encoder = new _ean_encoder2.default();
			var result = "";

			var structure = this.getStructure()[this.data[0]];

			result += "101";
			result += encoder.encode(this.data.substr(1, 6), structure);
			result += "01010";
			result += encoder.encode(this.data.substr(7, 6), "RRRRRR");
			result += "101";

			return {
				data: result,
				text: this.text
			};
		};

		return EAN13;
	}(_Barcode3.default);

	// Calulate the checksum digit
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit


	function checksum(number) {
		var result = 0;

		var i;
		for (i = 0; i < 12; i += 2) {
			result += parseInt(number[i]);
		}
		for (i = 1; i < 12; i += 2) {
			result += parseInt(number[i]) * 3;
		}

		return (10 - result % 10) % 10;
	}

	exports.default = EAN13;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/EAN8.js", ["./ean_encoder.js", "../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ean_encoder = $__require("./ean_encoder.js");

	var _ean_encoder2 = _interopRequireDefault(_ean_encoder);

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// http://www.barcodeisland.com/ean8.phtml

	var EAN8 = function (_Barcode) {
		_inherits(EAN8, _Barcode);

		function EAN8(data, options) {
			_classCallCheck(this, EAN8);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{7}$/) !== -1) {
				data += checksum(data);
			}

			return _possibleConstructorReturn(this, _Barcode.call(this, data, options));
		}

		EAN8.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{8}$/) !== -1 && this.data[7] == checksum(this.data);
		};

		EAN8.prototype.encode = function encode() {
			var encoder = new _ean_encoder2.default();

			// Create the return variable
			var result = "";

			// Get the number to be encoded on the left side of the EAN code
			var leftSide = this.data.substr(0, 4);

			// Get the number to be encoded on the right side of the EAN code
			var rightSide = this.data.substr(4, 4);

			// Add the start bits
			result += encoder.startBin;

			// Add the left side
			result += encoder.encode(leftSide, "LLLL");

			// Add the middle bits
			result += encoder.middleBin;

			// Add the right side
			result += encoder.encode(rightSide, "RRRR");

			// Add the end bits
			result += encoder.endBin;

			return {
				data: result,
				text: this.text
			};
		};

		return EAN8;
	}(_Barcode3.default);

	// Calulate the checksum digit


	function checksum(number) {
		var result = 0;

		var i;
		for (i = 0; i < 7; i += 2) {
			result += parseInt(number[i]) * 3;
		}

		for (i = 1; i < 7; i += 2) {
			result += parseInt(number[i]);
		}

		return (10 - result % 10) % 10;
	}

	exports.default = EAN8;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/EAN5.js", ["./ean_encoder.js", "../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ean_encoder = $__require("./ean_encoder.js");

	var _ean_encoder2 = _interopRequireDefault(_ean_encoder);

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// https://en.wikipedia.org/wiki/EAN_5#Encoding

	var EAN5 = function (_Barcode) {
		_inherits(EAN5, _Barcode);

		function EAN5(data, options) {
			_classCallCheck(this, EAN5);

			// Define the EAN-13 structure
			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.structure = ["GGLLL", "GLGLL", "GLLGL", "GLLLG", "LGGLL", "LLGGL", "LLLGG", "LGLGL", "LGLLG", "LLGLG"];
			return _this;
		}

		EAN5.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{5}$/) !== -1;
		};

		EAN5.prototype.encode = function encode() {
			var encoder = new _ean_encoder2.default();
			var checksum = this.checksum();

			// Start bits
			var result = "1011";

			// Use normal ean encoding with 01 in between all digits
			result += encoder.encode(this.data, this.structure[checksum], "01");

			return {
				data: result,
				text: this.text
			};
		};

		EAN5.prototype.checksum = function checksum() {
			var result = 0;

			result += parseInt(this.data[0]) * 3;
			result += parseInt(this.data[1]) * 9;
			result += parseInt(this.data[2]) * 3;
			result += parseInt(this.data[3]) * 9;
			result += parseInt(this.data[4]) * 3;

			return result % 10;
		};

		return EAN5;
	}(_Barcode3.default);

	exports.default = EAN5;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/EAN2.js", ["./ean_encoder.js", "../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ean_encoder = $__require("./ean_encoder.js");

	var _ean_encoder2 = _interopRequireDefault(_ean_encoder);

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// https://en.wikipedia.org/wiki/EAN_2#Encoding

	var EAN2 = function (_Barcode) {
		_inherits(EAN2, _Barcode);

		function EAN2(data, options) {
			_classCallCheck(this, EAN2);

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.structure = ["LL", "LG", "GL", "GG"];
			return _this;
		}

		EAN2.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{2}$/) !== -1;
		};

		EAN2.prototype.encode = function encode() {
			var encoder = new _ean_encoder2.default();

			// Choose the structure based on the number mod 4
			var structure = this.structure[parseInt(this.data) % 4];

			// Start bits
			var result = "1011";

			// Encode the two digits with 01 in between
			result += encoder.encode(this.data, structure, "01");

			return {
				data: result,
				text: this.text
			};
		};

		return EAN2;
	}(_Barcode3.default);

	exports.default = EAN2;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/ean_encoder.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	var EANencoder = function () {
		function EANencoder() {
			_classCallCheck(this, EANencoder);

			// Standard start end and middle bits
			this.startBin = "101";
			this.endBin = "101";
			this.middleBin = "01010";

			// The L (left) type of encoding
			this.Lbinary = ["0001101", "0011001", "0010011", "0111101", "0100011", "0110001", "0101111", "0111011", "0110111", "0001011"];

			// The G type of encoding
			this.Gbinary = ["0100111", "0110011", "0011011", "0100001", "0011101", "0111001", "0000101", "0010001", "0001001", "0010111"];

			// The R (right) type of encoding
			this.Rbinary = ["1110010", "1100110", "1101100", "1000010", "1011100", "1001110", "1010000", "1000100", "1001000", "1110100"];
		}

		// Convert a numberarray to the representing


		EANencoder.prototype.encode = function encode(number, structure, separator) {
			// Create the variable that should be returned at the end of the function
			var result = "";

			// Make sure that the separator is set
			separator = separator || "";

			// Loop all the numbers
			for (var i = 0; i < number.length; i++) {
				// Using the L, G or R encoding and add it to the returning variable
				if (structure[i] == "L") {
					result += this.Lbinary[number[i]];
				} else if (structure[i] == "G") {
					result += this.Gbinary[number[i]];
				} else if (structure[i] == "R") {
					result += this.Rbinary[number[i]];
				}

				// Add separator in between encodings
				if (i < number.length - 1) {
					result += separator;
				}
			}
			return result;
		};

		return EANencoder;
	}();

	exports.default = EANencoder;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/UPC.js", ["./ean_encoder.js", "../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _ean_encoder = $__require("./ean_encoder.js");

	var _ean_encoder2 = _interopRequireDefault(_ean_encoder);

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation:
	// https://en.wikipedia.org/wiki/Universal_Product_Code#Encoding

	var UPC = function (_Barcode) {
		_inherits(UPC, _Barcode);

		function UPC(data, options) {
			_classCallCheck(this, UPC);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{11}$/) !== -1) {
				data += checksum(data);
			}

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.displayValue = options.displayValue;

			// Make sure the font is not bigger than the space between the guard bars
			if (options.fontSize > options.width * 10) {
				_this.fontSize = options.width * 10;
			} else {
				_this.fontSize = options.fontSize;
			}

			// Make the guard bars go down half the way of the text
			_this.guardHeight = options.height + _this.fontSize / 2 + options.textMargin;
			return _this;
		}

		UPC.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{12}$/) !== -1 && this.data[11] == checksum(this.data);
		};

		UPC.prototype.encode = function encode() {
			if (this.options.flat) {
				return this.flatEncoding();
			} else {
				return this.guardedEncoding();
			}
		};

		UPC.prototype.flatEncoding = function flatEncoding() {
			var encoder = new _ean_encoder2.default();
			var result = "";

			result += "101";
			result += encoder.encode(this.data.substr(0, 6), "LLLLLL");
			result += "01010";
			result += encoder.encode(this.data.substr(6, 6), "RRRRRR");
			result += "101";

			return {
				data: result,
				text: this.text
			};
		};

		UPC.prototype.guardedEncoding = function guardedEncoding() {
			var encoder = new _ean_encoder2.default();
			var result = [];

			// Add the first digigt
			if (this.displayValue) {
				result.push({
					data: "00000000",
					text: this.text.substr(0, 1),
					options: { textAlign: "left", fontSize: this.fontSize }
				});
			}

			// Add the guard bars
			result.push({
				data: "101" + encoder.encode(this.data[0], "L"),
				options: { height: this.guardHeight }
			});

			// Add the left side
			result.push({
				data: encoder.encode(this.data.substr(1, 5), "LLLLL"),
				text: this.text.substr(1, 5),
				options: { fontSize: this.fontSize }
			});

			// Add the middle bits
			result.push({
				data: "01010",
				options: { height: this.guardHeight }
			});

			// Add the right side
			result.push({
				data: encoder.encode(this.data.substr(6, 5), "RRRRR"),
				text: this.text.substr(6, 5),
				options: { fontSize: this.fontSize }
			});

			// Add the end bits
			result.push({
				data: encoder.encode(this.data[11], "R") + "101",
				options: { height: this.guardHeight }
			});

			// Add the last digit
			if (this.displayValue) {
				result.push({
					data: "00000000",
					text: this.text.substr(11, 1),
					options: { textAlign: "right", fontSize: this.fontSize }
				});
			}

			return result;
		};

		return UPC;
	}(_Barcode3.default);

	// Calulate the checksum digit
	// https://en.wikipedia.org/wiki/International_Article_Number_(EAN)#Calculation_of_checksum_digit


	function checksum(number) {
		var result = 0;

		var i;
		for (i = 1; i < 11; i += 2) {
			result += parseInt(number[i]);
		}
		for (i = 0; i < 11; i += 2) {
			result += parseInt(number[i]) * 3;
		}

		return (10 - result % 10) % 10;
	}

	exports.default = UPC;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/EAN_UPC/index.js', ['./EAN13.js', './EAN8.js', './EAN5.js', './EAN2.js', './UPC.js', 'process'], true, function ($__require, exports, module) {
  'use strict';

  var process = $__require('process');
  var define,
      global = this || self,
      GLOBAL = global;
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.UPC = exports.EAN2 = exports.EAN5 = exports.EAN8 = exports.EAN13 = undefined;

  var _EAN = $__require('./EAN13.js');

  var _EAN2 = _interopRequireDefault(_EAN);

  var _EAN3 = $__require('./EAN8.js');

  var _EAN4 = _interopRequireDefault(_EAN3);

  var _EAN5 = $__require('./EAN5.js');

  var _EAN6 = _interopRequireDefault(_EAN5);

  var _EAN7 = $__require('./EAN2.js');

  var _EAN8 = _interopRequireDefault(_EAN7);

  var _UPC = $__require('./UPC.js');

  var _UPC2 = _interopRequireDefault(_UPC);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
  }

  exports.EAN13 = _EAN2.default;
  exports.EAN8 = _EAN4.default;
  exports.EAN5 = _EAN6.default;
  exports.EAN2 = _EAN8.default;
  exports.UPC = _UPC2.default;
  return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/ITF14/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.ITF14 = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var ITF14 = function (_Barcode) {
		_inherits(ITF14, _Barcode);

		function ITF14(data, options) {
			_classCallCheck(this, ITF14);

			// Add checksum if it does not exist
			if (data.search(/^[0-9]{13}$/) !== -1) {
				data += checksum(data);
			}

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.binaryRepresentation = {
				"0": "00110",
				"1": "10001",
				"2": "01001",
				"3": "11000",
				"4": "00101",
				"5": "10100",
				"6": "01100",
				"7": "00011",
				"8": "10010",
				"9": "01010"
			};
			return _this;
		}

		ITF14.prototype.valid = function valid() {
			return this.data.search(/^[0-9]{14}$/) !== -1 && this.data[13] == checksum(this.data);
		};

		ITF14.prototype.encode = function encode() {
			var result = "1010";

			// Calculate all the digit pairs
			for (var i = 0; i < 14; i += 2) {
				result += this.calculatePair(this.data.substr(i, 2));
			}

			// Always add the same end bits
			result += "11101";

			return {
				data: result,
				text: this.text
			};
		};

		// Calculate the data of a number pair


		ITF14.prototype.calculatePair = function calculatePair(numberPair) {
			var result = "";

			var number1Struct = this.binaryRepresentation[numberPair[0]];
			var number2Struct = this.binaryRepresentation[numberPair[1]];

			// Take every second bit and add to the result
			for (var i = 0; i < 5; i++) {
				result += number1Struct[i] == "1" ? "111" : "1";
				result += number2Struct[i] == "1" ? "000" : "0";
			}

			return result;
		};

		return ITF14;
	}(_Barcode3.default);

	// Calulate the checksum digit


	function checksum(data) {
		var result = 0;

		for (var i = 0; i < 13; i++) {
			result += parseInt(data[i]) * (3 - i % 2 * 2);
		}

		return Math.ceil(result / 10) * 10 - result;
	}

	exports.ITF14 = ITF14;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/ITF/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.ITF = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var ITF = function (_Barcode) {
		_inherits(ITF, _Barcode);

		function ITF(data, options) {
			_classCallCheck(this, ITF);

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.binaryRepresentation = {
				"0": "00110",
				"1": "10001",
				"2": "01001",
				"3": "11000",
				"4": "00101",
				"5": "10100",
				"6": "01100",
				"7": "00011",
				"8": "10010",
				"9": "01010"
			};
			return _this;
		}

		ITF.prototype.valid = function valid() {
			return this.data.search(/^([0-9]{2})+$/) !== -1;
		};

		ITF.prototype.encode = function encode() {
			// Always add the same start bits
			var result = "1010";

			// Calculate all the digit pairs
			for (var i = 0; i < this.data.length; i += 2) {
				result += this.calculatePair(this.data.substr(i, 2));
			}

			// Always add the same end bits
			result += "11101";

			return {
				data: result,
				text: this.text
			};
		};

		// Calculate the data of a number pair


		ITF.prototype.calculatePair = function calculatePair(numberPair) {
			var result = "";

			var number1Struct = this.binaryRepresentation[numberPair[0]];
			var number2Struct = this.binaryRepresentation[numberPair[1]];

			// Take every second bit and add to the result
			for (var i = 0; i < 5; i++) {
				result += number1Struct[i] == "1" ? "111" : "1";
				result += number2Struct[i] == "1" ? "000" : "0";
			}

			return result;
		};

		return ITF;
	}(_Barcode3.default);

	exports.ITF = ITF;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/MSI/MSI10.js', ['./MSI.js', './checksums.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _MSI2 = $__require('./MSI.js');

	var _MSI3 = _interopRequireDefault(_MSI2);

	var _checksums = $__require('./checksums.js');

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var MSI10 = function (_MSI) {
		_inherits(MSI10, _MSI);

		function MSI10(data, options) {
			_classCallCheck(this, MSI10);

			return _possibleConstructorReturn(this, _MSI.call(this, data + (0, _checksums.mod10)(data), options));
		}

		return MSI10;
	}(_MSI3.default);

	exports.default = MSI10;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/MSI/MSI11.js', ['./MSI.js', './checksums.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _MSI2 = $__require('./MSI.js');

	var _MSI3 = _interopRequireDefault(_MSI2);

	var _checksums = $__require('./checksums.js');

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var MSI11 = function (_MSI) {
		_inherits(MSI11, _MSI);

		function MSI11(data, options) {
			_classCallCheck(this, MSI11);

			return _possibleConstructorReturn(this, _MSI.call(this, data + (0, _checksums.mod11)(data), options));
		}

		return MSI11;
	}(_MSI3.default);

	exports.default = MSI11;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/MSI/MSI1010.js', ['./MSI.js', './checksums.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _MSI2 = $__require('./MSI.js');

	var _MSI3 = _interopRequireDefault(_MSI2);

	var _checksums = $__require('./checksums.js');

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var MSI1010 = function (_MSI) {
		_inherits(MSI1010, _MSI);

		function MSI1010(data, options) {
			_classCallCheck(this, MSI1010);

			data += (0, _checksums.mod10)(data);
			data += (0, _checksums.mod10)(data);
			return _possibleConstructorReturn(this, _MSI.call(this, data, options));
		}

		return MSI1010;
	}(_MSI3.default);

	exports.default = MSI1010;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/MSI/MSI.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation
	// https://en.wikipedia.org/wiki/MSI_Barcode#Character_set_and_binary_lookup

	var MSI = function (_Barcode) {
		_inherits(MSI, _Barcode);

		function MSI(data, options) {
			_classCallCheck(this, MSI);

			return _possibleConstructorReturn(this, _Barcode.call(this, data, options));
		}

		MSI.prototype.encode = function encode() {
			// Start bits
			var ret = "110";

			for (var i = 0; i < this.data.length; i++) {
				// Convert the character to binary (always 4 binary digits)
				var digit = parseInt(this.data[i]);
				var bin = digit.toString(2);
				bin = addZeroes(bin, 4 - bin.length);

				// Add 100 for every zero and 110 for every 1
				for (var b = 0; b < bin.length; b++) {
					ret += bin[b] == "0" ? "100" : "110";
				}
			}

			// End bits
			ret += "1001";

			return {
				data: ret,
				text: this.text
			};
		};

		MSI.prototype.valid = function valid() {
			return this.data.search(/^[0-9]+$/) !== -1;
		};

		return MSI;
	}(_Barcode3.default);

	function addZeroes(number, n) {
		for (var i = 0; i < n; i++) {
			number = "0" + number;
		}
		return number;
	}

	exports.default = MSI;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/MSI/checksums.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.mod10 = mod10;
	exports.mod11 = mod11;
	function mod10(number) {
		var sum = 0;
		for (var i = 0; i < number.length; i++) {
			var n = parseInt(number[i]);
			if ((i + number.length) % 2 === 0) {
				sum += n;
			} else {
				sum += n * 2 % 10 + Math.floor(n * 2 / 10);
			}
		}
		return (10 - sum % 10) % 10;
	}

	function mod11(number) {
		var sum = 0;
		var weights = [2, 3, 4, 5, 6, 7];
		for (var i = 0; i < number.length; i++) {
			var n = parseInt(number[number.length - 1 - i]);
			sum += weights[i % weights.length] * n;
		}
		return (11 - sum % 11) % 11;
	}
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/MSI/MSI1110.js', ['./MSI.js', './checksums.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _MSI2 = $__require('./MSI.js');

	var _MSI3 = _interopRequireDefault(_MSI2);

	var _checksums = $__require('./checksums.js');

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var MSI1110 = function (_MSI) {
		_inherits(MSI1110, _MSI);

		function MSI1110(data, options) {
			_classCallCheck(this, MSI1110);

			data += (0, _checksums.mod11)(data);
			data += (0, _checksums.mod10)(data);
			return _possibleConstructorReturn(this, _MSI.call(this, data, options));
		}

		return MSI1110;
	}(_MSI3.default);

	exports.default = MSI1110;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/MSI/index.js', ['./MSI.js', './MSI10.js', './MSI11.js', './MSI1010.js', './MSI1110.js', 'process'], true, function ($__require, exports, module) {
  'use strict';

  var process = $__require('process');
  var define,
      global = this || self,
      GLOBAL = global;
  Object.defineProperty(exports, "__esModule", {
    value: true
  });
  exports.MSI1110 = exports.MSI1010 = exports.MSI11 = exports.MSI10 = exports.MSI = undefined;

  var _MSI = $__require('./MSI.js');

  var _MSI2 = _interopRequireDefault(_MSI);

  var _MSI3 = $__require('./MSI10.js');

  var _MSI4 = _interopRequireDefault(_MSI3);

  var _MSI5 = $__require('./MSI11.js');

  var _MSI6 = _interopRequireDefault(_MSI5);

  var _MSI7 = $__require('./MSI1010.js');

  var _MSI8 = _interopRequireDefault(_MSI7);

  var _MSI9 = $__require('./MSI1110.js');

  var _MSI10 = _interopRequireDefault(_MSI9);

  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
  }

  exports.MSI = _MSI2.default;
  exports.MSI10 = _MSI4.default;
  exports.MSI11 = _MSI6.default;
  exports.MSI1010 = _MSI8.default;
  exports.MSI1110 = _MSI10.default;
  return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/pharmacode/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.pharmacode = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding documentation
	// http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf

	var pharmacode = function (_Barcode) {
		_inherits(pharmacode, _Barcode);

		function pharmacode(data, options) {
			_classCallCheck(this, pharmacode);

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data, options));

			_this.number = parseInt(data, 10);
			return _this;
		}

		pharmacode.prototype.encode = function encode() {
			var z = this.number;
			var result = "";

			// http://i.imgur.com/RMm4UDJ.png
			// (source: http://www.gomaro.ch/ftproot/Laetus_PHARMA-CODE.pdf, page: 34)
			while (!isNaN(z) && z != 0) {
				if (z % 2 === 0) {
					// Even
					result = "11100" + result;
					z = (z - 2) / 2;
				} else {
					// Odd
					result = "100" + result;
					z = (z - 1) / 2;
				}
			}

			// Remove the two last zeroes
			result = result.slice(0, -2);

			return {
				data: result,
				text: this.text
			};
		};

		pharmacode.prototype.valid = function valid() {
			return this.number >= 3 && this.number <= 131070;
		};

		return pharmacode;
	}(_Barcode3.default);

	exports.pharmacode = pharmacode;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/codabar/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.codabar = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	} // Encoding specification:
	// http://www.barcodeisland.com/codabar.phtml

	var codabar = function (_Barcode) {
		_inherits(codabar, _Barcode);

		function codabar(data, options) {
			_classCallCheck(this, codabar);

			if (data.search(/^[0-9\-\$\:\.\+\/]+$/) === 0) {
				data = "A" + data + "A";
			}

			var _this = _possibleConstructorReturn(this, _Barcode.call(this, data.toUpperCase(), options));

			_this.text = _this.options.text || _this.text.replace(/[A-D]/g, '');
			return _this;
		}

		codabar.prototype.valid = function valid() {
			return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/) !== -1;
		};

		codabar.prototype.encode = function encode() {
			var result = [];
			var encodings = this.getEncodings();
			for (var i = 0; i < this.data.length; i++) {
				result.push(encodings[this.data.charAt(i)]);
				// for all characters except the last, append a narrow-space ("0")
				if (i !== this.data.length - 1) {
					result.push("0");
				}
			}
			return {
				text: this.text,
				data: result.join('')
			};
		};

		codabar.prototype.getEncodings = function getEncodings() {
			return {
				"0": "101010011",
				"1": "101011001",
				"2": "101001011",
				"3": "110010101",
				"4": "101101001",
				"5": "110101001",
				"6": "100101011",
				"7": "100101101",
				"8": "100110101",
				"9": "110100101",
				"-": "101001101",
				"$": "101100101",
				":": "1101011011",
				"/": "1101101011",
				".": "1101101101",
				"+": "101100110011",
				"A": "1011001001",
				"B": "1010010011",
				"C": "1001001011",
				"D": "1010011001"
			};
		};

		return codabar;
	}(_Barcode3.default);

	exports.codabar = codabar;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/Barcode.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	var Barcode = function Barcode(data, options) {
		_classCallCheck(this, Barcode);

		this.data = data;
		this.text = options.text || data;
		this.options = options;
	};

	exports.default = Barcode;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/barcodes/GenericBarcode/index.js", ["../Barcode.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.GenericBarcode = undefined;

	var _Barcode2 = $__require("../Barcode.js");

	var _Barcode3 = _interopRequireDefault(_Barcode2);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var GenericBarcode = function (_Barcode) {
		_inherits(GenericBarcode, _Barcode);

		function GenericBarcode(data, options) {
			_classCallCheck(this, GenericBarcode);

			return _possibleConstructorReturn(this, _Barcode.call(this, data, options)); // Sets this.data and this.text
		}

		// Return the corresponding binary numbers for the data provided


		GenericBarcode.prototype.encode = function encode() {
			return {
				data: "10101010101010101010101010101010101010101",
				text: this.text
			};
		};

		// Resturn true/false if the string provided is valid for this encoder


		GenericBarcode.prototype.valid = function valid() {
			return true;
		};

		return GenericBarcode;
	}(_Barcode3.default);

	exports.GenericBarcode = GenericBarcode;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/barcodes/index.js', ['./CODE39', './CODE128', './EAN_UPC', './ITF14', './ITF', './MSI', './pharmacode', './codabar', './GenericBarcode', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _CODE = $__require('./CODE39');

	var _CODE2 = $__require('./CODE128');

	var _EAN_UPC = $__require('./EAN_UPC');

	var _ITF = $__require('./ITF14');

	var _ITF2 = $__require('./ITF');

	var _MSI = $__require('./MSI');

	var _pharmacode = $__require('./pharmacode');

	var _codabar = $__require('./codabar');

	var _GenericBarcode = $__require('./GenericBarcode');

	exports.default = {
		CODE39: _CODE.CODE39,
		CODE128: _CODE2.CODE128, CODE128A: _CODE2.CODE128A, CODE128B: _CODE2.CODE128B, CODE128C: _CODE2.CODE128C,
		EAN13: _EAN_UPC.EAN13, EAN8: _EAN_UPC.EAN8, EAN5: _EAN_UPC.EAN5, EAN2: _EAN_UPC.EAN2, UPC: _EAN_UPC.UPC,
		ITF14: _ITF.ITF14,
		ITF: _ITF2.ITF,
		MSI: _MSI.MSI, MSI10: _MSI.MSI10, MSI11: _MSI.MSI11, MSI1010: _MSI.MSI1010, MSI1110: _MSI.MSI1110,
		pharmacode: _pharmacode.pharmacode,
		codabar: _codabar.codabar,
		GenericBarcode: _GenericBarcode.GenericBarcode
	};
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/linearizeEncodings.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = linearizeEncodings;

	// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]
	// Convert to [1-1, 1-2, 2, 3-1, 3-2]

	function linearizeEncodings(encodings) {
		var linearEncodings = [];
		function nextLevel(encoded) {
			if (Array.isArray(encoded)) {
				for (var i = 0; i < encoded.length; i++) {
					nextLevel(encoded[i]);
				}
			} else {
				encoded.text = encoded.text || "";
				encoded.data = encoded.data || "";
				linearEncodings.push(encoded);
			}
		}
		nextLevel(encodings);

		return linearEncodings;
	}
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/fixOptions.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = fixOptions;

	function fixOptions(options) {
		// Fix the margins
		options.marginTop = options.marginTop || options.margin;
		options.marginBottom = options.marginBottom || options.margin;
		options.marginRight = options.marginRight || options.margin;
		options.marginLeft = options.marginLeft || options.margin;

		return options;
	}
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/getOptionsFromElement.js", ["./optionsFromStrings.js", "../options/defaults.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _optionsFromStrings = $__require("./optionsFromStrings.js");

	var _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);

	var _defaults = $__require("../options/defaults.js");

	var _defaults2 = _interopRequireDefault(_defaults);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function getOptionsFromElement(element) {
		var options = {};
		for (var property in _defaults2.default) {
			if (_defaults2.default.hasOwnProperty(property)) {
				// jsbarcode-*
				if (element.hasAttribute("jsbarcode-" + property.toLowerCase())) {
					options[property] = element.getAttribute("jsbarcode-" + property.toLowerCase());
				}

				// data-*
				if (element.hasAttribute("data-" + property.toLowerCase())) {
					options[property] = element.getAttribute("data-" + property.toLowerCase());
				}
			}
		}

		options["value"] = element.getAttribute("jsbarcode-value") || element.getAttribute("data-value");

		// Since all atributes are string they need to be converted to integers
		options = (0, _optionsFromStrings2.default)(options);

		return options;
	}

	exports.default = getOptionsFromElement;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/renderers/canvas.js", ["../help/merge.js", "./shared.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _merge = $__require("../help/merge.js");

	var _merge2 = _interopRequireDefault(_merge);

	var _shared = $__require("./shared.js");

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	var CanvasRenderer = function () {
		function CanvasRenderer(canvas, encodings, options) {
			_classCallCheck(this, CanvasRenderer);

			this.canvas = canvas;
			this.encodings = encodings;
			this.options = options;
		}

		CanvasRenderer.prototype.render = function render() {
			// Abort if the browser does not support HTML5 canvas
			if (!this.canvas.getContext) {
				throw new Error('The browser does not support canvas.');
			}

			this.prepareCanvas();
			for (var i = 0; i < this.encodings.length; i++) {
				var encodingOptions = (0, _merge2.default)(this.options, this.encodings[i].options);

				this.drawCanvasBarcode(encodingOptions, this.encodings[i]);
				this.drawCanvasText(encodingOptions, this.encodings[i]);

				this.moveCanvasDrawing(this.encodings[i]);
			}

			this.restoreCanvas();
		};

		CanvasRenderer.prototype.prepareCanvas = function prepareCanvas() {
			// Get the canvas context
			var ctx = this.canvas.getContext("2d");

			ctx.save();

			(0, _shared.calculateEncodingAttributes)(this.encodings, this.options, ctx);
			var totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);
			var maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);

			this.canvas.width = totalWidth + this.options.marginLeft + this.options.marginRight;

			this.canvas.height = maxHeight;

			// Paint the canvas
			ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
			if (this.options.background) {
				ctx.fillStyle = this.options.background;
				ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
			}

			ctx.translate(this.options.marginLeft, 0);
		};

		CanvasRenderer.prototype.drawCanvasBarcode = function drawCanvasBarcode(options, encoding) {
			// Get the canvas context
			var ctx = this.canvas.getContext("2d");

			var binary = encoding.data;

			// Creates the barcode out of the encoded binary
			var yFrom;
			if (options.textPosition == "top") {
				yFrom = options.marginTop + options.fontSize + options.textMargin;
			} else {
				yFrom = options.marginTop;
			}

			ctx.fillStyle = options.lineColor;

			for (var b = 0; b < binary.length; b++) {
				var x = b * options.width + encoding.barcodePadding;

				if (binary[b] === "1") {
					ctx.fillRect(x, yFrom, options.width, options.height);
				} else if (binary[b]) {
					ctx.fillRect(x, yFrom, options.width, options.height * binary[b]);
				}
			}
		};

		CanvasRenderer.prototype.drawCanvasText = function drawCanvasText(options, encoding) {
			// Get the canvas context
			var ctx = this.canvas.getContext("2d");

			var font = options.fontOptions + " " + options.fontSize + "px " + options.font;

			// Draw the text if displayValue is set
			if (options.displayValue) {
				var x, y;

				if (options.textPosition == "top") {
					y = options.marginTop + options.fontSize - options.textMargin;
				} else {
					y = options.height + options.textMargin + options.marginTop + options.fontSize;
				}

				ctx.font = font;

				// Draw the text in the correct X depending on the textAlign option
				if (options.textAlign == "left" || encoding.barcodePadding > 0) {
					x = 0;
					ctx.textAlign = 'left';
				} else if (options.textAlign == "right") {
					x = encoding.width - 1;
					ctx.textAlign = 'right';
				}
				// In all other cases, center the text
				else {
						x = encoding.width / 2;
						ctx.textAlign = 'center';
					}

				ctx.fillText(encoding.text, x, y);
			}
		};

		CanvasRenderer.prototype.moveCanvasDrawing = function moveCanvasDrawing(encoding) {
			var ctx = this.canvas.getContext("2d");

			ctx.translate(encoding.width, 0);
		};

		CanvasRenderer.prototype.restoreCanvas = function restoreCanvas() {
			// Get the canvas context
			var ctx = this.canvas.getContext("2d");

			ctx.restore();
		};

		return CanvasRenderer;
	}();

	exports.default = CanvasRenderer;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/merge.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = merge;

	function merge(old, replaceObj) {
		var newMerge = {};
		var k;
		for (k in old) {
			if (old.hasOwnProperty(k)) {
				newMerge[k] = old[k];
			}
		}
		for (k in replaceObj) {
			if (replaceObj.hasOwnProperty(k) && typeof replaceObj[k] !== "undefined") {
				newMerge[k] = replaceObj[k];
			}
		}
		return newMerge;
	}
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/renderers/shared.js", ["../help/merge.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.getTotalWidthOfEncodings = exports.calculateEncodingAttributes = exports.getBarcodePadding = exports.getEncodingHeight = exports.getMaximumHeightOfEncodings = undefined;

	var _merge = $__require("../help/merge.js");

	var _merge2 = _interopRequireDefault(_merge);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function getEncodingHeight(encoding, options) {
		return options.height + (options.displayValue && encoding.text.length > 0 ? options.fontSize + options.textMargin : 0) + options.marginTop + options.marginBottom;
	}

	function getBarcodePadding(textWidth, barcodeWidth, options) {
		if (options.displayValue && barcodeWidth < textWidth) {
			if (options.textAlign == "center") {
				return Math.floor((textWidth - barcodeWidth) / 2);
			} else if (options.textAlign == "left") {
				return 0;
			} else if (options.textAlign == "right") {
				return Math.floor(textWidth - barcodeWidth);
			}
		}
		return 0;
	}

	function calculateEncodingAttributes(encodings, barcodeOptions, context) {
		for (var i = 0; i < encodings.length; i++) {
			var encoding = encodings[i];
			var options = (0, _merge2.default)(barcodeOptions, encoding.options);

			// Calculate the width of the encoding
			var textWidth = messureText(encoding.text, options, context);
			var barcodeWidth = encoding.data.length * options.width;
			encoding.width = Math.ceil(Math.max(textWidth, barcodeWidth));

			encoding.height = getEncodingHeight(encoding, options);

			encoding.barcodePadding = getBarcodePadding(textWidth, barcodeWidth, options);
		}
	}

	function getTotalWidthOfEncodings(encodings) {
		var totalWidth = 0;
		for (var i = 0; i < encodings.length; i++) {
			totalWidth += encodings[i].width;
		}
		return totalWidth;
	}

	function getMaximumHeightOfEncodings(encodings) {
		var maxHeight = 0;
		for (var i = 0; i < encodings.length; i++) {
			if (encodings[i].height > maxHeight) {
				maxHeight = encodings[i].height;
			}
		}
		return maxHeight;
	}

	function messureText(string, options, context) {
		var ctx;
		if (typeof context === "undefined") {
			ctx = document.createElement("canvas").getContext("2d");
		} else {
			ctx = context;
		}

		ctx.font = options.fontOptions + " " + options.fontSize + "px " + options.font;

		// Calculate the width of the encoding
		var size = ctx.measureText(string).width;

		return size;
	}

	exports.getMaximumHeightOfEncodings = getMaximumHeightOfEncodings;
	exports.getEncodingHeight = getEncodingHeight;
	exports.getBarcodePadding = getBarcodePadding;
	exports.calculateEncodingAttributes = calculateEncodingAttributes;
	exports.getTotalWidthOfEncodings = getTotalWidthOfEncodings;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/renderers/svg.js", ["../help/merge.js", "./shared.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _merge = $__require("../help/merge.js");

	var _merge2 = _interopRequireDefault(_merge);

	var _shared = $__require("./shared.js");

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	var svgns = "http://www.w3.org/2000/svg";

	var SVGRenderer = function () {
		function SVGRenderer(svg, encodings, options) {
			_classCallCheck(this, SVGRenderer);

			this.svg = svg;
			this.encodings = encodings;
			this.options = options;
		}

		SVGRenderer.prototype.render = function render() {
			var currentX = this.options.marginLeft;

			this.prepareSVG();
			for (var i = 0; i < this.encodings.length; i++) {
				var encoding = this.encodings[i];
				var encodingOptions = (0, _merge2.default)(this.options, encoding.options);

				var group = createGroup(currentX, encodingOptions.marginTop, this.svg);

				setGroupOptions(group, encodingOptions);

				this.drawSvgBarcode(group, encodingOptions, encoding);
				this.drawSVGText(group, encodingOptions, encoding);

				currentX += encoding.width;
			}
		};

		SVGRenderer.prototype.prepareSVG = function prepareSVG() {
			// Clear the SVG
			while (this.svg.firstChild) {
				this.svg.removeChild(this.svg.firstChild);
			}

			(0, _shared.calculateEncodingAttributes)(this.encodings, this.options);
			var totalWidth = (0, _shared.getTotalWidthOfEncodings)(this.encodings);
			var maxHeight = (0, _shared.getMaximumHeightOfEncodings)(this.encodings);

			var width = totalWidth + this.options.marginLeft + this.options.marginRight;
			this.setSvgAttributes(width, maxHeight);

			if (this.options.background) {
				drawRect(0, 0, width, maxHeight, this.svg).setAttribute("style", "fill:" + this.options.background + ";");
			}
		};

		SVGRenderer.prototype.drawSvgBarcode = function drawSvgBarcode(parent, options, encoding) {
			var binary = encoding.data;

			// Creates the barcode out of the encoded binary
			var yFrom;
			if (options.textPosition == "top") {
				yFrom = options.fontSize + options.textMargin;
			} else {
				yFrom = 0;
			}

			var barWidth = 0;
			var x = 0;
			for (var b = 0; b < binary.length; b++) {
				x = b * options.width + encoding.barcodePadding;

				if (binary[b] === "1") {
					barWidth++;
				} else if (barWidth > 0) {
					drawRect(x - options.width * barWidth, yFrom, options.width * barWidth, options.height, parent);
					barWidth = 0;
				}
			}

			// Last draw is needed since the barcode ends with 1
			if (barWidth > 0) {
				drawRect(x - options.width * (barWidth - 1), yFrom, options.width * barWidth, options.height, parent);
			}
		};

		SVGRenderer.prototype.drawSVGText = function drawSVGText(parent, options, encoding) {
			var textElem = document.createElementNS(svgns, 'text');

			// Draw the text if displayValue is set
			if (options.displayValue) {
				var x, y;

				textElem.setAttribute("style", "font:" + options.fontOptions + " " + options.fontSize + "px " + options.font);

				if (options.textPosition == "top") {
					y = options.fontSize - options.textMargin;
				} else {
					y = options.height + options.textMargin + options.fontSize;
				}

				// Draw the text in the correct X depending on the textAlign option
				if (options.textAlign == "left" || encoding.barcodePadding > 0) {
					x = 0;
					textElem.setAttribute("text-anchor", "start");
				} else if (options.textAlign == "right") {
					x = encoding.width - 1;
					textElem.setAttribute("text-anchor", "end");
				}
				// In all other cases, center the text
				else {
						x = encoding.width / 2;
						textElem.setAttribute("text-anchor", "middle");
					}

				textElem.setAttribute("x", x);
				textElem.setAttribute("y", y);

				textElem.appendChild(document.createTextNode(encoding.text));

				parent.appendChild(textElem);
			}
		};

		SVGRenderer.prototype.setSvgAttributes = function setSvgAttributes(width, height) {
			var svg = this.svg;
			svg.setAttribute("width", width + "px");
			svg.setAttribute("height", height + "px");
			svg.setAttribute("x", "0px");
			svg.setAttribute("y", "0px");
			svg.setAttribute("viewBox", "0 0 " + width + " " + height);

			svg.setAttribute("xmlns", svgns);
			svg.setAttribute("version", "1.1");

			svg.style.transform = "translate(0,0)";
		};

		return SVGRenderer;
	}();

	function createGroup(x, y, parent) {
		var group = document.createElementNS(svgns, 'g');

		group.setAttribute("transform", "translate(" + x + ", " + y + ")");

		parent.appendChild(group);

		return group;
	}

	function setGroupOptions(group, options) {
		group.setAttribute("style", "fill:" + options.lineColor + ";");
	}

	function drawRect(x, y, width, height, parent) {
		var rect = document.createElementNS(svgns, 'rect');

		rect.setAttribute("x", x);
		rect.setAttribute("y", y);
		rect.setAttribute("width", width);
		rect.setAttribute("height", height);

		parent.appendChild(rect);

		return rect;
	}

	exports.default = SVGRenderer;
	return module.exports;
});
System.registerDynamic('npm:jsbarcode@3.5.7/bin/renderers/index.js', ['./canvas.js', './svg.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.getRendererClass = undefined;

	var _canvas = $__require('./canvas.js');

	var _canvas2 = _interopRequireDefault(_canvas);

	var _svg = $__require('./svg.js');

	var _svg2 = _interopRequireDefault(_svg);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	function getRendererClass(name) {
		switch (name) {
			case "canvas":
				return _canvas2.default;
			case "svg":
				return _svg2.default;
			default:
				throw new Error("Invalid rederer");
		}
	}

	exports.getRendererClass = getRendererClass;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/getRenderProperties.js", ["./getOptionsFromElement.js", "../renderers", "../exceptions/exceptions.js", "process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	var _getOptionsFromElement = $__require("./getOptionsFromElement.js");

	var _getOptionsFromElement2 = _interopRequireDefault(_getOptionsFromElement);

	var _renderers = $__require("../renderers");

	var _exceptions = $__require("../exceptions/exceptions.js");

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	// Takes an element and returns an object with information about how
	// it should be rendered
	// This could also return an array with these objects
	// {
	//   element: The element that the renderer should draw on
	//   renderer: The name of the renderer
	//   afterRender (optional): If something has to done after the renderer
	//     completed, calls afterRender (function)
	//   options (optional): Options that can be defined in the element
	// }

	function getRenderProperties(element) {
		// If the element is a string, query select call again
		if (typeof element === "string") {
			return querySelectedRenderProperties(element);
		}
		// If element is array. Recursivly call with every object in the array
		else if (Array.isArray(element)) {
				var returnArray = [];
				for (var i = 0; i < element.length; i++) {
					returnArray.push(getRenderProperties(element[i]));
				}
				return returnArray;
			}
			// If element, render on canvas and set the uri as src
			else if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLImageElement) {
					return newCanvasRenderProperties(element);
				}
				// If SVG
				else if (typeof SVGElement !== 'undefined' && element instanceof SVGElement) {
						return {
							element: element,
							options: (0, _getOptionsFromElement2.default)(element),
							renderer: (0, _renderers.getRendererClass)("svg")
						};
					}
					// If canvas (in browser)
					else if (typeof HTMLCanvasElement !== 'undefined' && element instanceof HTMLCanvasElement) {
							return {
								element: element,
								options: (0, _getOptionsFromElement2.default)(element),
								renderer: (0, _renderers.getRendererClass)("canvas")
							};
						}
						// If canvas (in node)
						else if (element.getContext) {
								return {
									element: element,
									renderer: (0, _renderers.getRendererClass)("canvas")
								};
							} else {
								throw new _exceptions.InvalidElementException();
							}
	} /* global HTMLImageElement */
	/* global HTMLCanvasElement */
	/* global SVGElement */

	function querySelectedRenderProperties(string) {
		var selector = document.querySelectorAll(string);
		if (selector.length === 0) {
			return undefined;
		} else {
			var returnArray = [];
			for (var i = 0; i < selector.length; i++) {
				returnArray.push(getRenderProperties(selector[i]));
			}
			return returnArray;
		}
	}

	function newCanvasRenderProperties(imgElement) {
		var canvas = document.createElement('canvas');
		return {
			element: canvas,
			options: (0, _getOptionsFromElement2.default)(imgElement),
			renderer: (0, _renderers.getRendererClass)("canvas"),
			afterRender: function afterRender() {
				imgElement.setAttribute("src", canvas.toDataURL());
			}
		};
	}

	exports.default = getRenderProperties;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/help/optionsFromStrings.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	exports.default = optionsFromStrings;

	// Convert string to integers/booleans where it should be

	function optionsFromStrings(options) {
		var intOptions = ["width", "height", "textMargin", "fontSize", "margin", "marginTop", "marginBottom", "marginLeft", "marginRight"];

		for (var intOption in intOptions) {
			if (intOptions.hasOwnProperty(intOption)) {
				intOption = intOptions[intOption];
				if (typeof options[intOption] === "string") {
					options[intOption] = parseInt(options[intOption], 10);
				}
			}
		}

		if (typeof options["displayValue"] === "string") {
			options["displayValue"] = options["displayValue"] != "false";
		}

		return options;
	}
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/exceptions/ErrorHandler.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	/*eslint no-console: 0 */

	var ErrorHandler = function () {
		function ErrorHandler(api) {
			_classCallCheck(this, ErrorHandler);

			this.api = api;
		}

		ErrorHandler.prototype.handleCatch = function handleCatch(e) {
			// If babel supported extending of Error in a correct way instanceof would be used here
			if (e.name === "InvalidInputException") {
				if (this.api._options.valid !== this.api._defaults.valid) {
					this.api._options.valid(false);
				} else {
					throw e.message;
				}
			} else {
				throw e;
			}

			this.api.render = function () {};
		};

		ErrorHandler.prototype.wrapBarcodeCall = function wrapBarcodeCall(func) {
			try {
				var result = func.apply(undefined, arguments);
				this.api._options.valid(true);
				return result;
			} catch (e) {
				this.handleCatch(e);

				return this.api;
			}
		};

		return ErrorHandler;
	}();

	exports.default = ErrorHandler;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/exceptions/exceptions.js", ["process"], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	var InvalidInputException = function (_Error) {
		_inherits(InvalidInputException, _Error);

		function InvalidInputException(symbology, input) {
			_classCallCheck(this, InvalidInputException);

			var _this = _possibleConstructorReturn(this, _Error.call(this));

			_this.name = "InvalidInputException";

			_this.symbology = symbology;
			_this.input = input;

			_this.message = '"' + _this.input + '" is not a valid input for ' + _this.symbology;
			return _this;
		}

		return InvalidInputException;
	}(Error);

	var InvalidElementException = function (_Error2) {
		_inherits(InvalidElementException, _Error2);

		function InvalidElementException() {
			_classCallCheck(this, InvalidElementException);

			var _this2 = _possibleConstructorReturn(this, _Error2.call(this));

			_this2.name = "InvalidElementException";
			_this2.message = "Not supported type to render on";
			return _this2;
		}

		return InvalidElementException;
	}(Error);

	var NoElementException = function (_Error3) {
		_inherits(NoElementException, _Error3);

		function NoElementException() {
			_classCallCheck(this, NoElementException);

			var _this3 = _possibleConstructorReturn(this, _Error3.call(this));

			_this3.name = "NoElementException";
			_this3.message = "No element to render on.";
			return _this3;
		}

		return NoElementException;
	}(Error);

	exports.InvalidInputException = InvalidInputException;
	exports.InvalidElementException = InvalidElementException;
	exports.NoElementException = NoElementException;
	return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7/bin/options/defaults.js", ["process"], true, function ($__require, exports, module) {
	"use strict";

	var process = $__require("process");
	var define,
	    global = this || self,
	    GLOBAL = global;
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	var defaults = {
		width: 2,
		height: 100,
		format: "auto",
		displayValue: true,
		fontOptions: "",
		font: "monospace",
		text: undefined,
		textAlign: "center",
		textPosition: "bottom",
		textMargin: 2,
		fontSize: 20,
		background: "#ffffff",
		lineColor: "#000000",
		margin: 10,
		marginTop: undefined,
		marginBottom: undefined,
		marginLeft: undefined,
		marginRight: undefined,
		valid: function valid() {}
	};

	exports.default = defaults;
	return module.exports;
});
System.registerDynamic("npm:jspm-nodelibs-process@0.2.0.json", [], false, function() {
  return {
    "main": "./process.js"
  };
});

System.registerDynamic('npm:jspm-nodelibs-process@0.2.0/process.js', ['@system-env'], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    // From https://github.com/defunctzombie/node-process/blob/master/browser.js
    // shim for using process in browser

    var productionEnv = $__require('@system-env').production;

    var process = module.exports = {};
    var queue = [];
    var draining = false;
    var currentQueue;
    var queueIndex = -1;

    function cleanUpNextTick() {
        draining = false;
        if (currentQueue.length) {
            queue = currentQueue.concat(queue);
        } else {
            queueIndex = -1;
        }
        if (queue.length) {
            drainQueue();
        }
    }

    function drainQueue() {
        if (draining) {
            return;
        }
        var timeout = setTimeout(cleanUpNextTick);
        draining = true;

        var len = queue.length;
        while (len) {
            currentQueue = queue;
            queue = [];
            while (++queueIndex < len) {
                if (currentQueue) {
                    currentQueue[queueIndex].run();
                }
            }
            queueIndex = -1;
            len = queue.length;
        }
        currentQueue = null;
        draining = false;
        clearTimeout(timeout);
    }

    process.nextTick = function (fun) {
        var args = new Array(arguments.length - 1);
        if (arguments.length > 1) {
            for (var i = 1; i < arguments.length; i++) {
                args[i - 1] = arguments[i];
            }
        }
        queue.push(new Item(fun, args));
        if (queue.length === 1 && !draining) {
            setTimeout(drainQueue, 0);
        }
    };

    // v8 likes predictible objects
    function Item(fun, array) {
        this.fun = fun;
        this.array = array;
    }
    Item.prototype.run = function () {
        this.fun.apply(null, this.array);
    };
    process.title = 'browser';
    process.browser = true;
    process.env = {
        NODE_ENV: productionEnv ? 'production' : 'development'
    };
    process.argv = [];
    process.version = ''; // empty string to avoid regexp issues
    process.versions = {};

    function noop() {}

    process.on = noop;
    process.addListener = noop;
    process.once = noop;
    process.off = noop;
    process.removeListener = noop;
    process.removeAllListeners = noop;
    process.emit = noop;

    process.binding = function (name) {
        throw new Error('process.binding is not supported');
    };

    process.cwd = function () {
        return '/';
    };
    process.chdir = function (dir) {
        throw new Error('process.chdir is not supported');
    };
    process.umask = function () {
        return 0;
    };
    return module.exports;
});
System.registerDynamic("npm:jsbarcode@3.5.7.json", [], false, function() {
  return {
    "main": "bin/JsBarcode.js",
    "format": "cjs",
    "meta": {
      "*": {
        "globals": {
          "process": "process"
        }
      },
      "*.json": {
        "format": "json"
      },
      "src/*": {
        "format": "esm"
      }
    },
    "map": {
      "./bin/barcodes": "./bin/barcodes/index.js",
      "./bin/barcodes/CODE128": "./bin/barcodes/CODE128/index.js",
      "./bin/barcodes/CODE39": "./bin/barcodes/CODE39/index.js",
      "./bin/barcodes/EAN_UPC": "./bin/barcodes/EAN_UPC/index.js",
      "./bin/barcodes/GenericBarcode": "./bin/barcodes/GenericBarcode/index.js",
      "./bin/barcodes/ITF": "./bin/barcodes/ITF/index.js",
      "./bin/barcodes/ITF14": "./bin/barcodes/ITF14/index.js",
      "./bin/barcodes/MSI": "./bin/barcodes/MSI/index.js",
      "./bin/barcodes/codabar": "./bin/barcodes/codabar/index.js",
      "./bin/barcodes/pharmacode": "./bin/barcodes/pharmacode/index.js",
      "./bin/renderers": "./bin/renderers/index.js"
    }
  };
});

System.registerDynamic('npm:jsbarcode@3.5.7/bin/JsBarcode.js', ['./barcodes', './help/merge.js', './help/linearizeEncodings.js', './help/fixOptions.js', './help/getRenderProperties.js', './help/optionsFromStrings.js', './exceptions/ErrorHandler.js', './exceptions/exceptions.js', './options/defaults.js', 'process'], true, function ($__require, exports, module) {
	'use strict';

	var process = $__require('process');
	var define,
	    global = this || self,
	    GLOBAL = global;
	var _barcodes = $__require('./barcodes');

	var _barcodes2 = _interopRequireDefault(_barcodes);

	var _merge = $__require('./help/merge.js');

	var _merge2 = _interopRequireDefault(_merge);

	var _linearizeEncodings = $__require('./help/linearizeEncodings.js');

	var _linearizeEncodings2 = _interopRequireDefault(_linearizeEncodings);

	var _fixOptions = $__require('./help/fixOptions.js');

	var _fixOptions2 = _interopRequireDefault(_fixOptions);

	var _getRenderProperties = $__require('./help/getRenderProperties.js');

	var _getRenderProperties2 = _interopRequireDefault(_getRenderProperties);

	var _optionsFromStrings = $__require('./help/optionsFromStrings.js');

	var _optionsFromStrings2 = _interopRequireDefault(_optionsFromStrings);

	var _ErrorHandler = $__require('./exceptions/ErrorHandler.js');

	var _ErrorHandler2 = _interopRequireDefault(_ErrorHandler);

	var _exceptions = $__require('./exceptions/exceptions.js');

	var _defaults = $__require('./options/defaults.js');

	var _defaults2 = _interopRequireDefault(_defaults);

	function _interopRequireDefault(obj) {
		return obj && obj.__esModule ? obj : { default: obj };
	}

	// The protype of the object returned from the JsBarcode() call


	// Help functions
	var API = function API() {};

	// The first call of the library API
	// Will return an object with all barcodes calls and the data that is used
	// by the renderers


	// Default values


	// Exceptions
	// Import all the barcodes
	var JsBarcode = function JsBarcode(element, text, options) {
		var api = new API();

		if (typeof element === "undefined") {
			throw Error("No element to render on was provided.");
		}

		// Variables that will be pased through the API calls
		api._renderProperties = (0, _getRenderProperties2.default)(element);
		api._encodings = [];
		api._options = _defaults2.default;
		api._errorHandler = new _ErrorHandler2.default(api);

		// If text is set, use the simple syntax (render the barcode directly)
		if (typeof text !== "undefined") {
			options = options || {};

			if (!options.format) {
				options.format = autoSelectBarcode();
			}

			api.options(options)[options.format](text, options).render();
		}

		return api;
	};

	// To make tests work TODO: remove
	JsBarcode.getModule = function (name) {
		return _barcodes2.default[name];
	};

	// Register all barcodes
	for (var name in _barcodes2.default) {
		if (_barcodes2.default.hasOwnProperty(name)) {
			// Security check if the propery is a prototype property
			registerBarcode(_barcodes2.default, name);
		}
	}
	function registerBarcode(barcodes, name) {
		API.prototype[name] = API.prototype[name.toUpperCase()] = API.prototype[name.toLowerCase()] = function (text, options) {
			var api = this;
			return api._errorHandler.wrapBarcodeCall(function () {
				var newOptions = (0, _merge2.default)(api._options, options);
				newOptions = (0, _optionsFromStrings2.default)(newOptions);
				var Encoder = barcodes[name];
				var encoded = encode(text, Encoder, newOptions);
				api._encodings.push(encoded);

				return api;
			});
		};
	}

	// encode() handles the Encoder call and builds the binary string to be rendered
	function encode(text, Encoder, options) {
		// Ensure that text is a string
		text = "" + text;

		var encoder = new Encoder(text, options);

		// If the input is not valid for the encoder, throw error.
		// If the valid callback option is set, call it instead of throwing error
		if (!encoder.valid()) {
			throw new _exceptions.InvalidInputException(encoder.constructor.name, text);
		}

		// Make a request for the binary data (and other infromation) that should be rendered
		var encoded = encoder.encode();

		// Encodings can be nestled like [[1-1, 1-2], 2, [3-1, 3-2]
		// Convert to [1-1, 1-2, 2, 3-1, 3-2]
		encoded = (0, _linearizeEncodings2.default)(encoded);

		// Merge
		for (var i = 0; i < encoded.length; i++) {
			encoded[i].options = (0, _merge2.default)(options, encoded[i].options);
		}

		return encoded;
	}

	function autoSelectBarcode() {
		// If CODE128 exists. Use it
		if (_barcodes2.default["CODE128"]) {
			return "CODE128";
		}

		// Else, take the first (probably only) barcode
		return Object.keys(_barcodes2.default)[0];
	}

	// Sets global encoder options
	// Added to the api by the JsBarcode function
	API.prototype.options = function (options) {
		this._options = (0, _merge2.default)(this._options, options);
		return this;
	};

	// Will create a blank space (usually in between barcodes)
	API.prototype.blank = function (size) {
		var zeroes = "0".repeat(size);
		this._encodings.push({ data: zeroes });
		return this;
	};

	// Initialize JsBarcode on all HTML elements defined.
	API.prototype.init = function () {
		// Should do nothing if no elements where found
		if (!this._renderProperties) {
			return;
		}

		// Make sure renderProperies is an array
		if (!Array.isArray(this._renderProperties)) {
			this._renderProperties = [this._renderProperties];
		}

		var renderProperty;
		for (var i in this._renderProperties) {
			renderProperty = this._renderProperties[i];
			var options = (0, _merge2.default)(this._options, renderProperty.options);

			if (options.format == "auto") {
				options.format = autoSelectBarcode();
			}

			this._errorHandler.wrapBarcodeCall(function () {
				var text = options.value;
				var Encoder = _barcodes2.default[options.format.toUpperCase()];
				var encoded = encode(text, Encoder, options);

				render(renderProperty, encoded, options);
			});
		}
	};

	// The render API call. Calls the real render function.
	API.prototype.render = function () {
		if (!this._renderProperties) {
			throw new _exceptions.NoElementException();
		}

		if (Array.isArray(this._renderProperties)) {
			for (var i = 0; i < this._renderProperties.length; i++) {
				render(this._renderProperties[i], this._encodings, this._options);
			}
		} else {
			render(this._renderProperties, this._encodings, this._options);
		}

		return this;
	};

	API.prototype._defaults = _defaults2.default;

	// Prepares the encodings and calls the renderer
	function render(renderProperties, encodings, options) {
		encodings = (0, _linearizeEncodings2.default)(encodings);

		for (var i = 0; i < encodings.length; i++) {
			encodings[i].options = (0, _merge2.default)(options, encodings[i].options);
			(0, _fixOptions2.default)(encodings[i].options);
		}

		(0, _fixOptions2.default)(options);

		var Renderer = renderProperties.renderer;
		var renderer = new Renderer(renderProperties.element, encodings, options);
		renderer.render();

		if (renderProperties.afterRender) {
			renderProperties.afterRender();
		}
	}

	// Export to browser
	if (typeof window !== "undefined") {
		window.JsBarcode = JsBarcode;
	}

	// Export to jQuery
	/*global jQuery */
	if (typeof jQuery !== 'undefined') {
		jQuery.fn.JsBarcode = function (content, options) {
			var elementArray = [];
			jQuery(this).each(function () {
				elementArray.push(this);
			});
			return JsBarcode(elementArray, content, options);
		};
	}

	// Export to commonJS
	module.exports = JsBarcode;
	return module.exports;
});
System.registerDynamic("lib/inventory/views/salesItemCardView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
   var define,
       global = this || self,
       GLOBAL = global;
   var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
   module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
         return "<button name=\"print\" type=\"button\" class=\"button\">Print</button>\r\n<button name=\"back\" type=\"button\" class=\"button\">Back</button>\r\n<div data-ui=\"printContainer\">\r\n	<div class=\"box si-tid-card has-text-centered\">\r\n		" + container.escapeExpression((helpers.barcodeHtml || depth0 && depth0.barcodeHtml || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, { "name": "barcodeHtml", "hash": { "type": "SalesItemModel", "isCard": "true" }, "data": data })) + "\r\n	</div>\r\n</div>";
      }, "useData": true });
   return module.exports;
});
"use strict";

System.register('lib/inventory/views/salesItemCardView.js', ['underscore', 'jquery', 'jsbarcode', 'marionette', 'backbone.radio', './salesItemCardView.hbs!'], function (_export, _context) {
  "use strict";

  var _, jquery, JsBarcode, Marionette, Radio, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_jsbarcode) {
      JsBarcode = _jsbarcode.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_salesItemCardViewHbs) {
      viewTpl = _salesItemCardViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        ui: {
          'printButton': 'button[name="print"]',
          'backButton': 'button[name="back"]',
          'printContainer': 'div[data-ui="printContainer"]',
          'tidCard': '.si-tid-card',
          'barcode': '[jsbarcode-value]',
          'topLabel': 'p[data-ui-top-label]'
        },
        events: {
          'click @ui.printButton': 'print',
          'click @ui.backButton': 'back'
        },
        modelEvents: {
          'change': 'render'
        },
        onRender: function onRender() {
          this.ui.barcode.each(function (idx, elem) {
            if (elem.getAttribute('jsbarcode-value')) {
              JsBarcode(elem, elem.getAttribute('jsbarcode-value'), {
                height: 20
              });
            }
          });
        },
        print: function print(event) {
          event.preventDefault();
          Radio.channel('app').trigger('print', this.ui.printContainer.html(), { title: 'Sales Item Card' });
        },
        back: function back(event) {
          event.preventDefault();
          this.triggerMethod('show:list');
        }
      }));
    }
  };
});
"use strict";

System.register('lib/inventory/views/salesItemView.js', ['backbone', 'backbone.radio', 'marionette', './salesItemView.hbs!', './salesItemActionsView.js', './salesItemEditView.js', './binView.js', './outboundOrderView.js', './salesItemCardView.js', '../models/salesItemModel.js', 'lib/accounting/models/outboundOrderModel.js', '../models/binModel.js'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, Marionette, viewTpl, SalesItemActionsView, SalesItemEditView, BinView, OutboundOrderView, SalesItemCardView, SalesItemModel, OutboundOrderModel, BinModel;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_salesItemViewHbs) {
      viewTpl = _salesItemViewHbs.default;
    }, function (_salesItemActionsViewJs) {
      SalesItemActionsView = _salesItemActionsViewJs.default;
    }, function (_salesItemEditViewJs) {
      SalesItemEditView = _salesItemEditViewJs.default;
    }, function (_binViewJs) {
      BinView = _binViewJs.default;
    }, function (_outboundOrderViewJs) {
      OutboundOrderView = _outboundOrderViewJs.default;
    }, function (_salesItemCardViewJs) {
      SalesItemCardView = _salesItemCardViewJs.default;
    }, function (_modelsSalesItemModelJs) {
      SalesItemModel = _modelsSalesItemModelJs.default;
    }, function (_libAccountingModelsOutboundOrderModelJs) {
      OutboundOrderModel = _libAccountingModelsOutboundOrderModelJs.default;
    }, function (_modelsBinModelJs) {
      BinModel = _modelsBinModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.selectedCollection = Radio.channel('data').request('named:collection', Backbone.Collection, 'selectedSalesItems');
          this.listenTo(Radio.channel('inventory'), 'change:isSelected:salesItem', this.isSelectedChanged);
          Radio.channel('inventory').reply('get:isSelected:salesItem', this.getSelectedCollection.bind(this));
        },

        template: viewTpl,
        regions: {
          content: '[data-region="content"]'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'show:list': 'showList',
          'show:outboundOrder': 'showOutboundOrder',
          'show:bin': 'showBin',
          'show:card': 'showCard'
        },
        onRender: function onRender() {
          if (this.options.id) {
            var salesItemModel = SalesItemModel.findOrCreate({ id: parseInt(this.options.id) });
            salesItemModel.fetch();
            this.selectModel({ model: salesItemModel });
          } else if (this.options.outboundOrder) {
            var outboundOrderModel = OutboundOrderModel.findOrCreate({ id: this.options.outboundOrder });
            this.showOutboundOrder(outboundOrderModel);
          } else if (this.options.bin) {
            var binModel = BinModel.findOrCreate({ id: this.options.bin });
            this.showBin(binModel);
          } else if (this.options.show) {
            var _salesItemModel = SalesItemModel.findOrCreate({ id: this.options.show });
            _salesItemModel.fetch();
            this.showCard(_salesItemModel);
          } else {
            this.showList();
          }
        },
        showList: function showList() {
          this.showChildView('content', new SalesItemActionsView());
          Radio.channel('app').trigger('navigate', '/sales_item', { trigger: false });
        },
        selectModel: function selectModel(args) {
          this.showChildView('content', new SalesItemEditView({
            model: args.model
          }));
          Radio.channel('app').trigger('navigate', args.model.url(), { trigger: false });
        },
        showCard: function showCard(salesItem) {
          this.showChildView('content', new SalesItemCardView({
            model: salesItem
          }));
          Radio.channel('app').trigger('navigate', '/show' + salesItem.url(), { trigger: false });
        },
        showOutboundOrder: function showOutboundOrder(outboundOrder) {
          this.showChildView('content', new OutboundOrderView({
            model: outboundOrder
          }));
          outboundOrder.fetch();
          Radio.channel('app').trigger('navigate', '/show' + outboundOrder.url(), { trigger: false });
        },
        showBin: function showBin(bin) {
          this.showChildView('content', new BinView({
            model: bin
          }));
          bin.fetch();
          Radio.channel('app').trigger('navigate', '/show' + bin.url(), { trigger: false });
        },
        getSelectedCollection: function getSelectedCollection() {
          return this.selectedCollection;
        },
        isSelectedChanged: function isSelectedChanged(model) {
          if (model.get('isSelected')) {
            this.selectedCollection.add(model);
          } else {
            this.selectedCollection.remove(model);
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdEditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './travelerIdModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_travelerIdModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_tid_edit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'travelerId',
          relatedModel: 'TravelerIdModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          oldAttributes: null,
          newAttributes: null,
          editedAt: null,
          travelerId: null
        }

      });


      globalNamespace.Models.InventoryTravelerIdEditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdEditCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryTravelerIdEditModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryTravelerIdEditModelJs) {
      Model = _inventoryTravelerIdEditModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_tid_edit';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdEditListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Edit At</th>\r\n			<th>Traveler Id</th>\r\n			<th>Old Attributes</th>\r\n			<th>New Attributes</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdEditRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "		<strong>" + container.escapeExpression((helper = (helper = helpers.key || data && data.key) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "key", "hash": {}, "data": data }) : helper)) + ":</strong> " + container.escapeExpression((helpers.castAsType || depth0 && depth0.castAsType || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, "string", { "name": "castAsType", "hash": {}, "data": data })) + "\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.editedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.travelerId : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.oldAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.newAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdMovementModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binModel.js', './travelerIdModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binModelJs) {}, function (_travelerIdModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_tid_movement';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'fromBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'toBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'travelerId',
          relatedModel: 'TravelerIdModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          fromBin: null,
          toBin: null,
          movedAt: null,
          travelerId: null,
          tags: null
        }

      });


      globalNamespace.Models.InventoryTravelerIdMovementModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdMovementCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryTravelerIdMovementModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryTravelerIdMovementModelJs) {
      Model = _inventoryTravelerIdMovementModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_tid_movement';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdMovementListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Edit At</th>\r\n			<th>Traveler Id</th>\r\n			<th>From Bin</th>\r\n			<th>To Bin</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdMovementRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.movedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.travelerId : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.fromBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.toBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdTransformCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryTravelerIdTransformModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryTravelerIdTransformModelJs) {
      Model = _inventoryTravelerIdTransformModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_tid_transform';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdTransformListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Transformed At</th>\r\n			<th>From Traveler Ids</th>\r\n			<th>Quantity</th>\r\n			<th>Ratio</th>\r\n			<th>To Traveler Ids</th>\r\n			<th>To Sales Items</th>\r\n			<th>Is Void?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdTransformRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.label : stack1, depth0)) + "\r\n		" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, data && data.last, { "name": "unless", "hash": {}, "fn": container.program(2, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\n";
        }, "2": function (container, depth0, helpers, partials, data) {
            return ",";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.transformedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.fromTravelerIds : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.ratio || (depth0 != null ? depth0.ratio : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "ratio", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.toTravelerIds : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.toSalesItems : depth0) != null ? stack1.models : stack1, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helpers["boolean"] || depth0 && depth0["boolean"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "boolean", "hash": {}, "data": data })) + "</td>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventorySalesItemEditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_salesItemModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sales_item_edit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'salesItem',
          relatedModel: 'SalesItemModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          oldAttributes: null,
          newAttributes: null,
          editedAt: null,
          salesItem: null
        }

      });


      globalNamespace.Models.InventorySalesItemEditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySalesItemEditCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventorySalesItemEditModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventorySalesItemEditModelJs) {
      Model = _inventorySalesItemEditModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_sales_item_edit';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySalesItemEditListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Edit At</th>\r\n			<th>Sales Item</th>\r\n			<th>Old Attributes</th>\r\n			<th>New Attributes</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySalesItemEditRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "		<strong>" + container.escapeExpression((helper = (helper = helpers.key || data && data.key) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "key", "hash": {}, "data": data }) : helper)) + ":</strong> " + container.escapeExpression((helpers.castAsType || depth0 && depth0.castAsType || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, "string", { "name": "castAsType", "hash": {}, "data": data })) + "\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.editedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.salesItem : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.oldAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.newAttributes : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventorySalesItemMovementModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binModel.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binModelJs) {}, function (_salesItemModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sales_item_movement';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'fromBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'toBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'salesItem',
          relatedModel: 'SalesItemModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          fromBin: null,
          toBin: null,
          movedAt: null,
          salesItem: null,
          tags: null
        }

      });


      globalNamespace.Models.InventorySalesItemMovementModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySalesItemMovementCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventorySalesItemMovementModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventorySalesItemMovementModelJs) {
      Model = _inventorySalesItemMovementModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_sales_item_movement';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySalesItemMovementListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Edit At</th>\r\n			<th>Sales Item</th>\r\n			<th>From Bin</th>\r\n			<th>To Bin</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySalesItemMovementRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.movedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.salesItem : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.fromBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.toBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventorySkuAdjustmentModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binModel.js', './skuModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binModelJs) {}, function (_skuModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sku_adjustment';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'forBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          forBin: null,
          performedAt: null,
          sku: null,
          oldCount: null,
          newCount: null
        }

      });


      globalNamespace.Models.InventorySkuAdjustmentModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySkuAdjustmentCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventorySkuAdjustmentModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventorySkuAdjustmentModelJs) {
      Model = _inventorySkuAdjustmentModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_sku_adjustment';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuAdjustmentListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>For Bin</th>\r\n			<th>Performed At</th>\r\n			<th>SKU</th>\r\n			<th>Old Count</th>\r\n			<th>New Count</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuAdjustmentRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.performedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.oldCount || (depth0 != null ? depth0.oldCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "oldCount", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.newCount || (depth0 != null ? depth0.newCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "newCount", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventorySkuMovementModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binModel.js', './skuModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binModelJs) {}, function (_skuModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sku_movement';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'fromBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'toBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          fromBin: null,
          toBin: null,
          movedAt: null,
          sku: null,
          count: null,
          tags: null
        }

      });


      globalNamespace.Models.InventorySkuMovementModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySkuMovementCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventorySkuMovementModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventorySkuMovementModelJs) {
      Model = _inventorySkuMovementModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_sku_movement';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuMovementListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>From Bin</th>\r\n			<th>To Bin</th>\r\n			<th>Moved At</th>\r\n			<th>SKU</th>\r\n			<th>Count</th>\r\n			<th>Tags</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuMovementRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.fromBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.toBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.movedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.count || (depth0 != null ? depth0.count : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "count", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers.join || depth0 && depth0.join || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.tags : depth0, { "name": "join", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventorySkuTransformModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binSkuCountModel.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binSkuCountModelJs) {}, function (_salesItemModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sku_transform';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'fromBinSkuCount',
          relatedModel: 'BinSkuCountModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'toSalesItem',
          relatedModel: 'SalesItemModel',
          includeInJSON: true
        }],
        defaults: {
          byUser: null,
          transformedAt: null,
          fromBinSkuCount: null,
          quantity: null,
          toSalesItem: null,
          isVoid: null
        }

      });


      globalNamespace.Models.InventorySkuTransformModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySkuTransformCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventorySkuTransformModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventorySkuTransformModelJs) {
      Model = _inventorySkuTransformModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_sku_transform';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuTransformListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Transformed At</th>\r\n			<th>From Bin - SKU</th>\r\n			<th>To Sales Item</th>\r\n			<th>Quantity</th>\r\n			<th>Is Void?</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventorySkuTransformRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.transformedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>#" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.id : stack1, depth0)) + "," + container.escapeExpression(helpers.log.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.fromBinSkuCount : depth0, { "name": "log", "hash": {}, "data": data })) + " BIN: " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.attributes : stack1) != null ? stack1.bin : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + ", SKU: " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.fromBinSkuCount : depth0) != null ? stack1.attributes : stack1) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>#" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.toSalesItem : depth0) != null ? stack1.id : stack1, depth0)) + ", SKU: " + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.toSalesItem : depth0) != null ? stack1.attributes : stack1) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + ", QTY: " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.toSalesItem : depth0) != null ? stack1.attributes : stack1) != null ? stack1.quantity : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.quantity || (depth0 != null ? depth0.quantity : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "quantity", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + container.escapeExpression((helpers["boolean"] || depth0 && depth0["boolean"] || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isVoid : depth0, { "name": "boolean", "hash": {}, "data": data })) + "</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryAlertLogCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryAlertLogModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryAlertLogModelJs) {
      Model = _inventoryAlertLogModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_alert_log';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryAlertLogListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>Department</th>\r\n			<th>SKU</th>\r\n			<th>Type</th>\r\n			<th>Alert Count</th>\r\n			<th>Alerted At</th>\r\n			<th>Actual Count</th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryAlertLogRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.inventoryAlert : depth0) != null ? stack1.attributes : stack1) != null ? stack1.department : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.inventoryAlert : depth0) != null ? stack1.attributes : stack1) != null ? stack1.sku : stack1) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression(helpers.lookup.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.inventoryAlert : depth0) != null ? stack1.attributes : stack1) != null ? stack1.types : stack1, (stack1 = (stack1 = (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.inventoryAlert : stack1) != null ? stack1.attributes : stack1) != null ? stack1.type : stack1, { "name": "lookup", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.inventoryAlert : depth0) != null ? stack1.attributes : stack1) != null ? stack1.count : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, (stack1 = depth0 != null ? depth0.attributes : depth0) != null ? stack1.performedAt : stack1, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.count || (depth0 != null ? depth0.count : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "count", "hash": {}, "data": data }) : helper)) + "</td>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryAuditListView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Inventory Audits</h2>\r\n<button name=\"audit\" class=\"button is-light\">New Audit</button>\r\n<div data-region=\"list\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/entity/searchableListItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "		" + container.escapeExpression((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "label", "hash": {}, "data": data }) : helper)) + "\r\n";
    }, "3": function (container, depth0, helpers, partials, data) {
      var stack1;

      return (stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.name : depth0, { "name": "if", "hash": {}, "fn": container.program(4, data, 0), "inverse": container.program(6, data, 0), "data": data })) != null ? stack1 : "";
    }, "4": function (container, depth0, helpers, partials, data) {
      var helper;

      return "			" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "\r\n";
    }, "6": function (container, depth0, helpers, partials, data) {
      return "			[No Name]\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<a class=\"entity-link\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">\r\n	#" + container.escapeExpression((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "id", "hash": {}, "data": data }) : helper)) + " -\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.label : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</a>\r\n<span class=\"not-synced-alert fa fa-exclamation-triangle\" title=\"This asset is not synced with the server.\"></span>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/entity/searchableListItemView.js', ['./searchableListItemView.hbs!', './searchableListBaseItemView'], function (_export, _context) {
  "use strict";

  var viewTpl, BaseItemView;
  return {
    setters: [function (_searchableListItemViewHbs) {
      viewTpl = _searchableListItemViewHbs.default;
    }, function (_searchableListBaseItemView) {
      BaseItemView = _searchableListBaseItemView.default;
    }],
    execute: function () {
      _export('default', BaseItemView.extend({
        template: viewTpl,
        tagName: 'li'
      }));
    }
  };
});
System.registerDynamic("lib/common/views/noChildrenView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "No Objects Found.";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/noChildrenView.js', ['marionette', './noChildrenView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_noChildrenViewHbs) {
      viewTpl = _noChildrenViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/searchableListView.js', ['marionette', './searchableListItemView', 'lib/common/views/noChildrenView', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var Marionette, ItemView, NoChildrenView, Radio;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_searchableListItemView) {
      ItemView = _searchableListItemView.default;
    }, function (_libCommonViewsNoChildrenView) {
      NoChildrenView = _libCommonViewsNoChildrenView.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ItemView,
        emptyView: NoChildrenView,
        tagName: 'ul',
        className: 'vsm-entity-list',
        childViewOptions: function childViewOptions() {
          return {
            searchPath: this.options.searchPath,
            serializeData: this.options.serializeData
          };
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/searchableListBaseItemView.js', ['underscore', 'marionette'], function (_export, _context) {
  "use strict";

  var _, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          if (options.serializeData) {
            this.serializeData = options.serializeData;
          }
          if (typeof options.template === 'function') {
            this.template = options.template;
          }
          if (options.behaviors) {
            this.behaviors = _.extend(this.behaviors, options.behaviors);
          }
        },

        behaviors: {
          'ShowNotSynced': {},
          'Stickit': {}
        },
        serializeData: function serializeData() {
          var data = _.clone(this.model.attributes);
          data.entityUrl = this.model.url();
          if (!data.label && this.options.searchPath) {
            var searchPath = this.options.searchPath;
            if (typeof searchPath === 'string') {
              data.label = this.model.getValueFromPath(this.options.searchPath);
            } else {
              if (Array.isArray(searchPath)) {
                var labelsArray = [];
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                  for (var _iterator = searchPath[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var searchPathElement = _step.value;

                    labelsArray.push('' + this.model.getValueFromPath(searchPathElement));
                  }
                } catch (err) {
                  _didIteratorError = true;
                  _iteratorError = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                      _iterator.return();
                    }
                  } finally {
                    if (_didIteratorError) {
                      throw _iteratorError;
                    }
                  }
                }

                data.label = labelsArray.join(' - ');
              }
            }
          }
          return data;
        },
        ui: {
          'entityLink': 'a.entity-link',
          'button': 'button',
          'link': 'a[data-ui-link]',
          'isSelectedCheckbox': 'input[name="isSelected"]'
        },
        bindings: {
          '@ui.isSelectedCheckbox': 'isSelected'
        },
        events: {
          'click': 'toggleSelected',
          'click @ui.entityLink': 'triggerSelectModel',
          'click @ui.button': 'triggerButtonClick',
          'click @ui.link': 'triggerLinkClick'
        },
        modelEvents: {
          'change': 'render'
        },
        onRender: function onRender() {
          if (this.model.get('status') < 1) {
            this.$el.addClass('disabled');
          } else {
            this.$el.removeClass('disabled');
          }
        },
        toggleSelected: function toggleSelected() {
          this.model.set('isSelected', !this.model.get('isSelected'));
        },
        triggerSelectModel: function triggerSelectModel(event) {
          event.preventDefault();
          event.stopPropagation();
          this.triggerMethod('select:model', this, {
            model: this.model
          });
        },
        triggerButtonClick: function triggerButtonClick(event) {
          event.preventDefault();
          event.stopPropagation();
          this.triggerMethod('button:click', this, {
            model: this.model,
            button: event.target
          });
        },
        triggerLinkClick: function triggerLinkClick(event) {
          event.preventDefault();
          event.stopPropagation();
          this.triggerMethod('link:click', this, {
            model: this.model,
            link: event.target
          });
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/searchableListRowView.js', ['./searchableListBaseItemView'], function (_export, _context) {
  "use strict";

  var BaseItemView;
  return {
    setters: [function (_searchableListBaseItemView) {
      BaseItemView = _searchableListBaseItemView.default;
    }],
    execute: function () {
      _export('default', BaseItemView.extend({
        tagName: 'tr'
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/searchableListTableView.js', ['marionette', './searchableListRowView.js', 'lib/common/views/noChildrenRowView.js', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenRowView, Radio;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_searchableListRowViewJs) {
      ChildView = _searchableListRowViewJs.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        initialize: function initialize(options) {
          if (options.childViewOptions) {
            this.childViewOptions = options.childViewOptions;
          }
        },

        tagName: 'tbody',
        childView: ChildView,
        emptyView: NoChildrenRowView,
        emptyViewOptions: function emptyViewOptions() {
          return {
            colspan: this.options.colspan
          };
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/views/entity/searchableListTableLayoutView.js', ['marionette', 'backbone.radio', './searchableListTableView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, SearchableListTableView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_searchableListTableViewJs) {
      SearchableListTableView = _searchableListTableViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          if (typeof options.template === 'function') {
            this.template = options.template;
          } else if (typeof options.entityListTableLayoutTpl === 'function') {
            this.template = options.entityListTableLayoutTpl;
          }
          if (!this.options.childViewOptions) {
            this.options.childViewOptions = {};
          }
          if (!this.options.childViewOptions.searchPath && this.options.searchPath) {
            this.options.childViewOptions.searchPath = this.options.searchPath;
          }
          if (!this.options.childViewOptions.serializeData && this.options.serializeData) {
            this.options.childViewOptions.serializeData = this.options.serializeData;
          }
          if (this.options.serializeData) {
            this.serializeData = this.options.serializeData;
          }
        },

        regions: {
          tbody: {
            el: 'tbody',
            replaceElement: true
          }
        },
        ui: {
          'button': 'button',
          'link': 'a[data-ui-link]'
        },
        events: {
          'click @ui.button': 'triggerButtonClick',
          'click @ui.link': 'triggerLinkClick'
        },
        childViewEvents: {
          'select:model': 'selectModel',
          'button:click': 'triggerChildButtonClick',
          'link:click': 'triggerChildLinkClick'
        },
        onRender: function onRender() {
          this.showChildView('tbody', new SearchableListTableView({
            collection: this.collection,
            childViewOptions: this.options.childViewOptions,
            colspan: this.options.colspan
          }));
        },
        selectModel: function selectModel(childView, args) {
          this.triggerMethod('select:model', childView, {
            model: childView.model
          });
        },
        triggerButtonClick: function triggerButtonClick(event) {
          event.preventDefault();
          event.stopPropagation();
          this.triggerMethod('button:click', this, {
            model: this.model,
            button: event.target
          });
        },
        triggerLinkClick: function triggerLinkClick(event) {
          event.preventDefault();
          event.stopPropagation();
          this.triggerMethod('link:click', this, {
            model: this.model,
            link: event.target
          });
        },
        triggerChildButtonClick: function triggerChildButtonClick(childView, args) {
          this.triggerMethod('button:click', childView, {
            model: childView.model,
            button: args.button
          });
        },
        triggerChildLinkClick: function triggerChildLinkClick(childView, args) {
          this.triggerMethod('link:click', childView, {
            model: childView.model,
            link: args.link
          });
        }
      }));
    }
  };
});
System.registerDynamic("lib/common/views/entity/searchableListLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<label class=\"label\">Search</label>\r\n<div class=\"control\">\r\n	<input type=\"search\" id=\"entity-search-input\" class=\"input\" placeholder=\"Seach\" />\r\n</div>\r\n<div class=\"entity-pagination\"></div>\r\n<div class=\"entity-list\"></div>\r\n";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/entity/searchableListLayoutView.js', ['underscore', 'backbone', 'marionette', './searchableListView.js', './searchableListTableLayoutView.js', './paginationWidgetView.js', './searchableListLayoutView.hbs!', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, ListView, ListTableView, PaginationWidgetView, viewTpl, Radio;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_searchableListViewJs) {
      ListView = _searchableListViewJs.default;
    }, function (_searchableListTableLayoutViewJs) {
      ListTableView = _searchableListTableLayoutViewJs.default;
    }, function (_paginationWidgetViewJs) {
      PaginationWidgetView = _paginationWidgetViewJs.default;
    }, function (_searchableListLayoutViewHbs) {
      viewTpl = _searchableListLayoutViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.collectionMode = typeof this.options.usePagination === 'string' ? this.options.usePagination : 'client';
        },

        behaviors: {
          'Searchable': {}
        },
        template: viewTpl,
        regions: {
          list: '.entity-list',
          paginationWidget: '.entity-pagination'
        },
        search: function search() {
          this.triggerMethod('search');
        },
        onSearchComplete: function onSearchComplete(collection) {
          var viewOptions = _.extend(this.options, {
            collection: collection
          });
          if (this.options.useTableView) {
            if (this.options.entityRowTpl) {
              viewOptions.childViewOptions = viewOptions.childViewOptions ? viewOptions.childViewOptions : {};
              viewOptions.childViewOptions = _.extend(viewOptions.childViewOptions, {
                template: this.options.entityRowTpl
              });
            }
            this.showChildView('list', new ListTableView(viewOptions));
          } else {
            this.showChildView('list', new ListView(viewOptions));
          }
          if (this.options.usePagination) {
            this.showChildView('paginationWidget', new PaginationWidgetView({
              collection: collection
            }));
          }
        },
        getCurrentCollection: function getCurrentCollection() {
          var collection = null;
          var currentListView = this.getRegion('list').currentView;
          if (currentListView) {
            collection = currentListView.collection;
          }
          return collection;
        },
        onRender: function onRender() {
          if (this.collectionMode === 'client') {
            this.collection.on('fetch:done', this.search, this);
          }
          this.search();
        },
        onChildviewSelectModel: function onChildviewSelectModel(childView, args) {
          this.triggerMethod('select:model', childView, {
            model: childView.model
          });
        },
        onChildviewButtonClick: function onChildviewButtonClick(childView, args) {
          this.triggerMethod('button:click', childView, {
            model: childView.model,
            button: args.button
          });
        },
        onChildviewLinkClick: function onChildviewLinkClick(childView, args) {
          this.triggerMethod('link:click', childView, {
            model: childView.model,
            link: args.link
          });
        },
        onDestroy: function onDestroy() {
          this.collection.off(null, this.search, this);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryAuditListTableLayoutTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<table class=\"table is-striped\">\r\n	<thead>\r\n		<tr>\r\n			<th>By User</th>\r\n			<th>Bin</th>\r\n			<th>Started At</th>\r\n			<th>Ended At</th>\r\n			<th></th>\r\n		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryAuditRowTpl.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "		<a class=\"entity-link\" data-ui-link=\"show\" href=\"" + container.escapeExpression((helper = (helper = helpers.entityUrl || (depth0 != null ? depth0.entityUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "entityUrl", "hash": {}, "data": data }) : helper)) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</a>\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "		" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.endedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "\r\n";
        }, "7": function (container, depth0, helpers, partials, data) {
            return "		In Progress...\r\n";
        }, "9": function (container, depth0, helpers, partials, data) {
            var stack1;

            return (stack1 = (helpers.isMyself || depth0 && depth0.isMyself || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.byUser : depth0, { "name": "isMyself", "hash": {}, "fn": container.program(10, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
        }, "10": function (container, depth0, helpers, partials, data) {
            return "			<button class=\"button\" name=\"resume\">Resume</button>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + "</td>\r\n<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isCompleted : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.startedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + "</td>\r\n<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.endedAt : depth0, { "name": "if", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.program(7, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isCompleted : depth0, { "name": "unless", "hash": {}, "fn": container.program(9, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/inventoryAuditCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './inventoryAuditModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_inventoryAuditModelJs) {
      Model = _inventoryAuditModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/inventory_audit';
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryAuditSetupView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<form>\r\n	<label class=\"label\">Bin</label>\r\n	<p class=\"control\">\r\n  		<select name=\"forBin\">\r\n  			<option>Select a bin...</option>\r\n  		</select>\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/inventory/models/binCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './binModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_binModelJs) {
      Model = _binModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/bin';
        },

        selectOptionsUrl: '/select_options/bin'
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventoryAuditSetupView.js', ['underscore', 'backbone.syphon', 'marionette', 'backbone.radio', './inventoryAuditSetupView.hbs!', '../models/binCollection.js'], function (_export, _context) {
  "use strict";

  var _, Syphon, Marionette, Radio, viewTpl, BinCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryAuditSetupViewHbs) {
      viewTpl = _inventoryAuditSetupViewHbs.default;
    }, function (_modelsBinCollectionJs) {
      BinCollection = _modelsBinCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'RemoteSearchSelect2': {
            forBin: {
              url: BinCollection.prototype.url(),
              search: 'name'
            }
          }
        },
        template: viewTpl,
        ui: {
          'form': 'form',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        cancel: function cancel() {
          this.model.destroy();
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          this.model.save(this.getNewAttrs()).done(function () {
            Radio.channel('dialog').trigger('close');
            Radio.channel('inventory').trigger('resume:audit', _this.model);
          });
        },
        getNewAttrs: function getNewAttrs() {
          var attr = Syphon.serialize(this);
          return {
            forBin: BinCollection.prototype.model.findOrCreate({ id: parseInt(attr.forBin) })
          };
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').prop('disabled', true);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventoryAuditListView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './inventoryAuditListView.hbs!', 'lib/common/views/entity/searchableListLayoutView.js', './inventoryAuditListTableLayoutTpl.hbs!', './inventoryAuditRowTpl.hbs!', '../models/inventoryAuditCollection.js', '../models/inventoryAuditModel.js', './inventoryAuditSetupView.js', './inventoryAuditView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, SearchableListLayoutView, inventoryAuditListTableLayoutTpl, inventoryAuditRowTpl, InventoryAuditCollection, InventoryAuditModel, InventoryAuditSetupView, InventoryAuditView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryAuditListViewHbs) {
      viewTpl = _inventoryAuditListViewHbs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_inventoryAuditListTableLayoutTplHbs) {
      inventoryAuditListTableLayoutTpl = _inventoryAuditListTableLayoutTplHbs.default;
    }, function (_inventoryAuditRowTplHbs) {
      inventoryAuditRowTpl = _inventoryAuditRowTplHbs.default;
    }, function (_modelsInventoryAuditCollectionJs) {
      InventoryAuditCollection = _modelsInventoryAuditCollectionJs.default;
    }, function (_modelsInventoryAuditModelJs) {
      InventoryAuditModel = _modelsInventoryAuditModelJs.default;
    }, function (_inventoryAuditSetupViewJs) {
      InventoryAuditSetupView = _inventoryAuditSetupViewJs.default;
    }, function (_inventoryAuditViewJs) {
      InventoryAuditView = _inventoryAuditViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.listenTo(Radio.channel('inventory'), 'resume:audit', this.resume);
          this.listenTo(Radio.channel('inventory'), 'change:audit', this.refreshList);
        },

        template: viewTpl,
        regions: {
          list: '[data-region="list"]'
        },
        ui: {
          'auditButton': 'button[name="audit"]'
        },
        events: {
          'click @ui.auditButton': 'audit'
        },
        childViewEvents: {
          'button:click': 'buttonClicked',
          'link:click': 'linkClicked'
        },
        onRender: function onRender() {
          this.showList();
        },
        showList: function showList() {
          var inventoryAuditCollection = Radio.channel('data').request('collection', InventoryAuditCollection, { doFetch: false });
          this.listView = new SearchableListLayoutView({
            collection: inventoryAuditCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'forBin.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventoryAuditListTableLayoutTpl,
            entityRowTpl: inventoryAuditRowTpl,
            colspan: 5
          });
          this.showChildView('list', this.listView);
          Radio.channel('app').trigger('navigate', inventoryAuditCollection.url(), { trigger: false });
        },
        refreshList: function refreshList() {
          this.listView.search();
        },
        buttonClicked: function buttonClicked(childView, args) {
          var action = args.button.getAttribute('name');
          this[action](args.model);
        },
        linkClicked: function linkClicked(childView, args) {
          var reportView = new InventoryAuditView({
            model: args.model
          });
          Radio.channel('app').trigger('show:view', reportView);
        },
        audit: function audit(event) {
          event.preventDefault();
          var options = {
            title: 'Audit Inventory',
            width: '400px'
          };
          var inventoryAudit = new InventoryAuditModel();
          var view = new InventoryAuditSetupView({
            model: inventoryAudit
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        resume: function resume(model) {
          var auditView = new InventoryAuditView({
            model: model
          });
          Radio.channel('app').trigger('show:view', auditView);
        }
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventoryAuditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return "<h2 class=\"title is-2\">Inventory Audit</h2>\r\n<div class=\"message\">\r\n	<div class=\"message-header\">\r\n		For Bin #" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.id : stack1, depth0)) + " - " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</div>\r\n	<div class=\"message-body\">\r\n		<p>Started by " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + " at " + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.startedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + ".</p>\r\n		<button class=\"button\" name=\"end\">End</button>\r\n	</div>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">Traveler Ids</h3>\r\n	<form data-ui=\"travelerIdLabelForm\" action=\"\">\r\n		<label class=\"label\">Traveler Id Label:</label>\r\n		<p class=\"control\">\r\n			<input type=\"text\" name=\"travelerIdLabel\" />\r\n		</p>\r\n		<button type=\"submit\" class=\"button\" name=\"addTravelerId\">Add Traveler Id</button>\r\n	</form>\r\n	<table data-ui=\"travelerIdListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>Traveler Id</th>\r\n				<th></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">Sales Items</h3>\r\n	<form data-ui=\"salesItemLabelForm\" action=\"\">\r\n		<label class=\"label\">Sales Item Label:</label>\r\n		<p class=\"control\">\r\n			<input type=\"text\" name=\"salesItemLabel\" />\r\n		</p>\r\n		<button type=\"submit\" class=\"button\" name=\"addSalesItem\">Add Sales Item</button>\r\n	</form>\r\n	<table data-ui=\"salesItemListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>Sales Item</th>\r\n				<th></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">SKU Counts</h3>\r\n	<button class=\"button\" name=\"addSkuAudit\">Add SKU Count</button>\r\n	<table data-ui=\"skuListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>SKU</th>\r\n				<th>Count</th>\r\n				<th colspan=\"2\"></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryAuditReportView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1, helper;

      return "<h2 class=\"title is-2\">Inventory Audit</h2>\r\n<div class=\"message\">\r\n	<div class=\"message-header\">\r\n		For Bin #" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.id : stack1, depth0)) + " - " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.forBin : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "\r\n	</div>\r\n	<div class=\"message-body\">\r\n		<p>Started by " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.firstName : stack1, depth0)) + " " + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.byUser : depth0) != null ? stack1.attributes : stack1) != null ? stack1.lastName : stack1, depth0)) + " at " + container.escapeExpression((helpers.moment || depth0 && depth0.moment || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.startedAt : depth0, { "name": "moment", "hash": {}, "data": data })) + ".</p>\r\n		<dl>\r\n			<dt><label>Total Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.totalDeviations || (depth0 != null ? depth0.totalDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "totalDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n			<dt><label>Traveler Id Count Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.travelerIdCountDeviations || (depth0 != null ? depth0.travelerIdCountDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "travelerIdCountDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n			<dt><label>Traveler Id Match Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.travelerIdMatchDeviations || (depth0 != null ? depth0.travelerIdMatchDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "travelerIdMatchDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n			<dt><label>Sales Item Count Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.salesItemCountDeviations || (depth0 != null ? depth0.salesItemCountDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "salesItemCountDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n			<dt><label>Sales Item Match Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.salesItemMatchDeviations || (depth0 != null ? depth0.salesItemMatchDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "salesItemMatchDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n			<dt><label>Sku Count Deviations:</label></dt>\r\n			<dd>" + container.escapeExpression((helper = (helper = helpers.skuCountDeviations || (depth0 != null ? depth0.skuCountDeviations : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "skuCountDeviations", "hash": {}, "data": data }) : helper)) + "</dd>\r\n		</dl>\r\n	</div>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">Traveler Ids</h3>\r\n	<table data-ui=\"travelerIdListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>Traveler Id</th>\r\n				<th></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">Sales Items</h3>\r\n	<table data-ui=\"salesItemListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>Sales Item</th>\r\n				<th></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>\r\n<div class=\"box\">\r\n	<h3 class=\"title is-3\">SKU Counts</h3>\r\n	<table data-ui=\"skuListTable\" class=\"table is-striped\">\r\n		<thead>\r\n			<tr>\r\n				<th>SKU</th>\r\n				<th>Count</th>\r\n				<th colspan=\"2\"></th>\r\n			</tr>\r\n		</thead>\r\n		<tbody></tbody>\r\n	</table>\r\n</div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/inventory/views/inventoryTravelerIdAuditItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.travelerId : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		<span class=\"icon\"><span class=\"fa fa-spinner fa-pulse\"></span></span>\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "		<button class=\"button is-danger\" name=\"remove\">Remove</button>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.inventoryAudit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isCompleted : stack1, { "name": "unless", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdAuditItemView.js', ['./inventoryTravelerIdAuditItemView.hbs!', 'backbone.radio', 'marionette'], function (_export, _context) {
  "use strict";

  var viewTpl, Radio, Marionette;
  return {
    setters: [function (_inventoryTravelerIdAuditItemViewHbs) {
      viewTpl = _inventoryTravelerIdAuditItemViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        ui: {
          'removeButton': 'button[name="remove"]'
        },
        events: {
          'click @ui.removeButton': 'remove'
        },
        remove: function remove(event) {
          event.preventDefault();
          if (this.ui.removeButton.data('confirm')) {
            this.model.destroy();
          } else {
            this.ui.removeButton.text('Confirm?');
            this.ui.removeButton.data('confirm', true);
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventoryTravelerIdAuditListView.js', ['marionette', './inventoryTravelerIdAuditItemView.js', 'lib/common/views/noChildrenRowView.js'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenRowView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_inventoryTravelerIdAuditItemViewJs) {
      ChildView = _inventoryTravelerIdAuditItemViewJs.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        tagName: 'tbody',
        emptyView: NoChildrenRowView
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySalesItemAuditItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "		" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.salesItem : depth0) != null ? stack1.attributes : stack1) != null ? stack1.label : stack1, depth0)) + "\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "		<span class=\"icon\"><span class=\"fa fa-spinner fa-pulse\"></span></span>\r\n";
        }, "5": function (container, depth0, helpers, partials, data) {
            return "		<button class=\"button is-danger\" name=\"remove\">Remove</button>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<td>\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.id : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "</td>\r\n<td>\r\n" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.inventoryAudit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isCompleted : stack1, { "name": "unless", "hash": {}, "fn": container.program(5, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySalesItemAuditItemView.js', ['./inventorySalesItemAuditItemView.hbs!', 'backbone.radio', 'marionette'], function (_export, _context) {
  "use strict";

  var viewTpl, Radio, Marionette;
  return {
    setters: [function (_inventorySalesItemAuditItemViewHbs) {
      viewTpl = _inventorySalesItemAuditItemViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        ui: {
          'removeButton': 'button[name="remove"]'
        },
        events: {
          'click @ui.removeButton': 'remove'
        },
        remove: function remove(event) {
          event.preventDefault();
          if (this.ui.removeButton.data('confirm')) {
            this.model.destroy();
          } else {
            this.ui.removeButton.text('Confirm?');
            this.ui.removeButton.data('confirm', true);
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventorySalesItemAuditListView.js', ['marionette', './inventorySalesItemAuditItemView.js', 'lib/common/views/noChildrenRowView.js'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenRowView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_inventorySalesItemAuditItemViewJs) {
      ChildView = _inventorySalesItemAuditItemViewJs.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        tagName: 'tbody',
        emptyView: NoChildrenRowView
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuAuditItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "<button class=\"button\" name=\"edit\">Edit</button>";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "<button class=\"button is-danger\" name=\"delete\">Delete</button>";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<td>" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</td>\r\n<td>" + container.escapeExpression((helper = (helper = helpers.userCount || (depth0 != null ? depth0.userCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "userCount", "hash": {}, "data": data }) : helper)) + "</td>\r\n<td>" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.inventoryAudit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isCompleted : stack1, { "name": "unless", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n<td>" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, (stack1 = (stack1 = depth0 != null ? depth0.inventoryAudit : depth0) != null ? stack1.attributes : stack1) != null ? stack1.isCompleted : stack1, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "</td>\r\n";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/views/inventorySkuAuditItemView.js', ['./inventorySkuAuditItemView.hbs!', 'backbone.radio', 'marionette', './inventorySkuAuditView.js'], function (_export, _context) {
  "use strict";

  var viewTpl, Radio, Marionette, InventorySkuAuditView;
  return {
    setters: [function (_inventorySkuAuditItemViewHbs) {
      viewTpl = _inventorySkuAuditItemViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_inventorySkuAuditViewJs) {
      InventorySkuAuditView = _inventorySkuAuditViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        ui: {
          'editButton': 'button[name="edit"]',
          'deleteButton': 'button[name="delete"]'
        },
        events: {
          'click @ui.editButton': 'edit',
          'click @ui.deleteButton': 'delete'
        },
        edit: function edit(event) {
          event.preventDefault();
          var options = {
            title: 'Add Sku Count',
            width: '400px'
          };
          var view = new InventorySkuAuditView({
            model: this.model
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        delete: function _delete(event) {
          event.preventDefault();
          if (this.ui.deleteButton.data('confirm')) {
            this.model.destroy();
          } else {
            this.ui.deleteButton.text('Confirm?');
            this.ui.deleteButton.data('confirm', true);
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventorySkuAuditListView.js', ['marionette', './inventorySkuAuditItemView.js', 'lib/common/views/noChildrenRowView.js'], function (_export, _context) {
  "use strict";

  var Marionette, ChildView, NoChildrenRowView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_inventorySkuAuditItemViewJs) {
      ChildView = _inventorySkuAuditItemViewJs.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        tagName: 'tbody',
        emptyView: NoChildrenRowView
      }));
    }
  };
});
System.registerDynamic("lib/inventory/views/inventorySkuAuditView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "  				<option value=\"" + container.escapeExpression(container.lambda((stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.id : stack1, depth0)) + "\">" + container.escapeExpression(container.lambda((stack1 = (stack1 = depth0 != null ? depth0.sku : depth0) != null ? stack1.attributes : stack1) != null ? stack1.name : stack1, depth0)) + "</option>\r\n";
        }, "3": function (container, depth0, helpers, partials, data) {
            return "				<option>Select a SKU...</option>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<form>\r\n	<label class=\"label\">SKU</label>\r\n	<p class=\"control\">\r\n  		<select name=\"sku\">\r\n" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.sku : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.program(3, data, 0), "data": data })) != null ? stack1 : "") + "  		</select>\r\n	</p>\r\n	<label class=\"label\">Count</label>\r\n	<p class=\"control\">\r\n		<input class=\"input\" name=\"userCount\" type=\"number\" placeholder=\"Enter Count\" value=\"" + container.escapeExpression((helper = (helper = helpers.userCount || (depth0 != null ? depth0.userCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "userCount", "hash": {}, "data": data }) : helper)) + "\">\r\n	</p>\r\n	<p class=\"control\">\r\n		<button type=\"submit\" class=\"button is-primary\" data-ui-name=\"save\">Submit</button>\r\n		<button type=\"button\" class=\"button is-info is-outlined\" data-ui-name=\"cancel\">Cancel</button>\r\n	</p>\r\n</form>";
        }, "useData": true });
    return module.exports;
});
'use strict';

System.register('lib/inventory/models/skuCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './skuModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_skuModelJs) {
      Model = _skuModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/sku';
        },

        selectOptionsUrl: '/select_options/sku'
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventorySkuAuditView.js', ['backbone.syphon', 'marionette', 'backbone.radio', './inventorySkuAuditView.hbs!', '../models/skuCollection.js'], function (_export, _context) {
  "use strict";

  var Syphon, Marionette, Radio, viewTpl, SkuCollection;
  return {
    setters: [function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventorySkuAuditViewHbs) {
      viewTpl = _inventorySkuAuditViewHbs.default;
    }, function (_modelsSkuCollectionJs) {
      SkuCollection = _modelsSkuCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        behaviors: {
          'RemoteSearchSelect2': {
            sku: {
              url: SkuCollection.prototype.selectOptionsUrl,
              search: 'name'
            }
          }
        },
        template: viewTpl,
        ui: {
          'form': 'form',
          'cancelButton': 'button[data-ui-name="cancel"]'
        },
        events: {
          'submit @ui.form ': 'save',
          'click @ui.cancelButton': 'cancel'
        },
        cancel: function cancel() {
          Radio.channel('dialog').trigger('close');
        },
        save: function save(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          this.model.save(this.getNewAttrs()).fail(function () {
            if (_this.model.isNew()) {
              _this.model.destroy();
            }
          }).done(function () {
            Radio.channel('dialog').trigger('close');
          });
        },
        getNewAttrs: function getNewAttrs() {
          var attr = Syphon.serialize(this);
          return {
            sku: SkuCollection.prototype.model.findOrCreate({ id: parseInt(attr.sku) }),
            userCount: parseInt(attr.userCount)
          };
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').prop('disabled', true);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdAuditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './travelerIdModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_travelerIdModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_tid_audit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'travelerId',
          relatedModel: 'TravelerIdModel',
          includeInJSON: ['id']
        }],
        defaults: {
          inventoryAudit: null,
          travelerIdLabel: null,
          travelerId: null
        }

      });


      globalNamespace.Models.InventoryTravelerIdAuditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySalesItemAuditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_salesItemModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sales_item_audit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'salesItem',
          relatedModel: 'SalesItemModel',
          includeInJSON: ['id']
        }],
        defaults: {
          inventoryAudit: null,
          salesItemLabel: null,
          salesItem: null
        }

      });


      globalNamespace.Models.InventorySalesItemAuditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/views/inventoryAuditView.js', ['underscore', 'backbone', 'marionette', 'backbone.radio', './inventoryAuditView.hbs!', './inventoryAuditReportView.hbs!', './inventoryTravelerIdAuditListView.js', './inventorySalesItemAuditListView.js', './inventorySkuAuditListView.js', './inventorySkuAuditView.js', '../models/inventoryTravelerIdAuditModel.js', '../models/inventorySalesItemAuditModel.js', '../models/inventorySkuAuditModel.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Radio, viewTpl, reportViewTpl, InventoryTravelerIdAuditListView, InventorySalesItemAuditListView, InventorySkuAuditListView, InventorySkuAuditView, InventoryTravelerIdAuditModel, InventorySalesItemAuditModel, InventorySkuAuditModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_inventoryAuditViewHbs) {
      viewTpl = _inventoryAuditViewHbs.default;
    }, function (_inventoryAuditReportViewHbs) {
      reportViewTpl = _inventoryAuditReportViewHbs.default;
    }, function (_inventoryTravelerIdAuditListViewJs) {
      InventoryTravelerIdAuditListView = _inventoryTravelerIdAuditListViewJs.default;
    }, function (_inventorySalesItemAuditListViewJs) {
      InventorySalesItemAuditListView = _inventorySalesItemAuditListViewJs.default;
    }, function (_inventorySkuAuditListViewJs) {
      InventorySkuAuditListView = _inventorySkuAuditListViewJs.default;
    }, function (_inventorySkuAuditViewJs) {
      InventorySkuAuditView = _inventorySkuAuditViewJs.default;
    }, function (_modelsInventoryTravelerIdAuditModelJs) {
      InventoryTravelerIdAuditModel = _modelsInventoryTravelerIdAuditModelJs.default;
    }, function (_modelsInventorySalesItemAuditModelJs) {
      InventorySalesItemAuditModel = _modelsInventorySalesItemAuditModelJs.default;
    }, function (_modelsInventorySkuAuditModelJs) {
      InventorySkuAuditModel = _modelsInventorySkuAuditModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        getTemplate: function getTemplate() {
          if (this.model.get('isCompleted')) {
            return reportViewTpl;
          } else {
            return viewTpl;
          }
        },

        regions: {
          travelerIdAudits: {
            el: 'table[data-ui="travelerIdListTable"] > tbody',
            replaceElement: true
          },
          salesItemAudits: {
            el: 'table[data-ui="salesItemListTable"] > tbody',
            replaceElement: true
          },
          skuAudits: {
            el: 'table[data-ui="skuListTable"] > tbody',
            replaceElement: true
          }
        },
        ui: {
          'travelerIdLabelInput': 'input[name="travelerIdLabel"]',
          'addTravelerIdAuditButton': 'button[name="addTravelerId"]',
          'travelerIdLabelForm': 'form[data-ui="travelerIdLabelForm"]',
          'salesItemLabelInput': 'input[name="salesItemLabel"]',
          'addSalesItemAuditButton': 'button[name="addSalesItem"]',
          'salesItemLabelForm': 'form[data-ui="salesItemLabelForm"]',
          'addSkuAuditButton': 'button[name="addSkuAudit"]',
          'endButton': 'button[name="end"]'
        },
        events: {
          'click @ui.addTravelerIdAuditButton': 'addTravelerId',
          'submit @ui.travelerIdLabelForm': 'addTravelerId',
          'click @ui.addSalesItemAuditButton': 'addSalesItem',
          'submit @ui.salesItemLabelForm': 'addSalesItem',
          'click @ui.addSkuAuditButton': 'addSkuAudit',
          'click @ui.endButton': 'end'
        },
        onRender: function onRender() {
          Radio.channel('app').trigger('navigate', this.model.url(), { trigger: false });
          this.showTravelerIdAuditList();
          this.showSalesItemAuditList();
          this.showSkuAuditList();
        },
        showTravelerIdAuditList: function showTravelerIdAuditList() {
          var travelerIdAuditListView = new InventoryTravelerIdAuditListView({
            collection: this.model.get('inventoryTravelerIdAudits')
          });
          this.showChildView('travelerIdAudits', travelerIdAuditListView);
        },
        showSalesItemAuditList: function showSalesItemAuditList() {
          var salesItemAuditListView = new InventorySalesItemAuditListView({
            collection: this.model.get('inventorySalesItemAudits')
          });
          this.showChildView('salesItemAudits', salesItemAuditListView);
        },
        showSkuAuditList: function showSkuAuditList() {
          var skuAuditListView = new InventorySkuAuditListView({
            collection: this.model.get('inventorySkuAudits')
          });
          this.showChildView('skuAudits', skuAuditListView);
        },
        addTravelerId: function addTravelerId(event) {
          event.preventDefault();
          var travelerIdLabel = this.ui.travelerIdLabelInput.val();
          this.ui.travelerIdLabelInput.focus().val('');
          var travelerId = new InventoryTravelerIdAuditModel({
            inventoryAudit: this.model,
            travelerIdLabel: travelerIdLabel
          }).save();
        },
        addSalesItem: function addSalesItem(event) {
          event.preventDefault();
          var salesItemLabel = this.ui.salesItemLabelInput.val();
          this.ui.salesItemLabelInput.focus().val('');
          var salesItem = new InventorySalesItemAuditModel({
            inventoryAudit: this.model,
            salesItemLabel: salesItemLabel
          }).save();
        },
        addSkuAudit: function addSkuAudit(event) {
          event.preventDefault();
          var options = {
            title: 'Add Sku Count',
            width: '400px'
          };
          var inventorySkuAudit = new InventorySkuAuditModel({
            inventoryAudit: this.model
          });
          var view = new InventorySkuAuditView({
            model: inventorySkuAudit
          });
          Radio.channel('dialog').trigger('close');
          Radio.channel('dialog').trigger('open', view, options);
        },
        end: function end(event) {
          var _this = this;

          event.preventDefault();
          this.disableButtons();
          this.model.save({ endedAt: new Date() }).always(function () {
            _this.enableButtons();
          }).done(function () {
            Radio.channel('app').trigger('navigate', '/inventory_audit');
          });
        },
        disableButtons: function disableButtons() {
          this.$el.find('button').prop('disabled', true);
        },
        enableButtons: function enableButtons() {
          this.$el.find('button').prop('disabled', false);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventorySkuAuditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './skuModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_skuModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_sku_audit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }],
        defaults: {
          inventoryAudit: null,
          sku: null,
          userCount: null,
          systemCount: null
        }

      });


      globalNamespace.Models.InventorySkuAuditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryAuditModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './binModel.js', './inventorySkuAuditModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_binModelJs) {}, function (_inventorySkuAuditModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_audit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'forBin',
          relatedModel: 'BinModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasMany,
          key: 'inventoryTravelerIdAudits',
          relatedModel: 'InventoryTravelerIdAuditModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'inventoryAudit',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'inventorySalesItemAudits',
          relatedModel: 'InventorySalesItemAuditModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'inventoryAudit',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'inventorySkuAudits',
          relatedModel: 'InventorySkuAuditModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'inventoryAudit',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          byUser: null,
          forBin: null,
          startedAt: null,
          endedAt: null,
          totalDeviations: null,
          travelerIdCountDeviations: null,
          travelerIdMatchDeviations: null,
          salesItemCountDeviations: null,
          salesItemMatchDeviations: null,
          partCountDeviations: null,
          inventoryTravelerIdAudits: null,
          inventorySalesItemAudits: null,
          inventorySkuAudits: null
        }

      });


      globalNamespace.Models.InventoryAuditModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/controller.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/slicedToArray.js', 'underscore', 'backbone', 'backbone.radio', 'marionette', './views/inventoryActionIndexView.js', './views/inventoryLogIndexView.js', './views/travelerIdView.js', './views/binSkuCountView.js', './views/salesItemView.js', 'lib/common/views/entity/searchableListLayoutView.js', './models/inventoryTravelerIdEditCollection.js', './views/inventoryTravelerIdEditListTableLayoutTpl.hbs!', './views/inventoryTravelerIdEditRowTpl.hbs!', './models/inventoryTravelerIdMovementCollection.js', './views/inventoryTravelerIdMovementListTableLayoutTpl.hbs!', './views/inventoryTravelerIdMovementRowTpl.hbs!', './models/inventoryTravelerIdTransformCollection.js', './views/inventoryTravelerIdTransformListTableLayoutTpl.hbs!', './views/inventoryTravelerIdTransformRowTpl.hbs!', './models/inventorySalesItemEditCollection.js', './views/inventorySalesItemEditListTableLayoutTpl.hbs!', './views/inventorySalesItemEditRowTpl.hbs!', './models/inventorySalesItemMovementCollection.js', './views/inventorySalesItemMovementListTableLayoutTpl.hbs!', './views/inventorySalesItemMovementRowTpl.hbs!', './models/inventorySkuAdjustmentCollection.js', './views/inventorySkuAdjustmentListTableLayoutTpl.hbs!', './views/inventorySkuAdjustmentRowTpl.hbs!', './models/inventorySkuMovementCollection.js', './views/inventorySkuMovementListTableLayoutTpl.hbs!', './views/inventorySkuMovementRowTpl.hbs!', './models/inventorySkuTransformCollection.js', './views/inventorySkuTransformListTableLayoutTpl.hbs!', './views/inventorySkuTransformRowTpl.hbs!', './models/inventoryAlertLogCollection.js', './views/inventoryAlertLogListTableLayoutTpl.hbs!', './views/inventoryAlertLogRowTpl.hbs!', './views/inventoryAuditListView.js', './views/inventoryAuditView.js', './models/inventoryAuditModel.js'], function (_export, _context) {
  "use strict";

  var _slicedToArray, _, Backbone, Radio, Marionette, InventoryActionIndexView, InventoryLogIndexView, TravelerIdView, BinSkuCountView, SalesItemView, SearchableListLayoutView, InventoryTravelerIdEditCollection, inventoryTravelerIdEditListTableLayoutTpl, inventoryTravelerIdEditRowTpl, InventoryTravelerIdMovementCollection, inventoryTravelerIdMovementListTableLayoutTpl, inventoryTravelerIdMovementRowTpl, InventoryTravelerIdTransformCollection, inventoryTravelerIdTransformListTableLayoutTpl, inventoryTravelerIdTransformRowTpl, InventorySalesItemEditCollection, inventorySalesItemEditListTableLayoutTpl, inventorySalesItemEditRowTpl, InventorySalesItemMovementCollection, inventorySalesItemMovementListTableLayoutTpl, inventorySalesItemMovementRowTpl, InventorySkuAdjustmentCollection, inventorySkuAdjustmentListTableLayoutTpl, inventorySkuAdjustmentRowTpl, InventorySkuMovementCollection, inventorySkuMovementListTableLayoutTpl, inventorySkuMovementRowTpl, InventorySkuTransformCollection, inventorySkuTransformListTableLayoutTpl, inventorySkuTransformRowTpl, InventoryAlertLogCollection, inventoryAlertLogListTableLayoutTpl, inventoryAlertLogRowTpl, InventoryAuditListView, InventoryAuditView, InventoryAuditModel;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs) {
      _slicedToArray = _npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_viewsInventoryActionIndexViewJs) {
      InventoryActionIndexView = _viewsInventoryActionIndexViewJs.default;
    }, function (_viewsInventoryLogIndexViewJs) {
      InventoryLogIndexView = _viewsInventoryLogIndexViewJs.default;
    }, function (_viewsTravelerIdViewJs) {
      TravelerIdView = _viewsTravelerIdViewJs.default;
    }, function (_viewsBinSkuCountViewJs) {
      BinSkuCountView = _viewsBinSkuCountViewJs.default;
    }, function (_viewsSalesItemViewJs) {
      SalesItemView = _viewsSalesItemViewJs.default;
    }, function (_libCommonViewsEntitySearchableListLayoutViewJs) {
      SearchableListLayoutView = _libCommonViewsEntitySearchableListLayoutViewJs.default;
    }, function (_modelsInventoryTravelerIdEditCollectionJs) {
      InventoryTravelerIdEditCollection = _modelsInventoryTravelerIdEditCollectionJs.default;
    }, function (_viewsInventoryTravelerIdEditListTableLayoutTplHbs) {
      inventoryTravelerIdEditListTableLayoutTpl = _viewsInventoryTravelerIdEditListTableLayoutTplHbs.default;
    }, function (_viewsInventoryTravelerIdEditRowTplHbs) {
      inventoryTravelerIdEditRowTpl = _viewsInventoryTravelerIdEditRowTplHbs.default;
    }, function (_modelsInventoryTravelerIdMovementCollectionJs) {
      InventoryTravelerIdMovementCollection = _modelsInventoryTravelerIdMovementCollectionJs.default;
    }, function (_viewsInventoryTravelerIdMovementListTableLayoutTplHbs) {
      inventoryTravelerIdMovementListTableLayoutTpl = _viewsInventoryTravelerIdMovementListTableLayoutTplHbs.default;
    }, function (_viewsInventoryTravelerIdMovementRowTplHbs) {
      inventoryTravelerIdMovementRowTpl = _viewsInventoryTravelerIdMovementRowTplHbs.default;
    }, function (_modelsInventoryTravelerIdTransformCollectionJs) {
      InventoryTravelerIdTransformCollection = _modelsInventoryTravelerIdTransformCollectionJs.default;
    }, function (_viewsInventoryTravelerIdTransformListTableLayoutTplHbs) {
      inventoryTravelerIdTransformListTableLayoutTpl = _viewsInventoryTravelerIdTransformListTableLayoutTplHbs.default;
    }, function (_viewsInventoryTravelerIdTransformRowTplHbs) {
      inventoryTravelerIdTransformRowTpl = _viewsInventoryTravelerIdTransformRowTplHbs.default;
    }, function (_modelsInventorySalesItemEditCollectionJs) {
      InventorySalesItemEditCollection = _modelsInventorySalesItemEditCollectionJs.default;
    }, function (_viewsInventorySalesItemEditListTableLayoutTplHbs) {
      inventorySalesItemEditListTableLayoutTpl = _viewsInventorySalesItemEditListTableLayoutTplHbs.default;
    }, function (_viewsInventorySalesItemEditRowTplHbs) {
      inventorySalesItemEditRowTpl = _viewsInventorySalesItemEditRowTplHbs.default;
    }, function (_modelsInventorySalesItemMovementCollectionJs) {
      InventorySalesItemMovementCollection = _modelsInventorySalesItemMovementCollectionJs.default;
    }, function (_viewsInventorySalesItemMovementListTableLayoutTplHbs) {
      inventorySalesItemMovementListTableLayoutTpl = _viewsInventorySalesItemMovementListTableLayoutTplHbs.default;
    }, function (_viewsInventorySalesItemMovementRowTplHbs) {
      inventorySalesItemMovementRowTpl = _viewsInventorySalesItemMovementRowTplHbs.default;
    }, function (_modelsInventorySkuAdjustmentCollectionJs) {
      InventorySkuAdjustmentCollection = _modelsInventorySkuAdjustmentCollectionJs.default;
    }, function (_viewsInventorySkuAdjustmentListTableLayoutTplHbs) {
      inventorySkuAdjustmentListTableLayoutTpl = _viewsInventorySkuAdjustmentListTableLayoutTplHbs.default;
    }, function (_viewsInventorySkuAdjustmentRowTplHbs) {
      inventorySkuAdjustmentRowTpl = _viewsInventorySkuAdjustmentRowTplHbs.default;
    }, function (_modelsInventorySkuMovementCollectionJs) {
      InventorySkuMovementCollection = _modelsInventorySkuMovementCollectionJs.default;
    }, function (_viewsInventorySkuMovementListTableLayoutTplHbs) {
      inventorySkuMovementListTableLayoutTpl = _viewsInventorySkuMovementListTableLayoutTplHbs.default;
    }, function (_viewsInventorySkuMovementRowTplHbs) {
      inventorySkuMovementRowTpl = _viewsInventorySkuMovementRowTplHbs.default;
    }, function (_modelsInventorySkuTransformCollectionJs) {
      InventorySkuTransformCollection = _modelsInventorySkuTransformCollectionJs.default;
    }, function (_viewsInventorySkuTransformListTableLayoutTplHbs) {
      inventorySkuTransformListTableLayoutTpl = _viewsInventorySkuTransformListTableLayoutTplHbs.default;
    }, function (_viewsInventorySkuTransformRowTplHbs) {
      inventorySkuTransformRowTpl = _viewsInventorySkuTransformRowTplHbs.default;
    }, function (_modelsInventoryAlertLogCollectionJs) {
      InventoryAlertLogCollection = _modelsInventoryAlertLogCollectionJs.default;
    }, function (_viewsInventoryAlertLogListTableLayoutTplHbs) {
      inventoryAlertLogListTableLayoutTpl = _viewsInventoryAlertLogListTableLayoutTplHbs.default;
    }, function (_viewsInventoryAlertLogRowTplHbs) {
      inventoryAlertLogRowTpl = _viewsInventoryAlertLogRowTplHbs.default;
    }, function (_viewsInventoryAuditListViewJs) {
      InventoryAuditListView = _viewsInventoryAuditListViewJs.default;
    }, function (_viewsInventoryAuditViewJs) {
      InventoryAuditView = _viewsInventoryAuditViewJs.default;
    }, function (_modelsInventoryAuditModelJs) {
      InventoryAuditModel = _modelsInventoryAuditModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        index: function index() {
          this.travelerIds();
        },
        travelerIds: function travelerIds(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var travelerIdView = new TravelerIdView({ id: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', travelerIdView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'travelerIds');
        },
        showInboundOrder: function showInboundOrder(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var travelerIdView = new TravelerIdView({ inboundOrder: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', travelerIdView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
        },
        showOutboundOrder: function showOutboundOrder(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var travelerIdView = new SalesItemView({ outboundOrder: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', travelerIdView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
        },
        showBin: function showBin(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var travelerIdView = new TravelerIdView({ bin: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', travelerIdView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
        },
        showTid: function showTid(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var travelerIdView = new TravelerIdView({ show: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', travelerIdView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
        },
        salesItems: function salesItems(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var salesItemView = new SalesItemView({ id: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', salesItemView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'salesItems');
        },
        showSalesItem: function showSalesItem(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var salesItemView = new SalesItemView({ shoq: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', salesItemView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
        },
        inventoryTravelerIdEdits: function inventoryTravelerIdEdits() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventoryTravelerIdEditCollection = Radio.channel('data').request('collection', InventoryTravelerIdEditCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventoryTravelerIdEditCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'travelerId.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventoryTravelerIdEditListTableLayoutTpl,
            entityRowTpl: inventoryTravelerIdEditRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryTravelerIdEdits');
        },
        inventoryTravelerIdMovements: function inventoryTravelerIdMovements() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventoryTravelerIdMovementCollection = Radio.channel('data').request('collection', InventoryTravelerIdMovementCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventoryTravelerIdMovementCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'fromBin.name', 'toBin.name', 'travelerId.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventoryTravelerIdMovementListTableLayoutTpl,
            entityRowTpl: inventoryTravelerIdMovementRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryTravelerIdMovements');
        },
        inventoryTravelerIdTransforms: function inventoryTravelerIdTransforms() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventoryTravelerIdTransformCollection = Radio.channel('data').request('collection', InventoryTravelerIdTransformCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventoryTravelerIdTransformCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'fromTravelerIds.label', 'toTravelerIds.label', 'toSalesItems.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventoryTravelerIdTransformListTableLayoutTpl,
            entityRowTpl: inventoryTravelerIdTransformRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryTravelerIdTransforms');
        },
        inventorySalesItemEdits: function inventorySalesItemEdits() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventorySalesItemEditCollection = Radio.channel('data').request('collection', InventorySalesItemEditCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventorySalesItemEditCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'salesItem.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventorySalesItemEditListTableLayoutTpl,
            entityRowTpl: inventorySalesItemEditRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventorySalesItemEdits');
        },
        inventorySalesItemMovements: function inventorySalesItemMovements() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventorySalesItemMovementCollection = Radio.channel('data').request('collection', InventorySalesItemMovementCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventorySalesItemMovementCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'fromBin.name', 'toBin.name', 'salesItem.label'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventorySalesItemMovementListTableLayoutTpl,
            entityRowTpl: inventorySalesItemMovementRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventorySalesItemMovements');
        },
        binSkuCounts: function binSkuCounts(id) {
          var inventoryIndexView = new InventoryActionIndexView();
          var binSkuCountView = new BinSkuCountView();

          this.buildViewStack([{
            regionViewMap: new Map([['content', binSkuCountView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'binSkuCounts');
        },
        inventorySkuAdjustments: function inventorySkuAdjustments() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventorySkuAdjustmentCollection = Radio.channel('data').request('collection', InventorySkuAdjustmentCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventorySkuAdjustmentCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'forBin.name', 'sku.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventorySkuAdjustmentListTableLayoutTpl,
            entityRowTpl: inventorySkuAdjustmentRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventorySkuAdjustments');
        },
        inventorySkuMovements: function inventorySkuMovements() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventorySkuMovementCollection = Radio.channel('data').request('collection', InventorySkuMovementCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventorySkuMovementCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'fromBin.name', 'toBin.name', 'sku.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventorySkuMovementListTableLayoutTpl,
            entityRowTpl: inventorySkuMovementRowTpl,
            colspan: 7
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventorySkuMovements');
        },
        inventorySkuTransforms: function inventorySkuTransforms() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventorySkuTransformCollection = Radio.channel('data').request('collection', InventorySkuTransformCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventorySkuTransformCollection,
            listLength: 20,
            searchPath: ['byUser.firstName', 'byUser.lastName', 'fromBinSkuCount.sku.name', 'fromBinSkuCount.bin.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventorySkuTransformListTableLayoutTpl,
            entityRowTpl: inventorySkuTransformRowTpl,
            colspan: 7
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventorySkuTransforms');
        },
        inventoryAlertLogs: function inventoryAlertLogs() {
          var inventoryIndexView = new InventoryLogIndexView();

          var inventoryAlertLogCollection = Radio.channel('data').request('collection', InventoryAlertLogCollection, { doFetch: false });
          var listView = new SearchableListLayoutView({
            collection: inventoryAlertLogCollection,
            listLength: 20,
            searchPath: ['inventoryAlert.department.name', 'inventoryAlert.sku.name'],
            useTableView: true,
            usePagination: 'server',
            entityListTableLayoutTpl: inventoryAlertLogListTableLayoutTpl,
            entityRowTpl: inventoryAlertLogRowTpl,
            colspan: 6
          });

          this.buildViewStack([{
            regionViewMap: new Map([['content', listView]]),
            viewInstance: inventoryIndexView
          }]);

          Radio.channel('app').trigger('show:view', inventoryIndexView);
          Radio.channel('help').trigger('show', 'inventoryAlertLogs');
        },
        inventoryAudit: function inventoryAudit(id) {
          var view = new InventoryAuditListView();
          if (id) {
            var auditModel = InventoryAuditModel.findOrCreate({ id: id });
            view = new InventoryAuditView({
              model: auditModel
            });
            auditModel.fetch().done(function () {
              Radio.channel('app').trigger('show:view', view);
            });
          } else {
            Radio.channel('app').trigger('show:view', view);
          }
          Radio.channel('help').trigger('show', 'inventoryAudit');
        },
        buildViewStack: function buildViewStack(stack) {
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            var _loop = function _loop() {
              var viewObj = _step.value;
              var _iteratorNormalCompletion2 = true;
              var _didIteratorError2 = false;
              var _iteratorError2 = undefined;

              try {
                var _loop2 = function _loop2() {
                  var _step2$value = _slicedToArray(_step2.value, 2);

                  var regionName = _step2$value[0];
                  var viewInstance = _step2$value[1];

                  viewObj.viewInstance.once('render', function () {
                    viewObj.viewInstance.showChildView(regionName, viewInstance);
                  });
                };

                for (var _iterator2 = viewObj.regionViewMap[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  _loop2();
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator2.return) {
                    _iterator2.return();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            };

            for (var _iterator = stack[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              _loop();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/router.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './controller.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_controllerJs) {}],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          this.options = {};
          Object.assign(this.options, options);
          if (!(this.options.appRouter instanceof Marionette.AppRouter)) {
            throw 'Controller Must be passed an AppRouter instance.';
          } else {
            this.appRouter = this.options.appRouter;
          }
          this.appRouter.processAppRoutes(this, this.routes);
        },

        routes: {
          'tid': 'travelerIds',
          'tid/:id': 'travelerIds',
          'show/inbound_order/:id': 'showInboundOrder',
          'show/outbound_order/:id': 'showOutboundOrder',
          'show/bin/:id': 'showBin',
          'show/tid/:id': 'showTid',
          'bin_sku_count': 'binSkuCounts',
          'bin_sku_count/:id': 'binSkuCounts',
          'sales_item': 'salesItems',
          'sales_item/:id': 'salesItems',
          'show/sales_item/:id': 'showSalesItem',
          'inventory_tid_edit': 'inventoryTravelerIdEdits',
          'inventory_tid_movement': 'inventoryTravelerIdMovements',
          'inventory_tid_transform': 'inventoryTravelerIdTransforms',
          'inventory_sales_item_edit': 'inventorySalesItemEdits',
          'inventory_sales_item_movement': 'inventorySalesItemMovements',
          'inventory_sku_adjustment': 'inventorySkuAdjustments',
          'inventory_sku_movement': 'inventorySkuMovements',
          'inventory_sku_transform': 'inventorySkuTransforms',
          'inventory_alert_log': 'inventoryAlertLogs',
          'inventory_audit': 'inventoryAudit',
          'inventory_audit/:id': 'inventoryAudit',
          'inventory_action': 'inventoryAction',
          'inventory_log': 'inventoryLog'
        },
        inventoryAction: function inventoryAction() {
          this.travelerIds();
        },
        inventoryLog: function inventoryLog() {
          this.inventoryTravelerIdEdits();
        },
        travelerIds: function travelerIds(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.travelerIds(id);
          });
        },
        showInboundOrder: function showInboundOrder(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.showInboundOrder(id);
          });
        },
        showOutboundOrder: function showOutboundOrder(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.showOutboundOrder(id);
          });
        },
        showBin: function showBin(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.showBin(id);
          });
        },
        showTid: function showTid(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.showTid(id);
          });
        },
        binSkuCounts: function binSkuCounts(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.binSkuCounts(id);
          });
        },
        salesItems: function salesItems(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.salesItems(id);
          });
        },
        showSalesItem: function showSalesItem(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.showSalesItem(id);
          });
        },
        inventoryTravelerIdEdits: function inventoryTravelerIdEdits() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryTravelerIdEdits();
          });
        },
        inventoryTravelerIdMovements: function inventoryTravelerIdMovements() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryTravelerIdMovements();
          });
        },
        inventoryTravelerIdTransforms: function inventoryTravelerIdTransforms() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryTravelerIdTransforms();
          });
        },
        inventorySalesItemEdits: function inventorySalesItemEdits() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventorySalesItemEdits();
          });
        },
        inventorySalesItemMovements: function inventorySalesItemMovements() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventorySalesItemMovements();
          });
        },
        inventorySkuAdjustments: function inventorySkuAdjustments() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventorySkuAdjustments();
          });
        },
        inventorySkuMovements: function inventorySkuMovements() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventorySkuMovements();
          });
        },
        inventorySkuTransforms: function inventorySkuTransforms() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventorySkuTransforms();
          });
        },
        inventoryAlertLogs: function inventoryAlertLogs() {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryAlertLogs();
          });
        },
        inventoryAudit: function inventoryAudit(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/inventory/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.inventoryAudit(id);
          });
        }
      }));
    }
  };
});
System.register("npm:systemjs-plugin-babel@0.0.13/babel-helpers/slicedToArray.js", [], function (_export, _context) {
  "use strict";

  return {
    setters: [],
    execute: function () {
      _export("default", function () {
        function sliceIterator(arr, i) {
          var _arr = [];
          var _n = true;
          var _d = false;
          var _e = undefined;

          try {
            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
              _arr.push(_s.value);

              if (i && _arr.length === i) break;
            }
          } catch (err) {
            _d = true;
            _e = err;
          } finally {
            try {
              if (!_n && _i["return"]) _i["return"]();
            } finally {
              if (_d) throw _e;
            }
          }

          return _arr;
        }

        return function (arr, i) {
          if (Array.isArray(arr)) {
            return arr;
          } else if (Symbol.iterator in Object(arr)) {
            return sliceIterator(arr, i);
          } else {
            throw new TypeError("Invalid attempt to destructure non-iterable instance");
          }
        };
      }());
    }
  };
});
System.registerDynamic("lib/reporting/views/reportingIndexView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h2 class=\"title is-2\">Reporting</h2>\r\n<div id=\"reporting-tabs\"></div>\r\n<div id=\"reporting-content\"></div>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register('lib/common/views/navTabsView.js', ['backbone.radio', 'marionette'], function (_export, _context) {
  "use strict";

  var Radio, Marionette;
  return {
    setters: [function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.listenTo(Radio.channel('app'), 'route:changed', this.render);
          this.listenTo(Radio.channel('data').request('myself'), 'update:userRoles', this.render);
          this.listenTo(Radio.channel('data').request('myself'), 'change:userRoles', this.render);
        },
        className: function className() {
          var classes = 'tabs is-toggle';
          if (this.options.hasDropdown) {
            classes += ' has-dropdown';
          }
          return classes;
        },
        getTemplate: function getTemplate() {
          return this.options.template;
        }
      }));
    }
  };
});
System.registerDynamic("lib/reporting/views/reportingIndexTabsView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "is-active";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1, helper;

            return "<ul>\r\n	<li class=\"" + ((stack1 = (helpers.ifIsRouteActive || depth0 && depth0.ifIsRouteActive || helpers.helperMissing).call(depth0 != null ? depth0 : {}, "/reporting/single_query_report", { "name": "ifIsRouteActive", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\"><a href=\"" + container.escapeExpression((helper = (helper = helpers.baseUrl || (depth0 != null ? depth0.baseUrl : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "baseUrl", "hash": {}, "data": data }) : helper)) + "/reporting/single_query_report\">Single Query Reports</a></li>\r\n</ul>";
        }, "useData": true });
    return module.exports;
});
"use strict";

System.register("lib/reporting/views/reportingIndexView.js", ["marionette", "./reportingIndexView.hbs!", "backbone.radio", "lib/common/views/navTabsView.js", "./reportingIndexTabsView.hbs!"], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl, Radio, NavTabsView, tabsTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_reportingIndexViewHbs) {
      viewTpl = _reportingIndexViewHbs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonViewsNavTabsViewJs) {
      NavTabsView = _libCommonViewsNavTabsViewJs.default;
    }, function (_reportingIndexTabsViewHbs) {
      tabsTpl = _reportingIndexTabsViewHbs.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl,
        regions: {
          content: "#reporting-content",
          tabs: "#reporting-tabs"
        },
        ui: {
          tabLink: "#reporting-tabs a"
        },
        events: {
          "click @ui.tabLink": "navigate"
        },
        navigate: function navigate(e) {
          e.preventDefault();
          Radio.channel('app').trigger('navigate', e.target.getAttribute('href'));
        },
        onRender: function onRender() {
          this.showChildView('tabs', new NavTabsView({
            template: tabsTpl
          }));
        }
      }));
    }
  };
});
System.registerDynamic("lib/reporting/views/singleQueryReportBasicView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<h3>Reports</h3>\r\n<p class=\"control\">\r\n	<select name=\"report\"></select>\r\n</p>\r\n<div class=\"box\">\r\n	<div id=\"single-query-report-form\" class=\"section\"></div>\r\n	<p class=\"control\">\r\n		<button type=\"button\" name=\"runReport\" class=\"button small radius\">Run <span class=\"fa fa-table\"></span></button>\r\n		<button type=\"button\" name=\"exportReport\" class=\"button small radius\">Export(Excel) <span class=\"fa fa-file-excel-o\"></span></button>\r\n		<button type=\"button\" name=\"exportReportCsv\" class=\"button small radius\">Export(CSV) <span class=\"fa fa-file-text-o\"></span></button>\r\n	</p>\r\n</div>\r\n<div id=\"single-query-report-table\"></div>";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic("lib/common/views/loadingView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<div><span class=\"fa fa-spinner fa-pulse\"></span></div>";
    }, "useData": true });
  return module.exports;
});
"use strict";

System.register("lib/common/views/loadingView.js", ["./loadingView.hbs!", "marionette"], function (_export, _context) {
  "use strict";

  var viewTpl, Marionette;
  return {
    setters: [function (_loadingViewHbs) {
      viewTpl = _loadingViewHbs.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export("default", Marionette.View.extend({
        template: viewTpl
      }));
    }
  };
});
System.registerDynamic("github:marionettejs/backbone.syphon@0.6.3.json", [], false, function() {
  return {
    "main": "./lib/backbone.syphon.js"
  };
});

(function() {
var define = System.amdDefine;
(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    define("github:marionettejs/backbone.syphon@0.6.3/lib/backbone.syphon.js", ["underscore", "backbone", "jquery"], function(_, Backbone, $) {
      return factory(_, Backbone, $);
    });
  } else if (typeof exports !== 'undefined') {
    var _ = require('underscore');
    var Backbone = require('backbone');
    var $ = require('jquery');
    module.exports = factory(_, Backbone, $);
  } else {
    factory(root._, root.Backbone, root.jQuery);
  }
}(this, function(_, Backbone, $) {
  'use strict';
  var previousSyphon = Backbone.Syphon;
  var Syphon = Backbone.Syphon = {};
  Syphon.VERSION = '0.6.3';
  Syphon.noConflict = function() {
    Backbone.Syphon = previousSyphon;
    return this;
  };
  Syphon.ignoredTypes = ['button', 'submit', 'reset', 'fieldset'];
  Syphon.serialize = function(view, options) {
    var data = {};
    var config = buildConfig(options);
    var elements = getInputElements(view, config);
    _.each(elements, function(el) {
      var $el = $(el);
      var type = getElementType($el);
      var keyExtractor = config.keyExtractors.get(type);
      var key = keyExtractor($el);
      var inputReader = config.inputReaders.get(type);
      var value = inputReader($el);
      var validKeyAssignment = config.keyAssignmentValidators.get(type);
      if (validKeyAssignment($el, key, value)) {
        var keychain = config.keySplitter(key);
        data = assignKeyValue(data, keychain, value);
      }
    });
    return data;
  };
  Syphon.deserialize = function(view, data, options) {
    var config = buildConfig(options);
    var elements = getInputElements(view, config);
    var flattenedData = flattenData(config, data);
    _.each(elements, function(el) {
      var $el = $(el);
      var type = getElementType($el);
      var keyExtractor = config.keyExtractors.get(type);
      var key = keyExtractor($el);
      var inputWriter = config.inputWriters.get(type);
      var value = flattenedData[key];
      inputWriter($el, value);
    });
  };
  var getInputElements = function(view, config) {
    var formInputs = getForm(view);
    formInputs = _.reject(formInputs, function(el) {
      var reject;
      var myType = getElementType(el);
      var extractor = config.keyExtractors.get(myType);
      var identifier = extractor($(el));
      var foundInIgnored = _.find(config.ignoredTypes, function(ignoredTypeOrSelector) {
        return (ignoredTypeOrSelector === myType) || $(el).is(ignoredTypeOrSelector);
      });
      var foundInInclude = _.include(config.include, identifier);
      var foundInExclude = _.include(config.exclude, identifier);
      if (foundInInclude) {
        reject = false;
      } else {
        if (config.include) {
          reject = true;
        } else {
          reject = (foundInExclude || foundInIgnored);
        }
      }
      return reject;
    });
    return formInputs;
  };
  var getElementType = function(el) {
    var typeAttr;
    var $el = $(el);
    var tagName = $el[0].tagName;
    var type = tagName;
    if (tagName.toLowerCase() === 'input') {
      typeAttr = $el.attr('type');
      if (typeAttr) {
        type = typeAttr;
      } else {
        type = 'text';
      }
    }
    return type.toLowerCase();
  };
  var getForm = function(viewOrForm) {
    if (_.isUndefined(viewOrForm.$el)) {
      return $(viewOrForm).find(':input');
    } else {
      return viewOrForm.$(':input');
    }
  };
  var buildConfig = function(options) {
    var config = _.clone(options) || {};
    config.ignoredTypes = _.clone(Syphon.ignoredTypes);
    config.inputReaders = config.inputReaders || Syphon.InputReaders;
    config.inputWriters = config.inputWriters || Syphon.InputWriters;
    config.keyExtractors = config.keyExtractors || Syphon.KeyExtractors;
    config.keySplitter = config.keySplitter || Syphon.KeySplitter;
    config.keyJoiner = config.keyJoiner || Syphon.KeyJoiner;
    config.keyAssignmentValidators = config.keyAssignmentValidators || Syphon.KeyAssignmentValidators;
    return config;
  };
  var assignKeyValue = function(obj, keychain, value) {
    if (!keychain) {
      return obj;
    }
    var key = keychain.shift();
    if (!obj[key]) {
      obj[key] = _.isArray(key) ? [] : {};
    }
    if (keychain.length === 0) {
      if (_.isArray(obj[key])) {
        obj[key].push(value);
      } else {
        obj[key] = value;
      }
    }
    if (keychain.length > 0) {
      assignKeyValue(obj[key], keychain, value);
    }
    return obj;
  };
  var flattenData = function(config, data, parentKey) {
    var flatData = {};
    _.each(data, function(value, keyName) {
      var hash = {};
      if (parentKey) {
        keyName = config.keyJoiner(parentKey, keyName);
      }
      if (_.isArray(value)) {
        keyName += '[]';
        hash[keyName] = value;
      } else if (_.isObject(value)) {
        hash = flattenData(config, value, keyName);
      } else {
        hash[keyName] = value;
      }
      _.extend(flatData, hash);
    });
    return flatData;
  };
  var TypeRegistry = Syphon.TypeRegistry = function() {
    this.registeredTypes = {};
  };
  TypeRegistry.extend = Backbone.Model.extend;
  _.extend(TypeRegistry.prototype, {
    get: function(type) {
      if (_.has(this.registeredTypes, type)) {
        return this.registeredTypes[type];
      } else {
        return this.registeredTypes['default'];
      }
    },
    register: function(type, item) {
      this.registeredTypes[type] = item;
    },
    registerDefault: function(item) {
      this.registeredTypes['default'] = item;
    },
    unregister: function(type) {
      if (_.has(this.registeredTypes, type)) {
        delete this.registeredTypes[type];
      }
    }
  });
  var KeyExtractorSet = Syphon.KeyExtractorSet = TypeRegistry.extend();
  var KeyExtractors = Syphon.KeyExtractors = new KeyExtractorSet();
  KeyExtractors.registerDefault(function($el) {
    return $el.prop('name') || '';
  });
  var InputReaderSet = Syphon.InputReaderSet = TypeRegistry.extend();
  var InputReaders = Syphon.InputReaders = new InputReaderSet();
  InputReaders.registerDefault(function($el) {
    return $el.val();
  });
  InputReaders.register('checkbox', function($el) {
    return ($el.prop('indeterminate')) ? null : $el.prop('checked');
  });
  var InputWriterSet = Syphon.InputWriterSet = TypeRegistry.extend();
  var InputWriters = Syphon.InputWriters = new InputWriterSet();
  InputWriters.registerDefault(function($el, value) {
    $el.val(value);
  });
  InputWriters.register('checkbox', function($el, value) {
    if (value === null) {
      $el.prop('indeterminate', true);
    } else {
      $el.prop('checked', value);
    }
  });
  InputWriters.register('radio', function($el, value) {
    $el.prop('checked', $el.val() === value.toString());
  });
  var KeyAssignmentValidatorSet = Syphon.KeyAssignmentValidatorSet = TypeRegistry.extend();
  var KeyAssignmentValidators = Syphon.KeyAssignmentValidators = new KeyAssignmentValidatorSet();
  KeyAssignmentValidators.registerDefault(function() {
    return true;
  });
  KeyAssignmentValidators.register('radio', function($el, key, value) {
    return $el.prop('checked');
  });
  Syphon.KeySplitter = function(key) {
    var matches = key.match(/[^\[\]]+/g);
    var lastKey;
    if (key.length > 1 && key.indexOf('[]') === key.length - 2) {
      lastKey = matches.pop();
      matches.push([lastKey]);
    }
    return matches;
  };
  Syphon.KeyJoiner = function(parentKey, childKey) {
    return parentKey + '[' + childKey + ']';
  };
  return Backbone.Syphon;
}));

})();
System.registerDynamic("lib/reporting/views/singleQueryReportFormLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      return "<form>\r\n	<div data-region-name=\"parameters\"></div>\r\n</form>\r\n\r\n";
    }, "useData": true });
  return module.exports;
});
System.registerDynamic('github:components/handlebars.js@4.0.5/handlebars.js', [], false, function ($__require, $__exports, $__module) {
	var _retrieveGlobal = System.get("@@global-helpers").prepareGlobal($__module.id, 'Handlebars', null);

	(function ($__global) {
		/*!
  
   handlebars v4.0.5
  
  Copyright (C) 2011-2015 by Yehuda Katz
  
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  THE SOFTWARE.
  
  @license
  */
		(function webpackUniversalModuleDefinition(root, factory) {
			if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports["Handlebars"] = factory();else root["Handlebars"] = factory();
		})(this, function () {
			return (/******/function (modules) {
					// webpackBootstrap
					/******/ // The module cache
					/******/var installedModules = {};

					/******/ // The require function
					/******/function __webpack_require__(moduleId) {

						/******/ // Check if module is in cache
						/******/if (installedModules[moduleId])
							/******/return installedModules[moduleId].exports;

						/******/ // Create a new module (and put it into the cache)
						/******/var module = installedModules[moduleId] = {
							/******/exports: {},
							/******/id: moduleId,
							/******/loaded: false
							/******/ };

						/******/ // Execute the module function
						/******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

						/******/ // Flag the module as loaded
						/******/module.loaded = true;

						/******/ // Return the exports of the module
						/******/return module.exports;
						/******/
					}

					/******/ // expose the modules object (__webpack_modules__)
					/******/__webpack_require__.m = modules;

					/******/ // expose the module cache
					/******/__webpack_require__.c = installedModules;

					/******/ // __webpack_public_path__
					/******/__webpack_require__.p = "";

					/******/ // Load entry module and return exports
					/******/return __webpack_require__(0);
					/******/
				}(
				/************************************************************************/
				/******/[
				/* 0 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _handlebarsRuntime = __webpack_require__(2);

					var _handlebarsRuntime2 = _interopRequireDefault(_handlebarsRuntime);

					// Compiler imports

					var _handlebarsCompilerAst = __webpack_require__(21);

					var _handlebarsCompilerAst2 = _interopRequireDefault(_handlebarsCompilerAst);

					var _handlebarsCompilerBase = __webpack_require__(22);

					var _handlebarsCompilerCompiler = __webpack_require__(27);

					var _handlebarsCompilerJavascriptCompiler = __webpack_require__(28);

					var _handlebarsCompilerJavascriptCompiler2 = _interopRequireDefault(_handlebarsCompilerJavascriptCompiler);

					var _handlebarsCompilerVisitor = __webpack_require__(25);

					var _handlebarsCompilerVisitor2 = _interopRequireDefault(_handlebarsCompilerVisitor);

					var _handlebarsNoConflict = __webpack_require__(20);

					var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

					var _create = _handlebarsRuntime2['default'].create;
					function create() {
						var hb = _create();

						hb.compile = function (input, options) {
							return _handlebarsCompilerCompiler.compile(input, options, hb);
						};
						hb.precompile = function (input, options) {
							return _handlebarsCompilerCompiler.precompile(input, options, hb);
						};

						hb.AST = _handlebarsCompilerAst2['default'];
						hb.Compiler = _handlebarsCompilerCompiler.Compiler;
						hb.JavaScriptCompiler = _handlebarsCompilerJavascriptCompiler2['default'];
						hb.Parser = _handlebarsCompilerBase.parser;
						hb.parse = _handlebarsCompilerBase.parse;

						return hb;
					}

					var inst = create();
					inst.create = create;

					_handlebarsNoConflict2['default'](inst);

					inst.Visitor = _handlebarsCompilerVisitor2['default'];

					inst['default'] = inst;

					exports['default'] = inst;
					module.exports = exports['default'];

					/***/
				},
				/* 1 */
				/***/function (module, exports) {

					"use strict";

					exports["default"] = function (obj) {
						return obj && obj.__esModule ? obj : {
							"default": obj
						};
					};

					exports.__esModule = true;

					/***/
				},
				/* 2 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireWildcard = __webpack_require__(3)['default'];

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _handlebarsBase = __webpack_require__(4);

					var base = _interopRequireWildcard(_handlebarsBase);

					// Each of these augment the Handlebars object. No need to setup here.
					// (This is done to easily share code between commonjs and browse envs)

					var _handlebarsSafeString = __webpack_require__(18);

					var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

					var _handlebarsException = __webpack_require__(6);

					var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

					var _handlebarsUtils = __webpack_require__(5);

					var Utils = _interopRequireWildcard(_handlebarsUtils);

					var _handlebarsRuntime = __webpack_require__(19);

					var runtime = _interopRequireWildcard(_handlebarsRuntime);

					var _handlebarsNoConflict = __webpack_require__(20);

					var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

					// For compatibility and usage outside of module systems, make the Handlebars object a namespace
					function create() {
						var hb = new base.HandlebarsEnvironment();

						Utils.extend(hb, base);
						hb.SafeString = _handlebarsSafeString2['default'];
						hb.Exception = _handlebarsException2['default'];
						hb.Utils = Utils;
						hb.escapeExpression = Utils.escapeExpression;

						hb.VM = runtime;
						hb.template = function (spec) {
							return runtime.template(spec, hb);
						};

						return hb;
					}

					var inst = create();
					inst.create = create;

					_handlebarsNoConflict2['default'](inst);

					inst['default'] = inst;

					exports['default'] = inst;
					module.exports = exports['default'];

					/***/
				},
				/* 3 */
				/***/function (module, exports) {

					"use strict";

					exports["default"] = function (obj) {
						if (obj && obj.__esModule) {
							return obj;
						} else {
							var newObj = {};

							if (obj != null) {
								for (var key in obj) {
									if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];
								}
							}

							newObj["default"] = obj;
							return newObj;
						}
					};

					exports.__esModule = true;

					/***/
				},
				/* 4 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.HandlebarsEnvironment = HandlebarsEnvironment;

					var _utils = __webpack_require__(5);

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					var _helpers = __webpack_require__(7);

					var _decorators = __webpack_require__(15);

					var _logger = __webpack_require__(17);

					var _logger2 = _interopRequireDefault(_logger);

					var VERSION = '4.0.5';
					exports.VERSION = VERSION;
					var COMPILER_REVISION = 7;

					exports.COMPILER_REVISION = COMPILER_REVISION;
					var REVISION_CHANGES = {
						1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
						2: '== 1.0.0-rc.3',
						3: '== 1.0.0-rc.4',
						4: '== 1.x.x',
						5: '== 2.0.0-alpha.x',
						6: '>= 2.0.0-beta.1',
						7: '>= 4.0.0'
					};

					exports.REVISION_CHANGES = REVISION_CHANGES;
					var objectType = '[object Object]';

					function HandlebarsEnvironment(helpers, partials, decorators) {
						this.helpers = helpers || {};
						this.partials = partials || {};
						this.decorators = decorators || {};

						_helpers.registerDefaultHelpers(this);
						_decorators.registerDefaultDecorators(this);
					}

					HandlebarsEnvironment.prototype = {
						constructor: HandlebarsEnvironment,

						logger: _logger2['default'],
						log: _logger2['default'].log,

						registerHelper: function registerHelper(name, fn) {
							if (_utils.toString.call(name) === objectType) {
								if (fn) {
									throw new _exception2['default']('Arg not supported with multiple helpers');
								}
								_utils.extend(this.helpers, name);
							} else {
								this.helpers[name] = fn;
							}
						},
						unregisterHelper: function unregisterHelper(name) {
							delete this.helpers[name];
						},

						registerPartial: function registerPartial(name, partial) {
							if (_utils.toString.call(name) === objectType) {
								_utils.extend(this.partials, name);
							} else {
								if (typeof partial === 'undefined') {
									throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
								}
								this.partials[name] = partial;
							}
						},
						unregisterPartial: function unregisterPartial(name) {
							delete this.partials[name];
						},

						registerDecorator: function registerDecorator(name, fn) {
							if (_utils.toString.call(name) === objectType) {
								if (fn) {
									throw new _exception2['default']('Arg not supported with multiple decorators');
								}
								_utils.extend(this.decorators, name);
							} else {
								this.decorators[name] = fn;
							}
						},
						unregisterDecorator: function unregisterDecorator(name) {
							delete this.decorators[name];
						}
					};

					var log = _logger2['default'].log;

					exports.log = log;
					exports.createFrame = _utils.createFrame;
					exports.logger = _logger2['default'];

					/***/
				},
				/* 5 */
				/***/function (module, exports) {

					'use strict';

					exports.__esModule = true;
					exports.extend = extend;
					exports.indexOf = indexOf;
					exports.escapeExpression = escapeExpression;
					exports.isEmpty = isEmpty;
					exports.createFrame = createFrame;
					exports.blockParams = blockParams;
					exports.appendContextPath = appendContextPath;
					var escape = {
						'&': '&amp;',
						'<': '&lt;',
						'>': '&gt;',
						'"': '&quot;',
						"'": '&#x27;',
						'`': '&#x60;',
						'=': '&#x3D;'
					};

					var badChars = /[&<>"'`=]/g,
					    possible = /[&<>"'`=]/;

					function escapeChar(chr) {
						return escape[chr];
					}

					function extend(obj /* , ...source */) {
						for (var i = 1; i < arguments.length; i++) {
							for (var key in arguments[i]) {
								if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
									obj[key] = arguments[i][key];
								}
							}
						}

						return obj;
					}

					var toString = Object.prototype.toString;

					exports.toString = toString;
					// Sourced from lodash
					// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
					/* eslint-disable func-style */
					var isFunction = function isFunction(value) {
						return typeof value === 'function';
					};
					// fallback for older versions of Chrome and Safari
					/* istanbul ignore next */
					if (isFunction(/x/)) {
						exports.isFunction = isFunction = function (value) {
							return typeof value === 'function' && toString.call(value) === '[object Function]';
						};
					}
					exports.isFunction = isFunction;

					/* eslint-enable func-style */

					/* istanbul ignore next */
					var isArray = Array.isArray || function (value) {
						return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
					};

					exports.isArray = isArray;
					// Older IE versions do not directly support indexOf so we must implement our own, sadly.

					function indexOf(array, value) {
						for (var i = 0, len = array.length; i < len; i++) {
							if (array[i] === value) {
								return i;
							}
						}
						return -1;
					}

					function escapeExpression(string) {
						if (typeof string !== 'string') {
							// don't escape SafeStrings, since they're already safe
							if (string && string.toHTML) {
								return string.toHTML();
							} else if (string == null) {
								return '';
							} else if (!string) {
								return string + '';
							}

							// Force a string conversion as this will be done by the append regardless and
							// the regex test will do this transparently behind the scenes, causing issues if
							// an object's to string has escaped characters in it.
							string = '' + string;
						}

						if (!possible.test(string)) {
							return string;
						}
						return string.replace(badChars, escapeChar);
					}

					function isEmpty(value) {
						if (!value && value !== 0) {
							return true;
						} else if (isArray(value) && value.length === 0) {
							return true;
						} else {
							return false;
						}
					}

					function createFrame(object) {
						var frame = extend({}, object);
						frame._parent = object;
						return frame;
					}

					function blockParams(params, ids) {
						params.path = ids;
						return params;
					}

					function appendContextPath(contextPath, id) {
						return (contextPath ? contextPath + '.' : '') + id;
					}

					/***/
				},
				/* 6 */
				/***/function (module, exports) {

					'use strict';

					exports.__esModule = true;

					var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

					function Exception(message, node) {
						var loc = node && node.loc,
						    line = undefined,
						    column = undefined;
						if (loc) {
							line = loc.start.line;
							column = loc.start.column;

							message += ' - ' + line + ':' + column;
						}

						var tmp = Error.prototype.constructor.call(this, message);

						// Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
						for (var idx = 0; idx < errorProps.length; idx++) {
							this[errorProps[idx]] = tmp[errorProps[idx]];
						}

						/* istanbul ignore else */
						if (Error.captureStackTrace) {
							Error.captureStackTrace(this, Exception);
						}

						if (loc) {
							this.lineNumber = line;
							this.column = column;
						}
					}

					Exception.prototype = new Error();

					exports['default'] = Exception;
					module.exports = exports['default'];

					/***/
				},
				/* 7 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.registerDefaultHelpers = registerDefaultHelpers;

					var _helpersBlockHelperMissing = __webpack_require__(8);

					var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

					var _helpersEach = __webpack_require__(9);

					var _helpersEach2 = _interopRequireDefault(_helpersEach);

					var _helpersHelperMissing = __webpack_require__(10);

					var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

					var _helpersIf = __webpack_require__(11);

					var _helpersIf2 = _interopRequireDefault(_helpersIf);

					var _helpersLog = __webpack_require__(12);

					var _helpersLog2 = _interopRequireDefault(_helpersLog);

					var _helpersLookup = __webpack_require__(13);

					var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

					var _helpersWith = __webpack_require__(14);

					var _helpersWith2 = _interopRequireDefault(_helpersWith);

					function registerDefaultHelpers(instance) {
						_helpersBlockHelperMissing2['default'](instance);
						_helpersEach2['default'](instance);
						_helpersHelperMissing2['default'](instance);
						_helpersIf2['default'](instance);
						_helpersLog2['default'](instance);
						_helpersLookup2['default'](instance);
						_helpersWith2['default'](instance);
					}

					/***/
				},
				/* 8 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					exports['default'] = function (instance) {
						instance.registerHelper('blockHelperMissing', function (context, options) {
							var inverse = options.inverse,
							    fn = options.fn;

							if (context === true) {
								return fn(this);
							} else if (context === false || context == null) {
								return inverse(this);
							} else if (_utils.isArray(context)) {
								if (context.length > 0) {
									if (options.ids) {
										options.ids = [options.name];
									}

									return instance.helpers.each(context, options);
								} else {
									return inverse(this);
								}
							} else {
								if (options.data && options.ids) {
									var data = _utils.createFrame(options.data);
									data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
									options = { data: data };
								}

								return fn(context, options);
							}
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 9 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					exports['default'] = function (instance) {
						instance.registerHelper('each', function (context, options) {
							if (!options) {
								throw new _exception2['default']('Must pass iterator to #each');
							}

							var fn = options.fn,
							    inverse = options.inverse,
							    i = 0,
							    ret = '',
							    data = undefined,
							    contextPath = undefined;

							if (options.data && options.ids) {
								contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
							}

							if (_utils.isFunction(context)) {
								context = context.call(this);
							}

							if (options.data) {
								data = _utils.createFrame(options.data);
							}

							function execIteration(field, index, last) {
								if (data) {
									data.key = field;
									data.index = index;
									data.first = index === 0;
									data.last = !!last;

									if (contextPath) {
										data.contextPath = contextPath + field;
									}
								}

								ret = ret + fn(context[field], {
									data: data,
									blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
								});
							}

							if (context && typeof context === 'object') {
								if (_utils.isArray(context)) {
									for (var j = context.length; i < j; i++) {
										if (i in context) {
											execIteration(i, i, i === context.length - 1);
										}
									}
								} else {
									var priorKey = undefined;

									for (var key in context) {
										if (context.hasOwnProperty(key)) {
											// We're running the iterations one step out of sync so we can detect
											// the last iteration without have to scan the object twice and create
											// an itermediate keys array.
											if (priorKey !== undefined) {
												execIteration(priorKey, i - 1);
											}
											priorKey = key;
											i++;
										}
									}
									if (priorKey !== undefined) {
										execIteration(priorKey, i - 1, true);
									}
								}
							}

							if (i === 0) {
								ret = inverse(this);
							}

							return ret;
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 10 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					exports['default'] = function (instance) {
						instance.registerHelper('helperMissing', function () /* [args, ]options */{
							if (arguments.length === 1) {
								// A missing field in a {{foo}} construct.
								return undefined;
							} else {
								// Someone is actually trying to call something, blow up.
								throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
							}
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 11 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					exports['default'] = function (instance) {
						instance.registerHelper('if', function (conditional, options) {
							if (_utils.isFunction(conditional)) {
								conditional = conditional.call(this);
							}

							// Default behavior is to render the positive path if the value is truthy and not empty.
							// The `includeZero` option may be set to treat the condtional as purely not empty based on the
							// behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
							if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
								return options.inverse(this);
							} else {
								return options.fn(this);
							}
						});

						instance.registerHelper('unless', function (conditional, options) {
							return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 12 */
				/***/function (module, exports) {

					'use strict';

					exports.__esModule = true;

					exports['default'] = function (instance) {
						instance.registerHelper('log', function () /* message, options */{
							var args = [undefined],
							    options = arguments[arguments.length - 1];
							for (var i = 0; i < arguments.length - 1; i++) {
								args.push(arguments[i]);
							}

							var level = 1;
							if (options.hash.level != null) {
								level = options.hash.level;
							} else if (options.data && options.data.level != null) {
								level = options.data.level;
							}
							args[0] = level;

							instance.log.apply(instance, args);
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 13 */
				/***/function (module, exports) {

					'use strict';

					exports.__esModule = true;

					exports['default'] = function (instance) {
						instance.registerHelper('lookup', function (obj, field) {
							return obj && obj[field];
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 14 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					exports['default'] = function (instance) {
						instance.registerHelper('with', function (context, options) {
							if (_utils.isFunction(context)) {
								context = context.call(this);
							}

							var fn = options.fn;

							if (!_utils.isEmpty(context)) {
								var data = options.data;
								if (options.data && options.ids) {
									data = _utils.createFrame(options.data);
									data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
								}

								return fn(context, {
									data: data,
									blockParams: _utils.blockParams([context], [data && data.contextPath])
								});
							} else {
								return options.inverse(this);
							}
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 15 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.registerDefaultDecorators = registerDefaultDecorators;

					var _decoratorsInline = __webpack_require__(16);

					var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

					function registerDefaultDecorators(instance) {
						_decoratorsInline2['default'](instance);
					}

					/***/
				},
				/* 16 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					exports['default'] = function (instance) {
						instance.registerDecorator('inline', function (fn, props, container, options) {
							var ret = fn;
							if (!props.partials) {
								props.partials = {};
								ret = function (context, options) {
									// Create a new partials stack frame prior to exec.
									var original = container.partials;
									container.partials = _utils.extend({}, original, props.partials);
									var ret = fn(context, options);
									container.partials = original;
									return ret;
								};
							}

							props.partials[options.args[0]] = options.fn;

							return ret;
						});
					};

					module.exports = exports['default'];

					/***/
				},
				/* 17 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					var logger = {
						methodMap: ['debug', 'info', 'warn', 'error'],
						level: 'info',

						// Maps a given level value to the `methodMap` indexes above.
						lookupLevel: function lookupLevel(level) {
							if (typeof level === 'string') {
								var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
								if (levelMap >= 0) {
									level = levelMap;
								} else {
									level = parseInt(level, 10);
								}
							}

							return level;
						},

						// Can be overridden in the host environment
						log: function log(level) {
							level = logger.lookupLevel(level);

							if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
								var method = logger.methodMap[level];
								if (!console[method]) {
									// eslint-disable-line no-console
									method = 'log';
								}

								for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
									message[_key - 1] = arguments[_key];
								}

								console[method].apply(console, message); // eslint-disable-line no-console
							}
						}
					};

					exports['default'] = logger;
					module.exports = exports['default'];

					/***/
				},
				/* 18 */
				/***/function (module, exports) {

					// Build out our basic SafeString type
					'use strict';

					exports.__esModule = true;
					function SafeString(string) {
						this.string = string;
					}

					SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
						return '' + this.string;
					};

					exports['default'] = SafeString;
					module.exports = exports['default'];

					/***/
				},
				/* 19 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireWildcard = __webpack_require__(3)['default'];

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.checkRevision = checkRevision;
					exports.template = template;
					exports.wrapProgram = wrapProgram;
					exports.resolvePartial = resolvePartial;
					exports.invokePartial = invokePartial;
					exports.noop = noop;

					var _utils = __webpack_require__(5);

					var Utils = _interopRequireWildcard(_utils);

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					var _base = __webpack_require__(4);

					function checkRevision(compilerInfo) {
						var compilerRevision = compilerInfo && compilerInfo[0] || 1,
						    currentRevision = _base.COMPILER_REVISION;

						if (compilerRevision !== currentRevision) {
							if (compilerRevision < currentRevision) {
								var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
								    compilerVersions = _base.REVISION_CHANGES[compilerRevision];
								throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
							} else {
								// Use the embedded version info since the runtime doesn't know about this revision yet
								throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
							}
						}
					}

					function template(templateSpec, env) {
						/* istanbul ignore next */
						if (!env) {
							throw new _exception2['default']('No environment passed to template');
						}
						if (!templateSpec || !templateSpec.main) {
							throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
						}

						templateSpec.main.decorator = templateSpec.main_d;

						// Note: Using env.VM references rather than local var references throughout this section to allow
						// for external users to override these as psuedo-supported APIs.
						env.VM.checkRevision(templateSpec.compiler);

						function invokePartialWrapper(partial, context, options) {
							if (options.hash) {
								context = Utils.extend({}, context, options.hash);
								if (options.ids) {
									options.ids[0] = true;
								}
							}

							partial = env.VM.resolvePartial.call(this, partial, context, options);
							var result = env.VM.invokePartial.call(this, partial, context, options);

							if (result == null && env.compile) {
								options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
								result = options.partials[options.name](context, options);
							}
							if (result != null) {
								if (options.indent) {
									var lines = result.split('\n');
									for (var i = 0, l = lines.length; i < l; i++) {
										if (!lines[i] && i + 1 === l) {
											break;
										}

										lines[i] = options.indent + lines[i];
									}
									result = lines.join('\n');
								}
								return result;
							} else {
								throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
							}
						}

						// Just add water
						var container = {
							strict: function strict(obj, name) {
								if (!(name in obj)) {
									throw new _exception2['default']('"' + name + '" not defined in ' + obj);
								}
								return obj[name];
							},
							lookup: function lookup(depths, name) {
								var len = depths.length;
								for (var i = 0; i < len; i++) {
									if (depths[i] && depths[i][name] != null) {
										return depths[i][name];
									}
								}
							},
							lambda: function lambda(current, context) {
								return typeof current === 'function' ? current.call(context) : current;
							},

							escapeExpression: Utils.escapeExpression,
							invokePartial: invokePartialWrapper,

							fn: function fn(i) {
								var ret = templateSpec[i];
								ret.decorator = templateSpec[i + '_d'];
								return ret;
							},

							programs: [],
							program: function program(i, data, declaredBlockParams, blockParams, depths) {
								var programWrapper = this.programs[i],
								    fn = this.fn(i);
								if (data || depths || blockParams || declaredBlockParams) {
									programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
								} else if (!programWrapper) {
									programWrapper = this.programs[i] = wrapProgram(this, i, fn);
								}
								return programWrapper;
							},

							data: function data(value, depth) {
								while (value && depth--) {
									value = value._parent;
								}
								return value;
							},
							merge: function merge(param, common) {
								var obj = param || common;

								if (param && common && param !== common) {
									obj = Utils.extend({}, common, param);
								}

								return obj;
							},

							noop: env.VM.noop,
							compilerInfo: templateSpec.compiler
						};

						function ret(context) {
							var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

							var data = options.data;

							ret._setup(options);
							if (!options.partial && templateSpec.useData) {
								data = initData(context, data);
							}
							var depths = undefined,
							    blockParams = templateSpec.useBlockParams ? [] : undefined;
							if (templateSpec.useDepths) {
								if (options.depths) {
									depths = context !== options.depths[0] ? [context].concat(options.depths) : options.depths;
								} else {
									depths = [context];
								}
							}

							function main(context /*, options*/) {
								return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
							}
							main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
							return main(context, options);
						}
						ret.isTop = true;

						ret._setup = function (options) {
							if (!options.partial) {
								container.helpers = container.merge(options.helpers, env.helpers);

								if (templateSpec.usePartial) {
									container.partials = container.merge(options.partials, env.partials);
								}
								if (templateSpec.usePartial || templateSpec.useDecorators) {
									container.decorators = container.merge(options.decorators, env.decorators);
								}
							} else {
								container.helpers = options.helpers;
								container.partials = options.partials;
								container.decorators = options.decorators;
							}
						};

						ret._child = function (i, data, blockParams, depths) {
							if (templateSpec.useBlockParams && !blockParams) {
								throw new _exception2['default']('must pass block params');
							}
							if (templateSpec.useDepths && !depths) {
								throw new _exception2['default']('must pass parent depths');
							}

							return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
						};
						return ret;
					}

					function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
						function prog(context) {
							var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

							var currentDepths = depths;
							if (depths && context !== depths[0]) {
								currentDepths = [context].concat(depths);
							}

							return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
						}

						prog = executeDecorators(fn, prog, container, depths, data, blockParams);

						prog.program = i;
						prog.depth = depths ? depths.length : 0;
						prog.blockParams = declaredBlockParams || 0;
						return prog;
					}

					function resolvePartial(partial, context, options) {
						if (!partial) {
							if (options.name === '@partial-block') {
								partial = options.data['partial-block'];
							} else {
								partial = options.partials[options.name];
							}
						} else if (!partial.call && !options.name) {
							// This is a dynamic partial that returned a string
							options.name = partial;
							partial = options.partials[partial];
						}
						return partial;
					}

					function invokePartial(partial, context, options) {
						options.partial = true;
						if (options.ids) {
							options.data.contextPath = options.ids[0] || options.data.contextPath;
						}

						var partialBlock = undefined;
						if (options.fn && options.fn !== noop) {
							options.data = _base.createFrame(options.data);
							partialBlock = options.data['partial-block'] = options.fn;

							if (partialBlock.partials) {
								options.partials = Utils.extend({}, options.partials, partialBlock.partials);
							}
						}

						if (partial === undefined && partialBlock) {
							partial = partialBlock;
						}

						if (partial === undefined) {
							throw new _exception2['default']('The partial ' + options.name + ' could not be found');
						} else if (partial instanceof Function) {
							return partial(context, options);
						}
					}

					function noop() {
						return '';
					}

					function initData(context, data) {
						if (!data || !('root' in data)) {
							data = data ? _base.createFrame(data) : {};
							data.root = context;
						}
						return data;
					}

					function executeDecorators(fn, prog, container, depths, data, blockParams) {
						if (fn.decorator) {
							var props = {};
							prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
							Utils.extend(prog, props);
						}
						return prog;
					}

					/***/
				},
				/* 20 */
				/***/function (module, exports) {

					/* WEBPACK VAR INJECTION */(function (global) {
						/* global window */
						'use strict';

						exports.__esModule = true;

						exports['default'] = function (Handlebars) {
							/* istanbul ignore next */
							var root = typeof global !== 'undefined' ? global : window,
							    $Handlebars = root.Handlebars;
							/* istanbul ignore next */
							Handlebars.noConflict = function () {
								if (root.Handlebars === Handlebars) {
									root.Handlebars = $Handlebars;
								}
								return Handlebars;
							};
						};

						module.exports = exports['default'];
						/* WEBPACK VAR INJECTION */
					}).call(exports, function () {
						return this;
					}());

					/***/
				},
				/* 21 */
				/***/function (module, exports) {

					'use strict';

					exports.__esModule = true;
					var AST = {
						// Public API used to evaluate derived attributes regarding AST nodes
						helpers: {
							// a mustache is definitely a helper if:
							// * it is an eligible helper, and
							// * it has at least one parameter or hash segment
							helperExpression: function helperExpression(node) {
								return node.type === 'SubExpression' || (node.type === 'MustacheStatement' || node.type === 'BlockStatement') && !!(node.params && node.params.length || node.hash);
							},

							scopedId: function scopedId(path) {
								return (/^\.|this\b/.test(path.original)
								);
							},

							// an ID is simple if it only has one part, and that part is not
							// `..` or `this`.
							simpleId: function simpleId(path) {
								return path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth;
							}
						}
					};

					// Must be exported as an object rather than the root of the module as the jison lexer
					// must modify the object to operate properly.
					exports['default'] = AST;
					module.exports = exports['default'];

					/***/
				},
				/* 22 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					var _interopRequireWildcard = __webpack_require__(3)['default'];

					exports.__esModule = true;
					exports.parse = parse;

					var _parser = __webpack_require__(23);

					var _parser2 = _interopRequireDefault(_parser);

					var _whitespaceControl = __webpack_require__(24);

					var _whitespaceControl2 = _interopRequireDefault(_whitespaceControl);

					var _helpers = __webpack_require__(26);

					var Helpers = _interopRequireWildcard(_helpers);

					var _utils = __webpack_require__(5);

					exports.parser = _parser2['default'];

					var yy = {};
					_utils.extend(yy, Helpers);

					function parse(input, options) {
						// Just return if an already-compiled AST was passed in.
						if (input.type === 'Program') {
							return input;
						}

						_parser2['default'].yy = yy;

						// Altering the shared object here, but this is ok as parser is a sync operation
						yy.locInfo = function (locInfo) {
							return new yy.SourceLocation(options && options.srcName, locInfo);
						};

						var strip = new _whitespaceControl2['default'](options);
						return strip.accept(_parser2['default'].parse(input));
					}

					/***/
				},
				/* 23 */
				/***/function (module, exports) {

					/* istanbul ignore next */
					/* Jison generated parser */
					"use strict";

					var handlebars = function () {
						var parser = { trace: function trace() {},
							yy: {},
							symbols_: { "error": 2, "root": 3, "program": 4, "EOF": 5, "program_repetition0": 6, "statement": 7, "mustache": 8, "block": 9, "rawBlock": 10, "partial": 11, "partialBlock": 12, "content": 13, "COMMENT": 14, "CONTENT": 15, "openRawBlock": 16, "rawBlock_repetition_plus0": 17, "END_RAW_BLOCK": 18, "OPEN_RAW_BLOCK": 19, "helperName": 20, "openRawBlock_repetition0": 21, "openRawBlock_option0": 22, "CLOSE_RAW_BLOCK": 23, "openBlock": 24, "block_option0": 25, "closeBlock": 26, "openInverse": 27, "block_option1": 28, "OPEN_BLOCK": 29, "openBlock_repetition0": 30, "openBlock_option0": 31, "openBlock_option1": 32, "CLOSE": 33, "OPEN_INVERSE": 34, "openInverse_repetition0": 35, "openInverse_option0": 36, "openInverse_option1": 37, "openInverseChain": 38, "OPEN_INVERSE_CHAIN": 39, "openInverseChain_repetition0": 40, "openInverseChain_option0": 41, "openInverseChain_option1": 42, "inverseAndProgram": 43, "INVERSE": 44, "inverseChain": 45, "inverseChain_option0": 46, "OPEN_ENDBLOCK": 47, "OPEN": 48, "mustache_repetition0": 49, "mustache_option0": 50, "OPEN_UNESCAPED": 51, "mustache_repetition1": 52, "mustache_option1": 53, "CLOSE_UNESCAPED": 54, "OPEN_PARTIAL": 55, "partialName": 56, "partial_repetition0": 57, "partial_option0": 58, "openPartialBlock": 59, "OPEN_PARTIAL_BLOCK": 60, "openPartialBlock_repetition0": 61, "openPartialBlock_option0": 62, "param": 63, "sexpr": 64, "OPEN_SEXPR": 65, "sexpr_repetition0": 66, "sexpr_option0": 67, "CLOSE_SEXPR": 68, "hash": 69, "hash_repetition_plus0": 70, "hashSegment": 71, "ID": 72, "EQUALS": 73, "blockParams": 74, "OPEN_BLOCK_PARAMS": 75, "blockParams_repetition_plus0": 76, "CLOSE_BLOCK_PARAMS": 77, "path": 78, "dataName": 79, "STRING": 80, "NUMBER": 81, "BOOLEAN": 82, "UNDEFINED": 83, "NULL": 84, "DATA": 85, "pathSegments": 86, "SEP": 87, "$accept": 0, "$end": 1 },
							terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" },
							productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]],
							performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$
							/**/) {

								var $0 = $$.length - 1;
								switch (yystate) {
									case 1:
										return $$[$0 - 1];
										break;
									case 2:
										this.$ = yy.prepareProgram($$[$0]);
										break;
									case 3:
										this.$ = $$[$0];
										break;
									case 4:
										this.$ = $$[$0];
										break;
									case 5:
										this.$ = $$[$0];
										break;
									case 6:
										this.$ = $$[$0];
										break;
									case 7:
										this.$ = $$[$0];
										break;
									case 8:
										this.$ = $$[$0];
										break;
									case 9:
										this.$ = {
											type: 'CommentStatement',
											value: yy.stripComment($$[$0]),
											strip: yy.stripFlags($$[$0], $$[$0]),
											loc: yy.locInfo(this._$)
										};

										break;
									case 10:
										this.$ = {
											type: 'ContentStatement',
											original: $$[$0],
											value: $$[$0],
											loc: yy.locInfo(this._$)
										};

										break;
									case 11:
										this.$ = yy.prepareRawBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
										break;
									case 12:
										this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1] };
										break;
									case 13:
										this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], false, this._$);
										break;
									case 14:
										this.$ = yy.prepareBlock($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0], true, this._$);
										break;
									case 15:
										this.$ = { open: $$[$0 - 5], path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
										break;
									case 16:
										this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
										break;
									case 17:
										this.$ = { path: $$[$0 - 4], params: $$[$0 - 3], hash: $$[$0 - 2], blockParams: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 5], $$[$0]) };
										break;
									case 18:
										this.$ = { strip: yy.stripFlags($$[$0 - 1], $$[$0 - 1]), program: $$[$0] };
										break;
									case 19:
										var inverse = yy.prepareBlock($$[$0 - 2], $$[$0 - 1], $$[$0], $$[$0], false, this._$),
										    program = yy.prepareProgram([inverse], $$[$0 - 1].loc);
										program.chained = true;

										this.$ = { strip: $$[$0 - 2].strip, program: program, chain: true };

										break;
									case 20:
										this.$ = $$[$0];
										break;
									case 21:
										this.$ = { path: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 2], $$[$0]) };
										break;
									case 22:
										this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
										break;
									case 23:
										this.$ = yy.prepareMustache($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0 - 4], yy.stripFlags($$[$0 - 4], $$[$0]), this._$);
										break;
									case 24:
										this.$ = {
											type: 'PartialStatement',
											name: $$[$0 - 3],
											params: $$[$0 - 2],
											hash: $$[$0 - 1],
											indent: '',
											strip: yy.stripFlags($$[$0 - 4], $$[$0]),
											loc: yy.locInfo(this._$)
										};

										break;
									case 25:
										this.$ = yy.preparePartialBlock($$[$0 - 2], $$[$0 - 1], $$[$0], this._$);
										break;
									case 26:
										this.$ = { path: $$[$0 - 3], params: $$[$0 - 2], hash: $$[$0 - 1], strip: yy.stripFlags($$[$0 - 4], $$[$0]) };
										break;
									case 27:
										this.$ = $$[$0];
										break;
									case 28:
										this.$ = $$[$0];
										break;
									case 29:
										this.$ = {
											type: 'SubExpression',
											path: $$[$0 - 3],
											params: $$[$0 - 2],
											hash: $$[$0 - 1],
											loc: yy.locInfo(this._$)
										};

										break;
									case 30:
										this.$ = { type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$) };
										break;
									case 31:
										this.$ = { type: 'HashPair', key: yy.id($$[$0 - 2]), value: $$[$0], loc: yy.locInfo(this._$) };
										break;
									case 32:
										this.$ = yy.id($$[$0 - 1]);
										break;
									case 33:
										this.$ = $$[$0];
										break;
									case 34:
										this.$ = $$[$0];
										break;
									case 35:
										this.$ = { type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$) };
										break;
									case 36:
										this.$ = { type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$) };
										break;
									case 37:
										this.$ = { type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$) };
										break;
									case 38:
										this.$ = { type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$) };
										break;
									case 39:
										this.$ = { type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$) };
										break;
									case 40:
										this.$ = $$[$0];
										break;
									case 41:
										this.$ = $$[$0];
										break;
									case 42:
										this.$ = yy.preparePath(true, $$[$0], this._$);
										break;
									case 43:
										this.$ = yy.preparePath(false, $$[$0], this._$);
										break;
									case 44:
										$$[$0 - 2].push({ part: yy.id($$[$0]), original: $$[$0], separator: $$[$0 - 1] });this.$ = $$[$0 - 2];
										break;
									case 45:
										this.$ = [{ part: yy.id($$[$0]), original: $$[$0] }];
										break;
									case 46:
										this.$ = [];
										break;
									case 47:
										$$[$0 - 1].push($$[$0]);
										break;
									case 48:
										this.$ = [$$[$0]];
										break;
									case 49:
										$$[$0 - 1].push($$[$0]);
										break;
									case 50:
										this.$ = [];
										break;
									case 51:
										$$[$0 - 1].push($$[$0]);
										break;
									case 58:
										this.$ = [];
										break;
									case 59:
										$$[$0 - 1].push($$[$0]);
										break;
									case 64:
										this.$ = [];
										break;
									case 65:
										$$[$0 - 1].push($$[$0]);
										break;
									case 70:
										this.$ = [];
										break;
									case 71:
										$$[$0 - 1].push($$[$0]);
										break;
									case 78:
										this.$ = [];
										break;
									case 79:
										$$[$0 - 1].push($$[$0]);
										break;
									case 82:
										this.$ = [];
										break;
									case 83:
										$$[$0 - 1].push($$[$0]);
										break;
									case 86:
										this.$ = [];
										break;
									case 87:
										$$[$0 - 1].push($$[$0]);
										break;
									case 90:
										this.$ = [];
										break;
									case 91:
										$$[$0 - 1].push($$[$0]);
										break;
									case 94:
										this.$ = [];
										break;
									case 95:
										$$[$0 - 1].push($$[$0]);
										break;
									case 98:
										this.$ = [$$[$0]];
										break;
									case 99:
										$$[$0 - 1].push($$[$0]);
										break;
									case 100:
										this.$ = [$$[$0]];
										break;
									case 101:
										$$[$0 - 1].push($$[$0]);
										break;
								}
							},
							table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }],
							defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] },
							parseError: function parseError(str, hash) {
								throw new Error(str);
							},
							parse: function parse(input) {
								var self = this,
								    stack = [0],
								    vstack = [null],
								    lstack = [],
								    table = this.table,
								    yytext = "",
								    yylineno = 0,
								    yyleng = 0,
								    recovering = 0,
								    TERROR = 2,
								    EOF = 1;
								this.lexer.setInput(input);
								this.lexer.yy = this.yy;
								this.yy.lexer = this.lexer;
								this.yy.parser = this;
								if (typeof this.lexer.yylloc == "undefined") this.lexer.yylloc = {};
								var yyloc = this.lexer.yylloc;
								lstack.push(yyloc);
								var ranges = this.lexer.options && this.lexer.options.ranges;
								if (typeof this.yy.parseError === "function") this.parseError = this.yy.parseError;
								function popStack(n) {
									stack.length = stack.length - 2 * n;
									vstack.length = vstack.length - n;
									lstack.length = lstack.length - n;
								}
								function lex() {
									var token;
									token = self.lexer.lex() || 1;
									if (typeof token !== "number") {
										token = self.symbols_[token] || token;
									}
									return token;
								}
								var symbol,
								    preErrorSymbol,
								    state,
								    action,
								    a,
								    r,
								    yyval = {},
								    p,
								    len,
								    newState,
								    expected;
								while (true) {
									state = stack[stack.length - 1];
									if (this.defaultActions[state]) {
										action = this.defaultActions[state];
									} else {
										if (symbol === null || typeof symbol == "undefined") {
											symbol = lex();
										}
										action = table[state] && table[state][symbol];
									}
									if (typeof action === "undefined" || !action.length || !action[0]) {
										var errStr = "";
										if (!recovering) {
											expected = [];
											for (p in table[state]) if (this.terminals_[p] && p > 2) {
												expected.push("'" + this.terminals_[p] + "'");
											}
											if (this.lexer.showPosition) {
												errStr = "Parse error on line " + (yylineno + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + expected.join(", ") + ", got '" + (this.terminals_[symbol] || symbol) + "'";
											} else {
												errStr = "Parse error on line " + (yylineno + 1) + ": Unexpected " + (symbol == 1 ? "end of input" : "'" + (this.terminals_[symbol] || symbol) + "'");
											}
											this.parseError(errStr, { text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected });
										}
									}
									if (action[0] instanceof Array && action.length > 1) {
										throw new Error("Parse Error: multiple actions possible at state: " + state + ", token: " + symbol);
									}
									switch (action[0]) {
										case 1:
											stack.push(symbol);
											vstack.push(this.lexer.yytext);
											lstack.push(this.lexer.yylloc);
											stack.push(action[1]);
											symbol = null;
											if (!preErrorSymbol) {
												yyleng = this.lexer.yyleng;
												yytext = this.lexer.yytext;
												yylineno = this.lexer.yylineno;
												yyloc = this.lexer.yylloc;
												if (recovering > 0) recovering--;
											} else {
												symbol = preErrorSymbol;
												preErrorSymbol = null;
											}
											break;
										case 2:
											len = this.productions_[action[1]][1];
											yyval.$ = vstack[vstack.length - len];
											yyval._$ = { first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column };
											if (ranges) {
												yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];
											}
											r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);
											if (typeof r !== "undefined") {
												return r;
											}
											if (len) {
												stack = stack.slice(0, -1 * len * 2);
												vstack = vstack.slice(0, -1 * len);
												lstack = lstack.slice(0, -1 * len);
											}
											stack.push(this.productions_[action[1]][0]);
											vstack.push(yyval.$);
											lstack.push(yyval._$);
											newState = table[stack[stack.length - 2]][stack[stack.length - 1]];
											stack.push(newState);
											break;
										case 3:
											return true;
									}
								}
								return true;
							}
						};
						/* Jison generated lexer */
						var lexer = function () {
							var lexer = { EOF: 1,
								parseError: function parseError(str, hash) {
									if (this.yy.parser) {
										this.yy.parser.parseError(str, hash);
									} else {
										throw new Error(str);
									}
								},
								setInput: function setInput(input) {
									this._input = input;
									this._more = this._less = this.done = false;
									this.yylineno = this.yyleng = 0;
									this.yytext = this.matched = this.match = '';
									this.conditionStack = ['INITIAL'];
									this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 };
									if (this.options.ranges) this.yylloc.range = [0, 0];
									this.offset = 0;
									return this;
								},
								input: function input() {
									var ch = this._input[0];
									this.yytext += ch;
									this.yyleng++;
									this.offset++;
									this.match += ch;
									this.matched += ch;
									var lines = ch.match(/(?:\r\n?|\n).*/g);
									if (lines) {
										this.yylineno++;
										this.yylloc.last_line++;
									} else {
										this.yylloc.last_column++;
									}
									if (this.options.ranges) this.yylloc.range[1]++;

									this._input = this._input.slice(1);
									return ch;
								},
								unput: function unput(ch) {
									var len = ch.length;
									var lines = ch.split(/(?:\r\n?|\n)/g);

									this._input = ch + this._input;
									this.yytext = this.yytext.substr(0, this.yytext.length - len - 1);
									//this.yyleng -= len;
									this.offset -= len;
									var oldLines = this.match.split(/(?:\r\n?|\n)/g);
									this.match = this.match.substr(0, this.match.length - 1);
									this.matched = this.matched.substr(0, this.matched.length - 1);

									if (lines.length - 1) this.yylineno -= lines.length - 1;
									var r = this.yylloc.range;

									this.yylloc = { first_line: this.yylloc.first_line,
										last_line: this.yylineno + 1,
										first_column: this.yylloc.first_column,
										last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len
									};

									if (this.options.ranges) {
										this.yylloc.range = [r[0], r[0] + this.yyleng - len];
									}
									return this;
								},
								more: function more() {
									this._more = true;
									return this;
								},
								less: function less(n) {
									this.unput(this.match.slice(n));
								},
								pastInput: function pastInput() {
									var past = this.matched.substr(0, this.matched.length - this.match.length);
									return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\n/g, "");
								},
								upcomingInput: function upcomingInput() {
									var next = this.match;
									if (next.length < 20) {
										next += this._input.substr(0, 20 - next.length);
									}
									return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\n/g, "");
								},
								showPosition: function showPosition() {
									var pre = this.pastInput();
									var c = new Array(pre.length + 1).join("-");
									return pre + this.upcomingInput() + "\n" + c + "^";
								},
								next: function next() {
									if (this.done) {
										return this.EOF;
									}
									if (!this._input) this.done = true;

									var token, match, tempMatch, index, col, lines;
									if (!this._more) {
										this.yytext = '';
										this.match = '';
									}
									var rules = this._currentRules();
									for (var i = 0; i < rules.length; i++) {
										tempMatch = this._input.match(this.rules[rules[i]]);
										if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {
											match = tempMatch;
											index = i;
											if (!this.options.flex) break;
										}
									}
									if (match) {
										lines = match[0].match(/(?:\r\n?|\n).*/g);
										if (lines) this.yylineno += lines.length;
										this.yylloc = { first_line: this.yylloc.last_line,
											last_line: this.yylineno + 1,
											first_column: this.yylloc.last_column,
											last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + match[0].length };
										this.yytext += match[0];
										this.match += match[0];
										this.matches = match;
										this.yyleng = this.yytext.length;
										if (this.options.ranges) {
											this.yylloc.range = [this.offset, this.offset += this.yyleng];
										}
										this._more = false;
										this._input = this._input.slice(match[0].length);
										this.matched += match[0];
										token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);
										if (this.done && this._input) this.done = false;
										if (token) return token;else return;
									}
									if (this._input === "") {
										return this.EOF;
									} else {
										return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\n' + this.showPosition(), { text: "", token: null, line: this.yylineno });
									}
								},
								lex: function lex() {
									var r = this.next();
									if (typeof r !== 'undefined') {
										return r;
									} else {
										return this.lex();
									}
								},
								begin: function begin(condition) {
									this.conditionStack.push(condition);
								},
								popState: function popState() {
									return this.conditionStack.pop();
								},
								_currentRules: function _currentRules() {
									return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;
								},
								topState: function topState() {
									return this.conditionStack[this.conditionStack.length - 2];
								},
								pushState: function begin(condition) {
									this.begin(condition);
								} };
							lexer.options = {};
							lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START
							/**/) {

								function strip(start, end) {
									return yy_.yytext = yy_.yytext.substr(start, yy_.yyleng - end);
								}

								var YYSTATE = YY_START;
								switch ($avoiding_name_collisions) {
									case 0:
										if (yy_.yytext.slice(-2) === "\\\\") {
											strip(0, 1);
											this.begin("mu");
										} else if (yy_.yytext.slice(-1) === "\\") {
											strip(0, 1);
											this.begin("emu");
										} else {
											this.begin("mu");
										}
										if (yy_.yytext) return 15;

										break;
									case 1:
										return 15;
										break;
									case 2:
										this.popState();
										return 15;

										break;
									case 3:
										this.begin('raw');return 15;
										break;
									case 4:
										this.popState();
										// Should be using `this.topState()` below, but it currently
										// returns the second top instead of the first top. Opened an
										// issue about it at https://github.com/zaach/jison/issues/291
										if (this.conditionStack[this.conditionStack.length - 1] === 'raw') {
											return 15;
										} else {
											yy_.yytext = yy_.yytext.substr(5, yy_.yyleng - 9);
											return 'END_RAW_BLOCK';
										}

										break;
									case 5:
										return 15;
										break;
									case 6:
										this.popState();
										return 14;

										break;
									case 7:
										return 65;
										break;
									case 8:
										return 68;
										break;
									case 9:
										return 19;
										break;
									case 10:
										this.popState();
										this.begin('raw');
										return 23;

										break;
									case 11:
										return 55;
										break;
									case 12:
										return 60;
										break;
									case 13:
										return 29;
										break;
									case 14:
										return 47;
										break;
									case 15:
										this.popState();return 44;
										break;
									case 16:
										this.popState();return 44;
										break;
									case 17:
										return 34;
										break;
									case 18:
										return 39;
										break;
									case 19:
										return 51;
										break;
									case 20:
										return 48;
										break;
									case 21:
										this.unput(yy_.yytext);
										this.popState();
										this.begin('com');

										break;
									case 22:
										this.popState();
										return 14;

										break;
									case 23:
										return 48;
										break;
									case 24:
										return 73;
										break;
									case 25:
										return 72;
										break;
									case 26:
										return 72;
										break;
									case 27:
										return 87;
										break;
									case 28:
										// ignore whitespace
										break;
									case 29:
										this.popState();return 54;
										break;
									case 30:
										this.popState();return 33;
										break;
									case 31:
										yy_.yytext = strip(1, 2).replace(/\\"/g, '"');return 80;
										break;
									case 32:
										yy_.yytext = strip(1, 2).replace(/\\'/g, "'");return 80;
										break;
									case 33:
										return 85;
										break;
									case 34:
										return 82;
										break;
									case 35:
										return 82;
										break;
									case 36:
										return 83;
										break;
									case 37:
										return 84;
										break;
									case 38:
										return 81;
										break;
									case 39:
										return 75;
										break;
									case 40:
										return 77;
										break;
									case 41:
										return 72;
										break;
									case 42:
										yy_.yytext = yy_.yytext.replace(/\\([\\\]])/g, '$1');return 72;
										break;
									case 43:
										return 'INVALID';
										break;
									case 44:
										return 5;
										break;
								}
							};
							lexer.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/];
							lexer.conditions = { "mu": { "rules": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "inclusive": false }, "emu": { "rules": [2], "inclusive": false }, "com": { "rules": [6], "inclusive": false }, "raw": { "rules": [3, 4, 5], "inclusive": false }, "INITIAL": { "rules": [0, 1, 44], "inclusive": true } };
							return lexer;
						}();
						parser.lexer = lexer;
						function Parser() {
							this.yy = {};
						}Parser.prototype = parser;parser.Parser = Parser;
						return new Parser();
					}();exports.__esModule = true;
					exports['default'] = handlebars;

					/***/
				},
				/* 24 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _visitor = __webpack_require__(25);

					var _visitor2 = _interopRequireDefault(_visitor);

					function WhitespaceControl() {
						var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

						this.options = options;
					}
					WhitespaceControl.prototype = new _visitor2['default']();

					WhitespaceControl.prototype.Program = function (program) {
						var doStandalone = !this.options.ignoreStandalone;

						var isRoot = !this.isRootSeen;
						this.isRootSeen = true;

						var body = program.body;
						for (var i = 0, l = body.length; i < l; i++) {
							var current = body[i],
							    strip = this.accept(current);

							if (!strip) {
								continue;
							}

							var _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),
							    _isNextWhitespace = isNextWhitespace(body, i, isRoot),
							    openStandalone = strip.openStandalone && _isPrevWhitespace,
							    closeStandalone = strip.closeStandalone && _isNextWhitespace,
							    inlineStandalone = strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;

							if (strip.close) {
								omitRight(body, i, true);
							}
							if (strip.open) {
								omitLeft(body, i, true);
							}

							if (doStandalone && inlineStandalone) {
								omitRight(body, i);

								if (omitLeft(body, i)) {
									// If we are on a standalone node, save the indent info for partials
									if (current.type === 'PartialStatement') {
										// Pull out the whitespace from the final line
										current.indent = /([ \t]+$)/.exec(body[i - 1].original)[1];
									}
								}
							}
							if (doStandalone && openStandalone) {
								omitRight((current.program || current.inverse).body);

								// Strip out the previous content node if it's whitespace only
								omitLeft(body, i);
							}
							if (doStandalone && closeStandalone) {
								// Always strip the next node
								omitRight(body, i);

								omitLeft((current.inverse || current.program).body);
							}
						}

						return program;
					};

					WhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function (block) {
						this.accept(block.program);
						this.accept(block.inverse);

						// Find the inverse program that is involed with whitespace stripping.
						var program = block.program || block.inverse,
						    inverse = block.program && block.inverse,
						    firstInverse = inverse,
						    lastInverse = inverse;

						if (inverse && inverse.chained) {
							firstInverse = inverse.body[0].program;

							// Walk the inverse chain to find the last inverse that is actually in the chain.
							while (lastInverse.chained) {
								lastInverse = lastInverse.body[lastInverse.body.length - 1].program;
							}
						}

						var strip = {
							open: block.openStrip.open,
							close: block.closeStrip.close,

							// Determine the standalone candiacy. Basically flag our content as being possibly standalone
							// so our parent can determine if we actually are standalone
							openStandalone: isNextWhitespace(program.body),
							closeStandalone: isPrevWhitespace((firstInverse || program).body)
						};

						if (block.openStrip.close) {
							omitRight(program.body, null, true);
						}

						if (inverse) {
							var inverseStrip = block.inverseStrip;

							if (inverseStrip.open) {
								omitLeft(program.body, null, true);
							}

							if (inverseStrip.close) {
								omitRight(firstInverse.body, null, true);
							}
							if (block.closeStrip.open) {
								omitLeft(lastInverse.body, null, true);
							}

							// Find standalone else statments
							if (!this.options.ignoreStandalone && isPrevWhitespace(program.body) && isNextWhitespace(firstInverse.body)) {
								omitLeft(program.body);
								omitRight(firstInverse.body);
							}
						} else if (block.closeStrip.open) {
							omitLeft(program.body, null, true);
						}

						return strip;
					};

					WhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function (mustache) {
						return mustache.strip;
					};

					WhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function (node) {
						/* istanbul ignore next */
						var strip = node.strip || {};
						return {
							inlineStandalone: true,
							open: strip.open,
							close: strip.close
						};
					};

					function isPrevWhitespace(body, i, isRoot) {
						if (i === undefined) {
							i = body.length;
						}

						// Nodes that end with newlines are considered whitespace (but are special
						// cased for strip operations)
						var prev = body[i - 1],
						    sibling = body[i - 2];
						if (!prev) {
							return isRoot;
						}

						if (prev.type === 'ContentStatement') {
							return (sibling || !isRoot ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(prev.original);
						}
					}
					function isNextWhitespace(body, i, isRoot) {
						if (i === undefined) {
							i = -1;
						}

						var next = body[i + 1],
						    sibling = body[i + 2];
						if (!next) {
							return isRoot;
						}

						if (next.type === 'ContentStatement') {
							return (sibling || !isRoot ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(next.original);
						}
					}

					// Marks the node to the right of the position as omitted.
					// I.e. {{foo}}' ' will mark the ' ' node as omitted.
					//
					// If i is undefined, then the first child will be marked as such.
					//
					// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
					// content is met.
					function omitRight(body, i, multiple) {
						var current = body[i == null ? 0 : i + 1];
						if (!current || current.type !== 'ContentStatement' || !multiple && current.rightStripped) {
							return;
						}

						var original = current.value;
						current.value = current.value.replace(multiple ? /^\s+/ : /^[ \t]*\r?\n?/, '');
						current.rightStripped = current.value !== original;
					}

					// Marks the node to the left of the position as omitted.
					// I.e. ' '{{foo}} will mark the ' ' node as omitted.
					//
					// If i is undefined then the last child will be marked as such.
					//
					// If mulitple is truthy then all whitespace will be stripped out until non-whitespace
					// content is met.
					function omitLeft(body, i, multiple) {
						var current = body[i == null ? body.length - 1 : i - 1];
						if (!current || current.type !== 'ContentStatement' || !multiple && current.leftStripped) {
							return;
						}

						// We omit the last node if it's whitespace only and not preceeded by a non-content node.
						var original = current.value;
						current.value = current.value.replace(multiple ? /\s+$/ : /[ \t]+$/, '');
						current.leftStripped = current.value !== original;
						return current.leftStripped;
					}

					exports['default'] = WhitespaceControl;
					module.exports = exports['default'];

					/***/
				},
				/* 25 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					function Visitor() {
						this.parents = [];
					}

					Visitor.prototype = {
						constructor: Visitor,
						mutating: false,

						// Visits a given value. If mutating, will replace the value if necessary.
						acceptKey: function acceptKey(node, name) {
							var value = this.accept(node[name]);
							if (this.mutating) {
								// Hacky sanity check: This may have a few false positives for type for the helper
								// methods but will generally do the right thing without a lot of overhead.
								if (value && !Visitor.prototype[value.type]) {
									throw new _exception2['default']('Unexpected node type "' + value.type + '" found when accepting ' + name + ' on ' + node.type);
								}
								node[name] = value;
							}
						},

						// Performs an accept operation with added sanity check to ensure
						// required keys are not removed.
						acceptRequired: function acceptRequired(node, name) {
							this.acceptKey(node, name);

							if (!node[name]) {
								throw new _exception2['default'](node.type + ' requires ' + name);
							}
						},

						// Traverses a given array. If mutating, empty respnses will be removed
						// for child elements.
						acceptArray: function acceptArray(array) {
							for (var i = 0, l = array.length; i < l; i++) {
								this.acceptKey(array, i);

								if (!array[i]) {
									array.splice(i, 1);
									i--;
									l--;
								}
							}
						},

						accept: function accept(object) {
							if (!object) {
								return;
							}

							/* istanbul ignore next: Sanity code */
							if (!this[object.type]) {
								throw new _exception2['default']('Unknown type: ' + object.type, object);
							}

							if (this.current) {
								this.parents.unshift(this.current);
							}
							this.current = object;

							var ret = this[object.type](object);

							this.current = this.parents.shift();

							if (!this.mutating || ret) {
								return ret;
							} else if (ret !== false) {
								return object;
							}
						},

						Program: function Program(program) {
							this.acceptArray(program.body);
						},

						MustacheStatement: visitSubExpression,
						Decorator: visitSubExpression,

						BlockStatement: visitBlock,
						DecoratorBlock: visitBlock,

						PartialStatement: visitPartial,
						PartialBlockStatement: function PartialBlockStatement(partial) {
							visitPartial.call(this, partial);

							this.acceptKey(partial, 'program');
						},

						ContentStatement: function ContentStatement() /* content */{},
						CommentStatement: function CommentStatement() /* comment */{},

						SubExpression: visitSubExpression,

						PathExpression: function PathExpression() /* path */{},

						StringLiteral: function StringLiteral() /* string */{},
						NumberLiteral: function NumberLiteral() /* number */{},
						BooleanLiteral: function BooleanLiteral() /* bool */{},
						UndefinedLiteral: function UndefinedLiteral() /* literal */{},
						NullLiteral: function NullLiteral() /* literal */{},

						Hash: function Hash(hash) {
							this.acceptArray(hash.pairs);
						},
						HashPair: function HashPair(pair) {
							this.acceptRequired(pair, 'value');
						}
					};

					function visitSubExpression(mustache) {
						this.acceptRequired(mustache, 'path');
						this.acceptArray(mustache.params);
						this.acceptKey(mustache, 'hash');
					}
					function visitBlock(block) {
						visitSubExpression.call(this, block);

						this.acceptKey(block, 'program');
						this.acceptKey(block, 'inverse');
					}
					function visitPartial(partial) {
						this.acceptRequired(partial, 'name');
						this.acceptArray(partial.params);
						this.acceptKey(partial, 'hash');
					}

					exports['default'] = Visitor;
					module.exports = exports['default'];

					/***/
				},
				/* 26 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.SourceLocation = SourceLocation;
					exports.id = id;
					exports.stripFlags = stripFlags;
					exports.stripComment = stripComment;
					exports.preparePath = preparePath;
					exports.prepareMustache = prepareMustache;
					exports.prepareRawBlock = prepareRawBlock;
					exports.prepareBlock = prepareBlock;
					exports.prepareProgram = prepareProgram;
					exports.preparePartialBlock = preparePartialBlock;

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					function validateClose(open, close) {
						close = close.path ? close.path.original : close;

						if (open.path.original !== close) {
							var errorNode = { loc: open.path.loc };

							throw new _exception2['default'](open.path.original + " doesn't match " + close, errorNode);
						}
					}

					function SourceLocation(source, locInfo) {
						this.source = source;
						this.start = {
							line: locInfo.first_line,
							column: locInfo.first_column
						};
						this.end = {
							line: locInfo.last_line,
							column: locInfo.last_column
						};
					}

					function id(token) {
						if (/^\[.*\]$/.test(token)) {
							return token.substr(1, token.length - 2);
						} else {
							return token;
						}
					}

					function stripFlags(open, close) {
						return {
							open: open.charAt(2) === '~',
							close: close.charAt(close.length - 3) === '~'
						};
					}

					function stripComment(comment) {
						return comment.replace(/^\{\{~?\!-?-?/, '').replace(/-?-?~?\}\}$/, '');
					}

					function preparePath(data, parts, loc) {
						loc = this.locInfo(loc);

						var original = data ? '@' : '',
						    dig = [],
						    depth = 0,
						    depthString = '';

						for (var i = 0, l = parts.length; i < l; i++) {
							var part = parts[i].part,


							// If we have [] syntax then we do not treat path references as operators,
							// i.e. foo.[this] resolves to approximately context.foo['this']
							isLiteral = parts[i].original !== part;
							original += (parts[i].separator || '') + part;

							if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {
								if (dig.length > 0) {
									throw new _exception2['default']('Invalid path: ' + original, { loc: loc });
								} else if (part === '..') {
									depth++;
									depthString += '../';
								}
							} else {
								dig.push(part);
							}
						}

						return {
							type: 'PathExpression',
							data: data,
							depth: depth,
							parts: dig,
							original: original,
							loc: loc
						};
					}

					function prepareMustache(path, params, hash, open, strip, locInfo) {
						// Must use charAt to support IE pre-10
						var escapeFlag = open.charAt(3) || open.charAt(2),
						    escaped = escapeFlag !== '{' && escapeFlag !== '&';

						var decorator = /\*/.test(open);
						return {
							type: decorator ? 'Decorator' : 'MustacheStatement',
							path: path,
							params: params,
							hash: hash,
							escaped: escaped,
							strip: strip,
							loc: this.locInfo(locInfo)
						};
					}

					function prepareRawBlock(openRawBlock, contents, close, locInfo) {
						validateClose(openRawBlock, close);

						locInfo = this.locInfo(locInfo);
						var program = {
							type: 'Program',
							body: contents,
							strip: {},
							loc: locInfo
						};

						return {
							type: 'BlockStatement',
							path: openRawBlock.path,
							params: openRawBlock.params,
							hash: openRawBlock.hash,
							program: program,
							openStrip: {},
							inverseStrip: {},
							closeStrip: {},
							loc: locInfo
						};
					}

					function prepareBlock(openBlock, program, inverseAndProgram, close, inverted, locInfo) {
						if (close && close.path) {
							validateClose(openBlock, close);
						}

						var decorator = /\*/.test(openBlock.open);

						program.blockParams = openBlock.blockParams;

						var inverse = undefined,
						    inverseStrip = undefined;

						if (inverseAndProgram) {
							if (decorator) {
								throw new _exception2['default']('Unexpected inverse block on decorator', inverseAndProgram);
							}

							if (inverseAndProgram.chain) {
								inverseAndProgram.program.body[0].closeStrip = close.strip;
							}

							inverseStrip = inverseAndProgram.strip;
							inverse = inverseAndProgram.program;
						}

						if (inverted) {
							inverted = inverse;
							inverse = program;
							program = inverted;
						}

						return {
							type: decorator ? 'DecoratorBlock' : 'BlockStatement',
							path: openBlock.path,
							params: openBlock.params,
							hash: openBlock.hash,
							program: program,
							inverse: inverse,
							openStrip: openBlock.strip,
							inverseStrip: inverseStrip,
							closeStrip: close && close.strip,
							loc: this.locInfo(locInfo)
						};
					}

					function prepareProgram(statements, loc) {
						if (!loc && statements.length) {
							var firstLoc = statements[0].loc,
							    lastLoc = statements[statements.length - 1].loc;

							/* istanbul ignore else */
							if (firstLoc && lastLoc) {
								loc = {
									source: firstLoc.source,
									start: {
										line: firstLoc.start.line,
										column: firstLoc.start.column
									},
									end: {
										line: lastLoc.end.line,
										column: lastLoc.end.column
									}
								};
							}
						}

						return {
							type: 'Program',
							body: statements,
							strip: {},
							loc: loc
						};
					}

					function preparePartialBlock(open, program, close, locInfo) {
						validateClose(open, close);

						return {
							type: 'PartialBlockStatement',
							name: open.path,
							params: open.params,
							hash: open.hash,
							program: program,
							openStrip: open.strip,
							closeStrip: close && close.strip,
							loc: this.locInfo(locInfo)
						};
					}

					/***/
				},
				/* 27 */
				/***/function (module, exports, __webpack_require__) {

					/* eslint-disable new-cap */

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;
					exports.Compiler = Compiler;
					exports.precompile = precompile;
					exports.compile = compile;

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					var _utils = __webpack_require__(5);

					var _ast = __webpack_require__(21);

					var _ast2 = _interopRequireDefault(_ast);

					var slice = [].slice;

					function Compiler() {}

					// the foundHelper register will disambiguate helper lookup from finding a
					// function in a context. This is necessary for mustache compatibility, which
					// requires that context functions in blocks are evaluated by blockHelperMissing,
					// and then proceed as if the resulting value was provided to blockHelperMissing.

					Compiler.prototype = {
						compiler: Compiler,

						equals: function equals(other) {
							var len = this.opcodes.length;
							if (other.opcodes.length !== len) {
								return false;
							}

							for (var i = 0; i < len; i++) {
								var opcode = this.opcodes[i],
								    otherOpcode = other.opcodes[i];
								if (opcode.opcode !== otherOpcode.opcode || !argEquals(opcode.args, otherOpcode.args)) {
									return false;
								}
							}

							// We know that length is the same between the two arrays because they are directly tied
							// to the opcode behavior above.
							len = this.children.length;
							for (var i = 0; i < len; i++) {
								if (!this.children[i].equals(other.children[i])) {
									return false;
								}
							}

							return true;
						},

						guid: 0,

						compile: function compile(program, options) {
							this.sourceNode = [];
							this.opcodes = [];
							this.children = [];
							this.options = options;
							this.stringParams = options.stringParams;
							this.trackIds = options.trackIds;

							options.blockParams = options.blockParams || [];

							// These changes will propagate to the other compiler components
							var knownHelpers = options.knownHelpers;
							options.knownHelpers = {
								'helperMissing': true,
								'blockHelperMissing': true,
								'each': true,
								'if': true,
								'unless': true,
								'with': true,
								'log': true,
								'lookup': true
							};
							if (knownHelpers) {
								for (var _name in knownHelpers) {
									/* istanbul ignore else */
									if (_name in knownHelpers) {
										options.knownHelpers[_name] = knownHelpers[_name];
									}
								}
							}

							return this.accept(program);
						},

						compileProgram: function compileProgram(program) {
							var childCompiler = new this.compiler(),

							// eslint-disable-line new-cap
							result = childCompiler.compile(program, this.options),
							    guid = this.guid++;

							this.usePartial = this.usePartial || result.usePartial;

							this.children[guid] = result;
							this.useDepths = this.useDepths || result.useDepths;

							return guid;
						},

						accept: function accept(node) {
							/* istanbul ignore next: Sanity code */
							if (!this[node.type]) {
								throw new _exception2['default']('Unknown type: ' + node.type, node);
							}

							this.sourceNode.unshift(node);
							var ret = this[node.type](node);
							this.sourceNode.shift();
							return ret;
						},

						Program: function Program(program) {
							this.options.blockParams.unshift(program.blockParams);

							var body = program.body,
							    bodyLength = body.length;
							for (var i = 0; i < bodyLength; i++) {
								this.accept(body[i]);
							}

							this.options.blockParams.shift();

							this.isSimple = bodyLength === 1;
							this.blockParams = program.blockParams ? program.blockParams.length : 0;

							return this;
						},

						BlockStatement: function BlockStatement(block) {
							transformLiteralToPath(block);

							var program = block.program,
							    inverse = block.inverse;

							program = program && this.compileProgram(program);
							inverse = inverse && this.compileProgram(inverse);

							var type = this.classifySexpr(block);

							if (type === 'helper') {
								this.helperSexpr(block, program, inverse);
							} else if (type === 'simple') {
								this.simpleSexpr(block);

								// now that the simple mustache is resolved, we need to
								// evaluate it by executing `blockHelperMissing`
								this.opcode('pushProgram', program);
								this.opcode('pushProgram', inverse);
								this.opcode('emptyHash');
								this.opcode('blockValue', block.path.original);
							} else {
								this.ambiguousSexpr(block, program, inverse);

								// now that the simple mustache is resolved, we need to
								// evaluate it by executing `blockHelperMissing`
								this.opcode('pushProgram', program);
								this.opcode('pushProgram', inverse);
								this.opcode('emptyHash');
								this.opcode('ambiguousBlockValue');
							}

							this.opcode('append');
						},

						DecoratorBlock: function DecoratorBlock(decorator) {
							var program = decorator.program && this.compileProgram(decorator.program);
							var params = this.setupFullMustacheParams(decorator, program, undefined),
							    path = decorator.path;

							this.useDecorators = true;
							this.opcode('registerDecorator', params.length, path.original);
						},

						PartialStatement: function PartialStatement(partial) {
							this.usePartial = true;

							var program = partial.program;
							if (program) {
								program = this.compileProgram(partial.program);
							}

							var params = partial.params;
							if (params.length > 1) {
								throw new _exception2['default']('Unsupported number of partial arguments: ' + params.length, partial);
							} else if (!params.length) {
								if (this.options.explicitPartialContext) {
									this.opcode('pushLiteral', 'undefined');
								} else {
									params.push({ type: 'PathExpression', parts: [], depth: 0 });
								}
							}

							var partialName = partial.name.original,
							    isDynamic = partial.name.type === 'SubExpression';
							if (isDynamic) {
								this.accept(partial.name);
							}

							this.setupFullMustacheParams(partial, program, undefined, true);

							var indent = partial.indent || '';
							if (this.options.preventIndent && indent) {
								this.opcode('appendContent', indent);
								indent = '';
							}

							this.opcode('invokePartial', isDynamic, partialName, indent);
							this.opcode('append');
						},
						PartialBlockStatement: function PartialBlockStatement(partialBlock) {
							this.PartialStatement(partialBlock);
						},

						MustacheStatement: function MustacheStatement(mustache) {
							this.SubExpression(mustache);

							if (mustache.escaped && !this.options.noEscape) {
								this.opcode('appendEscaped');
							} else {
								this.opcode('append');
							}
						},
						Decorator: function Decorator(decorator) {
							this.DecoratorBlock(decorator);
						},

						ContentStatement: function ContentStatement(content) {
							if (content.value) {
								this.opcode('appendContent', content.value);
							}
						},

						CommentStatement: function CommentStatement() {},

						SubExpression: function SubExpression(sexpr) {
							transformLiteralToPath(sexpr);
							var type = this.classifySexpr(sexpr);

							if (type === 'simple') {
								this.simpleSexpr(sexpr);
							} else if (type === 'helper') {
								this.helperSexpr(sexpr);
							} else {
								this.ambiguousSexpr(sexpr);
							}
						},
						ambiguousSexpr: function ambiguousSexpr(sexpr, program, inverse) {
							var path = sexpr.path,
							    name = path.parts[0],
							    isBlock = program != null || inverse != null;

							this.opcode('getContext', path.depth);

							this.opcode('pushProgram', program);
							this.opcode('pushProgram', inverse);

							path.strict = true;
							this.accept(path);

							this.opcode('invokeAmbiguous', name, isBlock);
						},

						simpleSexpr: function simpleSexpr(sexpr) {
							var path = sexpr.path;
							path.strict = true;
							this.accept(path);
							this.opcode('resolvePossibleLambda');
						},

						helperSexpr: function helperSexpr(sexpr, program, inverse) {
							var params = this.setupFullMustacheParams(sexpr, program, inverse),
							    path = sexpr.path,
							    name = path.parts[0];

							if (this.options.knownHelpers[name]) {
								this.opcode('invokeKnownHelper', params.length, name);
							} else if (this.options.knownHelpersOnly) {
								throw new _exception2['default']('You specified knownHelpersOnly, but used the unknown helper ' + name, sexpr);
							} else {
								path.strict = true;
								path.falsy = true;

								this.accept(path);
								this.opcode('invokeHelper', params.length, path.original, _ast2['default'].helpers.simpleId(path));
							}
						},

						PathExpression: function PathExpression(path) {
							this.addDepth(path.depth);
							this.opcode('getContext', path.depth);

							var name = path.parts[0],
							    scoped = _ast2['default'].helpers.scopedId(path),
							    blockParamId = !path.depth && !scoped && this.blockParamIndex(name);

							if (blockParamId) {
								this.opcode('lookupBlockParam', blockParamId, path.parts);
							} else if (!name) {
								// Context reference, i.e. `{{foo .}}` or `{{foo ..}}`
								this.opcode('pushContext');
							} else if (path.data) {
								this.options.data = true;
								this.opcode('lookupData', path.depth, path.parts, path.strict);
							} else {
								this.opcode('lookupOnContext', path.parts, path.falsy, path.strict, scoped);
							}
						},

						StringLiteral: function StringLiteral(string) {
							this.opcode('pushString', string.value);
						},

						NumberLiteral: function NumberLiteral(number) {
							this.opcode('pushLiteral', number.value);
						},

						BooleanLiteral: function BooleanLiteral(bool) {
							this.opcode('pushLiteral', bool.value);
						},

						UndefinedLiteral: function UndefinedLiteral() {
							this.opcode('pushLiteral', 'undefined');
						},

						NullLiteral: function NullLiteral() {
							this.opcode('pushLiteral', 'null');
						},

						Hash: function Hash(hash) {
							var pairs = hash.pairs,
							    i = 0,
							    l = pairs.length;

							this.opcode('pushHash');

							for (; i < l; i++) {
								this.pushParam(pairs[i].value);
							}
							while (i--) {
								this.opcode('assignToHash', pairs[i].key);
							}
							this.opcode('popHash');
						},

						// HELPERS
						opcode: function opcode(name) {
							this.opcodes.push({ opcode: name, args: slice.call(arguments, 1), loc: this.sourceNode[0].loc });
						},

						addDepth: function addDepth(depth) {
							if (!depth) {
								return;
							}

							this.useDepths = true;
						},

						classifySexpr: function classifySexpr(sexpr) {
							var isSimple = _ast2['default'].helpers.simpleId(sexpr.path);

							var isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);

							// a mustache is an eligible helper if:
							// * its id is simple (a single part, not `this` or `..`)
							var isHelper = !isBlockParam && _ast2['default'].helpers.helperExpression(sexpr);

							// if a mustache is an eligible helper but not a definite
							// helper, it is ambiguous, and will be resolved in a later
							// pass or at runtime.
							var isEligible = !isBlockParam && (isHelper || isSimple);

							// if ambiguous, we can possibly resolve the ambiguity now
							// An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.
							if (isEligible && !isHelper) {
								var _name2 = sexpr.path.parts[0],
								    options = this.options;

								if (options.knownHelpers[_name2]) {
									isHelper = true;
								} else if (options.knownHelpersOnly) {
									isEligible = false;
								}
							}

							if (isHelper) {
								return 'helper';
							} else if (isEligible) {
								return 'ambiguous';
							} else {
								return 'simple';
							}
						},

						pushParams: function pushParams(params) {
							for (var i = 0, l = params.length; i < l; i++) {
								this.pushParam(params[i]);
							}
						},

						pushParam: function pushParam(val) {
							var value = val.value != null ? val.value : val.original || '';

							if (this.stringParams) {
								if (value.replace) {
									value = value.replace(/^(\.?\.\/)*/g, '').replace(/\//g, '.');
								}

								if (val.depth) {
									this.addDepth(val.depth);
								}
								this.opcode('getContext', val.depth || 0);
								this.opcode('pushStringParam', value, val.type);

								if (val.type === 'SubExpression') {
									// SubExpressions get evaluated and passed in
									// in string params mode.
									this.accept(val);
								}
							} else {
								if (this.trackIds) {
									var blockParamIndex = undefined;
									if (val.parts && !_ast2['default'].helpers.scopedId(val) && !val.depth) {
										blockParamIndex = this.blockParamIndex(val.parts[0]);
									}
									if (blockParamIndex) {
										var blockParamChild = val.parts.slice(1).join('.');
										this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);
									} else {
										value = val.original || value;
										if (value.replace) {
											value = value.replace(/^this(?:\.|$)/, '').replace(/^\.\//, '').replace(/^\.$/, '');
										}

										this.opcode('pushId', val.type, value);
									}
								}
								this.accept(val);
							}
						},

						setupFullMustacheParams: function setupFullMustacheParams(sexpr, program, inverse, omitEmpty) {
							var params = sexpr.params;
							this.pushParams(params);

							this.opcode('pushProgram', program);
							this.opcode('pushProgram', inverse);

							if (sexpr.hash) {
								this.accept(sexpr.hash);
							} else {
								this.opcode('emptyHash', omitEmpty);
							}

							return params;
						},

						blockParamIndex: function blockParamIndex(name) {
							for (var depth = 0, len = this.options.blockParams.length; depth < len; depth++) {
								var blockParams = this.options.blockParams[depth],
								    param = blockParams && _utils.indexOf(blockParams, name);
								if (blockParams && param >= 0) {
									return [depth, param];
								}
							}
						}
					};

					function precompile(input, options, env) {
						if (input == null || typeof input !== 'string' && input.type !== 'Program') {
							throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' + input);
						}

						options = options || {};
						if (!('data' in options)) {
							options.data = true;
						}
						if (options.compat) {
							options.useDepths = true;
						}

						var ast = env.parse(input, options),
						    environment = new env.Compiler().compile(ast, options);
						return new env.JavaScriptCompiler().compile(environment, options);
					}

					function compile(input, options, env) {
						if (options === undefined) options = {};

						if (input == null || typeof input !== 'string' && input.type !== 'Program') {
							throw new _exception2['default']('You must pass a string or Handlebars AST to Handlebars.compile. You passed ' + input);
						}

						if (!('data' in options)) {
							options.data = true;
						}
						if (options.compat) {
							options.useDepths = true;
						}

						var compiled = undefined;

						function compileInput() {
							var ast = env.parse(input, options),
							    environment = new env.Compiler().compile(ast, options),
							    templateSpec = new env.JavaScriptCompiler().compile(environment, options, undefined, true);
							return env.template(templateSpec);
						}

						// Template is only compiled on first use and cached after that point.
						function ret(context, execOptions) {
							if (!compiled) {
								compiled = compileInput();
							}
							return compiled.call(this, context, execOptions);
						}
						ret._setup = function (setupOptions) {
							if (!compiled) {
								compiled = compileInput();
							}
							return compiled._setup(setupOptions);
						};
						ret._child = function (i, data, blockParams, depths) {
							if (!compiled) {
								compiled = compileInput();
							}
							return compiled._child(i, data, blockParams, depths);
						};
						return ret;
					}

					function argEquals(a, b) {
						if (a === b) {
							return true;
						}

						if (_utils.isArray(a) && _utils.isArray(b) && a.length === b.length) {
							for (var i = 0; i < a.length; i++) {
								if (!argEquals(a[i], b[i])) {
									return false;
								}
							}
							return true;
						}
					}

					function transformLiteralToPath(sexpr) {
						if (!sexpr.path.parts) {
							var literal = sexpr.path;
							// Casting to string here to make false and 0 literal values play nicely with the rest
							// of the system.
							sexpr.path = {
								type: 'PathExpression',
								data: false,
								depth: 0,
								parts: [literal.original + ''],
								original: literal.original + '',
								loc: literal.loc
							};
						}
					}

					/***/
				},
				/* 28 */
				/***/function (module, exports, __webpack_require__) {

					'use strict';

					var _interopRequireDefault = __webpack_require__(1)['default'];

					exports.__esModule = true;

					var _base = __webpack_require__(4);

					var _exception = __webpack_require__(6);

					var _exception2 = _interopRequireDefault(_exception);

					var _utils = __webpack_require__(5);

					var _codeGen = __webpack_require__(29);

					var _codeGen2 = _interopRequireDefault(_codeGen);

					function Literal(value) {
						this.value = value;
					}

					function JavaScriptCompiler() {}

					JavaScriptCompiler.prototype = {
						// PUBLIC API: You can override these methods in a subclass to provide
						// alternative compiled forms for name lookup and buffering semantics
						nameLookup: function nameLookup(parent, name /* , type*/) {
							if (JavaScriptCompiler.isValidJavaScriptVariableName(name)) {
								return [parent, '.', name];
							} else {
								return [parent, '[', JSON.stringify(name), ']'];
							}
						},
						depthedLookup: function depthedLookup(name) {
							return [this.aliasable('container.lookup'), '(depths, "', name, '")'];
						},

						compilerInfo: function compilerInfo() {
							var revision = _base.COMPILER_REVISION,
							    versions = _base.REVISION_CHANGES[revision];
							return [revision, versions];
						},

						appendToBuffer: function appendToBuffer(source, location, explicit) {
							// Force a source as this simplifies the merge logic.
							if (!_utils.isArray(source)) {
								source = [source];
							}
							source = this.source.wrap(source, location);

							if (this.environment.isSimple) {
								return ['return ', source, ';'];
							} else if (explicit) {
								// This is a case where the buffer operation occurs as a child of another
								// construct, generally braces. We have to explicitly output these buffer
								// operations to ensure that the emitted code goes in the correct location.
								return ['buffer += ', source, ';'];
							} else {
								source.appendToBuffer = true;
								return source;
							}
						},

						initializeBuffer: function initializeBuffer() {
							return this.quotedString('');
						},
						// END PUBLIC API

						compile: function compile(environment, options, context, asObject) {
							this.environment = environment;
							this.options = options;
							this.stringParams = this.options.stringParams;
							this.trackIds = this.options.trackIds;
							this.precompile = !asObject;

							this.name = this.environment.name;
							this.isChild = !!context;
							this.context = context || {
								decorators: [],
								programs: [],
								environments: []
							};

							this.preamble();

							this.stackSlot = 0;
							this.stackVars = [];
							this.aliases = {};
							this.registers = { list: [] };
							this.hashes = [];
							this.compileStack = [];
							this.inlineStack = [];
							this.blockParams = [];

							this.compileChildren(environment, options);

							this.useDepths = this.useDepths || environment.useDepths || environment.useDecorators || this.options.compat;
							this.useBlockParams = this.useBlockParams || environment.useBlockParams;

							var opcodes = environment.opcodes,
							    opcode = undefined,
							    firstLoc = undefined,
							    i = undefined,
							    l = undefined;

							for (i = 0, l = opcodes.length; i < l; i++) {
								opcode = opcodes[i];

								this.source.currentLocation = opcode.loc;
								firstLoc = firstLoc || opcode.loc;
								this[opcode.opcode].apply(this, opcode.args);
							}

							// Flush any trailing content that might be pending.
							this.source.currentLocation = firstLoc;
							this.pushSource('');

							/* istanbul ignore next */
							if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {
								throw new _exception2['default']('Compile completed with content left on stack');
							}

							if (!this.decorators.isEmpty()) {
								this.useDecorators = true;

								this.decorators.prepend('var decorators = container.decorators;\n');
								this.decorators.push('return fn;');

								if (asObject) {
									this.decorators = Function.apply(this, ['fn', 'props', 'container', 'depth0', 'data', 'blockParams', 'depths', this.decorators.merge()]);
								} else {
									this.decorators.prepend('function(fn, props, container, depth0, data, blockParams, depths) {\n');
									this.decorators.push('}\n');
									this.decorators = this.decorators.merge();
								}
							} else {
								this.decorators = undefined;
							}

							var fn = this.createFunctionContext(asObject);
							if (!this.isChild) {
								var ret = {
									compiler: this.compilerInfo(),
									main: fn
								};

								if (this.decorators) {
									ret.main_d = this.decorators; // eslint-disable-line camelcase
									ret.useDecorators = true;
								}

								var _context = this.context;
								var programs = _context.programs;
								var decorators = _context.decorators;

								for (i = 0, l = programs.length; i < l; i++) {
									if (programs[i]) {
										ret[i] = programs[i];
										if (decorators[i]) {
											ret[i + '_d'] = decorators[i];
											ret.useDecorators = true;
										}
									}
								}

								if (this.environment.usePartial) {
									ret.usePartial = true;
								}
								if (this.options.data) {
									ret.useData = true;
								}
								if (this.useDepths) {
									ret.useDepths = true;
								}
								if (this.useBlockParams) {
									ret.useBlockParams = true;
								}
								if (this.options.compat) {
									ret.compat = true;
								}

								if (!asObject) {
									ret.compiler = JSON.stringify(ret.compiler);

									this.source.currentLocation = { start: { line: 1, column: 0 } };
									ret = this.objectLiteral(ret);

									if (options.srcName) {
										ret = ret.toStringWithSourceMap({ file: options.destName });
										ret.map = ret.map && ret.map.toString();
									} else {
										ret = ret.toString();
									}
								} else {
									ret.compilerOptions = this.options;
								}

								return ret;
							} else {
								return fn;
							}
						},

						preamble: function preamble() {
							// track the last context pushed into place to allow skipping the
							// getContext opcode when it would be a noop
							this.lastContext = 0;
							this.source = new _codeGen2['default'](this.options.srcName);
							this.decorators = new _codeGen2['default'](this.options.srcName);
						},

						createFunctionContext: function createFunctionContext(asObject) {
							var varDeclarations = '';

							var locals = this.stackVars.concat(this.registers.list);
							if (locals.length > 0) {
								varDeclarations += ', ' + locals.join(', ');
							}

							// Generate minimizer alias mappings
							//
							// When using true SourceNodes, this will update all references to the given alias
							// as the source nodes are reused in situ. For the non-source node compilation mode,
							// aliases will not be used, but this case is already being run on the client and
							// we aren't concern about minimizing the template size.
							var aliasCount = 0;
							for (var alias in this.aliases) {
								// eslint-disable-line guard-for-in
								var node = this.aliases[alias];

								if (this.aliases.hasOwnProperty(alias) && node.children && node.referenceCount > 1) {
									varDeclarations += ', alias' + ++aliasCount + '=' + alias;
									node.children[0] = 'alias' + aliasCount;
								}
							}

							var params = ['container', 'depth0', 'helpers', 'partials', 'data'];

							if (this.useBlockParams || this.useDepths) {
								params.push('blockParams');
							}
							if (this.useDepths) {
								params.push('depths');
							}

							// Perform a second pass over the output to merge content when possible
							var source = this.mergeSource(varDeclarations);

							if (asObject) {
								params.push(source);

								return Function.apply(this, params);
							} else {
								return this.source.wrap(['function(', params.join(','), ') {\n  ', source, '}']);
							}
						},
						mergeSource: function mergeSource(varDeclarations) {
							var isSimple = this.environment.isSimple,
							    appendOnly = !this.forceBuffer,
							    appendFirst = undefined,
							    sourceSeen = undefined,
							    bufferStart = undefined,
							    bufferEnd = undefined;
							this.source.each(function (line) {
								if (line.appendToBuffer) {
									if (bufferStart) {
										line.prepend('  + ');
									} else {
										bufferStart = line;
									}
									bufferEnd = line;
								} else {
									if (bufferStart) {
										if (!sourceSeen) {
											appendFirst = true;
										} else {
											bufferStart.prepend('buffer += ');
										}
										bufferEnd.add(';');
										bufferStart = bufferEnd = undefined;
									}

									sourceSeen = true;
									if (!isSimple) {
										appendOnly = false;
									}
								}
							});

							if (appendOnly) {
								if (bufferStart) {
									bufferStart.prepend('return ');
									bufferEnd.add(';');
								} else if (!sourceSeen) {
									this.source.push('return "";');
								}
							} else {
								varDeclarations += ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());

								if (bufferStart) {
									bufferStart.prepend('return buffer + ');
									bufferEnd.add(';');
								} else {
									this.source.push('return buffer;');
								}
							}

							if (varDeclarations) {
								this.source.prepend('var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\n'));
							}

							return this.source.merge();
						},

						// [blockValue]
						//
						// On stack, before: hash, inverse, program, value
						// On stack, after: return value of blockHelperMissing
						//
						// The purpose of this opcode is to take a block of the form
						// `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and
						// replace it on the stack with the result of properly
						// invoking blockHelperMissing.
						blockValue: function blockValue(name) {
							var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
							    params = [this.contextName(0)];
							this.setupHelperArgs(name, 0, params);

							var blockName = this.popStack();
							params.splice(1, 0, blockName);

							this.push(this.source.functionCall(blockHelperMissing, 'call', params));
						},

						// [ambiguousBlockValue]
						//
						// On stack, before: hash, inverse, program, value
						// Compiler value, before: lastHelper=value of last found helper, if any
						// On stack, after, if no lastHelper: same as [blockValue]
						// On stack, after, if lastHelper: value
						ambiguousBlockValue: function ambiguousBlockValue() {
							// We're being a bit cheeky and reusing the options value from the prior exec
							var blockHelperMissing = this.aliasable('helpers.blockHelperMissing'),
							    params = [this.contextName(0)];
							this.setupHelperArgs('', 0, params, true);

							this.flushInline();

							var current = this.topStack();
							params.splice(1, 0, current);

							this.pushSource(['if (!', this.lastHelper, ') { ', current, ' = ', this.source.functionCall(blockHelperMissing, 'call', params), '}']);
						},

						// [appendContent]
						//
						// On stack, before: ...
						// On stack, after: ...
						//
						// Appends the string value of `content` to the current buffer
						appendContent: function appendContent(content) {
							if (this.pendingContent) {
								content = this.pendingContent + content;
							} else {
								this.pendingLocation = this.source.currentLocation;
							}

							this.pendingContent = content;
						},

						// [append]
						//
						// On stack, before: value, ...
						// On stack, after: ...
						//
						// Coerces `value` to a String and appends it to the current buffer.
						//
						// If `value` is truthy, or 0, it is coerced into a string and appended
						// Otherwise, the empty string is appended
						append: function append() {
							if (this.isInline()) {
								this.replaceStack(function (current) {
									return [' != null ? ', current, ' : ""'];
								});

								this.pushSource(this.appendToBuffer(this.popStack()));
							} else {
								var local = this.popStack();
								this.pushSource(['if (', local, ' != null) { ', this.appendToBuffer(local, undefined, true), ' }']);
								if (this.environment.isSimple) {
									this.pushSource(['else { ', this.appendToBuffer("''", undefined, true), ' }']);
								}
							}
						},

						// [appendEscaped]
						//
						// On stack, before: value, ...
						// On stack, after: ...
						//
						// Escape `value` and append it to the buffer
						appendEscaped: function appendEscaped() {
							this.pushSource(this.appendToBuffer([this.aliasable('container.escapeExpression'), '(', this.popStack(), ')']));
						},

						// [getContext]
						//
						// On stack, before: ...
						// On stack, after: ...
						// Compiler value, after: lastContext=depth
						//
						// Set the value of the `lastContext` compiler value to the depth
						getContext: function getContext(depth) {
							this.lastContext = depth;
						},

						// [pushContext]
						//
						// On stack, before: ...
						// On stack, after: currentContext, ...
						//
						// Pushes the value of the current context onto the stack.
						pushContext: function pushContext() {
							this.pushStackLiteral(this.contextName(this.lastContext));
						},

						// [lookupOnContext]
						//
						// On stack, before: ...
						// On stack, after: currentContext[name], ...
						//
						// Looks up the value of `name` on the current context and pushes
						// it onto the stack.
						lookupOnContext: function lookupOnContext(parts, falsy, strict, scoped) {
							var i = 0;

							if (!scoped && this.options.compat && !this.lastContext) {
								// The depthed query is expected to handle the undefined logic for the root level that
								// is implemented below, so we evaluate that directly in compat mode
								this.push(this.depthedLookup(parts[i++]));
							} else {
								this.pushContext();
							}

							this.resolvePath('context', parts, i, falsy, strict);
						},

						// [lookupBlockParam]
						//
						// On stack, before: ...
						// On stack, after: blockParam[name], ...
						//
						// Looks up the value of `parts` on the given block param and pushes
						// it onto the stack.
						lookupBlockParam: function lookupBlockParam(blockParamId, parts) {
							this.useBlockParams = true;

							this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);
							this.resolvePath('context', parts, 1);
						},

						// [lookupData]
						//
						// On stack, before: ...
						// On stack, after: data, ...
						//
						// Push the data lookup operator
						lookupData: function lookupData(depth, parts, strict) {
							if (!depth) {
								this.pushStackLiteral('data');
							} else {
								this.pushStackLiteral('container.data(data, ' + depth + ')');
							}

							this.resolvePath('data', parts, 0, true, strict);
						},

						resolvePath: function resolvePath(type, parts, i, falsy, strict) {
							// istanbul ignore next

							var _this = this;

							if (this.options.strict || this.options.assumeObjects) {
								this.push(strictLookup(this.options.strict && strict, this, parts, type));
								return;
							}

							var len = parts.length;
							for (; i < len; i++) {
								/* eslint-disable no-loop-func */
								this.replaceStack(function (current) {
									var lookup = _this.nameLookup(current, parts[i], type);
									// We want to ensure that zero and false are handled properly if the context (falsy flag)
									// needs to have the special handling for these values.
									if (!falsy) {
										return [' != null ? ', lookup, ' : ', current];
									} else {
										// Otherwise we can use generic falsy handling
										return [' && ', lookup];
									}
								});
								/* eslint-enable no-loop-func */
							}
						},

						// [resolvePossibleLambda]
						//
						// On stack, before: value, ...
						// On stack, after: resolved value, ...
						//
						// If the `value` is a lambda, replace it on the stack by
						// the return value of the lambda
						resolvePossibleLambda: function resolvePossibleLambda() {
							this.push([this.aliasable('container.lambda'), '(', this.popStack(), ', ', this.contextName(0), ')']);
						},

						// [pushStringParam]
						//
						// On stack, before: ...
						// On stack, after: string, currentContext, ...
						//
						// This opcode is designed for use in string mode, which
						// provides the string value of a parameter along with its
						// depth rather than resolving it immediately.
						pushStringParam: function pushStringParam(string, type) {
							this.pushContext();
							this.pushString(type);

							// If it's a subexpression, the string result
							// will be pushed after this opcode.
							if (type !== 'SubExpression') {
								if (typeof string === 'string') {
									this.pushString(string);
								} else {
									this.pushStackLiteral(string);
								}
							}
						},

						emptyHash: function emptyHash(omitEmpty) {
							if (this.trackIds) {
								this.push('{}'); // hashIds
							}
							if (this.stringParams) {
								this.push('{}'); // hashContexts
								this.push('{}'); // hashTypes
							}
							this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');
						},
						pushHash: function pushHash() {
							if (this.hash) {
								this.hashes.push(this.hash);
							}
							this.hash = { values: [], types: [], contexts: [], ids: [] };
						},
						popHash: function popHash() {
							var hash = this.hash;
							this.hash = this.hashes.pop();

							if (this.trackIds) {
								this.push(this.objectLiteral(hash.ids));
							}
							if (this.stringParams) {
								this.push(this.objectLiteral(hash.contexts));
								this.push(this.objectLiteral(hash.types));
							}

							this.push(this.objectLiteral(hash.values));
						},

						// [pushString]
						//
						// On stack, before: ...
						// On stack, after: quotedString(string), ...
						//
						// Push a quoted version of `string` onto the stack
						pushString: function pushString(string) {
							this.pushStackLiteral(this.quotedString(string));
						},

						// [pushLiteral]
						//
						// On stack, before: ...
						// On stack, after: value, ...
						//
						// Pushes a value onto the stack. This operation prevents
						// the compiler from creating a temporary variable to hold
						// it.
						pushLiteral: function pushLiteral(value) {
							this.pushStackLiteral(value);
						},

						// [pushProgram]
						//
						// On stack, before: ...
						// On stack, after: program(guid), ...
						//
						// Push a program expression onto the stack. This takes
						// a compile-time guid and converts it into a runtime-accessible
						// expression.
						pushProgram: function pushProgram(guid) {
							if (guid != null) {
								this.pushStackLiteral(this.programExpression(guid));
							} else {
								this.pushStackLiteral(null);
							}
						},

						// [registerDecorator]
						//
						// On stack, before: hash, program, params..., ...
						// On stack, after: ...
						//
						// Pops off the decorator's parameters, invokes the decorator,
						// and inserts the decorator into the decorators list.
						registerDecorator: function registerDecorator(paramSize, name) {
							var foundDecorator = this.nameLookup('decorators', name, 'decorator'),
							    options = this.setupHelperArgs(name, paramSize);

							this.decorators.push(['fn = ', this.decorators.functionCall(foundDecorator, '', ['fn', 'props', 'container', options]), ' || fn;']);
						},

						// [invokeHelper]
						//
						// On stack, before: hash, inverse, program, params..., ...
						// On stack, after: result of helper invocation
						//
						// Pops off the helper's parameters, invokes the helper,
						// and pushes the helper's return value onto the stack.
						//
						// If the helper is not found, `helperMissing` is called.
						invokeHelper: function invokeHelper(paramSize, name, isSimple) {
							var nonHelper = this.popStack(),
							    helper = this.setupHelper(paramSize, name),
							    simple = isSimple ? [helper.name, ' || '] : '';

							var lookup = ['('].concat(simple, nonHelper);
							if (!this.options.strict) {
								lookup.push(' || ', this.aliasable('helpers.helperMissing'));
							}
							lookup.push(')');

							this.push(this.source.functionCall(lookup, 'call', helper.callParams));
						},

						// [invokeKnownHelper]
						//
						// On stack, before: hash, inverse, program, params..., ...
						// On stack, after: result of helper invocation
						//
						// This operation is used when the helper is known to exist,
						// so a `helperMissing` fallback is not required.
						invokeKnownHelper: function invokeKnownHelper(paramSize, name) {
							var helper = this.setupHelper(paramSize, name);
							this.push(this.source.functionCall(helper.name, 'call', helper.callParams));
						},

						// [invokeAmbiguous]
						//
						// On stack, before: hash, inverse, program, params..., ...
						// On stack, after: result of disambiguation
						//
						// This operation is used when an expression like `{{foo}}`
						// is provided, but we don't know at compile-time whether it
						// is a helper or a path.
						//
						// This operation emits more code than the other options,
						// and can be avoided by passing the `knownHelpers` and
						// `knownHelpersOnly` flags at compile-time.
						invokeAmbiguous: function invokeAmbiguous(name, helperCall) {
							this.useRegister('helper');

							var nonHelper = this.popStack();

							this.emptyHash();
							var helper = this.setupHelper(0, name, helperCall);

							var helperName = this.lastHelper = this.nameLookup('helpers', name, 'helper');

							var lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];
							if (!this.options.strict) {
								lookup[0] = '(helper = ';
								lookup.push(' != null ? helper : ', this.aliasable('helpers.helperMissing'));
							}

							this.push(['(', lookup, helper.paramsInit ? ['),(', helper.paramsInit] : [], '),', '(typeof helper === ', this.aliasable('"function"'), ' ? ', this.source.functionCall('helper', 'call', helper.callParams), ' : helper))']);
						},

						// [invokePartial]
						//
						// On stack, before: context, ...
						// On stack after: result of partial invocation
						//
						// This operation pops off a context, invokes a partial with that context,
						// and pushes the result of the invocation back.
						invokePartial: function invokePartial(isDynamic, name, indent) {
							var params = [],
							    options = this.setupParams(name, 1, params);

							if (isDynamic) {
								name = this.popStack();
								delete options.name;
							}

							if (indent) {
								options.indent = JSON.stringify(indent);
							}
							options.helpers = 'helpers';
							options.partials = 'partials';
							options.decorators = 'container.decorators';

							if (!isDynamic) {
								params.unshift(this.nameLookup('partials', name, 'partial'));
							} else {
								params.unshift(name);
							}

							if (this.options.compat) {
								options.depths = 'depths';
							}
							options = this.objectLiteral(options);
							params.push(options);

							this.push(this.source.functionCall('container.invokePartial', '', params));
						},

						// [assignToHash]
						//
						// On stack, before: value, ..., hash, ...
						// On stack, after: ..., hash, ...
						//
						// Pops a value off the stack and assigns it to the current hash
						assignToHash: function assignToHash(key) {
							var value = this.popStack(),
							    context = undefined,
							    type = undefined,
							    id = undefined;

							if (this.trackIds) {
								id = this.popStack();
							}
							if (this.stringParams) {
								type = this.popStack();
								context = this.popStack();
							}

							var hash = this.hash;
							if (context) {
								hash.contexts[key] = context;
							}
							if (type) {
								hash.types[key] = type;
							}
							if (id) {
								hash.ids[key] = id;
							}
							hash.values[key] = value;
						},

						pushId: function pushId(type, name, child) {
							if (type === 'BlockParam') {
								this.pushStackLiteral('blockParams[' + name[0] + '].path[' + name[1] + ']' + (child ? ' + ' + JSON.stringify('.' + child) : ''));
							} else if (type === 'PathExpression') {
								this.pushString(name);
							} else if (type === 'SubExpression') {
								this.pushStackLiteral('true');
							} else {
								this.pushStackLiteral('null');
							}
						},

						// HELPERS

						compiler: JavaScriptCompiler,

						compileChildren: function compileChildren(environment, options) {
							var children = environment.children,
							    child = undefined,
							    compiler = undefined;

							for (var i = 0, l = children.length; i < l; i++) {
								child = children[i];
								compiler = new this.compiler(); // eslint-disable-line new-cap

								var index = this.matchExistingProgram(child);

								if (index == null) {
									this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children
									index = this.context.programs.length;
									child.index = index;
									child.name = 'program' + index;
									this.context.programs[index] = compiler.compile(child, options, this.context, !this.precompile);
									this.context.decorators[index] = compiler.decorators;
									this.context.environments[index] = child;

									this.useDepths = this.useDepths || compiler.useDepths;
									this.useBlockParams = this.useBlockParams || compiler.useBlockParams;
								} else {
									child.index = index;
									child.name = 'program' + index;

									this.useDepths = this.useDepths || child.useDepths;
									this.useBlockParams = this.useBlockParams || child.useBlockParams;
								}
							}
						},
						matchExistingProgram: function matchExistingProgram(child) {
							for (var i = 0, len = this.context.environments.length; i < len; i++) {
								var environment = this.context.environments[i];
								if (environment && environment.equals(child)) {
									return i;
								}
							}
						},

						programExpression: function programExpression(guid) {
							var child = this.environment.children[guid],
							    programParams = [child.index, 'data', child.blockParams];

							if (this.useBlockParams || this.useDepths) {
								programParams.push('blockParams');
							}
							if (this.useDepths) {
								programParams.push('depths');
							}

							return 'container.program(' + programParams.join(', ') + ')';
						},

						useRegister: function useRegister(name) {
							if (!this.registers[name]) {
								this.registers[name] = true;
								this.registers.list.push(name);
							}
						},

						push: function push(expr) {
							if (!(expr instanceof Literal)) {
								expr = this.source.wrap(expr);
							}

							this.inlineStack.push(expr);
							return expr;
						},

						pushStackLiteral: function pushStackLiteral(item) {
							this.push(new Literal(item));
						},

						pushSource: function pushSource(source) {
							if (this.pendingContent) {
								this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation));
								this.pendingContent = undefined;
							}

							if (source) {
								this.source.push(source);
							}
						},

						replaceStack: function replaceStack(callback) {
							var prefix = ['('],
							    stack = undefined,
							    createdStack = undefined,
							    usedLiteral = undefined;

							/* istanbul ignore next */
							if (!this.isInline()) {
								throw new _exception2['default']('replaceStack on non-inline');
							}

							// We want to merge the inline statement into the replacement statement via ','
							var top = this.popStack(true);

							if (top instanceof Literal) {
								// Literals do not need to be inlined
								stack = [top.value];
								prefix = ['(', stack];
								usedLiteral = true;
							} else {
								// Get or create the current stack name for use by the inline
								createdStack = true;
								var _name = this.incrStack();

								prefix = ['((', this.push(_name), ' = ', top, ')'];
								stack = this.topStack();
							}

							var item = callback.call(this, stack);

							if (!usedLiteral) {
								this.popStack();
							}
							if (createdStack) {
								this.stackSlot--;
							}
							this.push(prefix.concat(item, ')'));
						},

						incrStack: function incrStack() {
							this.stackSlot++;
							if (this.stackSlot > this.stackVars.length) {
								this.stackVars.push('stack' + this.stackSlot);
							}
							return this.topStackName();
						},
						topStackName: function topStackName() {
							return 'stack' + this.stackSlot;
						},
						flushInline: function flushInline() {
							var inlineStack = this.inlineStack;
							this.inlineStack = [];
							for (var i = 0, len = inlineStack.length; i < len; i++) {
								var entry = inlineStack[i];
								/* istanbul ignore if */
								if (entry instanceof Literal) {
									this.compileStack.push(entry);
								} else {
									var stack = this.incrStack();
									this.pushSource([stack, ' = ', entry, ';']);
									this.compileStack.push(stack);
								}
							}
						},
						isInline: function isInline() {
							return this.inlineStack.length;
						},

						popStack: function popStack(wrapped) {
							var inline = this.isInline(),
							    item = (inline ? this.inlineStack : this.compileStack).pop();

							if (!wrapped && item instanceof Literal) {
								return item.value;
							} else {
								if (!inline) {
									/* istanbul ignore next */
									if (!this.stackSlot) {
										throw new _exception2['default']('Invalid stack pop');
									}
									this.stackSlot--;
								}
								return item;
							}
						},

						topStack: function topStack() {
							var stack = this.isInline() ? this.inlineStack : this.compileStack,
							    item = stack[stack.length - 1];

							/* istanbul ignore if */
							if (item instanceof Literal) {
								return item.value;
							} else {
								return item;
							}
						},

						contextName: function contextName(context) {
							if (this.useDepths && context) {
								return 'depths[' + context + ']';
							} else {
								return 'depth' + context;
							}
						},

						quotedString: function quotedString(str) {
							return this.source.quotedString(str);
						},

						objectLiteral: function objectLiteral(obj) {
							return this.source.objectLiteral(obj);
						},

						aliasable: function aliasable(name) {
							var ret = this.aliases[name];
							if (ret) {
								ret.referenceCount++;
								return ret;
							}

							ret = this.aliases[name] = this.source.wrap(name);
							ret.aliasable = true;
							ret.referenceCount = 1;

							return ret;
						},

						setupHelper: function setupHelper(paramSize, name, blockHelper) {
							var params = [],
							    paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);
							var foundHelper = this.nameLookup('helpers', name, 'helper'),
							    callContext = this.aliasable(this.contextName(0) + ' != null ? ' + this.contextName(0) + ' : {}');

							return {
								params: params,
								paramsInit: paramsInit,
								name: foundHelper,
								callParams: [callContext].concat(params)
							};
						},

						setupParams: function setupParams(helper, paramSize, params) {
							var options = {},
							    contexts = [],
							    types = [],
							    ids = [],
							    objectArgs = !params,
							    param = undefined;

							if (objectArgs) {
								params = [];
							}

							options.name = this.quotedString(helper);
							options.hash = this.popStack();

							if (this.trackIds) {
								options.hashIds = this.popStack();
							}
							if (this.stringParams) {
								options.hashTypes = this.popStack();
								options.hashContexts = this.popStack();
							}

							var inverse = this.popStack(),
							    program = this.popStack();

							// Avoid setting fn and inverse if neither are set. This allows
							// helpers to do a check for `if (options.fn)`
							if (program || inverse) {
								options.fn = program || 'container.noop';
								options.inverse = inverse || 'container.noop';
							}

							// The parameters go on to the stack in order (making sure that they are evaluated in order)
							// so we need to pop them off the stack in reverse order
							var i = paramSize;
							while (i--) {
								param = this.popStack();
								params[i] = param;

								if (this.trackIds) {
									ids[i] = this.popStack();
								}
								if (this.stringParams) {
									types[i] = this.popStack();
									contexts[i] = this.popStack();
								}
							}

							if (objectArgs) {
								options.args = this.source.generateArray(params);
							}

							if (this.trackIds) {
								options.ids = this.source.generateArray(ids);
							}
							if (this.stringParams) {
								options.types = this.source.generateArray(types);
								options.contexts = this.source.generateArray(contexts);
							}

							if (this.options.data) {
								options.data = 'data';
							}
							if (this.useBlockParams) {
								options.blockParams = 'blockParams';
							}
							return options;
						},

						setupHelperArgs: function setupHelperArgs(helper, paramSize, params, useRegister) {
							var options = this.setupParams(helper, paramSize, params);
							options = this.objectLiteral(options);
							if (useRegister) {
								this.useRegister('options');
								params.push('options');
								return ['options=', options];
							} else if (params) {
								params.push(options);
								return '';
							} else {
								return options;
							}
						}
					};

					(function () {
						var reservedWords = ('break else new var' + ' case finally return void' + ' catch for switch while' + ' continue function this with' + ' default if throw' + ' delete in try' + ' do instanceof typeof' + ' abstract enum int short' + ' boolean export interface static' + ' byte extends long super' + ' char final native synchronized' + ' class float package throws' + ' const goto private transient' + ' debugger implements protected volatile' + ' double import public let yield await' + ' null true false').split(' ');

						var compilerWords = JavaScriptCompiler.RESERVED_WORDS = {};

						for (var i = 0, l = reservedWords.length; i < l; i++) {
							compilerWords[reservedWords[i]] = true;
						}
					})();

					JavaScriptCompiler.isValidJavaScriptVariableName = function (name) {
						return !JavaScriptCompiler.RESERVED_WORDS[name] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name);
					};

					function strictLookup(requireTerminal, compiler, parts, type) {
						var stack = compiler.popStack(),
						    i = 0,
						    len = parts.length;
						if (requireTerminal) {
							len--;
						}

						for (; i < len; i++) {
							stack = compiler.nameLookup(stack, parts[i], type);
						}

						if (requireTerminal) {
							return [compiler.aliasable('container.strict'), '(', stack, ', ', compiler.quotedString(parts[i]), ')'];
						} else {
							return stack;
						}
					}

					exports['default'] = JavaScriptCompiler;
					module.exports = exports['default'];

					/***/
				},
				/* 29 */
				/***/function (module, exports, __webpack_require__) {

					/* global define */
					'use strict';

					exports.__esModule = true;

					var _utils = __webpack_require__(5);

					var SourceNode = undefined;

					try {
						/* istanbul ignore next */
						if (false) {
							// We don't support this in AMD environments. For these environments, we asusme that
							// they are running on the browser and thus have no need for the source-map library.
							var SourceMap = require('source-map');
							SourceNode = SourceMap.SourceNode;
						}
					} catch (err) {}
					/* NOP */

					/* istanbul ignore if: tested but not covered in istanbul due to dist build  */
					if (!SourceNode) {
						SourceNode = function (line, column, srcFile, chunks) {
							this.src = '';
							if (chunks) {
								this.add(chunks);
							}
						};
						/* istanbul ignore next */
						SourceNode.prototype = {
							add: function add(chunks) {
								if (_utils.isArray(chunks)) {
									chunks = chunks.join('');
								}
								this.src += chunks;
							},
							prepend: function prepend(chunks) {
								if (_utils.isArray(chunks)) {
									chunks = chunks.join('');
								}
								this.src = chunks + this.src;
							},
							toStringWithSourceMap: function toStringWithSourceMap() {
								return { code: this.toString() };
							},
							toString: function toString() {
								return this.src;
							}
						};
					}

					function castChunk(chunk, codeGen, loc) {
						if (_utils.isArray(chunk)) {
							var ret = [];

							for (var i = 0, len = chunk.length; i < len; i++) {
								ret.push(codeGen.wrap(chunk[i], loc));
							}
							return ret;
						} else if (typeof chunk === 'boolean' || typeof chunk === 'number') {
							// Handle primitives that the SourceNode will throw up on
							return chunk + '';
						}
						return chunk;
					}

					function CodeGen(srcFile) {
						this.srcFile = srcFile;
						this.source = [];
					}

					CodeGen.prototype = {
						isEmpty: function isEmpty() {
							return !this.source.length;
						},
						prepend: function prepend(source, loc) {
							this.source.unshift(this.wrap(source, loc));
						},
						push: function push(source, loc) {
							this.source.push(this.wrap(source, loc));
						},

						merge: function merge() {
							var source = this.empty();
							this.each(function (line) {
								source.add(['  ', line, '\n']);
							});
							return source;
						},

						each: function each(iter) {
							for (var i = 0, len = this.source.length; i < len; i++) {
								iter(this.source[i]);
							}
						},

						empty: function empty() {
							var loc = this.currentLocation || { start: {} };
							return new SourceNode(loc.start.line, loc.start.column, this.srcFile);
						},
						wrap: function wrap(chunk) {
							var loc = arguments.length <= 1 || arguments[1] === undefined ? this.currentLocation || { start: {} } : arguments[1];

							if (chunk instanceof SourceNode) {
								return chunk;
							}

							chunk = castChunk(chunk, this, loc);

							return new SourceNode(loc.start.line, loc.start.column, this.srcFile, chunk);
						},

						functionCall: function functionCall(fn, type, params) {
							params = this.generateList(params);
							return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);
						},

						quotedString: function quotedString(str) {
							return '"' + (str + '').replace(/\\/g, '\\\\').replace(/"/g, '\\"').replace(/\n/g, '\\n').replace(/\r/g, '\\r').replace(/\u2028/g, '\\u2028' // Per Ecma-262 7.3 + 7.8.4
							).replace(/\u2029/g, '\\u2029') + '"';
						},

						objectLiteral: function objectLiteral(obj) {
							var pairs = [];

							for (var key in obj) {
								if (obj.hasOwnProperty(key)) {
									var value = castChunk(obj[key], this);
									if (value !== 'undefined') {
										pairs.push([this.quotedString(key), ':', value]);
									}
								}
							}

							var ret = this.generateList(pairs);
							ret.prepend('{');
							ret.add('}');
							return ret;
						},

						generateList: function generateList(entries) {
							var ret = this.empty();

							for (var i = 0, len = entries.length; i < len; i++) {
								if (i) {
									ret.add(',');
								}

								ret.add(castChunk(entries[i], this));
							}

							return ret;
						},

						generateArray: function generateArray(entries) {
							var ret = this.generateList(entries);
							ret.prepend('[');
							ret.add(']');

							return ret;
						}
					};

					exports['default'] = CodeGen;
					module.exports = exports['default'];

					/***/
				}
				/******/])
			);
		});
		;
	})(this);

	return _retrieveGlobal();
});
System.registerDynamic("lib/reporting/views/singleQueryReportFormItemView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
      var helper;

      return "	<label class=\"label\">" + container.escapeExpression((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "title", "hash": {}, "data": data }) : helper)) + "</label>\r\n	<p class=\"control\">\r\n		<input name=\"" + container.escapeExpression((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "name", "hash": {}, "data": data }) : helper)) + "\" />\r\n	</p>\r\n";
    }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var stack1;

      return (stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isHidden : depth0, { "name": "unless", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/reporting/views/singleQueryReportFormItemView.js', ['underscore', 'marionette', 'handlebars', './singleQueryReportFormItemView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Marionette, Handlebars, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_handlebars) {
      Handlebars = _handlebars.default;
    }, function (_singleQueryReportFormItemViewHbs) {
      viewTpl = _singleQueryReportFormItemViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        getTemplate: function getTemplate() {
          if (this.model.get('template')) {
            return Handlebars.compile(this.model.get('template'));
          } else {
            return viewTpl;
          }
        },
        onRender: function onRender() {
          var _this = this;

          if (this.model.get('choices')) {
            _.each(this.model.get('choices'), function (choice) {
              _this.$el.find('[name="' + _this.model.get('name') + '"]').append('<option value="' + choice.value + '">' + choice.label + '</option>');
            });
          }
        },
        onAttach: function onAttach() {
          this.$el.find('[use_select_2="true"]').select2();
          this.$el.find('input[type="date"]').datepicker().attr('type', 'text');
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/views/singleQueryReportFormListView.js', ['marionette', 'backbone.radio', './singleQueryReportFormItemView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, ChildView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_singleQueryReportFormItemViewJs) {
      ChildView = _singleQueryReportFormItemViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        //className: 'si-single-query-report-form'
        className: 'is-flex'
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/views/singleQueryReportFormLayoutView.js', ['underscore', 'backbone', 'marionette', 'backbone.syphon', 'backbone.radio', './singleQueryReportFormLayoutView.hbs!', './singleQueryReportFormListView.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, Syphon, Radio, viewTpl, ReportFormListView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneSyphon) {
      Syphon = _backboneSyphon.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_singleQueryReportFormLayoutViewHbs) {
      viewTpl = _singleQueryReportFormLayoutViewHbs.default;
    }, function (_singleQueryReportFormListViewJs) {
      ReportFormListView = _singleQueryReportFormListViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          Radio.channel('reporting').reply('singleQueryReport:queryParams', this.getQueryParams.bind(this));
        },

        regions: {
          'parameters': '[data-region-name="parameters"]'
        },
        ui: {
          'form': 'form'
        },
        template: viewTpl,
        onRender: function onRender() {
          var collection = new Backbone.Collection(this.model.get('singleQueryReportParameters').where({ isHidden: false }));
          this.showChildView('parameters', new ReportFormListView({
            collection: collection
          }));
        },
        getQueryParams: function getQueryParams() {
          return Syphon.serialize(this);
        }
      }));
    }
  };
});
System.registerDynamic("lib/reporting/views/singleQueryReportTableLayoutView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "			<th>\r\n				" + container.escapeExpression(container.lambda(depth0 != null ? depth0.label : depth0, depth0)) + "\r\n			</th>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
            var stack1;

            return "<div class=\"entity-pagination\"></div>\r\n<table>\r\n	<thead>\r\n		<tr>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.columns : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "		</tr>\r\n	</thead>\r\n	<tbody></tbody>\r\n</table>\r\n";
        }, "useData": true });
    return module.exports;
});
System.registerDynamic("lib/common/views/noChildrenRowView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
  module.exports = Handlebars.template({ "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data) {
      var helper;

      return "<td colspan=\"" + container.escapeExpression((helper = (helper = helpers.colspan || (depth0 != null ? depth0.colspan : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "colspan", "hash": {}, "data": data }) : helper)) + "\">No Results Found.</td>";
    }, "useData": true });
  return module.exports;
});
'use strict';

System.register('lib/common/views/noChildrenRowView.js', ['marionette', './noChildrenRowView.hbs!'], function (_export, _context) {
  "use strict";

  var Marionette, viewTpl;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_noChildrenRowViewHbs) {
      viewTpl = _noChildrenRowViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        serializeData: function serializeData() {
          return {
            colspan: this.options.colspan
          };
        },
        template: viewTpl,
        tagName: 'tr'
      }));
    }
  };
});
System.registerDynamic("lib/reporting/views/singleQueryReportTableRowView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
   var define,
       global = this || self,
       GLOBAL = global;
   var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
   module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data, blockParams, depths) {
         return "	<td>\r\n		" + container.escapeExpression((helpers.tableCell || depth0 && depth0.tableCell || helpers.helperMissing).call(depth0 != null ? depth0 : {}, depth0, depths[1] != null ? depths[1].data : depths[1], { "name": "tableCell", "hash": {}, "data": data })) + "\r\n	</td>\r\n";
      }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data, blockParams, depths) {
         var stack1;

         return (stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.columns : depth0, { "name": "each", "hash": {}, "fn": container.program(1, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "";
      }, "useData": true, "useDepths": true });
   return module.exports;
});
'use strict';

System.register('lib/reporting/views/singleQueryReportTableRowView.js', ['underscore', 'marionette', './singleQueryReportTableRowView.hbs!'], function (_export, _context) {
  "use strict";

  var _, Marionette, viewTpl;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_singleQueryReportTableRowViewHbs) {
      viewTpl = _singleQueryReportTableRowViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        template: viewTpl,
        tagName: 'tr',
        serializeData: function serializeData() {
          var data = {};
          data.data = _.clone(this.model.attributes);
          data.columns = this.options.columns;
          return data;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/views/singleQueryReportTableListView.js', ['marionette', 'backbone.radio', 'lib/common/views/noChildrenRowView.js', './singleQueryReportTableRowView.js'], function (_export, _context) {
  "use strict";

  var Marionette, Radio, NoChildrenRowView, ChildView;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonViewsNoChildrenRowViewJs) {
      NoChildrenRowView = _libCommonViewsNoChildrenRowViewJs.default;
    }, function (_singleQueryReportTableRowViewJs) {
      ChildView = _singleQueryReportTableRowViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.CollectionView.extend({
        childView: ChildView,
        emptyView: NoChildrenRowView,
        tagName: 'tbody',
        emptyViewOptions: function emptyViewOptions() {
          var colspan = this.options.columns instanceof Array ? this.options.columns.length : 0;
          return {
            colspan: colspan
          };
        },
        childViewOptions: function childViewOptions() {
          return {
            columns: this.options.columns
          };
        },
        onChildviewSelectModel: function onChildviewSelectModel(childView, args) {}
      }));
    }
  };
});
System.registerDynamic("github:davis/plugin-hbs@1.2.3.json", [], false, function() {
  return {
    "main": "hbs.js"
  };
});

System.registerDynamic("lib/common/views/entity/paginationWidgetView.hbs!github:davis/plugin-hbs@1.2.3/hbs.js", ["github:components/handlebars.js@4.0.5/handlebars.runtime.js"], true, function ($__require, exports, module) {
    var define,
        global = this || self,
        GLOBAL = global;
    var Handlebars = $__require("github:components/handlebars.js@4.0.5/handlebars.runtime.js");
    module.exports = Handlebars.template({ "1": function (container, depth0, helpers, partials, data) {
            return "<span class=\"si-is-fetching\"></span>";
        }, "3": function (container, depth0, helpers, partials, data) {
            return " disabled";
        }, "5": function (container, depth0, helpers, partials, data, blockParams, depths) {
            var stack1;

            return "   		<li>\r\n			<button type=\"button\" class=\"pagination-link button small\" data-ui-name=\"paginationPage\" page=\"" + container.escapeExpression(container.lambda(depth0 != null ? depth0.page : depth0, depth0)) + "\"" + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.active : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depths[1] != null ? depths[1].isFetching : depths[1], { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">" + container.escapeExpression(container.lambda(depth0 != null ? depth0.label : depth0, depth0)) + "</button>\r\n		</li>\r\n";
        }, "compiler": [7, ">= 4.0.0"], "main": function (container, depth0, helpers, partials, data, blockParams, depths) {
            var stack1, helper;

            return "Showing <span data-ui-name=\"shownItemCount\">" + container.escapeExpression((helper = (helper = helpers.shownItemCount || (depth0 != null ? depth0.shownItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "shownItemCount", "hash": {}, "data": data }) : helper)) + "</span> of <span data-ui-name=\"matchedItemCount\">" + container.escapeExpression((helper = (helper = helpers.matchedItemCount || (depth0 != null ? depth0.matchedItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "matchedItemCount", "hash": {}, "data": data }) : helper)) + "</span> matched items.\r\n<span data-ui-name=\"totalItemCount\">" + container.escapeExpression((helper = (helper = helpers.totalItemCount || (depth0 != null ? depth0.totalItemCount : depth0)) != null ? helper : helpers.helperMissing, typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {}, { "name": "totalItemCount", "hash": {}, "data": data }) : helper)) + "</span> total items." + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isFetching : depth0, { "name": "if", "hash": {}, "fn": container.program(1, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "\r\n<nav class=\"pagination is-centered\">\r\n  <button type=\"button\" class=\"pagination-previous button small\" data-ui-name=\"paginationPrev\"" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.hasPreviousPage : depth0, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isFetching : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">Prev</button>\r\n  <ul class=\"pagination-list\">\r\n    <li>\r\n      <button type=\"button\" class=\"pagination-link button small\" data-ui-name=\"paginationFirst\"" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.hasPreviousPage : depth0, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isFetching : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">First</button>\r\n    </li>\r\n    <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n" + ((stack1 = helpers.each.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.pageButtons : depth0, { "name": "each", "hash": {}, "fn": container.program(5, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + "    <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n    <li>\r\n      <button type=\"button\" class=\"pagination-link button small\" data-ui-name=\"paginationLast\"" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.hasNextPage : depth0, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isFetching : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">Last</button>\r\n    </li>\r\n  </ul>\r\n  <button type=\"button\" class=\"pagination-next button small\" data-ui-name=\"paginationNext\"" + ((stack1 = helpers.unless.call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.hasNextPage : depth0, { "name": "unless", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ((stack1 = helpers["if"].call(depth0 != null ? depth0 : {}, depth0 != null ? depth0.isFetching : depth0, { "name": "if", "hash": {}, "fn": container.program(3, data, 0, blockParams, depths), "inverse": container.noop, "data": data })) != null ? stack1 : "") + ">Next</button>\r\n</nav>";
        }, "useData": true, "useDepths": true });
    return module.exports;
});
'use strict';

System.register('lib/common/views/entity/paginationWidgetView.js', ['jquery', 'underscore', 'marionette', './paginationWidgetView.hbs!'], function (_export, _context) {
  "use strict";

  var $, _, Marionette, viewTpl;

  return {
    setters: [function (_jquery) {
      $ = _jquery.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_paginationWidgetViewHbs) {
      viewTpl = _paginationWidgetViewHbs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.listenTo(this.collection, 'pageable:state:change', this.stateChanged);
          this.listenTo(this.collection, 'update', this.stateChanged);
          this.isFetching = false;
        },

        template: viewTpl,
        serializeData: function serializeData() {
          var data = {
            isFetching: this.isFetching,
            shownItemCount: this.collection.length,
            totalItemCount: this.collection.state.totalItemCount,
            matchedItemCount: this.collection.state.totalRecords,
            state: this.collection.state,
            hasPreviousPage: this.collection.hasPreviousPage(),
            hasNextPage: this.collection.hasNextPage(),
            pageButtons: this.getPageButtons()
          };
          return data;
        },

        ui: {
          'firstPage': '[data-ui-name="paginationFirst"]',
          'prevPage': '[data-ui-name="paginationPrev"]',
          'nextPage': '[data-ui-name="paginationNext"]',
          'lastPage': '[data-ui-name="paginationLast"]',
          'getPage': '[data-ui-name="paginationPage"]'
        },
        events: {
          "click @ui.firstPage": "getFirstPage",
          "click @ui.prevPage": "getPrevPage",
          "click @ui.nextPage": "getNextPage",
          "click @ui.lastPage": "getLastPage",
          "click @ui.getPage": "getPage"
        },
        stateChanged: function stateChanged() {
          this.render();
        },
        getPageButtons: function getPageButtons() {
          var currentPage = this.collection.state.currentPage;
          var firstPage = this.collection.state.firstPage;
          var lastPage = this.collection.state.lastPage;
          var pagesStart = currentPage - 3 > firstPage ? currentPage - 3 : firstPage;
          var pagesEnd = currentPage + 3 < lastPage ? currentPage + 3 : lastPage;
          var pageButtons = [];
          for (var page = pagesStart; page <= pagesEnd; page++) {
            var isActive = page === currentPage ? true : false;
            pageButtons.push({
              page: page,
              active: isActive,
              label: page
            });
          }
          return pageButtons;
        },

        getFirstPage: function getFirstPage(event) {
          var _this = this;

          this.isFetching = true;
          this.collection.getFirstPage().always(function () {
            _this.isFetching = false;
            _this.render();
          });
          this.render();
        },
        getPrevPage: function getPrevPage(event) {
          var _this2 = this;

          this.isFetching = true;
          this.collection.getPreviousPage().always(function () {
            _this2.isFetching = false;
            _this2.render();
          });
          this.render();
        },
        getNextPage: function getNextPage(event) {
          var _this3 = this;

          this.isFetching = true;
          this.collection.getNextPage().always(function () {
            _this3.isFetching = false;
            _this3.render();
          });
          this.render();
        },
        getLastPage: function getLastPage(event) {
          var _this4 = this;

          this.isFetching = true;
          this.collection.getLastPage().always(function () {
            _this4.isFetching = false;
            _this4.render();
          });
          this.render();
        },
        getPage: function getPage(event) {
          var _this5 = this;

          this.isFetching = true;
          var page = parseInt($(event.currentTarget).attr('page'));
          this.collection.getPage(page).always(function () {
            _this5.isFetching = false;
            _this5.render();
          });;
          this.render();
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/views/singleQueryReportTableLayoutView.js', ['underscore', 'marionette', 'backbone.radio', './singleQueryReportTableLayoutView.hbs!', './singleQueryReportTableListView.js', 'lib/common/views/entity/paginationWidgetView.js'], function (_export, _context) {
  "use strict";

  var _, Marionette, Radio, viewTpl, ReportTableListView, PaginationWidgetView;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_singleQueryReportTableLayoutViewHbs) {
      viewTpl = _singleQueryReportTableLayoutViewHbs.default;
    }, function (_singleQueryReportTableListViewJs) {
      ReportTableListView = _singleQueryReportTableListViewJs.default;
    }, function (_libCommonViewsEntityPaginationWidgetViewJs) {
      PaginationWidgetView = _libCommonViewsEntityPaginationWidgetViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize() {
          this.listenTo(this.collection, 'state:totalRecords:change', this.updateTotalRecords);
        },

        regions: {
          'paginationWidget': '.entity-pagination',
          'tbody': {
            el: 'tbody',
            replaceElement: true
          }
        },
        template: viewTpl,
        ui: {
          'totalRecords': '[data-binding-name="totalRecords"]'
        },
        serializeData: function serializeData() {
          return {
            pagination: { state: this.collection.state },
            columns: this.options.columns
          };
        },
        onRender: function onRender() {
          this.showChildView('tbody', new ReportTableListView({
            collection: this.collection,
            columns: this.options.columns
          }));
          this.showChildView('paginationWidget', new PaginationWidgetView({
            collection: this.collection
          }));
          /*
          this.showChildView('tfoot', new ReportTablePaginationView({
            collection: this.collection,
            model: this.model,
            columns: this.options.columns
          }));
          */
        },
        updateTotalRecords: function updateTotalRecords(totalRecords) {
          this.ui.totalRecords.text(totalRecords);
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/models/singleQueryReportParameterModel.js', ['lib/globalNamespace.js', 'lib/common/models/baseUrlBaseModel.js'], function (_export, _context) {
		"use strict";

		var globalNamespace, BaseUrlBaseModel, Model;
		return {
				setters: [function (_libGlobalNamespaceJs) {
						globalNamespace = _libGlobalNamespaceJs.default;
				}, function (_libCommonModelsBaseUrlBaseModelJs) {
						BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
				}],
				execute: function () {
						Model = BaseUrlBaseModel.extend({
								urlRoot: function urlRoot() {
										return this.baseUrl + '/single_query_report_parameter';
								},

								defaults: {
										isSynced: true,
										name: null,
										title: null,
										priority: null,
										type: null,
										isFuzzy: null,
										template: null,
										singleQueryReport: null
								}
						});


						globalNamespace.Models.SingleQueryReportParameterModel = Model;

						_export('default', Model);
				}
		};
});
'use strict';

System.register('lib/reporting/models/singleQueryReportModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './singleQueryReportParameterModel.js'], function (_export, _context) {
	"use strict";

	var globalNamespace, BackboneRelational, BaseUrlBaseModel, SingleQueryReportParameterModel, Model;
	return {
		setters: [function (_libGlobalNamespaceJs) {
			globalNamespace = _libGlobalNamespaceJs.default;
		}, function (_backboneRelational) {
			BackboneRelational = _backboneRelational.default;
		}, function (_libCommonModelsBaseUrlBaseModelJs) {
			BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
		}, function (_singleQueryReportParameterModelJs) {
			SingleQueryReportParameterModel = _singleQueryReportParameterModelJs.default;
		}],
		execute: function () {
			Model = BaseUrlBaseModel.extend({
				urlRoot: function urlRoot() {
					return this.baseUrl + '/single_query_report';
				},

				relations: [{
					type: BackboneRelational.HasMany,
					key: 'singleQueryReportParameters',
					relatedModel: 'SingleQueryReportParameterModel',
					includeInJSON: ['id'],
					reverseRelation: {
						key: 'singleQueryReport',
						includeInJSON: false
					}
				}],
				defaults: {
					isSynced: true,
					createdAt: null,
					updatedAt: null,
					tag: null,
					name: null,
					filename: null,
					isEnabled: null,
					columns: null,
					parameterWhiteList: null,
					singleQueryReportParameters: null,
					singleQueryReportRoles: null
				}
			});


			globalNamespace.Models.SingleQueryReportModel = Model;

			_export('default', Model);
		}
	};
});
'use strict';

System.register('lib/reporting/models/singleQueryReportCollection.js', ['lib/common/models/baseUrlBaseCollection.js', './singleQueryReportModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }, function (_singleQueryReportModelJs) {
      Model = _singleQueryReportModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/single_query_report';
        },
        parse: function parse(response) {
          return response.list;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/views/singleQueryReportBasicView.js', ['jquery', 'backbone', 'marionette', 'backbone.radio', './singleQueryReportBasicView.hbs!', 'lib/common/views/loadingView.js', './singleQueryReportFormLayoutView.js', './singleQueryReportTableLayoutView.js', '../models/singleQueryReportCollection.js', 'lib/common/models/baseUrlBaseCollection.js'], function (_export, _context) {
  "use strict";

  var jquery, Backbone, Marionette, Radio, viewTpl, LoadingView, ReportFormLayoutView, ReportTableLayoutView, SingleQueryReportCollection, BaseUrlBaseCollection;
  return {
    setters: [function (_jquery) {
      jquery = _jquery.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_singleQueryReportBasicViewHbs) {
      viewTpl = _singleQueryReportBasicViewHbs.default;
    }, function (_libCommonViewsLoadingViewJs) {
      LoadingView = _libCommonViewsLoadingViewJs.default;
    }, function (_singleQueryReportFormLayoutViewJs) {
      ReportFormLayoutView = _singleQueryReportFormLayoutViewJs.default;
    }, function (_singleQueryReportTableLayoutViewJs) {
      ReportTableLayoutView = _singleQueryReportTableLayoutViewJs.default;
    }, function (_modelsSingleQueryReportCollectionJs) {
      SingleQueryReportCollection = _modelsSingleQueryReportCollectionJs.default;
    }, function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.View.extend({
        initialize: function initialize(options) {
          this.model = new Backbone.Model({ report: null, isLoading: false });
          this.listenTo(this.model, 'change:report', this.reportChanged);
          this.reportCollection = Radio.channel('data').request('collection', SingleQueryReportCollection, { fetchAll: true });
        },

        behaviors: {
          'Stickit': {}
        },
        template: viewTpl,
        regions: {
          'form': '#single-query-report-form',
          'table': '#single-query-report-table'
        },
        ui: {
          'reportSelect': 'select[name="report"]',
          'runReportButton': 'button[name="runReport"]',
          'exportReportButton': 'button[name="exportReport"]',
          'exportReportCsvButton': 'button[name="exportReportCsv"]'
        },
        bindings: {
          '@ui.reportSelect': {
            observe: 'report',
            useBackboneModels: true,
            selectOptions: {
              labelPath: 'attributes.name',
              collection: 'this.reportCollection',
              defaultOption: {
                label: 'Choose one...',
                value: null
              }
            }
          }
        },
        events: {
          'click @ui.runReportButton': 'runReport',
          'click @ui.exportReportButton': 'exportReport',
          'click @ui.exportReportCsvButton': 'exportReportCsv'
        },
        reportChanged: function reportChanged() {
          this.showChildView('form', new ReportFormLayoutView({
            model: this.model.get('report')
          }));
        },
        runReport: function runReport(event) {
          var _this = this;

          if (!this.model.get('isLoading')) {
            (function () {
              var queryParams = Radio.channel('reporting').request('singleQueryReport:queryParams');
              var ReportPageableCollection = BaseUrlBaseCollection.extend({
                url: _this.model.get('report').url() + '/run'
              });
              var reportPageableCollection = new ReportPageableCollection();
              _this.showChildView('table', new LoadingView());
              _this.model.set('isLoading', true);
              reportPageableCollection.fetch({ data: queryParams }).always(function () {
                _this.model.set('isLoading', false);
                _this.showChildView('table', new ReportTableLayoutView({
                  collection: reportPageableCollection,
                  model: _this.model,
                  columns: _this.model.get('report').get('columns')
                }));
              });
            })();
          }
        },
        exportReport: function exportReport(event) {
          if (!this.model.get('isLoading')) {
            window.location = this.model.get('report').url() + '/export?' + jquery.param(Radio.channel('reporting').request('singleQueryReport:queryParams'));
          }
        },
        exportReportCsv: function exportReportCsv(event) {
          if (!this.model.get('isLoading')) {
            window.location = this.model.get('report').url() + '/export_csv?' + jquery.param(Radio.channel('reporting').request('singleQueryReport:queryParams'));
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/controller.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/slicedToArray.js', 'underscore', 'backbone', 'backbone.radio', 'marionette', './views/reportingIndexView.js', './views/singleQueryReportBasicView.js'], function (_export, _context) {
  "use strict";

  var _slicedToArray, _, Backbone, Radio, Marionette, ReportingIndexView, SingleQueryReportBasicView;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs) {
      _slicedToArray = _npmSystemjsPluginBabel0013BabelHelpersSlicedToArrayJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_viewsReportingIndexViewJs) {
      ReportingIndexView = _viewsReportingIndexViewJs.default;
    }, function (_viewsSingleQueryReportBasicViewJs) {
      SingleQueryReportBasicView = _viewsSingleQueryReportBasicViewJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        singleQueryReport: function singleQueryReport(id) {
          var reportingIndexView = new ReportingIndexView();
          var singleQueryReportBasicView = new SingleQueryReportBasicView({ id: id });

          this.buildViewStack([{
            regionViewMap: new Map([['content', singleQueryReportBasicView]]),
            viewInstance: reportingIndexView
          }]);

          Radio.channel('app').trigger('show:view', reportingIndexView);
          Radio.channel('help').trigger('show', 'singleQueryReport');
        },
        buildViewStack: function buildViewStack(stack) {
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            var _loop = function _loop() {
              var viewObj = _step.value;
              var _iteratorNormalCompletion2 = true;
              var _didIteratorError2 = false;
              var _iteratorError2 = undefined;

              try {
                var _loop2 = function _loop2() {
                  var _step2$value = _slicedToArray(_step2.value, 2);

                  var regionName = _step2$value[0];
                  var viewInstance = _step2$value[1];

                  viewObj.viewInstance.once('render', function () {
                    viewObj.viewInstance.showChildView(regionName, viewInstance);
                  });
                };

                for (var _iterator2 = viewObj.regionViewMap[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                  _loop2();
                }
              } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
              } finally {
                try {
                  if (!_iteratorNormalCompletion2 && _iterator2.return) {
                    _iterator2.return();
                  }
                } finally {
                  if (_didIteratorError2) {
                    throw _iteratorError2;
                  }
                }
              }
            };

            for (var _iterator = stack[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              _loop();
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/reporting/router.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', './controller.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_controllerJs) {}],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          this.options = {};
          Object.assign(this.options, options);
          if (!(this.options.appRouter instanceof Marionette.AppRouter)) {
            throw 'Controller Must be passed an AppRouter instance.';
          } else {
            this.appRouter = this.options.appRouter;
          }
          this.appRouter.processAppRoutes(this, this.routes);
        },

        routes: {
          'reporting': 'index',
          'reporting/single_query_report/:id': 'singleQueryReport'

        },
        index: function index() {
          this.singleQueryReport();
        },
        singleQueryReport: function singleQueryReport(id) {
          Radio.channel('app').trigger('request:started');
          System.import('lib/reporting/controller.js').then(function (controllerModule) {
            Radio.channel('app').trigger('request:finished');
            var controller = new controllerModule.default();
            controller.singleQueryReport(id);
          });
        }
      }));
    }
  };
});
'use strict';

System.register('lib/appMainRouter.js', ['marionette', './common/router.js', './admin/router.js', './inventory/router.js', './reporting/router.js'], function (_export, _context) {
  "use strict";

  var Marionette, CommonRouter, AdminRouter, InventoryRouter, ReportingRouter;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_commonRouterJs) {
      CommonRouter = _commonRouterJs.default;
    }, function (_adminRouterJs) {
      AdminRouter = _adminRouterJs.default;
    }, function (_inventoryRouterJs) {
      InventoryRouter = _inventoryRouterJs.default;
    }, function (_reportingRouterJs) {
      ReportingRouter = _reportingRouterJs.default;
    }],
    execute: function () {
      _export('default', Marionette.AppRouter.extend({
        initialize: function initialize() {
          new CommonRouter({ appRouter: this });
          new AdminRouter({ appRouter: this });
          new InventoryRouter({ appRouter: this });
          new ReportingRouter({ appRouter: this });
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/myselfModel.js', ['lib/globalNamespace.js', 'backbone.radio', './userModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, Radio, UserModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_userModelJs) {
      UserModel = _userModelJs.default;
    }],
    execute: function () {
      Model = UserModel.extend({
        initialize: function initialize() {},
        urlRoot: function urlRoot() {
          return this.baseUrl + '/myself';
        },
        updateCurrentTime: function updateCurrentTime() {
          this.set('currentTime', new Date());
        }
      });


      globalNamespace.Models.MyselfModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/appDataService.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', 'lib/common/models/myselfModel.js', 'lib/common/models/userModel.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, MyselfModel, UserModel;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsMyselfModelJs) {
      MyselfModel = _libCommonModelsMyselfModelJs.default;
    }, function (_libCommonModelsUserModelJs) {
      UserModel = _libCommonModelsUserModelJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          this.collections = [];
          this.namedCollections = {};
          Radio.channel('data').reply('collection', this.getCollection.bind(this));
          Radio.channel('data').reply('named:collection', this.getNamedCollection.bind(this));
          this.setupMyself();
        },
        getCollection: function getCollection(Constructor, options) {
          options = _.extend({}, options);
          var collection = _.find(this.collections, function (collection) {
            return collection instanceof Constructor;
          });
          var doFetch = false;
          var fetchOptions = {};
          fetchOptions.data = {};
          if (options.fetchAll) {
            doFetch = true;
            fetchOptions.data.disable_pagination = true;
          }
          if (!collection) {
            var collectionOptions = _.extend({}, options.collectionOptions);
            collection = new Constructor(null, collectionOptions);
            this.collections.push(collection);
            if (options.doFetch !== false) {
              doFetch = true;
            }
          }
          if (doFetch && !collection._fetchPending) {
            collection._fetchPending = true;
            collection.fetch(fetchOptions).always(function () {
              collection._fetchPending = false;
            });
          }
          return collection;
        },
        getNamedCollection: function getNamedCollection(Constructor, name, options) {
          if (typeof name !== 'string') {
            throw 'Name must be a string';
          }
          options = _.extend({}, options);
          if (!this.namedCollections[name]) {
            var collectionOptions = _.extend({}, options.collectionOptions);
            this.namedCollections[name] = new Constructor(null, collectionOptions);
          }
          return this.namedCollections[name];
        },
        setupMyself: function setupMyself() {
          var _this = this;

          this.myself = new MyselfModel();
          /*
          this.myself.urlRoot = function(){
            return this.baseUrl+'/myself';
          };
          this.myself.updateCurrentTime = function(){
            //this.set('currentTime', new Date());
          };
          this.listenTo(this.myself, 'change', ()=>{
            let test;
          });
          */
          this.myself.fetch();
          Radio.channel('data').reply('myself', this.getMyself.bind(this));
          setInterval(function () {
            _this.myself.fetch();
          }, 60000);
        },
        getMyself: function getMyself() {
          return this.myself;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/models/helpTopicModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/help_topic';
        },

        defaults: {
          name: null,
          heading: null,
          content: null
        }
      });


      globalNamespace.Models.HelpTopicModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/helpTopicCollection.js', ['./baseUrlBaseCollection.js', './helpTopicModel.js'], function (_export, _context) {
  "use strict";

  var BaseUrlBaseCollection, Model;
  return {
    setters: [function (_baseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _baseUrlBaseCollectionJs.default;
    }, function (_helpTopicModelJs) {
      Model = _helpTopicModelJs.default;
    }],
    execute: function () {
      _export('default', BaseUrlBaseCollection.extend({
        model: Model,
        url: function url() {
          return this.baseUrl + '/help_topic';
        }
      }));
    }
  };
});
'use strict';

System.register('lib/appHelpService.js', ['underscore', 'backbone', 'backbone.radio', 'marionette', 'lib/common/models/helpTopicCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Radio, Marionette, HelpTopicCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsHelpTopicCollectionJs) {
      HelpTopicCollection = _libCommonModelsHelpTopicCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Object.extend({
        initialize: function initialize(options) {
          Radio.channel('help').reply('get', this.getHelpItem.bind(this));
          this.helpItems = new HelpTopicCollection(this.initialTopics);
        },
        getHelpItem: function getHelpItem(itemName) {
          var _this = this;

          return new Promise(function (resolve, reject) {
            var item = _this.helpItems.find({ name: itemName });
            if (!item) {
              (function () {
                var collection = new HelpTopicCollection();
                collection.fetch({ data: { terms: itemName, search: 'name' } }).then(function () {
                  _this.helpItems.add(collection.models);
                  item = _this.helpItems.find({ name: itemName });
                  if (!item) {
                    item = _this.helpItems.find({ name: 'noHelpFound' });
                  }
                  resolve(item);
                });
              })();
            } else {
              resolve(item);
            }
          });
        },

        helpItems: null,
        initialTopics: [{ name: 'noHelpFound', heading: 'Help Missing', content: 'No help content was found for topic ' }, { name: 'helpTopics', heading: 'Help Topics', content: 'These are the currently bound topics:' + '<ul>' + '<li>organizations</li>' + '<li>users</li>' + '<li>offices</li>' + '<li>departments</li>' + '<li>announcements</li>' + '<li>menuItems</li>' + '<li>menuLinks</li>' + '<li>helpTopics</li>' + '<li>skus</li>' + '<li>parts</li>' + '<li>partCategories</li>' + '<li>partGroups</li>' + '<li>commodities</li>' + '<li>unitTypes</li>' + '<li>binTypes</li>' + '<li>bins</li>' + '<li>inventoryMovementRules</li>' + '<li>clients</li>' + '<li>customers</li>' + '<li>inboundOrders</li>' + '<li>outboundOrders</li>' + '<li>travelerIds</li>' + '<li>salesItems</li>' + '<li>inventoryTravelerIdEdits</li>' + '<li>inventoryTravelerIdMovements</li>' + '<li>inventoryTravelerIdTransforms</li>' + '<li>inventorySalesItemEdits</li>' + '<li>inventorySalesItemMovements</li>' + '<li>binSkuCounts</li>' + '<li>inventorySkuAdjustments</li>' + '<li>inventorySkuMovements</li>' + '<li>inventorySkuTransforms</li>' + '<li>inventoryAudit</li>' + '<li>singleQueryReport</li>' + '</ul>'
        }]
      }));
    }
  };
});
'use strict';

System.register('lib/app.js', ['../css/step-inventory.css!text', 'underscore', 'backbone', 'backbone.radio', 'marionette', './appLayoutView.js', './appMainRouter.js', './appDataService.js', './appHelpService.js'], function (_export, _context) {
  "use strict";

  var cssSrc, _, Backbone, Radio, Marionette, AppLayoutView, AppMainRouter, AppDataService, AppHelpService;

  return {
    setters: [function (_cssStepInventoryCssText) {
      cssSrc = _cssStepInventoryCssText.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_appLayoutViewJs) {
      AppLayoutView = _appLayoutViewJs.default;
    }, function (_appMainRouterJs) {
      AppMainRouter = _appMainRouterJs.default;
    }, function (_appDataServiceJs) {
      AppDataService = _appDataServiceJs.default;
    }, function (_appHelpServiceJs) {
      AppHelpService = _appHelpServiceJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Application.extend({
        initialize: function initialize() {
          this.router = new AppMainRouter();
          this.dataService = new AppDataService();
          this.helpService = new AppHelpService();
          this.listenTo(Radio.channel('app'), 'print', this.print);
          this.listenTo(Radio.channel('app'), 'navigate', this.navigate);
          this.listenTo(Radio.channel('app'), 'request:started', this.requestStarted);
          this.listenTo(Radio.channel('app'), 'request:finished', this.requestFinished);
          Radio.channel('app').reply('currentRoute', this.getCurrentRoute);
        },

        baseUrl: '',
        currentRequests: 0,
        navigate: function navigate(route, options) {
          options = options || {
            trigger: true
          };
          route = route.replace(this.baseUrl, '');
          Backbone.history.navigate(route, options);
          Radio.channel('app').trigger('route:changed', route);
        },
        getCurrentRoute: function getCurrentRoute() {
          return Backbone.history.fragment;
        },

        region: '#app',
        onStart: function onStart() {
          this.showView(new AppLayoutView());

          if (Backbone.history) {
            var routeFound = Backbone.history.start({
              pushState: true,
              root: this.baseUrl
            });
            Radio.channel('app').trigger('route:changed', this.getCurrentRoute());
            console.log('starting route "' + this.getCurrentRoute() + '" found: ' + routeFound);
          }
        },
        requestStarted: function requestStarted() {
          this.currentRequests++;
          Radio.channel('app').trigger('loading:show');
        },
        requestFinished: function requestFinished() {
          this.currentRequests--;
          if (this.currentRequests < 1) {
            Radio.channel('app').trigger('loading:hide');
          }
        },
        print: function print(html, options) {
          options = _.extend({
            height: screen.height,
            width: screen.width,
            title: 'Print'
          }, options);
          var printWindow = window.open('', 'print', 'height=' + options.height + ',width=' + options.width);
          printWindow.document.write('<html><head><title>' + options.title + '</title>');
          printWindow.document.write('<style type="text/css">' + cssSrc + '</style>');
          printWindow.document.write('</head><body >');
          printWindow.document.write(html);
          printWindow.document.write('</body></html>');

          printWindow.document.close(); // necessary for IE >= 10
          printWindow.focus(); // necessary for IE >= 10

          printWindow.print();
          printWindow.close();
        }
      }));
    }
  };
});
"use strict";

System.register("lib/common/behaviors/destroyWarn.js", ["marionette"], function (_export, _context) {
  "use strict";

  var Marionette;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export("default", Marionette.Behavior.extend({
        // you can set default options
        // just like you can in your Backbone Models
        // they will be overriden if you pass in an option with the same key
        defaults: {
          "message": "you are destroying!"
        },

        // behaviors have events that are bound to the views DOM
        events: {
          "click @ui.destroy": "warnBeforeDestroy"
        },

        warnBeforeDestroy: function warnBeforeDestroy() {
          alert(this.options.message);
          // every Behavior has a hook into the
          // view that it is attached to
          this.view.destroy();
        }
      }));
    }
  };
});
"use strict";

System.register("lib/common/behaviors/outlineAlertOnChange.js", ["marionette"], function (_export, _context) {
  "use strict";

  var Marionette;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export("default", Marionette.Behavior.extend({
        defaults: {},
        modelEvents: {
          "change": "alertByOutlineFlash"
        },
        alertByOutlineFlash: function alertByOutlineFlash(event) {
          var behavior = this;
          var changedPropertyNames = Object.keys(event.changed);
          var pulseOn = true;
          var pulsate = function pulsate(propName) {
            if (pulseOn) {
              behavior.$el.find('.si-change-outline-alert-' + propName.toLowerCase()).addClass('si-change-outline-alert-alert');
              pulseOn = false;
            } else {
              behavior.$el.find('.si-change-outline-alert-' + propName.toLowerCase()).removeClass('si-change-outline-alert-alert');
              pulseOn = true;
            }
          };
          _.each(changedPropertyNames, function (propName) {
            var interval = setInterval(function () {
              pulsate(propName);
            }, 200);
            setTimeout(function () {
              clearInterval(interval);
            }, 1000);
          });
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/behaviors/stickit.js', ['marionette'], function (_export, _context) {
  "use strict";

  var Marionette;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        onRender: function onRender() {
          this.view.stickit();
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/behaviors/searchable.js', ['underscore', 'backbone', 'marionette', 'lib/common/models/baseUrlBaseCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, BaseUrlBaseCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        initialize: function initialize(options) {
          if (typeof options.selector === 'string') {
            this.ui.searchInput = options.selector;
          }
          this.collectionMode = typeof this.view.options.usePagination === 'string' ? this.view.options.usePagination : 'client';
          this.keyUpCooldown = this.collectionMode === 'server' ? 500 : 200;
        },

        ui: {
          'searchInput': '#entity-search-input'
        },
        events: {
          'keyup @ui.searchInput': 'handleSearchInputKeyup'
        },
        handleSearchInputKeyup: function handleSearchInputKeyup(event) {
          var _this = this;

          event.preventDefault();
          event.stopPropagation();
          window.clearTimeout(this.searchInputTime);
          this.searchInputTime = window.setTimeout(function () {
            _this.view.triggerMethod('search');
          }, this.keyUpCooldown);
        },
        onSearch: function onSearch() {
          this.view.triggerMethod('searchComplete', this.getSearchedCollection());
        },
        getSearchedCollection: function getSearchedCollection() {
          var terms = this.ui.searchInput.val().split(' ');
          var collection = this.view.collection;
          var listLength = this.view.options.listLength ? this.view.options.listLength : 15;

          var filteredCollection = new BaseUrlBaseCollection([], {
            mode: this.collectionMode,
            queryParams: {
              terms: terms.join(','),
              search: this.getSearchableProperties().join(',')
            },
            state: {
              totalItemCount: collection.length,
              firstPage: 1,
              currentPage: 1,
              pageSize: listLength
            }
          });
          filteredCollection.model = collection.model;
          filteredCollection.url = collection.url;

          if (this.collectionMode === 'server') {
            filteredCollection.fetch();
          } else {
            var searchedCollection = collection;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
              for (var _iterator = terms[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var term = _step.value;

                searchedCollection = this.getSearchedCollectionForTerm(term, searchedCollection);
              }
            } catch (err) {
              _didIteratorError = true;
              _iteratorError = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                  _iterator.return();
                }
              } finally {
                if (_didIteratorError) {
                  throw _iteratorError;
                }
              }
            }

            filteredCollection.reset(searchedCollection.models);
            if (this.options.comparator) {
              filteredCollection.comparator = this.options.comparator;
            }
            filteredCollection.state.totalRecords = searchedCollection.models.length;
            filteredCollection.getPage(1);
          }
          return filteredCollection;
        },
        getSearchedCollectionForTerm: function getSearchedCollectionForTerm(term, collection) {
          var _this2 = this;

          return new Backbone.Collection(collection.filter(function (model) {
            var re = new RegExp(term, 'i');
            return _this2.testSearchValuesFromModel(re, model);
          }));
        },
        testSearchValuesFromModel: function testSearchValuesFromModel(re, model) {
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = this.getSearchValuesFromModel(model)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var searchValue = _step2.value;

              if (re.test(searchValue)) {
                return true;
              }
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2.return) {
                _iterator2.return();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }

          return false;
        },
        getSearchValuesFromModel: function getSearchValuesFromModel(model) {
          var searchValues = [];
          if (this.view.options.searchPath) {
            var searchPath = this.view.options.searchPath;
            if (typeof searchPath === 'string') {
              searchValues.push(model.getValueFromPath(this.view.options.searchPath));
            } else {
              if (searchPath instanceof Array) {
                var _iteratorNormalCompletion3 = true;
                var _didIteratorError3 = false;
                var _iteratorError3 = undefined;

                try {
                  for (var _iterator3 = searchPath[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var searchPathElement = _step3.value;

                    searchValues.push('' + model.getValueFromPath(searchPathElement));
                  }
                } catch (err) {
                  _didIteratorError3 = true;
                  _iteratorError3 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                      _iterator3.return();
                    }
                  } finally {
                    if (_didIteratorError3) {
                      throw _iteratorError3;
                    }
                  }
                }
              }
            }
          } else {
            searchValues.push(model.get('name'));
          }
          return searchValues;
        },
        getSearchableProperties: function getSearchableProperties() {
          var searchableProperties = [];
          if (this.view.options.searchPath) {
            var searchPath = this.view.options.searchPath;
            if (typeof searchPath === 'string') {
              searchableProperties.push(searchPath);
            } else {
              if (searchPath instanceof Array) {
                var _iteratorNormalCompletion4 = true;
                var _didIteratorError4 = false;
                var _iteratorError4 = undefined;

                try {
                  for (var _iterator4 = searchPath[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var searchPathElement = _step4.value;

                    searchableProperties.push('' + searchPathElement);
                  }
                } catch (err) {
                  _didIteratorError4 = true;
                  _iteratorError4 = err;
                } finally {
                  try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                      _iterator4.return();
                    }
                  } finally {
                    if (_didIteratorError4) {
                      throw _iteratorError4;
                    }
                  }
                }
              }
            }
          }
          return searchableProperties;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/behaviors/showNotSynced.js', ['marionette'], function (_export, _context) {
  "use strict";

  var Marionette;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        ui: {
          'syncStatusIndicator': '.not-synced-alert'
        },
        modelEvents: {
          'change:isSynced': 'renderNotSyncedIndicator'
        },
        onRender: function onRender() {
          this.renderNotSyncedIndicator();
        },
        renderNotSyncedIndicator: function renderNotSyncedIndicator() {
          if (this.view.model.get('isSynced')) {
            this.ui.syncStatusIndicator.hide();
          } else {
            this.ui.syncStatusIndicator.show();
          }
        }
      }));
    }
  };
});
'use strict';

System.register('lib/common/behaviors/setNotSynced.js', ['marionette'], function (_export, _context) {
  "use strict";

  var Marionette;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        initialize: function initialize() {
          if (this.view.options.model && !this.view.options.model.has('isSynced')) {
            this.view.options.model.set({ isSynced: true }, { silent: true });
          }
        },

        modelEvents: {
          'change': 'setNotSyncedIndicator'
        },
        setNotSyncedIndicator: function setNotSyncedIndicator(model, options) {
          if (options && options.stickitChange) {
            this.view.model.set('isSynced', false);
          }
        }
      }));
    }
  };
});
System.registerDynamic("npm:backbone.paginator@2.0.5.json", [], false, function() {
  return {
    "main": "lib/backbone.paginator.js",
    "format": "cjs",
    "meta": {
      "*.json": {
        "format": "json"
      },
      "examples/js/jquery.js": {
        "format": "amd"
      }
    }
  };
});

System.registerDynamic("npm:backbone.paginator@2.0.5/lib/backbone.paginator.js", ["underscore", "backbone"], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  /*
    backbone.paginator
    http://github.com/backbone-paginator/backbone.paginator
  
    Copyright (c) 2016 Jimmy Yuen Ho Wong and contributors
  
    @module
    @license MIT
  */

  (function (factory) {

    // CommonJS
    if (typeof exports == "object" && typeof $__require == "function") {
      module.exports = factory($__require("underscore"), $__require("backbone"));
    }
    // AMD
    else if (typeof define == "function" && define.amd) {
        define(["underscore", "backbone"], factory);
      }
      // Browser
      else if (typeof _ !== "undefined" && typeof Backbone !== "undefined") {
          var oldPageableCollection = Backbone.PageableCollection;
          var PageableCollection = factory(_, Backbone);

          /**
             __BROWSER ONLY__
              If you already have an object named `PageableCollection` attached to the
             `Backbone` module, you can use this to return a local reference to this
             PageableCollection class and reset the name PageableCollection to its
             previous definition.
                  // The left hand side gives you a reference to this
                 // PageableCollection implementation, the right hand side
                 // resets PageableCollection to your other PageableCollection.
                 var PageableCollection = PageableCollection.noConflict();
              @static
             @return {PageableCollection}
          */
          Backbone.PageableCollection.noConflict = function () {
            Backbone.PageableCollection = oldPageableCollection;
            return PageableCollection;
          };
        }
  })(function (_, Backbone) {

    "use strict";

    var _extend = _.extend;
    var _omit = _.omit;
    var _clone = _.clone;
    var _each = _.each;
    var _pick = _.pick;
    var _contains = _.contains;
    var _isEmpty = _.isEmpty;
    var _pairs = _.pairs;
    var _invert = _.invert;
    var _isArray = _.isArray;
    var _isFunction = _.isFunction;
    var _isObject = _.isObject;
    var _keys = _.keys;
    var _isUndefined = _.isUndefined;
    var ceil = Math.ceil;
    var floor = Math.floor;
    var max = Math.max;

    var BBColProto = Backbone.Collection.prototype;

    function finiteInt(val, name) {
      if (!_.isNumber(val) || _.isNaN(val) || !_.isFinite(val) || ~~val !== val) {
        throw new TypeError("`" + name + "` must be a finite integer");
      }
      return val;
    }

    function queryStringToParams(qs) {
      var kvp,
          k,
          v,
          ls,
          params = {},
          decode = decodeURIComponent;
      var kvps = qs.split('&');
      for (var i = 0, l = kvps.length; i < l; i++) {
        var param = kvps[i];
        kvp = param.split('='), k = kvp[0], v = kvp[1];
        if (v == null) v = true;
        k = decode(k), v = decode(v), ls = params[k];
        if (_isArray(ls)) ls.push(v);else if (ls) params[k] = [ls, v];else params[k] = v;
      }
      return params;
    }

    // hack to make sure the whatever event handlers for this event is run
    // before func is, and the event handlers that func will trigger.
    function runOnceAtLastHandler(col, event, func) {
      var eventHandlers = col._events[event];
      if (eventHandlers && eventHandlers.length) {
        var lastHandler = eventHandlers[eventHandlers.length - 1];
        var oldCallback = lastHandler.callback;
        lastHandler.callback = function () {
          try {
            oldCallback.apply(this, arguments);
            func();
          } catch (e) {
            throw e;
          } finally {
            lastHandler.callback = oldCallback;
          }
        };
      } else func();
    }

    var PARAM_TRIM_RE = /[\s'"]/g;
    var URL_TRIM_RE = /[<>\s'"]/g;

    /**
     * State change event. Fired when PageableCollection#state gets updated
     *
     * @event pageable:state:change
     * @type {object} The PageableCollection#state object of this
     * PageableCollection instance
     */

    /**
       Drop-in replacement for Backbone.Collection. Supports server-side and
       client-side pagination and sorting. Client-side mode also support fully
       multi-directional synchronization of changes between pages.
        @class PageableCollection
       @extends Backbone.Collection
    */
    var PageableCollection = Backbone.PageableCollection = Backbone.Collection.extend({

      /**
         The container object to store all pagination states.
          You can override the default state by extending this class or specifying
         them in an `options` hash to the constructor.
          @property {number} firstPage = 1 - The first page index. Set to 0 if
         your server API uses 0-based indices. You should only override this value
         during extension, initialization or reset by the server after
         fetching. This value should be read only at other times.
          @property {number} lastPage = null - The last page index. This value
         is __read only__ and it's calculated based on whether `firstPage` is 0 or
         1, during bootstrapping, fetching and resetting. Please don't change this
         value under any circumstances.
          @property {number} currentPage = null - The current page index. You
         should only override this value during extension, initialization or reset
         by the server after fetching. This value should be read only at other
         times. Can be a 0-based or 1-based index, depending on whether
         `firstPage` is 0 or 1. If left as default, it will be set to `firstPage`
         on initialization.
          @property {number} pageSize = 25 - How many records to show per
         page. This value is __read only__ after initialization, if you want to
         change the page size after initialization, you must call
         PageableCollection#setPageSize.
          @property {number} totalPages = null - How many pages there are. This
         value is __read only__ and it is calculated from `totalRecords`.
          @property {number} totalRecords = null - How many records there
         are. This value is __required__ under server mode. This value is optional
         for client mode as the number will be the same as the number of models
         during bootstrapping and during fetching, either supplied by the server
         in the metadata, or calculated from the size of the response.
          @property {string} sortKey = null - The model attribute to use for
         sorting.
          @property {number} order = -1 - The order to use for sorting. Specify
         -1 for ascending order or 1 for descending order. If 0, no client side
         sorting will be done and the order query parameter will not be sent to
         the server during a fetch.
      */
      state: {
        firstPage: 1,
        lastPage: null,
        currentPage: null,
        pageSize: 25,
        totalPages: null,
        totalRecords: null,
        sortKey: null,
        order: -1
      },

      /**
         @property {string} mode = "server" The mode of operations for this
         collection. `"server"` paginates on the server-side, `"client"` paginates
         on the client-side and `"infinite"` paginates on the server-side for APIs
         that do not support `totalRecords`.
      */
      mode: "server",

      /**
         A translation map to convert PageableCollection state attributes
         to the query parameters accepted by your server API.
          You can override the default state by extending this class or specifying
         them in `options.queryParams` object hash to the constructor.
          @property {string} currentPage = "page"
         @property {string} pageSize = "per_page"
         @property {string} totalPages = "total_pages"
         @property {string} totalRecords = "total_entries"
         @property {string} sortKey = "sort_by"
         @property {string} order = "order"
         @property {string} directions = {"-1": "asc", "1": "desc"} - A map for
         translating a PageableCollection#state.order constant to the ones your
         server API accepts.
      */
      queryParams: {
        currentPage: "page",
        pageSize: "per_page",
        totalPages: "total_pages",
        totalRecords: "total_entries",
        sortKey: "sort_by",
        order: "order",
        directions: {
          "-1": "asc",
          "1": "desc"
        }
      },

      /**
         Given a list of models or model attributues, bootstraps the full
         collection in client mode or infinite mode, or just the page you want in
         server mode.
          If you want to initialize a collection to a different state than the
         default, you can specify them in `options.state`. Any state parameters
         supplied will be merged with the default. If you want to change the
         default mapping from PageableCollection#state keys to your server API's
         query parameter names, you can specifiy an object hash in
         `option.queryParams`. Likewise, any mapping provided will be merged with
         the default. Lastly, all Backbone.Collection constructor options are also
         accepted.
          See:
          - PageableCollection#state
         - PageableCollection#queryParams
         - [Backbone.Collection#initialize](http://backbonejs.org/#Collection-constructor)
          @constructor
          @property {Backbone.Collection} fullCollection - __CLIENT MODE ONLY__
         This collection is the internal storage for the bootstrapped or fetched
         models. You can use this if you want to operate on all the pages.
          @param {Array.<Object>} models
          @param {Object} options
          @param {function(*, *): number} options.comparator - If specified, this
         comparator is set to the current page under server mode, or the
         PageableCollection#fullCollection otherwise.
          @param {boolean} options.full 0 If `false` and either a
         `options.comparator` or `sortKey` is defined, the comparator is attached
         to the current page. Default is `true` under client or infinite mode and
         the comparator will be attached to the PageableCollection#fullCollection.
          @param {Object} options.state - The state attributes overriding the defaults.
          @param {string} options.state.sortKey - The model attribute to use for
         sorting. If specified instead of `options.comparator`, a comparator will
         be automatically created using this value, and optionally a sorting order
         specified in `options.state.order`. The comparator is then attached to
         the new collection instance.
          @param {number} options.state.order - The order to use for sorting. Specify
         -1 for ascending order and 1 for descending order.
          @param {Object} options.queryParam
      */
      constructor: function (models, options) {

        BBColProto.constructor.apply(this, arguments);

        options = options || {};

        var mode = this.mode = options.mode || this.mode || PageableProto.mode;

        var queryParams = _extend({}, PageableProto.queryParams, this.queryParams, options.queryParams || {});

        queryParams.directions = _extend({}, PageableProto.queryParams.directions, this.queryParams.directions, queryParams.directions);

        this.queryParams = queryParams;

        var state = this.state = _extend({}, PageableProto.state, this.state, options.state);

        state.currentPage = state.currentPage == null ? state.firstPage : state.currentPage;

        if (!_isArray(models)) models = models ? [models] : [];
        models = models.slice();

        if (mode != "server" && state.totalRecords == null && !_isEmpty(models)) {
          state.totalRecords = models.length;
        }

        this.switchMode(mode, _extend({ fetch: false,
          resetState: false,
          models: models }, options));

        var comparator = options.comparator;

        if (state.sortKey && !comparator) {
          this.setSorting(state.sortKey, state.order, options);
        }

        if (mode != "server") {
          var fullCollection = this.fullCollection;

          if (comparator && options.full) {
            this.comparator = null;
            fullCollection.comparator = comparator;
          }

          if (options.full) fullCollection.sort();

          // make sure the models in the current page and full collection have the
          // same references
          if (!_isEmpty(models)) {
            this.reset(models, _extend({ silent: true }, options));
            this.getPage(state.currentPage);
            models.splice.apply(models, [0, models.length].concat(this.models));
          }
        }

        this._initState = _clone(this.state);
      },

      /**
         Makes a Backbone.Collection that contains all the pages.
          @private
         @param {Array.<Object|Backbone.Model>} models
         @param {Object} options Options for Backbone.Collection constructor.
         @return {Backbone.Collection}
      */
      _makeFullCollection: function (models, options) {

        var properties = ["url", "model", "sync", "comparator"];
        var thisProto = this.constructor.prototype;
        var i, length, prop;

        var proto = {};
        for (i = 0, length = properties.length; i < length; i++) {
          prop = properties[i];
          if (!_isUndefined(thisProto[prop])) {
            proto[prop] = thisProto[prop];
          }
        }

        var fullCollection = new (Backbone.Collection.extend(proto))(models, options);

        for (i = 0, length = properties.length; i < length; i++) {
          prop = properties[i];
          if (this[prop] !== thisProto[prop]) {
            fullCollection[prop] = this[prop];
          }
        }

        return fullCollection;
      },

      /**
         Factory method that returns a Backbone event handler that responses to
         the `add`, `remove`, `reset`, and the `sort` events. The returned event
         handler will synchronize the current page collection and the full
         collection's models.
          @private
          @fires PageableCollection#pageable:state:change when handling an
         `add`, `remove`, or `reset` event
          @param {PageableCollection} pageCol
         @param {Backbone.Collection} fullCol
          @return {function(string, Backbone.Model, Backbone.Collection, Object)}
         Collection event handler
      */
      _makeCollectionEventHandler: function (pageCol, fullCol) {

        return function collectionEventHandler(event, model, collection, options) {

          var handlers = pageCol._handlers;
          _each(_keys(handlers), function (event) {
            var handler = handlers[event];
            pageCol.off(event, handler);
            fullCol.off(event, handler);
          });

          var state = _clone(pageCol.state);
          var firstPage = state.firstPage;
          var currentPage = firstPage === 0 ? state.currentPage : state.currentPage - 1;
          var pageSize = state.pageSize;
          var pageStart = currentPage * pageSize,
              pageEnd = pageStart + pageSize;

          if (event == "add") {
            var pageIndex,
                fullIndex,
                addAt,
                colToAdd,
                options = options || {};
            if (collection == fullCol) {
              fullIndex = fullCol.indexOf(model);
              if (fullIndex >= pageStart && fullIndex < pageEnd) {
                colToAdd = pageCol;
                pageIndex = addAt = fullIndex - pageStart;
              }
            } else {
              pageIndex = pageCol.indexOf(model);
              fullIndex = pageStart + pageIndex;
              colToAdd = fullCol;
              var addAt = !_isUndefined(options.at) ? options.at + pageStart : fullIndex;
            }

            if (!options.onRemove) {
              ++state.totalRecords;
              delete options.onRemove;
            }

            pageCol.state = pageCol._checkState(state);

            if (colToAdd) {
              colToAdd.add(model, _extend({}, options, { at: addAt }));
              var modelToRemove = pageIndex >= pageSize ? model : !_isUndefined(options.at) && addAt < pageEnd && pageCol.length > pageSize ? pageCol.at(pageSize) : null;
              if (modelToRemove) {
                runOnceAtLastHandler(collection, event, function () {
                  pageCol.remove(modelToRemove, { onAdd: true });
                });
              }
            }

            if (!options.silent) pageCol.trigger("pageable:state:change", pageCol.state);
          }

          // remove the model from the other collection as well
          if (event == "remove") {
            if (!options.onAdd) {
              // decrement totalRecords and update totalPages and lastPage
              if (! --state.totalRecords) {
                state.totalRecords = null;
                state.totalPages = null;
              } else {
                var totalPages = state.totalPages = ceil(state.totalRecords / pageSize);
                state.lastPage = firstPage === 0 ? totalPages - 1 : totalPages || firstPage;
                if (state.currentPage > totalPages) state.currentPage = state.lastPage;
              }
              pageCol.state = pageCol._checkState(state);

              var nextModel,
                  removedIndex = options.index;
              if (collection == pageCol) {
                if (nextModel = fullCol.at(pageEnd)) {
                  runOnceAtLastHandler(pageCol, event, function () {
                    pageCol.push(nextModel, { onRemove: true });
                  });
                } else if (!pageCol.length && state.totalRecords) {
                  pageCol.reset(fullCol.models.slice(pageStart - pageSize, pageEnd - pageSize), _extend({}, options, { parse: false }));
                }
                fullCol.remove(model);
              } else if (removedIndex >= pageStart && removedIndex < pageEnd) {
                if (nextModel = fullCol.at(pageEnd - 1)) {
                  runOnceAtLastHandler(pageCol, event, function () {
                    pageCol.push(nextModel, { onRemove: true });
                  });
                }
                pageCol.remove(model);
                if (!pageCol.length && state.totalRecords) {
                  pageCol.reset(fullCol.models.slice(pageStart - pageSize, pageEnd - pageSize), _extend({}, options, { parse: false }));
                }
              }
            } else delete options.onAdd;

            if (!options.silent) pageCol.trigger("pageable:state:change", pageCol.state);
          }

          if (event == "reset") {
            options = collection;
            collection = model;

            // Reset that's not a result of getPage
            if (collection == pageCol && options.from == null && options.to == null) {
              var head = fullCol.models.slice(0, pageStart);
              var tail = fullCol.models.slice(pageStart + pageCol.models.length);
              fullCol.reset(head.concat(pageCol.models).concat(tail), options);
            } else if (collection == fullCol) {
              if (!(state.totalRecords = fullCol.models.length)) {
                state.totalRecords = null;
                state.totalPages = null;
              }
              if (pageCol.mode == "client") {
                firstPage = state.lastPage = state.currentPage = state.firstPage;
                currentPage = firstPage === 0 ? state.currentPage : state.currentPage - 1;
                pageStart = currentPage * pageSize;
                pageEnd = pageStart + pageSize;
              }
              pageCol.state = pageCol._checkState(state);
              pageCol.reset(fullCol.models.slice(pageStart, pageEnd), _extend({}, options, { parse: false }));
            }

            if (!options.silent) pageCol.trigger("pageable:state:change", pageCol.state);
          }

          if (event == "sort") {
            options = collection;
            collection = model;
            if (collection === fullCol) {
              pageCol.reset(fullCol.models.slice(pageStart, pageEnd), _extend({}, options, { parse: false }));
            }
          }

          _each(_keys(handlers), function (event) {
            var handler = handlers[event];
            _each([pageCol, fullCol], function (col) {
              col.on(event, handler);
              var callbacks = col._events[event] || [];
              callbacks.unshift(callbacks.pop());
            });
          });
        };
      },

      /**
         Sanity check this collection's pagination states. Only perform checks
         when all the required pagination state values are defined and not null.
         If `totalPages` is undefined or null, it is set to `totalRecords` /
         `pageSize`. `lastPage` is set according to whether `firstPage` is 0 or 1
         when no error occurs.
          @private
          @throws {TypeError} If `totalRecords`, `pageSize`, `currentPage` or
         `firstPage` is not a finite integer.
          @throws {RangeError} If `pageSize`, `currentPage` or `firstPage` is out
         of bounds.
          @return {Object} Returns the `state` object if no error was found.
      */
      _checkState: function (state) {
        var mode = this.mode;
        var links = this.links;
        var totalRecords = state.totalRecords;
        var pageSize = state.pageSize;
        var currentPage = state.currentPage;
        var firstPage = state.firstPage;
        var totalPages = state.totalPages;

        if (totalRecords != null && pageSize != null && currentPage != null && firstPage != null && (mode == "infinite" ? links : true)) {

          totalRecords = finiteInt(totalRecords, "totalRecords");
          pageSize = finiteInt(pageSize, "pageSize");
          currentPage = finiteInt(currentPage, "currentPage");
          firstPage = finiteInt(firstPage, "firstPage");

          if (pageSize < 1) {
            throw new RangeError("`pageSize` must be >= 1");
          }

          totalPages = state.totalPages = ceil(totalRecords / pageSize);

          if (firstPage < 0 || firstPage > 1) {
            throw new RangeError("`firstPage must be 0 or 1`");
          }

          state.lastPage = firstPage === 0 ? max(0, totalPages - 1) : totalPages || firstPage;

          if (mode == "infinite") {
            if (!links[currentPage + '']) {
              throw new RangeError("No link found for page " + currentPage);
            }
          } else if (currentPage < firstPage || totalPages > 0 && (firstPage ? currentPage > totalPages : currentPage >= totalPages)) {
            throw new RangeError("`currentPage` must be firstPage <= currentPage " + (firstPage ? "<" : "<=") + " totalPages if " + firstPage + "-based. Got " + currentPage + '.');
          }
        }

        return state;
      },

      /**
         Change the page size of this collection.
          Under most if not all circumstances, you should call this method to
         change the page size of a pageable collection because it will keep the
         pagination state sane. By default, the method will recalculate the
         current page number to one that will retain the current page's models
         when increasing the page size. When decreasing the page size, this method
         will retain the last models to the current page that will fit into the
         smaller page size.
          If `options.first` is true, changing the page size will also reset the
         current page back to the first page instead of trying to be smart.
          For server mode operations, changing the page size will trigger a
         PageableCollection#fetch and subsequently a `reset` event.
          For client mode operations, changing the page size will `reset` the
         current page by recalculating the current page boundary on the client
         side.
          If `options.fetch` is true, a fetch can be forced if the collection is in
         client mode.
          @param {number} pageSize - The new page size to set to PageableCollection#state.
         @param {Object} options - {@link PageableCollection#fetch} options.
         @param {boolean} options.first = false 0 Reset the current page number to
         the first page if `true`.
         @param {boolean} options.fetch - If `true`, force a fetch in client mode.
          @throws {TypeError} If `pageSize` is not a finite integer.
         @throws {RangeError} If `pageSize` is less than 1.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      setPageSize: function (pageSize, options) {
        pageSize = finiteInt(pageSize, "pageSize");

        options = options || { first: false };

        var state = this.state;
        var totalPages = ceil(state.totalRecords / pageSize);
        var currentPage = totalPages ? max(state.firstPage, floor(totalPages * state.currentPage / state.totalPages)) : state.firstPage;

        state = this.state = this._checkState(_extend({}, state, {
          pageSize: pageSize,
          currentPage: options.first ? state.firstPage : currentPage,
          totalPages: totalPages
        }));

        return this.getPage(state.currentPage, _omit(options, ["first"]));
      },

      /**
         Switching between client, server and infinite mode.
          If switching from client to server mode, the #fullCollection is emptied
         first and then deleted and a fetch is immediately issued for the current
         page from the server. Pass `false` to `options.fetch` to skip fetching.
          If switching to infinite mode, and if `options.models` is given for an
         array of models,PageableCollection#links will be populated with a URL per
         page, using the default URL for this collection.
          If switching from server to client mode, all of the pages are immediately
         refetched. If you have too many pages, you can pass `false` to
         `options.fetch` to skip fetching.
          If switching to any mode from infinite mode, thePageableCollection#links
         will be deleted.
          @fires PageableCollection#pageable:state:change
          @param {"server"|"client"|"infinite"} mode - The mode to switch to.
          @param {Object} options
          @param {boolean} options.fetch = true - If `false`, no fetching is done.
          @param {boolean} options.resetState = true - If 'false', the state is not
         reset, but checked for sanity instead.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this if `options.fetch` is `false`.
      */
      switchMode: function (mode, options) {

        if (!_contains(["server", "client", "infinite"], mode)) {
          throw new TypeError('`mode` must be one of "server", "client" or "infinite"');
        }

        options = options || { fetch: true, resetState: true };

        var state = this.state = options.resetState ? _clone(this._initState) : this._checkState(_extend({}, this.state));

        this.mode = mode;

        var self = this;
        var fullCollection = this.fullCollection;
        var handlers = this._handlers = this._handlers || {},
            handler;
        if (mode != "server" && !fullCollection) {
          fullCollection = this._makeFullCollection(options.models || [], options);
          fullCollection.pageableCollection = this;
          this.fullCollection = fullCollection;
          var allHandler = this._makeCollectionEventHandler(this, fullCollection);
          _each(["add", "remove", "reset", "sort"], function (event) {
            handlers[event] = handler = _.bind(allHandler, {}, event);
            self.on(event, handler);
            fullCollection.on(event, handler);
          });
          fullCollection.comparator = this._fullComparator;
        } else if (mode == "server" && fullCollection) {
          _each(_keys(handlers), function (event) {
            handler = handlers[event];
            self.off(event, handler);
            fullCollection.off(event, handler);
          });
          delete this._handlers;
          this._fullComparator = fullCollection.comparator;
          delete this.fullCollection;
        }

        if (mode == "infinite") {
          var links = this.links = {};
          var firstPage = state.firstPage;
          var totalPages = ceil(state.totalRecords / state.pageSize);
          var lastPage = firstPage === 0 ? max(0, totalPages - 1) : totalPages || firstPage;
          for (var i = state.firstPage; i <= lastPage; i++) {
            links[i] = this.url;
          }
        } else if (this.links) delete this.links;

        if (!options.silent) this.trigger("pageable:state:change", state);

        return options.fetch ? this.fetch(_omit(options, "fetch", "resetState")) : this;
      },

      /**
         @return {boolean} `true` if this collection can page backward, `false`
         otherwise.
      */
      hasPreviousPage: function () {
        var state = this.state;
        var currentPage = state.currentPage;
        if (this.mode != "infinite") return currentPage > state.firstPage;
        return !!this.links[currentPage - 1];
      },

      /**
         @return {boolean} `true` if this collection can page forward, `false`
         otherwise.
      */
      hasNextPage: function () {
        var state = this.state;
        var currentPage = this.state.currentPage;
        if (this.mode != "infinite") return currentPage < state.lastPage;
        return !!this.links[currentPage + 1];
      },

      /**
         Fetch the first page in server mode, or reset the current page of this
         collection to the first page in client or infinite mode.
          @param {Object} options {@linkPageableCollection#getPage} options.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getFirstPage: function (options) {
        return this.getPage("first", options);
      },

      /**
         Fetch the previous page in server mode, or reset the current page of this
         collection to the previous page in client or infinite mode.
          @param {Object} options {@linkPageableCollection#getPage} options.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getPreviousPage: function (options) {
        return this.getPage("prev", options);
      },

      /**
         Fetch the next page in server mode, or reset the current page of this
         collection to the next page in client mode.
          @param {Object} options {@linkPageableCollection#getPage} options.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getNextPage: function (options) {
        return this.getPage("next", options);
      },

      /**
         Fetch the last page in server mode, or reset the current page of this
         collection to the last page in client mode.
          @param {Object} options {@linkPageableCollection#getPage} options.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getLastPage: function (options) {
        return this.getPage("last", options);
      },

      /**
         Given a page index, set PageableCollection#state.currentPage to that
         index. If this collection is in server mode, fetch the page using the
         updated state, otherwise, reset the current page of this collection to
         the page specified by `index` in client mode. If `options.fetch` is true,
         a fetch can be forced in client mode before resetting the current
         page. Under infinite mode, if the index is less than the current page, a
         reset is done as in client mode. If the index is greater than the current
         page number, a fetch is made with the results **appended**
         toPageableCollection#fullCollection.  The current page will then be reset
         after fetching.
          @fires PageableCollection#pageable:state:change
          @param {number|string} index - The page index to go to, or the page name to
         look up fromPageableCollection#links in infinite mode.
         @param {Object} options - {@linkPageableCollection#fetch} options or
         [reset](http://backbonejs.org/#Collection-reset) options for client mode
         when `options.fetch` is `false`.
         @param {boolean} options.fetch = false - If true, force a
         {@linkPageableCollection#fetch} in client mode.
          @throws {TypeError} If `index` is not a finite integer under server or
         client mode, or does not yield a URL fromPageableCollection#links under
         infinite mode.
          @throws {RangeError} If `index` is out of bounds.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getPage: function (index, options) {

        var mode = this.mode,
            fullCollection = this.fullCollection;

        options = options || { fetch: false };

        var state = this.state,
            firstPage = state.firstPage,
            currentPage = state.currentPage,
            lastPage = state.lastPage,
            pageSize = state.pageSize;

        var pageNum = index;
        switch (index) {
          case "first":
            pageNum = firstPage;break;
          case "prev":
            pageNum = currentPage - 1;break;
          case "next":
            pageNum = currentPage + 1;break;
          case "last":
            pageNum = lastPage;break;
          default:
            pageNum = finiteInt(index, "index");
        }

        this.state = this._checkState(_extend({}, state, { currentPage: pageNum }));
        if (!options.silent) this.trigger("pageable:state:change", this.state);

        options.from = currentPage, options.to = pageNum;

        var pageStart = (firstPage === 0 ? pageNum : pageNum - 1) * pageSize;
        var pageModels = fullCollection && fullCollection.length ? fullCollection.models.slice(pageStart, pageStart + pageSize) : [];
        if ((mode == "client" || mode == "infinite" && !_isEmpty(pageModels)) && !options.fetch) {
          this.reset(pageModels, _omit(options, "fetch"));
          return this;
        }

        if (mode == "infinite") options.url = this.links[pageNum];

        return this.fetch(_omit(options, "fetch"));
      },

      /**
         Fetch the page for the provided item offset in server mode, or reset the
         current page of this collection to the page for the provided item offset
         in client mode.
          @param {Object} options {@linkPageableCollection#getPage} options.
          @chainable
         @return {XMLHttpRequest|PageableCollection} The XMLHttpRequest
         from fetch or this.
      */
      getPageByOffset: function (offset, options) {
        if (offset < 0) {
          throw new RangeError("`offset must be > 0`");
        }
        offset = finiteInt(offset);

        var page = floor(offset / this.state.pageSize);
        if (this.state.firstPage !== 0) page++;
        if (page > this.state.lastPage) page = this.state.lastPage;
        return this.getPage(page, options);
      },

      /**
         Overidden to make `getPage` compatible with Zepto.
          @param {string} method
         @param {Backbone.Model|Backbone.Collection} model
         @param {Object} options
          @return {XMLHttpRequest}
      */
      sync: function (method, model, options) {
        var self = this;
        if (self.mode == "infinite") {
          var success = options.success;
          var currentPage = self.state.currentPage;
          options.success = function (resp, status, xhr) {
            var links = self.links;
            var newLinks = self.parseLinks(resp, _extend({ xhr: xhr }, options));
            if (newLinks.first) links[self.state.firstPage] = newLinks.first;
            if (newLinks.prev) links[currentPage - 1] = newLinks.prev;
            if (newLinks.next) links[currentPage + 1] = newLinks.next;
            if (success) success(resp, status, xhr);
          };
        }

        return (BBColProto.sync || Backbone.sync).call(self, method, model, options);
      },

      /**
         Parse pagination links from the server response. Only valid under
         infinite mode.
          Given a response body and a XMLHttpRequest object, extract pagination
         links from them for infinite paging.
          This default implementation parses the RFC 5988 `Link` header and extract
         3 links from it - `first`, `prev`, `next`. Any subclasses overriding this
         method __must__ return an object hash having only the keys
         above. However, simply returning a `next` link or an empty hash if there
         are no more links should be enough for most implementations.
          @param {*} resp The deserialized response body.
         @param {Object} options
         @param {XMLHttpRequest} options.xhr - The XMLHttpRequest object for this
         response.
         @return {Object}
      */
      parseLinks: function (resp, options) {
        var links = {};
        var linkHeader = options.xhr.getResponseHeader("Link");
        if (linkHeader) {
          var relations = ["first", "prev", "next"];
          _each(linkHeader.split(","), function (linkValue) {
            var linkParts = linkValue.split(";");
            var url = linkParts[0].replace(URL_TRIM_RE, '');
            var params = linkParts.slice(1);
            _each(params, function (param) {
              var paramParts = param.split("=");
              var key = paramParts[0].replace(PARAM_TRIM_RE, '');
              var value = paramParts[1].replace(PARAM_TRIM_RE, '');
              if (key == "rel" && _contains(relations, value)) links[value] = url;
            });
          });
        }

        return links;
      },

      /**
         Parse server response data.
          This default implementation assumes the response data is in one of two
         structures:
              [
               {}, // Your new pagination state
               [{}, ...] // An array of JSON objects
             ]
          Or,
              [{}] // An array of JSON objects
          The first structure is the preferred form because the pagination states
         may have been updated on the server side, sending them down again allows
         this collection to update its states. If the response has a pagination
         state object, it is checked for errors.
          The second structure is the
         [Backbone.Collection#parse](http://backbonejs.org/#Collection-parse)
         default.
          **Note:** this method has been further simplified since 1.1.7. While
         existingPageableCollection#parse implementations will continue to work,
         new code is encouraged to overridePageableCollection#parseState
         andPageableCollection#parseRecords instead.
          @param {Object} resp The deserialized response data from the server.
         @param {Object} the options for the ajax request
          @return {Array.<Object>} An array of model objects
      */
      parse: function (resp, options) {
        var newState = this.parseState(resp, _clone(this.queryParams), _clone(this.state), options);
        if (newState) this.state = this._checkState(_extend({}, this.state, newState));
        return this.parseRecords(resp, options);
      },

      /**
         Parse server response for server pagination state updates. Not applicable
         under infinite mode.
          This default implementation first checks whether the response has any
         state object as documented inPageableCollection#parse. If it exists, a
         state object is returned by mapping the server state keys to this
         pageable collection instance's query parameter keys using `queryParams`.
          It is __NOT__ neccessary to return a full state object complete with all
         the mappings defined inPageableCollection#queryParams. Any state object
         resulted is merged with a copy of the current pageable collection state
         and checked for sanity before actually updating. Most of the time, simply
         providing a new `totalRecords` value is enough to trigger a full
         pagination state recalculation.
              parseState: function (resp, queryParams, state, options) {
               return {totalRecords: resp.total_entries};
             }
          If you want to use header fields use:
              parseState: function (resp, queryParams, state, options) {
                 return {totalRecords: options.xhr.getResponseHeader("X-total")};
             }
          This method __MUST__ return a new state object instead of directly
         modifying the PageableCollection#state object. The behavior of directly
         modifying PageableCollection#state is undefined.
          @param {Object} resp - The deserialized response data from the server.
         @param {Object} queryParams - A copy of PageableCollection#queryParams.
         @param {Object} state - A copy of PageableCollection#state.
         @param {Object} options - The options passed through from
         `parse`. (backbone >= 0.9.10 only)
          @return {Object} A new (partial) state object.
       */
      parseState: function (resp, queryParams, state, options) {
        if (resp && resp.length === 2 && _isObject(resp[0]) && _isArray(resp[1])) {

          var newState = _clone(state);
          var serverState = resp[0];

          _each(_pairs(_omit(queryParams, "directions")), function (kvp) {
            var k = kvp[0],
                v = kvp[1];
            var serverVal = serverState[v];
            if (!_isUndefined(serverVal) && !_.isNull(serverVal)) newState[k] = serverState[v];
          });

          if (serverState.order) {
            newState.order = _invert(queryParams.directions)[serverState.order] * 1;
          }

          return newState;
        }
      },

      /**
         Parse server response for an array of model objects.
          This default implementation first checks whether the response has any
         state object as documented inPageableCollection#parse. If it exists, the
         array of model objects is assumed to be the second element, otherwise the
         entire response is returned directly.
          @param {Object} resp - The deserialized response data from the server.
         @param {Object} options - The options passed through from the
         `parse`. (backbone >= 0.9.10 only)
          @return {Array.<Object>} An array of model objects
       */
      parseRecords: function (resp, options) {
        if (resp && resp.length === 2 && _isObject(resp[0]) && _isArray(resp[1])) {
          return resp[1];
        }

        return resp;
      },

      /**
         Fetch a page from the server in server mode, or all the pages in client
         mode. Under infinite mode, the current page is refetched by default and
         then reset.
          The query string is constructed by translating the current pagination
         state to your server API query parameter
         usingPageableCollection#queryParams. The current page will reset after
         fetch.
          @param {Object} options - Accepts all
         [Backbone.Collection#fetch](http://backbonejs.org/#Collection-fetch)
         options.
          @return {XMLHttpRequest}
      */
      fetch: function (options) {

        options = options || {};

        var state = this._checkState(this.state);

        var mode = this.mode;

        if (mode == "infinite" && !options.url) {
          options.url = this.links[state.currentPage];
        }

        var data = options.data || {};

        // dedup query params
        var url = options.url || this.url || "";
        if (_isFunction(url)) url = url.call(this);
        var qsi = url.indexOf('?');
        if (qsi != -1) {
          _extend(data, queryStringToParams(url.slice(qsi + 1)));
          url = url.slice(0, qsi);
        }

        options.url = url;
        options.data = data;

        // map params except directions
        var queryParams = this.mode == "client" ? _pick(this.queryParams, "sortKey", "order") : _omit(_pick(this.queryParams, _keys(PageableProto.queryParams)), "directions");

        var thisCopy = _.clone(this);
        _.each(queryParams, function (v, k) {
          v = _isFunction(v) ? v.call(thisCopy) : v;
          if (state[k] != null && v != null && _.isUndefined(data[v])) {
            data[v] = state[k];
          }
        }, this);

        // fix up sorting parameters
        var i;
        if (state.sortKey && state.order) {
          var o = _isFunction(queryParams.order) ? queryParams.order.call(thisCopy) : queryParams.order;
          if (!_isArray(state.order)) {
            data[o] = this.queryParams.directions[state.order + ""];
          } else {
            data[o] = [];
            for (i = 0; i < state.order.length; i += 1) {
              data[o].push(this.queryParams.directions[state.order[i]]);
            }
          }
        } else if (!state.sortKey) delete data[queryParams.order];

        // map extra query parameters
        var extraKvps = _pairs(_omit(this.queryParams, _keys(PageableProto.queryParams))),
            kvp,
            v;
        for (i = 0; i < extraKvps.length; i++) {
          kvp = extraKvps[i];
          v = kvp[1];
          v = _isFunction(v) ? v.call(thisCopy) : v;
          if (v != null) data[kvp[0]] = v;
        }

        if (mode != "server") {
          var self = this,
              fullCol = this.fullCollection;
          var success = options.success;
          options.success = function (col, resp, opts) {

            // make sure the caller's intent is obeyed
            opts = opts || {};
            if (_isUndefined(options.silent)) delete opts.silent;else opts.silent = options.silent;

            var models = col.models;
            if (mode == "client") fullCol.reset(models, opts);else {
              fullCol.add(models, _extend({ at: fullCol.length }, _extend(opts, { parse: false })));
              self.trigger("reset", self, opts);
            }

            if (success) success(col, resp, opts);
          };

          // silent the first reset from backbone
          return BBColProto.fetch.call(this, _extend({}, options, { silent: true }));
        }

        return BBColProto.fetch.call(this, options);
      },

      /**
         Convenient method for making a `comparator` sorted by a model attribute
         identified by `sortKey` and ordered by `order`.
          Like a Backbone.Collection, a PageableCollection will maintain the
         __current page__ in sorted order on the client side if a `comparator` is
         attached to it. If the collection is in client mode, you can attach a
         comparator toPageableCollection#fullCollection to have all the pages
         reflect the global sorting order by specifying an option `full` to
         `true`. You __must__ call `sort` manually
         orPageableCollection#fullCollection.sort after calling this method to
         force a resort.
          While you can use this method to sort the current page in server mode,
         the sorting order may not reflect the global sorting order due to the
         additions or removals of the records on the server since the last
         fetch. If you want the most updated page in a global sorting order, it is
         recommended that you set PageableCollection#state.sortKey and optionally
         PageableCollection#state.order, and then callPageableCollection#fetch.
          @protected
          @param {string} sortKey = this.state.sortKey - See `state.sortKey`.
         @param {number} order = this.state.order - See `state.order`.
         @param {(function(Backbone.Model, string): Object) | string} sortValue -
         See PageableCollection#setSorting.
          See [Backbone.Collection.comparator](http://backbonejs.org/#Collection-comparator).
      */
      _makeComparator: function (sortKey, order, sortValue) {
        var state = this.state;

        sortKey = sortKey || state.sortKey;
        order = order || state.order;

        if (!sortKey || !order) return;

        if (!sortValue) sortValue = function (model, attr) {
          return model.get(attr);
        };

        return function (left, right) {
          var l = sortValue(left, sortKey),
              r = sortValue(right, sortKey),
              t;
          if (order === 1) t = l, l = r, r = t;
          if (l === r) return 0;else if (l < r) return -1;
          return 1;
        };
      },

      /**
         Adjusts the sorting for this pageable collection.
          Given a `sortKey` and an `order`, sets `state.sortKey` and
         `state.order`. A comparator can be applied on the client side to sort in
         the order defined if `options.side` is `"client"`. By default the
         comparator is applied to thePageableCollection#fullCollection. Set
         `options.full` to `false` to apply a comparator to the current page under
         any mode. Setting `sortKey` to `null` removes the comparator from both
         the current page and the full collection.
          If a `sortValue` function is given, it will be passed the `(model,
         sortKey)` arguments and is used to extract a value from the model during
         comparison sorts. If `sortValue` is not given, `model.get(sortKey)` is
         used for sorting.
          @chainable
          @param {string} sortKey - See `state.sortKey`.
         @param {number} order=this.state.order - See `state.order`.
         @param {Object} options
         @param {string} options.side - By default, `"client"` if `mode` is
         `"client"`, `"server"` otherwise.
         @param {boolean} options.full = true
         @param {(function(Backbone.Model, string): Object) | string} options.sortValue
      */
      setSorting: function (sortKey, order, options) {

        var state = this.state;

        state.sortKey = sortKey;
        state.order = order = order || state.order;

        var fullCollection = this.fullCollection;

        var delComp = false,
            delFullComp = false;

        if (!sortKey) delComp = delFullComp = true;

        var mode = this.mode;
        options = _extend({ side: mode == "client" ? mode : "server", full: true }, options);

        var comparator = this._makeComparator(sortKey, order, options.sortValue);

        var full = options.full,
            side = options.side;

        if (side == "client") {
          if (full) {
            if (fullCollection) fullCollection.comparator = comparator;
            delComp = true;
          } else {
            this.comparator = comparator;
            delFullComp = true;
          }
        } else if (side == "server" && !full) {
          this.comparator = comparator;
        }

        if (delComp) this.comparator = null;
        if (delFullComp && fullCollection) fullCollection.comparator = null;

        return this;
      }

    });

    var PageableProto = PageableCollection.prototype;

    return PageableCollection;
  });
  return module.exports;
});
'use strict';

System.register('lib/common/models/baseUrlBaseCollection.js', ['backbone', 'backbone.radio', 'backbone.paginator'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, proto, PageableCollection;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_backbonePaginator) {}],
    execute: function () {
      proto = Backbone.PageableCollection.prototype;
      PageableCollection = Backbone.PageableCollection.extend({
        //baseUrl: '/~belac/step-inventory/app_dev.php',
        baseUrl: '',
        fetch: function fetch(options) {
          Radio.channel('app').trigger('request:started');
          return proto.fetch.call(this, options).always(function () {
            Radio.channel('app').trigger('request:finished');
          });
        },

        parseState: function parseState(resp, queryParams, state, options) {
          if (this.state.totalRecords !== resp.total_count) {
            this.trigger('state:totalRecords:change', resp.total_count);
          }
          return { totalRecords: resp.total_count, totalItemCount: resp.total_items };
        },
        parseRecords: function parseRecords(resp, options) {
          return resp.list;
        }
      });


      PageableCollection.prototype.__prepareModel = PageableCollection.prototype._prepareModel;
      PageableCollection.prototype._prepareModel = Backbone.Relational.Collection.prototype._prepareModel;

      _export('default', PageableCollection);
    }
  };
});
'use strict';

System.register('lib/common/behaviors/saveCancelDelete.js', ['underscore', 'backbone', 'marionette', 'lib/common/models/baseUrlBaseCollection.js'], function (_export, _context) {
  "use strict";

  var _, Backbone, Marionette, BaseUrlBaseCollection;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }, function (_libCommonModelsBaseUrlBaseCollectionJs) {
      BaseUrlBaseCollection = _libCommonModelsBaseUrlBaseCollectionJs.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        initialize: function initialize(options) {
          this.model = this.view.options.model;
          this.setPreviousAttributes();
          this.setMethods(options);
          this.listenTo(this.model, 'change:id', this.setPreviousAttributes);
        },
        setMethods: function setMethods(options) {
          var _this = this;

          this.methods = {
            save: false,
            cancel: false,
            delete: false,
            postDelete: false
          };
          _.each(this.methods, function (value, method) {
            _this.setMethod(options, method);
          });
        },
        setMethod: function setMethod(options, method) {
          if (typeof options[method] === 'function') {
            this.methods[method] = options[method];
          }
          if (typeof options[method] === 'string' && typeof this.view[method] === 'function') {
            this.methods[method] = this.view[method];
          }
        },

        ui: {
          'form': 'form',
          'saveButton': 'button[data-ui-name=save]',
          'cancelButton': 'button[data-ui-name=cancel]',
          'deleteButton': 'button[data-ui-name=delete]'
        },
        events: {
          'submit @ui.form': 'save',
          'click @ui.saveButton': 'save',
          'click @ui.cancelButton': 'cancel',
          'click @ui.deleteButton': 'delete'
        },
        setPreviousAttributes: function setPreviousAttributes() {
          this.previousAttributes = _.clone(this.model.attributes);
        },
        disableFormButtons: function disableFormButtons() {
          this.ui.saveButton.addClass('is-loading').prop('disabled', true);
          this.ui.cancelButton.addClass('is-disabled').prop('disabled', true);
          this.ui.deleteButton.addClass('is-disabled').prop('disabled', true);
        },
        enableFormButtons: function enableFormButtons() {
          this.ui.saveButton.removeClass('is-loading').prop('disabled', false);
          this.ui.cancelButton.removeClass('is-disabled').prop('disabled', false);
          this.ui.deleteButton.removeClass('is-disabled').prop('disabled', false);
        },
        save: function save(event) {
          var _this2 = this;

          event.preventDefault();
          if (typeof this.methods.save === 'function') {
            this.methods.save.call(this.view, event);
          } else {
            this.disableFormButtons();
            this.view.model.save().always(function () {
              _this2.enableFormButtons();
            }).done(function () {
              _this2.view.triggerMethod('add:entity', _this2.view);
              _this2.view.triggerMethod('show:list', _this2.view, {
                view: _this2,
                model: _this2.model
              });
            });
          }
        },
        cancel: function cancel(event) {
          event.preventDefault();
          if (typeof this.methods.cancel === 'function') {
            this.methods.cancel.call(this.view, event);
          } else {
            this.view.model.set(this.previousAttributes);
            this.view.triggerMethod('show:list');
          }
        },
        delete: function _delete(event) {
          var _this3 = this;

          event.preventDefault();
          if (typeof this.methods.delete === 'function') {
            this.methods.delete.call(this.view, event);
          } else {
            if (this.ui.deleteButton.data('confirm')) {
              this.disableFormButtons();
              this.view.model.destroy().always(function () {
                _this3.enableFormButtons();
              }).done(function () {
                if (typeof _this3.methods.postDelete === 'function') {
                  _this3.methods.postDelete.call(_this3.view, event);
                }
                _this3.view.triggerMethod('show:list', _this3.view, {
                  view: _this3,
                  model: _this3.model
                });
              });
            } else {
              this.ui.deleteButton.text('Confirm?').data('confirm', true);
            }
          }
        }
      }));
    }
  };
});
System.registerDynamic("github:marionettejs/backbone.marionette@3.1.0.json", [], false, function() {
  return {
    "main": "lib/backbone.marionette.js"
  };
});

(function() {
var define = System.amdDefine;
(function(global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('backbone'), require('underscore'), require('backbone.radio')) : typeof define === 'function' && define.amd ? define("github:marionettejs/backbone.marionette@3.1.0/lib/backbone.marionette.js", ["backbone", "underscore", "backbone.radio"], factory) : (global.Marionette = global['Mn'] = factory(global.Backbone, global._, global.Backbone.Radio));
}(this, function(Backbone, _, Radio) {
  'use strict';
  Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;
  _ = 'default' in _ ? _['default'] : _;
  Radio = 'default' in Radio ? Radio['default'] : Radio;
  var version = "3.1.0";
  var proxy = function proxy(method) {
    return function(context) {
      for (var _len = arguments.length,
          args = Array(_len > 1 ? _len - 1 : 0),
          _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      return method.apply(context, args);
    };
  };
  var extend = Backbone.Model.extend;
  var deprecate = function deprecate(message, test) {
    if (_.isObject(message)) {
      message = message.prev + ' is going to be removed in the future. ' + 'Please use ' + message.next + ' instead.' + (message.url ? ' See: ' + message.url : '');
    }
    if (!Marionette.DEV_MODE) {
      return;
    }
    if ((test === undefined || !test) && !deprecate._cache[message]) {
      deprecate._warn('Deprecation warning: ' + message);
      deprecate._cache[message] = true;
    }
  };
  deprecate._console = typeof console !== 'undefined' ? console : {};
  deprecate._warn = function() {
    var warn = deprecate._console.warn || deprecate._console.log || _.noop;
    return warn.apply(deprecate._console, arguments);
  };
  deprecate._cache = {};
  var isNodeAttached = function isNodeAttached(el) {
    return Backbone.$.contains(document.documentElement, el);
  };
  var mergeOptions = function mergeOptions(options, keys) {
    var _this = this;
    if (!options) {
      return;
    }
    _.each(keys, function(key) {
      var option = options[key];
      if (option !== undefined) {
        _this[key] = option;
      }
    });
  };
  var getOption = function getOption(optionName) {
    if (!optionName) {
      return;
    }
    if (this.options && this.options[optionName] !== undefined) {
      return this.options[optionName];
    } else {
      return this[optionName];
    }
  };
  var normalizeMethods = function normalizeMethods(hash) {
    var _this = this;
    return _.reduce(hash, function(normalizedHash, method, name) {
      if (!_.isFunction(method)) {
        method = _this[method];
      }
      if (method) {
        normalizedHash[name] = method;
      }
      return normalizedHash;
    }, {});
  };
  var splitter = /(^|:)(\w)/gi;
  function getEventName(match, prefix, eventName) {
    return eventName.toUpperCase();
  }
  var getOnMethodName = _.memoize(function(event) {
    return 'on' + event.replace(splitter, getEventName);
  });
  function triggerMethod(event) {
    for (var _len = arguments.length,
        args = Array(_len > 1 ? _len - 1 : 0),
        _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    var methodName = getOnMethodName(event);
    var method = getOption.call(this, methodName);
    var result = void 0;
    if (_.isFunction(method)) {
      result = method.apply(this, args);
    }
    this.trigger.apply(this, arguments);
    return result;
  }
  function triggerMethodOn(context) {
    for (var _len2 = arguments.length,
        args = Array(_len2 > 1 ? _len2 - 1 : 0),
        _key2 = 1; _key2 < _len2; _key2++) {
      args[_key2 - 1] = arguments[_key2];
    }
    if (_.isFunction(context.triggerMethod)) {
      return context.triggerMethod.apply(context, args);
    }
    return triggerMethod.apply(context, args);
  }
  function triggerMethodChildren(view, event, shouldTrigger) {
    if (!view._getImmediateChildren) {
      return;
    }
    _.each(view._getImmediateChildren(), function(child) {
      if (!shouldTrigger(child)) {
        return;
      }
      triggerMethodOn(child, event, child);
    });
  }
  function shouldTriggerAttach(view) {
    return !view._isAttached;
  }
  function shouldAttach(view) {
    if (!shouldTriggerAttach(view)) {
      return false;
    }
    view._isAttached = true;
    return true;
  }
  function shouldTriggerDetach(view) {
    return view._isAttached;
  }
  function shouldDetach(view) {
    if (!shouldTriggerDetach(view)) {
      return false;
    }
    view._isAttached = false;
    return true;
  }
  function triggerDOMRefresh(view) {
    if (view._isAttached && view._isRendered) {
      triggerMethodOn(view, 'dom:refresh', view);
    }
  }
  function handleBeforeAttach() {
    triggerMethodChildren(this, 'before:attach', shouldTriggerAttach);
  }
  function handleAttach() {
    triggerMethodChildren(this, 'attach', shouldAttach);
    triggerDOMRefresh(this);
  }
  function handleBeforeDetach() {
    triggerMethodChildren(this, 'before:detach', shouldTriggerDetach);
  }
  function handleDetach() {
    triggerMethodChildren(this, 'detach', shouldDetach);
  }
  function handleRender() {
    triggerDOMRefresh(this);
  }
  function monitorViewEvents(view) {
    if (view._areViewEventsMonitored) {
      return;
    }
    view._areViewEventsMonitored = true;
    view.on({
      'before:attach': handleBeforeAttach,
      'attach': handleAttach,
      'before:detach': handleBeforeDetach,
      'detach': handleDetach,
      'render': handleRender
    });
  }
  var errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];
  var MarionetteError = extend.call(Error, {
    urlRoot: 'http://marionettejs.com/docs/v' + version + '/',
    constructor: function constructor(message, options) {
      if (_.isObject(message)) {
        options = message;
        message = options.message;
      } else if (!options) {
        options = {};
      }
      var error = Error.call(this, message);
      _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));
      this.captureStackTrace();
      if (options.url) {
        this.url = this.urlRoot + options.url;
      }
    },
    captureStackTrace: function captureStackTrace() {
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, MarionetteError);
      }
    },
    toString: function toString() {
      return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');
    }
  });
  MarionetteError.extend = extend;
  function bindFromStrings(target, entity, evt, methods, actionName) {
    var methodNames = methods.split(/\s+/);
    _.each(methodNames, function(methodName) {
      var method = target[methodName];
      if (!method) {
        throw new MarionetteError('Method "' + methodName + '" was configured as an event handler, but does not exist.');
      }
      target[actionName](entity, evt, method);
    });
  }
  function iterateEvents(target, entity, bindings, actionName) {
    if (!entity || !bindings) {
      return;
    }
    if (!_.isObject(bindings)) {
      throw new MarionetteError({
        message: 'Bindings must be an object.',
        url: 'marionette.functions.html#marionettebindevents'
      });
    }
    _.each(bindings, function(method, evt) {
      if (_.isString(method)) {
        bindFromStrings(target, entity, evt, method, actionName);
        return;
      }
      target[actionName](entity, evt, method);
    });
  }
  function bindEvents(entity, bindings) {
    iterateEvents(this, entity, bindings, 'listenTo');
    return this;
  }
  function unbindEvents(entity, bindings) {
    iterateEvents(this, entity, bindings, 'stopListening');
    return this;
  }
  function iterateReplies(target, channel, bindings, actionName) {
    if (!channel || !bindings) {
      return;
    }
    if (!_.isObject(bindings)) {
      throw new MarionetteError({
        message: 'Bindings must be an object.',
        url: 'marionette.functions.html#marionettebindrequests'
      });
    }
    var normalizedRadioRequests = normalizeMethods.call(target, bindings);
    channel[actionName](normalizedRadioRequests, target);
  }
  function bindRequests(channel, bindings) {
    iterateReplies(this, channel, bindings, 'reply');
    return this;
  }
  function unbindRequests(channel, bindings) {
    iterateReplies(this, channel, bindings, 'stopReplying');
    return this;
  }
  var setOptions = function setOptions() {
    for (var _len = arguments.length,
        args = Array(_len),
        _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    this.options = _.extend.apply(_, [{}, _.result(this, 'options')].concat(args));
  };
  var CommonMixin = {
    normalizeMethods: normalizeMethods,
    _setOptions: setOptions,
    mergeOptions: mergeOptions,
    getOption: getOption,
    bindEvents: bindEvents,
    unbindEvents: unbindEvents
  };
  var RadioMixin = {
    _initRadio: function _initRadio() {
      var channelName = _.result(this, 'channelName');
      if (!channelName) {
        return;
      }
      if (!Radio) {
        throw new MarionetteError({
          name: 'BackboneRadioMissing',
          message: 'The dependency "backbone.radio" is missing.'
        });
      }
      var channel = this._channel = Radio.channel(channelName);
      var radioEvents = _.result(this, 'radioEvents');
      this.bindEvents(channel, radioEvents);
      var radioRequests = _.result(this, 'radioRequests');
      this.bindRequests(channel, radioRequests);
      this.on('destroy', this._destroyRadio);
    },
    _destroyRadio: function _destroyRadio() {
      this._channel.stopReplying(null, null, this);
    },
    getChannel: function getChannel() {
      return this._channel;
    },
    bindEvents: bindEvents,
    unbindEvents: unbindEvents,
    bindRequests: bindRequests,
    unbindRequests: unbindRequests
  };
  var ClassOptions = ['channelName', 'radioEvents', 'radioRequests'];
  var MarionetteObject = function MarionetteObject(options) {
    this._setOptions(options);
    this.mergeOptions(options, ClassOptions);
    this.cid = _.uniqueId(this.cidPrefix);
    this._initRadio();
    this.initialize.apply(this, arguments);
  };
  MarionetteObject.extend = extend;
  _.extend(MarionetteObject.prototype, Backbone.Events, CommonMixin, RadioMixin, {
    cidPrefix: 'mno',
    _isDestroyed: false,
    isDestroyed: function isDestroyed() {
      return this._isDestroyed;
    },
    initialize: function initialize() {},
    destroy: function destroy() {
      if (this._isDestroyed) {
        return this;
      }
      for (var _len = arguments.length,
          args = Array(_len),
          _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      this.triggerMethod.apply(this, ['before:destroy', this].concat(args));
      this._isDestroyed = true;
      this.triggerMethod.apply(this, ['destroy', this].concat(args));
      this.stopListening();
      return this;
    },
    triggerMethod: triggerMethod
  });
  var TemplateCache = function TemplateCache(templateId) {
    this.templateId = templateId;
  };
  _.extend(TemplateCache, {
    templateCaches: {},
    get: function get(templateId, options) {
      var cachedTemplate = this.templateCaches[templateId];
      if (!cachedTemplate) {
        cachedTemplate = new TemplateCache(templateId);
        this.templateCaches[templateId] = cachedTemplate;
      }
      return cachedTemplate.load(options);
    },
    clear: function clear() {
      var i = void 0;
      for (var _len = arguments.length,
          args = Array(_len),
          _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      var length = args.length;
      if (length > 0) {
        for (i = 0; i < length; i++) {
          delete this.templateCaches[args[i]];
        }
      } else {
        this.templateCaches = {};
      }
    }
  });
  _.extend(TemplateCache.prototype, {
    load: function load(options) {
      if (this.compiledTemplate) {
        return this.compiledTemplate;
      }
      var template = this.loadTemplate(this.templateId, options);
      this.compiledTemplate = this.compileTemplate(template, options);
      return this.compiledTemplate;
    },
    loadTemplate: function loadTemplate(templateId, options) {
      var $template = Backbone.$(templateId);
      if (!$template.length) {
        throw new MarionetteError({
          name: 'NoTemplateError',
          message: 'Could not find template: "' + templateId + '"'
        });
      }
      return $template.html();
    },
    compileTemplate: function compileTemplate(rawTemplate, options) {
      return _.template(rawTemplate, options);
    }
  });
  var _invoke = _.invokeMap || _.invoke;
  function _toConsumableArray(arr) {
    if (Array.isArray(arr)) {
      for (var i = 0,
          arr2 = Array(arr.length); i < arr.length; i++) {
        arr2[i] = arr[i];
      }
      return arr2;
    } else {
      return Array.from(arr);
    }
  }
  function getBehaviorClass(options, key) {
    if (options.behaviorClass) {
      return options.behaviorClass;
    } else if (_.isFunction(options)) {
      return options;
    }
    if (_.isFunction(Marionette.Behaviors.behaviorsLookup)) {
      return Marionette.Behaviors.behaviorsLookup(options, key)[key];
    }
    return Marionette.Behaviors.behaviorsLookup[key];
  }
  function parseBehaviors(view, behaviors) {
    return _.chain(behaviors).map(function(options, key) {
      var BehaviorClass = getBehaviorClass(options, key);
      var _options = options === BehaviorClass ? {} : options;
      var behavior = new BehaviorClass(_options, view);
      var nestedBehaviors = parseBehaviors(view, _.result(behavior, 'behaviors'));
      return [behavior].concat(nestedBehaviors);
    }).flatten().value();
  }
  var BehaviorsMixin = {
    _initBehaviors: function _initBehaviors() {
      var behaviors = _.result(this, 'behaviors');
      this._behaviors = _.isObject(behaviors) ? parseBehaviors(this, behaviors) : {};
    },
    _getBehaviorTriggers: function _getBehaviorTriggers() {
      var triggers = _invoke(this._behaviors, 'getTriggers');
      return _.extend.apply(_, [{}].concat(_toConsumableArray(triggers)));
    },
    _getBehaviorEvents: function _getBehaviorEvents() {
      var events = _invoke(this._behaviors, 'getEvents');
      return _.extend.apply(_, [{}].concat(_toConsumableArray(events)));
    },
    _proxyBehaviorViewProperties: function _proxyBehaviorViewProperties() {
      _invoke(this._behaviors, 'proxyViewProperties');
    },
    _delegateBehaviorEntityEvents: function _delegateBehaviorEntityEvents() {
      _invoke(this._behaviors, 'delegateEntityEvents');
    },
    _undelegateBehaviorEntityEvents: function _undelegateBehaviorEntityEvents() {
      _invoke(this._behaviors, 'undelegateEntityEvents');
    },
    _destroyBehaviors: function _destroyBehaviors(args) {
      _invoke.apply(undefined, [this._behaviors, 'destroy'].concat(_toConsumableArray(args)));
    },
    _bindBehaviorUIElements: function _bindBehaviorUIElements() {
      _invoke(this._behaviors, 'bindUIElements');
    },
    _unbindBehaviorUIElements: function _unbindBehaviorUIElements() {
      _invoke(this._behaviors, 'unbindUIElements');
    },
    _triggerEventOnBehaviors: function _triggerEventOnBehaviors() {
      var behaviors = this._behaviors;
      for (var i = 0,
          length = behaviors && behaviors.length; i < length; i++) {
        triggerMethod.apply(behaviors[i], arguments);
      }
    }
  };
  var DelegateEntityEventsMixin = {
    _delegateEntityEvents: function _delegateEntityEvents(model, collection) {
      this._undelegateEntityEvents(model, collection);
      var modelEvents = _.result(this, 'modelEvents');
      bindEvents.call(this, model, modelEvents);
      var collectionEvents = _.result(this, 'collectionEvents');
      bindEvents.call(this, collection, collectionEvents);
    },
    _undelegateEntityEvents: function _undelegateEntityEvents(model, collection) {
      var modelEvents = _.result(this, 'modelEvents');
      unbindEvents.call(this, model, modelEvents);
      var collectionEvents = _.result(this, 'collectionEvents');
      unbindEvents.call(this, collection, collectionEvents);
    }
  };
  var delegateEventSplitter = /^(\S+)\s*(.*)$/;
  function uniqueName(eventName, selector) {
    return [eventName + _.uniqueId('.evt'), selector].join(' ');
  }
  var getUniqueEventName = function getUniqueEventName(eventName) {
    var match = eventName.match(delegateEventSplitter);
    return uniqueName(match[1], match[2]);
  };
  function buildViewTrigger(view, triggerDef) {
    if (_.isString(triggerDef)) {
      triggerDef = {event: triggerDef};
    }
    var eventName = triggerDef.event;
    var shouldPreventDefault = triggerDef.preventDefault !== false;
    var shouldStopPropagation = triggerDef.stopPropagation !== false;
    return function(e) {
      if (shouldPreventDefault) {
        e.preventDefault();
      }
      if (shouldStopPropagation) {
        e.stopPropagation();
      }
      view.triggerMethod(eventName, view);
    };
  }
  var TriggersMixin = {_getViewTriggers: function _getViewTriggers(view, triggers) {
      return _.reduce(triggers, function(events, value, key) {
        key = getUniqueEventName(key);
        events[key] = buildViewTrigger(view, value);
        return events;
      }, {});
    }};
  var _normalizeUIKeys = function _normalizeUIKeys(hash, ui) {
    return _.reduce(hash, function(memo, val, key) {
      var normalizedKey = _normalizeUIString(key, ui);
      memo[normalizedKey] = val;
      return memo;
    }, {});
  };
  var _normalizeUIString = function _normalizeUIString(uiString, ui) {
    return uiString.replace(/@ui\.[a-zA-Z-_$0-9]*/g, function(r) {
      return ui[r.slice(4)];
    });
  };
  var _normalizeUIValues = function _normalizeUIValues(hash, ui, properties) {
    _.each(hash, function(val, key) {
      if (_.isString(val)) {
        hash[key] = _normalizeUIString(val, ui);
      } else if (_.isObject(val) && _.isArray(properties)) {
        _.extend(val, _normalizeUIValues(_.pick(val, properties), ui));
        _.each(properties, function(property) {
          var propertyVal = val[property];
          if (_.isString(propertyVal)) {
            val[property] = _normalizeUIString(propertyVal, ui);
          }
        });
      }
    });
    return hash;
  };
  var UIMixin = {
    normalizeUIKeys: function normalizeUIKeys(hash) {
      var uiBindings = this._getUIBindings();
      return _normalizeUIKeys(hash, uiBindings);
    },
    normalizeUIString: function normalizeUIString(uiString) {
      var uiBindings = this._getUIBindings();
      return _normalizeUIString(uiString, uiBindings);
    },
    normalizeUIValues: function normalizeUIValues(hash, properties) {
      var uiBindings = this._getUIBindings();
      return _normalizeUIValues(hash, uiBindings, properties);
    },
    _getUIBindings: function _getUIBindings() {
      var uiBindings = _.result(this, '_uiBindings');
      var ui = _.result(this, 'ui');
      return uiBindings || ui;
    },
    _bindUIElements: function _bindUIElements() {
      var _this = this;
      if (!this.ui) {
        return;
      }
      if (!this._uiBindings) {
        this._uiBindings = this.ui;
      }
      var bindings = _.result(this, '_uiBindings');
      this._ui = {};
      _.each(bindings, function(selector, key) {
        _this._ui[key] = _this.$(selector);
      });
      this.ui = this._ui;
    },
    _unbindUIElements: function _unbindUIElements() {
      var _this2 = this;
      if (!this.ui || !this._uiBindings) {
        return;
      }
      _.each(this.ui, function($el, name) {
        delete _this2.ui[name];
      });
      this.ui = this._uiBindings;
      delete this._uiBindings;
      delete this._ui;
    },
    _getUI: function _getUI(name) {
      return this._ui[name];
    }
  };
  var ViewMixin = {
    supportsRenderLifecycle: true,
    supportsDestroyLifecycle: true,
    _isDestroyed: false,
    isDestroyed: function isDestroyed() {
      return !!this._isDestroyed;
    },
    _isRendered: false,
    isRendered: function isRendered() {
      return !!this._isRendered;
    },
    _isAttached: false,
    isAttached: function isAttached() {
      return !!this._isAttached;
    },
    delegateEvents: function delegateEvents(eventsArg) {
      this._proxyBehaviorViewProperties();
      this._buildEventProxies();
      var viewEvents = this._getEvents(eventsArg);
      if (typeof eventsArg === 'undefined') {
        this.events = viewEvents;
      }
      var combinedEvents = _.extend({}, this._getBehaviorEvents(), viewEvents, this._getBehaviorTriggers(), this.getTriggers());
      Backbone.View.prototype.delegateEvents.call(this, combinedEvents);
      return this;
    },
    _getEvents: function _getEvents(eventsArg) {
      var events = eventsArg || this.events;
      if (_.isFunction(events)) {
        return this.normalizeUIKeys(events.call(this));
      }
      return this.normalizeUIKeys(events);
    },
    getTriggers: function getTriggers() {
      if (!this.triggers) {
        return;
      }
      var triggers = this.normalizeUIKeys(_.result(this, 'triggers'));
      return this._getViewTriggers(this, triggers);
    },
    delegateEntityEvents: function delegateEntityEvents() {
      this._delegateEntityEvents(this.model, this.collection);
      this._delegateBehaviorEntityEvents();
      return this;
    },
    undelegateEntityEvents: function undelegateEntityEvents() {
      this._undelegateEntityEvents(this.model, this.collection);
      this._undelegateBehaviorEntityEvents();
      return this;
    },
    _ensureViewIsIntact: function _ensureViewIsIntact() {
      if (this._isDestroyed) {
        throw new MarionetteError({
          name: 'ViewDestroyedError',
          message: 'View (cid: "' + this.cid + '") has already been destroyed and cannot be used.'
        });
      }
    },
    destroy: function destroy() {
      if (this._isDestroyed) {
        return this;
      }
      var shouldTriggerDetach = !!this._isAttached;
      for (var _len = arguments.length,
          args = Array(_len),
          _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      this.triggerMethod.apply(this, ['before:destroy', this].concat(args));
      if (shouldTriggerDetach) {
        this.triggerMethod('before:detach', this);
      }
      this.unbindUIElements();
      this._removeElement();
      if (shouldTriggerDetach) {
        this._isAttached = false;
        this.triggerMethod('detach', this);
      }
      this._removeChildren();
      this._destroyBehaviors(args);
      this._isDestroyed = true;
      this._isRendered = false;
      this.triggerMethod.apply(this, ['destroy', this].concat(args));
      this.stopListening();
      return this;
    },
    bindUIElements: function bindUIElements() {
      this._bindUIElements();
      this._bindBehaviorUIElements();
      return this;
    },
    unbindUIElements: function unbindUIElements() {
      this._unbindUIElements();
      this._unbindBehaviorUIElements();
      return this;
    },
    getUI: function getUI(name) {
      this._ensureViewIsIntact();
      return this._getUI(name);
    },
    childViewEventPrefix: 'childview',
    triggerMethod: function triggerMethod$$() {
      var ret = triggerMethod.apply(this, arguments);
      this._triggerEventOnBehaviors.apply(this, arguments);
      this._triggerEventOnParentLayout.apply(this, arguments);
      return ret;
    },
    _buildEventProxies: function _buildEventProxies() {
      this._childViewEvents = _.result(this, 'childViewEvents');
      this._childViewTriggers = _.result(this, 'childViewTriggers');
    },
    _triggerEventOnParentLayout: function _triggerEventOnParentLayout() {
      var layoutView = this._parentView();
      if (!layoutView) {
        return;
      }
      layoutView._childViewEventHandler.apply(layoutView, arguments);
    },
    _parentView: function _parentView() {
      var parent = this._parent;
      while (parent) {
        if (parent instanceof View) {
          return parent;
        }
        parent = parent._parent;
      }
    },
    _childViewEventHandler: function _childViewEventHandler(eventName) {
      var childViewEvents = this.normalizeMethods(this._childViewEvents);
      for (var _len2 = arguments.length,
          args = Array(_len2 > 1 ? _len2 - 1 : 0),
          _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }
      if (typeof childViewEvents !== 'undefined' && _.isFunction(childViewEvents[eventName])) {
        childViewEvents[eventName].apply(this, args);
      }
      var childViewTriggers = this._childViewTriggers;
      if (childViewTriggers && _.isString(childViewTriggers[eventName])) {
        this.triggerMethod.apply(this, [childViewTriggers[eventName]].concat(args));
      }
      var prefix = _.result(this, 'childViewEventPrefix');
      if (prefix !== false) {
        var childEventName = prefix + ':' + eventName;
        this.triggerMethod.apply(this, [childEventName].concat(args));
      }
    }
  };
  _.extend(ViewMixin, BehaviorsMixin, CommonMixin, DelegateEntityEventsMixin, TriggersMixin, UIMixin);
  function destroyBackboneView(view) {
    if (!view.supportsDestroyLifecycle) {
      triggerMethodOn(view, 'before:destroy', view);
    }
    var shouldTriggerDetach = !!view._isAttached;
    if (shouldTriggerDetach) {
      triggerMethodOn(view, 'before:detach', view);
    }
    view.remove();
    if (shouldTriggerDetach) {
      view._isAttached = false;
      triggerMethodOn(view, 'detach', view);
    }
    view._isDestroyed = true;
    if (!view.supportsDestroyLifecycle) {
      triggerMethodOn(view, 'destroy', view);
    }
  }
  var ClassOptions$2 = ['allowMissingEl', 'parentEl', 'replaceElement'];
  var Region = MarionetteObject.extend({
    cidPrefix: 'mnr',
    replaceElement: false,
    _isReplaced: false,
    constructor: function constructor(options) {
      this._setOptions(options);
      this.mergeOptions(options, ClassOptions$2);
      this._initEl = this.el = this.getOption('el');
      this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;
      if (!this.el) {
        throw new MarionetteError({
          name: 'NoElError',
          message: 'An "el" must be specified for a region.'
        });
      }
      this.$el = this.getEl(this.el);
      MarionetteObject.call(this, options);
    },
    show: function show(view, options) {
      if (!this._ensureElement(options)) {
        return;
      }
      this._ensureView(view);
      if (view === this.currentView) {
        return this;
      }
      this.triggerMethod('before:show', this, view, options);
      monitorViewEvents(view);
      this.empty(options);
      view.on('destroy', this._empty, this);
      view._parent = this;
      this._renderView(view);
      this._attachView(view, options);
      this.triggerMethod('show', this, view, options);
      return this;
    },
    _renderView: function _renderView(view) {
      if (view._isRendered) {
        return;
      }
      if (!view.supportsRenderLifecycle) {
        triggerMethodOn(view, 'before:render', view);
      }
      view.render();
      if (!view.supportsRenderLifecycle) {
        view._isRendered = true;
        triggerMethodOn(view, 'render', view);
      }
    },
    _attachView: function _attachView(view) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var shouldTriggerAttach = !view._isAttached && isNodeAttached(this.el);
      var shouldReplaceEl = typeof options.replaceElement === 'undefined' ? !!_.result(this, 'replaceElement') : !!options.replaceElement;
      if (shouldTriggerAttach) {
        triggerMethodOn(view, 'before:attach', view);
      }
      if (shouldReplaceEl) {
        this._replaceEl(view);
      } else {
        this.attachHtml(view);
      }
      if (shouldTriggerAttach) {
        view._isAttached = true;
        triggerMethodOn(view, 'attach', view);
      }
      this.currentView = view;
    },
    _ensureElement: function _ensureElement() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (!_.isObject(this.el)) {
        this.$el = this.getEl(this.el);
        this.el = this.$el[0];
      }
      if (!this.$el || this.$el.length === 0) {
        var allowMissingEl = typeof options.allowMissingEl === 'undefined' ? !!_.result(this, 'allowMissingEl') : !!options.allowMissingEl;
        if (allowMissingEl) {
          return false;
        } else {
          throw new MarionetteError('An "el" must exist in DOM for this region ' + this.cid);
        }
      }
      return true;
    },
    _ensureView: function _ensureView(view) {
      if (!view) {
        throw new MarionetteError({
          name: 'ViewNotValid',
          message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'
        });
      }
      if (view._isDestroyed) {
        throw new MarionetteError({
          name: 'ViewDestroyedError',
          message: 'View (cid: "' + view.cid + '") has already been destroyed and cannot be used.'
        });
      }
    },
    getEl: function getEl(el) {
      return Backbone.$(el, _.result(this, 'parentEl'));
    },
    _replaceEl: function _replaceEl(view) {
      this._restoreEl();
      var parent = this.el.parentNode;
      parent.replaceChild(view.el, this.el);
      this._isReplaced = true;
    },
    _restoreEl: function _restoreEl() {
      if (!this._isReplaced) {
        return;
      }
      var view = this.currentView;
      if (!view) {
        return;
      }
      var parent = view.el.parentNode;
      if (!parent) {
        return;
      }
      parent.replaceChild(this.el, view.el);
      this._isReplaced = false;
    },
    isReplaced: function isReplaced() {
      return !!this._isReplaced;
    },
    attachHtml: function attachHtml(view) {
      this.el.appendChild(view.el);
    },
    empty: function empty() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {allowMissingEl: true};
      var view = this.currentView;
      if (!view) {
        if (this._ensureElement(options)) {
          this.detachHtml();
        }
        return this;
      }
      var shouldDestroy = !options.preventDestroy;
      if (!shouldDestroy) {
        deprecate('The preventDestroy option is deprecated. Use Region#detachView');
      }
      this._empty(view, shouldDestroy);
      return this;
    },
    _empty: function _empty(view, shouldDestroy) {
      view.off('destroy', this._empty, this);
      this.triggerMethod('before:empty', this, view);
      this._restoreEl();
      delete this.currentView;
      if (!view._isDestroyed) {
        this._removeView(view, shouldDestroy);
        delete view._parent;
      }
      this.triggerMethod('empty', this, view);
    },
    _removeView: function _removeView(view, shouldDestroy) {
      if (!shouldDestroy) {
        this._detachView(view);
        return;
      }
      if (view.destroy) {
        view.destroy();
      } else {
        destroyBackboneView(view);
      }
    },
    detachView: function detachView() {
      var view = this.currentView;
      if (!view) {
        return;
      }
      this._empty(view);
      return view;
    },
    _detachView: function _detachView(view) {
      var shouldTriggerDetach = !!view._isAttached;
      if (shouldTriggerDetach) {
        triggerMethodOn(view, 'before:detach', view);
      }
      this.detachHtml();
      if (shouldTriggerDetach) {
        view._isAttached = false;
        triggerMethodOn(view, 'detach', view);
      }
    },
    detachHtml: function detachHtml() {
      this.$el.contents().detach();
    },
    hasView: function hasView() {
      return !!this.currentView;
    },
    reset: function reset(options) {
      this.empty(options);
      if (this.$el) {
        this.el = this._initEl;
      }
      delete this.$el;
      return this;
    },
    destroy: function destroy(options) {
      this.reset(options);
      return MarionetteObject.prototype.destroy.apply(this, arguments);
    }
  });
  function buildRegion(definition, defaults) {
    if (definition instanceof Region) {
      return definition;
    }
    return buildRegionFromDefinition(definition, defaults);
  }
  function buildRegionFromDefinition(definition, defaults) {
    var opts = _.extend({}, defaults);
    if (_.isString(definition)) {
      _.extend(opts, {el: definition});
      return buildRegionFromObject(opts);
    }
    if (_.isFunction(definition)) {
      _.extend(opts, {regionClass: definition});
      return buildRegionFromObject(opts);
    }
    if (_.isObject(definition)) {
      if (definition.selector) {
        deprecate('The selector option on a Region definition object is deprecated. Use el to pass a selector string');
      }
      _.extend(opts, {el: definition.selector}, definition);
      return buildRegionFromObject(opts);
    }
    throw new MarionetteError({
      message: 'Improper region configuration type.',
      url: 'marionette.region.html#region-configuration-types'
    });
  }
  function buildRegionFromObject(definition) {
    var RegionClass = definition.regionClass;
    var options = _.omit(definition, 'regionClass');
    return new RegionClass(options);
  }
  var RegionsMixin = {
    regionClass: Region,
    _initRegions: function _initRegions() {
      this.regions = this.regions || {};
      this._regions = {};
      this.addRegions(_.result(this, 'regions'));
    },
    _reInitRegions: function _reInitRegions() {
      _invoke(this._regions, 'reset');
    },
    addRegion: function addRegion(name, definition) {
      var regions = {};
      regions[name] = definition;
      return this.addRegions(regions)[name];
    },
    addRegions: function addRegions(regions) {
      if (_.isEmpty(regions)) {
        return;
      }
      regions = this.normalizeUIValues(regions, ['selector', 'el']);
      this.regions = _.extend({}, this.regions, regions);
      return this._addRegions(regions);
    },
    _addRegions: function _addRegions(regionDefinitions) {
      var _this = this;
      var defaults = {
        regionClass: this.regionClass,
        parentEl: _.partial(_.result, this, 'el')
      };
      return _.reduce(regionDefinitions, function(regions, definition, name) {
        regions[name] = buildRegion(definition, defaults);
        _this._addRegion(regions[name], name);
        return regions;
      }, {});
    },
    _addRegion: function _addRegion(region, name) {
      this.triggerMethod('before:add:region', this, name, region);
      region._parent = this;
      this._regions[name] = region;
      this.triggerMethod('add:region', this, name, region);
    },
    removeRegion: function removeRegion(name) {
      var region = this._regions[name];
      this._removeRegion(region, name);
      return region;
    },
    removeRegions: function removeRegions() {
      var regions = this.getRegions();
      _.each(this._regions, _.bind(this._removeRegion, this));
      return regions;
    },
    _removeRegion: function _removeRegion(region, name) {
      this.triggerMethod('before:remove:region', this, name, region);
      region.destroy();
      delete this.regions[name];
      delete this._regions[name];
      this.triggerMethod('remove:region', this, name, region);
    },
    emptyRegions: function emptyRegions() {
      var regions = this.getRegions();
      _invoke(regions, 'empty');
      return regions;
    },
    hasRegion: function hasRegion(name) {
      return !!this.getRegion(name);
    },
    getRegion: function getRegion(name) {
      return this._regions[name];
    },
    getRegions: function getRegions() {
      return _.clone(this._regions);
    },
    showChildView: function showChildView(name, view) {
      var region = this.getRegion(name);
      for (var _len = arguments.length,
          args = Array(_len > 2 ? _len - 2 : 0),
          _key = 2; _key < _len; _key++) {
        args[_key - 2] = arguments[_key];
      }
      return region.show.apply(region, [view].concat(args));
    },
    detachChildView: function detachChildView(name) {
      return this.getRegion(name).detachView();
    },
    getChildView: function getChildView(name) {
      return this.getRegion(name).currentView;
    }
  };
  var Renderer = {render: function render(template, data) {
      if (!template) {
        throw new MarionetteError({
          name: 'TemplateNotFoundError',
          message: 'Cannot render the template since its false, null or undefined.'
        });
      }
      var templateFunc = _.isFunction(template) ? template : TemplateCache.get(template);
      return templateFunc(data);
    }};
  var ClassOptions$1 = ['behaviors', 'childViewEventPrefix', 'childViewEvents', 'childViewTriggers', 'collectionEvents', 'events', 'modelEvents', 'regionClass', 'regions', 'template', 'templateContext', 'triggers', 'ui'];
  var View = Backbone.View.extend({
    constructor: function constructor(options) {
      this.render = _.bind(this.render, this);
      this._setOptions(options);
      this.mergeOptions(options, ClassOptions$1);
      monitorViewEvents(this);
      this._initBehaviors();
      this._initRegions();
      var args = Array.prototype.slice.call(arguments);
      args[0] = this.options;
      Backbone.View.prototype.constructor.apply(this, args);
      this.delegateEntityEvents();
    },
    serializeData: function serializeData() {
      if (!this.model && !this.collection) {
        return {};
      }
      if (this.model) {
        return this.serializeModel();
      }
      return {items: this.serializeCollection()};
    },
    serializeModel: function serializeModel() {
      if (!this.model) {
        return {};
      }
      return _.clone(this.model.attributes);
    },
    serializeCollection: function serializeCollection() {
      if (!this.collection) {
        return {};
      }
      return this.collection.map(function(model) {
        return _.clone(model.attributes);
      });
    },
    setElement: function setElement() {
      var hasEl = !!this.el;
      Backbone.View.prototype.setElement.apply(this, arguments);
      if (hasEl) {
        this._isRendered = !!this.$el.length;
        this._isAttached = isNodeAttached(this.el);
      }
      if (this._isRendered) {
        this.bindUIElements();
      }
      return this;
    },
    render: function render() {
      this._ensureViewIsIntact();
      this.triggerMethod('before:render', this);
      if (this._isRendered) {
        this._reInitRegions();
      }
      this._renderTemplate();
      this.bindUIElements();
      this._isRendered = true;
      this.triggerMethod('render', this);
      return this;
    },
    _renderTemplate: function _renderTemplate() {
      var template = this.getTemplate();
      if (template === false) {
        return;
      }
      var data = this.mixinTemplateContext(this.serializeData());
      var html = Renderer.render(template, data, this);
      this.attachElContent(html);
    },
    getTemplate: function getTemplate() {
      return this.template;
    },
    mixinTemplateContext: function mixinTemplateContext() {
      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var templateContext = _.result(this, 'templateContext');
      return _.extend(target, templateContext);
    },
    attachElContent: function attachElContent(html) {
      this.$el.html(html);
      return this;
    },
    _removeChildren: function _removeChildren() {
      this.removeRegions();
    },
    _getImmediateChildren: function _getImmediateChildren() {
      return _.chain(this.getRegions()).map('currentView').compact().value();
    }
  });
  _.extend(View.prototype, ViewMixin, RegionsMixin);
  var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter', 'select', 'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke', 'toArray', 'first', 'initial', 'rest', 'last', 'without', 'isEmpty', 'pluck', 'reduce'];
  var emulateCollection = function emulateCollection(object, listProperty) {
    _.each(methods, function(method) {
      object[method] = function() {
        var list = _.values(_.result(this, listProperty));
        var args = [list].concat(_.toArray(arguments));
        return _[method].apply(_, args);
      };
    });
  };
  var Container = function Container(views) {
    this._views = {};
    this._indexByModel = {};
    this._indexByCustom = {};
    this._updateLength();
    _.each(views, _.bind(this.add, this));
  };
  emulateCollection(Container.prototype, '_views');
  _.extend(Container.prototype, {
    add: function add(view, customIndex) {
      return this._add(view, customIndex)._updateLength();
    },
    _add: function _add(view, customIndex) {
      var viewCid = view.cid;
      this._views[viewCid] = view;
      if (view.model) {
        this._indexByModel[view.model.cid] = viewCid;
      }
      if (customIndex) {
        this._indexByCustom[customIndex] = viewCid;
      }
      return this;
    },
    findByModel: function findByModel(model) {
      return this.findByModelCid(model.cid);
    },
    findByModelCid: function findByModelCid(modelCid) {
      var viewCid = this._indexByModel[modelCid];
      return this.findByCid(viewCid);
    },
    findByCustom: function findByCustom(index) {
      var viewCid = this._indexByCustom[index];
      return this.findByCid(viewCid);
    },
    findByIndex: function findByIndex(index) {
      return _.values(this._views)[index];
    },
    findByCid: function findByCid(cid) {
      return this._views[cid];
    },
    remove: function remove(view) {
      return this._remove(view)._updateLength();
    },
    _remove: function _remove(view) {
      var viewCid = view.cid;
      if (view.model) {
        delete this._indexByModel[view.model.cid];
      }
      _.some(this._indexByCustom, _.bind(function(cid, key) {
        if (cid === viewCid) {
          delete this._indexByCustom[key];
          return true;
        }
      }, this));
      delete this._views[viewCid];
      return this;
    },
    _updateLength: function _updateLength() {
      this.length = _.size(this._views);
      return this;
    }
  });
  var ClassOptions$3 = ['behaviors', 'childView', 'childViewEventPrefix', 'childViewEvents', 'childViewOptions', 'childViewTriggers', 'collectionEvents', 'events', 'filter', 'emptyView', 'emptyViewOptions', 'modelEvents', 'reorderOnSort', 'sort', 'triggers', 'ui', 'viewComparator'];
  var CollectionView = Backbone.View.extend({
    sort: true,
    constructor: function constructor(options) {
      this.render = _.bind(this.render, this);
      this._setOptions(options);
      this.mergeOptions(options, ClassOptions$3);
      monitorViewEvents(this);
      this._initBehaviors();
      this.once('render', this._initialEvents);
      this._initChildViewStorage();
      this._bufferedChildren = [];
      var args = Array.prototype.slice.call(arguments);
      args[0] = this.options;
      Backbone.View.prototype.constructor.apply(this, args);
      this.delegateEntityEvents();
    },
    _startBuffering: function _startBuffering() {
      this._isBuffering = true;
    },
    _endBuffering: function _endBuffering() {
      var shouldTriggerAttach = !!this._isAttached;
      var triggerOnChildren = shouldTriggerAttach ? this._getImmediateChildren() : [];
      this._isBuffering = false;
      _.each(triggerOnChildren, function(child) {
        triggerMethodOn(child, 'before:attach', child);
      });
      this.attachBuffer(this, this._createBuffer());
      _.each(triggerOnChildren, function(child) {
        child._isAttached = true;
        triggerMethodOn(child, 'attach', child);
      });
      this._bufferedChildren = [];
    },
    _getImmediateChildren: function _getImmediateChildren() {
      return _.values(this.children._views);
    },
    _initialEvents: function _initialEvents() {
      if (this.collection) {
        this.listenTo(this.collection, 'add', this._onCollectionAdd);
        this.listenTo(this.collection, 'update', this._onCollectionUpdate);
        this.listenTo(this.collection, 'reset', this.render);
        if (this.sort) {
          this.listenTo(this.collection, 'sort', this._sortViews);
        }
      }
    },
    _onCollectionAdd: function _onCollectionAdd(child, collection, opts) {
      var index = opts.at !== undefined && (opts.index || collection.indexOf(child));
      if (this.filter || index === false) {
        index = _.indexOf(this._filteredSortedModels(index), child);
      }
      if (this._shouldAddChild(child, index)) {
        this._destroyEmptyView();
        this._addChild(child, index);
      }
    },
    _onCollectionUpdate: function _onCollectionUpdate(collection, options) {
      var changes = options.changes;
      this._removeChildModels(changes.removed);
    },
    _removeChildModels: function _removeChildModels(models) {
      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var checkEmpty = _ref.checkEmpty;
      var shouldCheckEmpty = checkEmpty !== false;
      var removedViews = this._getRemovedViews(models);
      if (!removedViews.length) {
        return;
      }
      this.children._updateLength();
      this._updateIndices(removedViews, false);
      if (shouldCheckEmpty) {
        this._checkEmpty();
      }
    },
    _getRemovedViews: function _getRemovedViews(models) {
      var _this = this;
      return _.reduce(models, function(removingViews, model) {
        var view = _this.children.findByModel(model);
        if (!view || view._isDestroyed) {
          return removingViews;
        }
        _this._removeChildView(view);
        removingViews.push(view);
        return removingViews;
      }, []);
    },
    _findGreatestIndexedView: function _findGreatestIndexedView(views) {
      return _.reduce(views, function(greatestIndexedView, view) {
        if (!greatestIndexedView || greatestIndexedView._index < view._index) {
          return view;
        }
        return greatestIndexedView;
      }, undefined);
    },
    _removeChildView: function _removeChildView(view) {
      this.triggerMethod('before:remove:child', this, view);
      this.children._remove(view);
      if (view.destroy) {
        view.destroy();
      } else {
        destroyBackboneView(view);
      }
      delete view._parent;
      this.stopListening(view);
      this.triggerMethod('remove:child', this, view);
    },
    setElement: function setElement() {
      var hasEl = !!this.el;
      Backbone.View.prototype.setElement.apply(this, arguments);
      if (hasEl) {
        this._isAttached = isNodeAttached(this.el);
      }
      return this;
    },
    render: function render() {
      this._ensureViewIsIntact();
      this.triggerMethod('before:render', this);
      this._renderChildren();
      this._isRendered = true;
      this.triggerMethod('render', this);
      return this;
    },
    setFilter: function setFilter(filter) {
      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var preventRender = _ref2.preventRender;
      var canBeRendered = this._isRendered && !this._isDestroyed;
      var filterChanged = this.filter !== filter;
      var shouldRender = canBeRendered && filterChanged && !preventRender;
      if (shouldRender) {
        var previousModels = this._filteredSortedModels();
        this.filter = filter;
        var models = this._filteredSortedModels();
        this._applyModelDeltas(models, previousModels);
      } else {
        this.filter = filter;
      }
      return this;
    },
    removeFilter: function removeFilter(options) {
      return this.setFilter(null, options);
    },
    _applyModelDeltas: function _applyModelDeltas(models, previousModels) {
      var _this2 = this;
      var currentIds = {};
      _.each(models, function(model, index) {
        var addedChildNotExists = !_this2.children.findByModel(model);
        if (addedChildNotExists) {
          _this2._onCollectionAdd(model, _this2.collection, {at: index});
        }
        currentIds[model.cid] = true;
      });
      var removeModels = _.filter(previousModels, function(prevModel) {
        return !currentIds[prevModel.cid] && _this2.children.findByModel(prevModel);
      });
      this._removeChildModels(removeModels);
    },
    reorder: function reorder() {
      var _this3 = this;
      var children = this.children;
      var models = this._filteredSortedModels();
      if (!models.length && this._showingEmptyView) {
        return this;
      }
      var anyModelsAdded = _.some(models, function(model) {
        return !children.findByModel(model);
      });
      if (anyModelsAdded) {
        this.render();
      } else {
        (function() {
          var filteredOutModels = [];
          var elsToReorder = children.reduce(function(viewEls, view) {
            var index = _.indexOf(models, view.model);
            if (index === -1) {
              filteredOutModels.push(view.model);
              return viewEls;
            }
            view._index = index;
            viewEls[index] = view.el;
            return viewEls;
          }, new Array(models.length));
          _this3.triggerMethod('before:reorder', _this3);
          _this3._appendReorderedChildren(elsToReorder);
          _this3._removeChildModels(filteredOutModels);
          _this3.triggerMethod('reorder', _this3);
        })();
      }
      return this;
    },
    resortView: function resortView() {
      if (this.reorderOnSort) {
        this.reorder();
      } else {
        this._renderChildren();
      }
      return this;
    },
    _sortViews: function _sortViews() {
      var _this4 = this;
      var models = this._filteredSortedModels();
      var orderChanged = _.find(models, function(item, index) {
        var view = _this4.children.findByModel(item);
        return !view || view._index !== index;
      });
      if (orderChanged) {
        this.resortView();
      }
    },
    _emptyViewIndex: -1,
    _appendReorderedChildren: function _appendReorderedChildren(children) {
      this.$el.append(children);
    },
    _renderChildren: function _renderChildren() {
      if (this._isRendered) {
        this._destroyEmptyView();
        this._destroyChildren({checkEmpty: false});
      }
      var models = this._filteredSortedModels();
      if (this.isEmpty({processedModels: models})) {
        this._showEmptyView();
      } else {
        this.triggerMethod('before:render:children', this);
        this._startBuffering();
        this._showCollection(models);
        this._endBuffering();
        this.triggerMethod('render:children', this);
      }
    },
    _createView: function _createView(model, index) {
      var ChildView = this._getChildView(model);
      var childViewOptions = this._getChildViewOptions(model, index);
      var view = this.buildChildView(model, ChildView, childViewOptions);
      return view;
    },
    _setupChildView: function _setupChildView(view, index) {
      view._parent = this;
      monitorViewEvents(view);
      this._proxyChildEvents(view);
      if (this.sort) {
        view._index = index;
      }
    },
    _showCollection: function _showCollection(models) {
      _.each(models, _.bind(this._addChild, this));
      this.children._updateLength();
    },
    _filteredSortedModels: function _filteredSortedModels(addedAt) {
      if (!this.collection || !this.collection.length) {
        return [];
      }
      var viewComparator = this.getViewComparator();
      var models = this.collection.models;
      addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);
      if (viewComparator) {
        var addedModel = void 0;
        if (addedAt) {
          addedModel = models[addedAt];
          models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));
        }
        models = this._sortModelsBy(models, viewComparator);
        if (addedModel) {
          models.splice(addedAt, 0, addedModel);
        }
      }
      models = this._filterModels(models);
      return models;
    },
    getViewComparator: function getViewComparator() {
      return this.viewComparator;
    },
    _filterModels: function _filterModels(models) {
      var _this5 = this;
      if (this.filter) {
        models = _.filter(models, function(model, index) {
          return _this5._shouldAddChild(model, index);
        });
      }
      return models;
    },
    _sortModelsBy: function _sortModelsBy(models, comparator) {
      if (typeof comparator === 'string') {
        return _.sortBy(models, function(model) {
          return model.get(comparator);
        });
      } else if (comparator.length === 1) {
        return _.sortBy(models, _.bind(comparator, this));
      } else {
        return models.sort(_.bind(comparator, this));
      }
    },
    _showEmptyView: function _showEmptyView() {
      var EmptyView = this._getEmptyView();
      if (EmptyView && !this._showingEmptyView) {
        this._showingEmptyView = true;
        var model = new Backbone.Model();
        var emptyViewOptions = this.emptyViewOptions || this.childViewOptions;
        if (_.isFunction(emptyViewOptions)) {
          emptyViewOptions = emptyViewOptions.call(this, model, this._emptyViewIndex);
        }
        var view = this.buildChildView(model, EmptyView, emptyViewOptions);
        this.triggerMethod('before:render:empty', this, view);
        this.addChildView(view, 0);
        this.triggerMethod('render:empty', this, view);
      }
    },
    _destroyEmptyView: function _destroyEmptyView() {
      if (this._showingEmptyView) {
        this.triggerMethod('before:remove:empty', this);
        this._destroyChildren();
        delete this._showingEmptyView;
        this.triggerMethod('remove:empty', this);
      }
    },
    _getEmptyView: function _getEmptyView() {
      var emptyView = this.emptyView;
      if (!emptyView) {
        return;
      }
      return this._getView(emptyView);
    },
    _getChildView: function _getChildView(child) {
      var childView = this.childView;
      if (!childView) {
        throw new MarionetteError({
          name: 'NoChildViewError',
          message: 'A "childView" must be specified'
        });
      }
      childView = this._getView(childView, child);
      if (!childView) {
        throw new MarionetteError({
          name: 'InvalidChildViewError',
          message: '"childView" must be a view class or a function that returns a view class'
        });
      }
      return childView;
    },
    _getView: function _getView(view, child) {
      if (view.prototype instanceof Backbone.View || view === Backbone.View) {
        return view;
      } else if (_.isFunction(view)) {
        return view.call(this, child);
      }
    },
    _addChild: function _addChild(child, index) {
      var view = this._createView(child, index);
      this.addChildView(view, index);
      return view;
    },
    _getChildViewOptions: function _getChildViewOptions(child, index) {
      if (_.isFunction(this.childViewOptions)) {
        return this.childViewOptions(child, index);
      }
      return this.childViewOptions;
    },
    addChildView: function addChildView(view, index) {
      this.triggerMethod('before:add:child', this, view);
      this._setupChildView(view, index);
      if (this._isBuffering) {
        this.children._add(view);
      } else {
        this._updateIndices(view, true);
        this.children.add(view);
      }
      this._renderView(view);
      this._attachView(view, index);
      this.triggerMethod('add:child', this, view);
      return view;
    },
    _updateIndices: function _updateIndices(views, increment) {
      if (!this.sort) {
        return;
      }
      var view = _.isArray(views) ? this._findGreatestIndexedView(views) : views;
      this.children.each(function(laterView) {
        if (laterView._index >= view._index) {
          laterView._index += increment ? 1 : -1;
        }
      });
    },
    _renderView: function _renderView(view) {
      if (view._isRendered) {
        return;
      }
      if (!view.supportsRenderLifecycle) {
        triggerMethodOn(view, 'before:render', view);
      }
      view.render();
      if (!view.supportsRenderLifecycle) {
        view._isRendered = true;
        triggerMethodOn(view, 'render', view);
      }
    },
    _attachView: function _attachView(view, index) {
      var shouldTriggerAttach = !view._isAttached && !this._isBuffering && this._isAttached;
      if (shouldTriggerAttach) {
        triggerMethodOn(view, 'before:attach', view);
      }
      this.attachHtml(this, view, index);
      if (shouldTriggerAttach) {
        view._isAttached = true;
        triggerMethodOn(view, 'attach', view);
      }
    },
    buildChildView: function buildChildView(child, ChildViewClass, childViewOptions) {
      var options = _.extend({model: child}, childViewOptions);
      return new ChildViewClass(options);
    },
    removeChildView: function removeChildView(view) {
      if (!view || view._isDestroyed) {
        return view;
      }
      this._removeChildView(view);
      this.children._updateLength();
      this._updateIndices(view, false);
      return view;
    },
    isEmpty: function isEmpty(options) {
      var models = void 0;
      if (_.result(options, 'processedModels')) {
        models = options.processedModels;
      } else {
        models = this.collection ? this.collection.models : [];
        models = this._filterModels(models);
      }
      return models.length === 0;
    },
    _checkEmpty: function _checkEmpty() {
      if (this.isEmpty()) {
        this._showEmptyView();
      }
    },
    attachBuffer: function attachBuffer(collectionView, buffer) {
      collectionView.$el.append(buffer);
    },
    _createBuffer: function _createBuffer() {
      var elBuffer = document.createDocumentFragment();
      _.each(this._bufferedChildren, function(b) {
        elBuffer.appendChild(b.el);
      });
      return elBuffer;
    },
    attachHtml: function attachHtml(collectionView, childView, index) {
      if (collectionView._isBuffering) {
        collectionView._bufferedChildren.splice(index, 0, childView);
      } else {
        if (!collectionView._insertBefore(childView, index)) {
          collectionView._insertAfter(childView);
        }
      }
    },
    _insertBefore: function _insertBefore(childView, index) {
      var currentView = void 0;
      var findPosition = this.sort && index < this.children.length - 1;
      if (findPosition) {
        currentView = this.children.find(function(view) {
          return view._index === index + 1;
        });
      }
      if (currentView) {
        currentView.$el.before(childView.el);
        return true;
      }
      return false;
    },
    _insertAfter: function _insertAfter(childView) {
      this.$el.append(childView.el);
    },
    _initChildViewStorage: function _initChildViewStorage() {
      this.children = new Container();
    },
    _removeChildren: function _removeChildren() {
      this._destroyChildren({checkEmpty: false});
    },
    _destroyChildren: function _destroyChildren(options) {
      if (!this.children.length) {
        return;
      }
      this.triggerMethod('before:destroy:children', this);
      var childModels = this.children.map('model');
      this._removeChildModels(childModels, options);
      this.triggerMethod('destroy:children', this);
    },
    _shouldAddChild: function _shouldAddChild(child, index) {
      var filter = this.filter;
      return !_.isFunction(filter) || filter.call(this, child, index, this.collection);
    },
    _proxyChildEvents: function _proxyChildEvents(view) {
      this.listenTo(view, 'all', this._childViewEventHandler);
    }
  });
  _.extend(CollectionView.prototype, ViewMixin);
  var ClassOptions$4 = ['childViewContainer', 'template', 'templateContext'];
  var CompositeView = CollectionView.extend({
    constructor: function constructor(options) {
      deprecate('CompositeView is deprecated. Convert to View at your earliest convenience');
      this.mergeOptions(options, ClassOptions$4);
      CollectionView.prototype.constructor.apply(this, arguments);
    },
    _initialEvents: function _initialEvents() {
      if (this.collection) {
        this.listenTo(this.collection, 'add', this._onCollectionAdd);
        this.listenTo(this.collection, 'update', this._onCollectionUpdate);
        this.listenTo(this.collection, 'reset', this.renderChildren);
        if (this.sort) {
          this.listenTo(this.collection, 'sort', this._sortViews);
        }
      }
    },
    _getChildView: function _getChildView(child) {
      var childView = this.childView;
      if (!childView) {
        return this.constructor;
      }
      childView = this._getView(childView, child);
      if (!childView) {
        throw new MarionetteError({
          name: 'InvalidChildViewError',
          message: '"childView" must be a view class or a function that returns a view class'
        });
      }
      return childView;
    },
    serializeData: function serializeData() {
      return this.serializeModel();
    },
    render: function render() {
      this._ensureViewIsIntact();
      this._isRendering = true;
      this.resetChildViewContainer();
      this.triggerMethod('before:render', this);
      this._renderTemplate();
      this.bindUIElements();
      this.renderChildren();
      this._isRendering = false;
      this._isRendered = true;
      this.triggerMethod('render', this);
      return this;
    },
    renderChildren: function renderChildren() {
      if (this._isRendered || this._isRendering) {
        CollectionView.prototype._renderChildren.call(this);
      }
    },
    attachBuffer: function attachBuffer(compositeView, buffer) {
      var $container = this.getChildViewContainer(compositeView);
      $container.append(buffer);
    },
    _insertAfter: function _insertAfter(childView) {
      var $container = this.getChildViewContainer(this, childView);
      $container.append(childView.el);
    },
    _appendReorderedChildren: function _appendReorderedChildren(children) {
      var $container = this.getChildViewContainer(this);
      $container.append(children);
    },
    getChildViewContainer: function getChildViewContainer(containerView, childView) {
      if (!!containerView.$childViewContainer) {
        return containerView.$childViewContainer;
      }
      var container = void 0;
      var childViewContainer = containerView.childViewContainer;
      if (childViewContainer) {
        var selector = _.result(containerView, 'childViewContainer');
        if (selector.charAt(0) === '@' && containerView.ui) {
          container = containerView.ui[selector.substr(4)];
        } else {
          container = containerView.$(selector);
        }
        if (container.length <= 0) {
          throw new MarionetteError({
            name: 'ChildViewContainerMissingError',
            message: 'The specified "childViewContainer" was not found: ' + containerView.childViewContainer
          });
        }
      } else {
        container = containerView.$el;
      }
      containerView.$childViewContainer = container;
      return container;
    },
    resetChildViewContainer: function resetChildViewContainer() {
      if (this.$childViewContainer) {
        this.$childViewContainer = undefined;
      }
    }
  });
  var MixinFromView = _.pick(View.prototype, 'serializeModel', 'getTemplate', '_renderTemplate', 'mixinTemplateContext', 'attachElContent');
  _.extend(CompositeView.prototype, MixinFromView);
  var ClassOptions$5 = ['collectionEvents', 'events', 'modelEvents', 'triggers', 'ui'];
  var Behavior = MarionetteObject.extend({
    cidPrefix: 'mnb',
    constructor: function constructor(options, view) {
      this.view = view;
      this.defaults = _.clone(_.result(this, 'defaults', {}));
      this._setOptions(this.defaults, options);
      this.mergeOptions(this.options, ClassOptions$5);
      this.ui = _.extend({}, _.result(this, 'ui'), _.result(view, 'ui'));
      MarionetteObject.apply(this, arguments);
    },
    $: function $() {
      return this.view.$.apply(this.view, arguments);
    },
    destroy: function destroy() {
      this.stopListening();
      return this;
    },
    proxyViewProperties: function proxyViewProperties() {
      this.$el = this.view.$el;
      this.el = this.view.el;
      return this;
    },
    bindUIElements: function bindUIElements() {
      this._bindUIElements();
      return this;
    },
    unbindUIElements: function unbindUIElements() {
      this._unbindUIElements();
      return this;
    },
    getUI: function getUI(name) {
      this.view._ensureViewIsIntact();
      return this._getUI(name);
    },
    delegateEntityEvents: function delegateEntityEvents() {
      this._delegateEntityEvents(this.view.model, this.view.collection);
      return this;
    },
    undelegateEntityEvents: function undelegateEntityEvents() {
      this._undelegateEntityEvents(this.view.model, this.view.collection);
      return this;
    },
    getEvents: function getEvents() {
      var _this = this;
      var behaviorEvents = this.normalizeUIKeys(_.result(this, 'events'));
      return _.reduce(behaviorEvents, function(events, behaviorHandler, key) {
        if (!_.isFunction(behaviorHandler)) {
          behaviorHandler = _this[behaviorHandler];
        }
        if (!behaviorHandler) {
          return;
        }
        key = getUniqueEventName(key);
        events[key] = _.bind(behaviorHandler, _this);
        return events;
      }, {});
    },
    getTriggers: function getTriggers() {
      if (!this.triggers) {
        return;
      }
      var behaviorTriggers = this.normalizeUIKeys(_.result(this, 'triggers'));
      return this._getViewTriggers(this.view, behaviorTriggers);
    }
  });
  _.extend(Behavior.prototype, DelegateEntityEventsMixin, TriggersMixin, UIMixin);
  var ClassOptions$6 = ['region', 'regionClass'];
  var Application = MarionetteObject.extend({
    cidPrefix: 'mna',
    constructor: function constructor(options) {
      this._setOptions(options);
      this.mergeOptions(options, ClassOptions$6);
      this._initRegion();
      MarionetteObject.prototype.constructor.apply(this, arguments);
    },
    regionClass: Region,
    _initRegion: function _initRegion() {
      var region = this.region;
      if (!region) {
        return;
      }
      var defaults = {regionClass: this.regionClass};
      this._region = buildRegion(region, defaults);
    },
    getRegion: function getRegion() {
      return this._region;
    },
    showView: function showView(view) {
      var region = this.getRegion();
      for (var _len = arguments.length,
          args = Array(_len > 1 ? _len - 1 : 0),
          _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }
      return region.show.apply(region, [view].concat(args));
    },
    getView: function getView() {
      return this.getRegion().currentView;
    },
    start: function start(options) {
      this.triggerMethod('before:start', this, options);
      this.triggerMethod('start', this, options);
      return this;
    }
  });
  var ClassOptions$7 = ['appRoutes', 'controller'];
  var AppRouter = Backbone.Router.extend({
    constructor: function constructor(options) {
      this._setOptions(options);
      this.mergeOptions(options, ClassOptions$7);
      Backbone.Router.apply(this, arguments);
      var appRoutes = this.appRoutes;
      var controller = this._getController();
      this.processAppRoutes(controller, appRoutes);
      this.on('route', this._processOnRoute, this);
    },
    appRoute: function appRoute(route, methodName) {
      var controller = this._getController();
      this._addAppRoute(controller, route, methodName);
      return this;
    },
    _processOnRoute: function _processOnRoute(routeName, routeArgs) {
      if (_.isFunction(this.onRoute)) {
        var routePath = _.invert(this.appRoutes)[routeName];
        this.onRoute(routeName, routePath, routeArgs);
      }
    },
    processAppRoutes: function processAppRoutes(controller, appRoutes) {
      var _this = this;
      if (!appRoutes) {
        return this;
      }
      var routeNames = _.keys(appRoutes).reverse();
      _.each(routeNames, function(route) {
        _this._addAppRoute(controller, route, appRoutes[route]);
      });
      return this;
    },
    _getController: function _getController() {
      return this.controller;
    },
    _addAppRoute: function _addAppRoute(controller, route, methodName) {
      var method = controller[methodName];
      if (!method) {
        throw new MarionetteError('Method "' + methodName + '" was not found on the controller');
      }
      this.route(route, methodName, _.bind(method, controller));
    },
    triggerMethod: triggerMethod
  });
  _.extend(AppRouter.prototype, CommonMixin);
  function behaviorsLookup() {
    throw new MarionetteError({
      message: 'You must define where your behaviors are stored.',
      url: 'marionette.behaviors.md#behaviorslookup'
    });
  }
  var FEATURES = {};
  function isEnabled(name) {
    return !!FEATURES[name];
  }
  function setEnabled(name, state) {
    return FEATURES[name] = state;
  }
  var previousMarionette = Backbone.Marionette;
  var Marionette = Backbone.Marionette = {};
  Marionette.noConflict = function() {
    Backbone.Marionette = previousMarionette;
    return this;
  };
  Marionette.bindEvents = proxy(bindEvents);
  Marionette.unbindEvents = proxy(unbindEvents);
  Marionette.bindRequests = proxy(bindRequests);
  Marionette.unbindRequests = proxy(unbindRequests);
  Marionette.mergeOptions = proxy(mergeOptions);
  Marionette.getOption = proxy(getOption);
  Marionette.normalizeMethods = proxy(normalizeMethods);
  Marionette.extend = extend;
  Marionette.isNodeAttached = isNodeAttached;
  Marionette.deprecate = deprecate;
  Marionette.triggerMethod = proxy(triggerMethod);
  Marionette.triggerMethodOn = triggerMethodOn;
  Marionette.isEnabled = isEnabled;
  Marionette.setEnabled = setEnabled;
  Marionette.monitorViewEvents = monitorViewEvents;
  Marionette.Behaviors = {};
  Marionette.Behaviors.behaviorsLookup = behaviorsLookup;
  Marionette.Application = Application;
  Marionette.AppRouter = AppRouter;
  Marionette.Renderer = Renderer;
  Marionette.TemplateCache = TemplateCache;
  Marionette.View = View;
  Marionette.CollectionView = CollectionView;
  Marionette.CompositeView = CompositeView;
  Marionette.Behavior = Behavior;
  Marionette.Region = Region;
  Marionette.Error = MarionetteError;
  Marionette.Object = MarionetteObject;
  Marionette.DEV_MODE = false;
  Marionette.FEATURES = FEATURES;
  Marionette.VERSION = version;
  return Marionette;
}));

})();
'use strict';

System.register('lib/common/behaviors/remoteSearchSelect2.js', ['underscore', 'jquery', 'backbone', 'marionette'], function (_export, _context) {
  "use strict";

  var _, jquery, Backbone, Marionette;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_jquery) {
      jquery = _jquery.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_marionette) {
      Marionette = _marionette.default;
    }],
    execute: function () {
      _export('default', Marionette.Behavior.extend({
        ui: {
          'select': 'select'
        },
        onAttach: function onAttach() {
          this.findSelects();
        },
        onDomRefresh: function onDomRefresh() {
          this.findSelects();
        },
        findSelects: function findSelects() {
          var _this = this;

          _.each(this.ui.select, function (elem) {
            var $elem = jquery(elem);
            if (_this.options[$elem.attr('name')]) {
              _this.listenTo(_this.view.model, 'change:' + $elem.attr('name'), _this.setSelect2Value.bind(_this, $elem));
              if (_this.view.model.get($elem.attr('name'))) {
                _this.setSelect2Value($elem, _this.view.model, _this.view.model.get($elem.attr('name')));
              }
              _this.setupSelect2($elem, _this.options[$elem.attr('name')]);
            }
          });
        },
        setupSelect2: function setupSelect2(ui, options) {
          var allowClear = options.allowClear ? options.allowClear : false;
          var placeholder = options.placeholder ? options.placeholder : '';
          ui.select2({
            allowClear: allowClear,
            placeholder: placeholder,
            selectOnClose: true,
            minimumInputLength: 3,
            dropdownAutoWidth: true,
            width: '200px',
            ajax: {
              url: options.url,
              dataType: 'json',
              delay: 250,
              data: function data(params) {
                var terms = params.term.split(' ');
                var pageNum = params.page ? params.page + 1 : 1;
                return {
                  terms: terms.join(','),
                  search: options.search,
                  page: pageNum,
                  per_page: 20
                };
              },
              processResults: function processResults(data) {
                var textProperty = options.textProperty ? options.textProperty : 'name';
                var results = _.map(data.list, function (obj) {
                  return { id: obj.id, text: obj[textProperty] };
                });
                return {
                  results: results
                };
              }
            }
          });
        },
        setSelect2Value: function setSelect2Value(ui, model, newValue) {
          ui.empty();
          if (newValue) {
            var value = newValue;
            var label = newValue;
            if (value instanceof Backbone.Model) {
              var options = this.options[ui.attr('name')];
              var textProperty = options.textProperty ? options.textProperty : 'name';
              label = value.get(textProperty);
              value = value.id;
            }
            var option = jquery('<option value="' + value + '">' + label + '</option>');
            ui.append(option);
            ui.change();
          }
        }
      }));
    }
  };
});
"use strict";

System.register('lib/common/behaviors/behaviors.js', ['marionette', './destroyWarn.js', './outlineAlertOnChange.js', './stickit.js', './searchable.js', './showNotSynced.js', './setNotSynced.js', './saveCancelDelete.js', './remoteSearchSelect2.js'], function (_export, _context) {
  "use strict";

  var Marionette, DestroyWarn, OutlineAlertOnChange, Stickit, Searchable, ShowNotSynced, SetNotSynced, SaveCancelDelete, RemoteSearchSelect2;
  return {
    setters: [function (_marionette) {
      Marionette = _marionette.default;
    }, function (_destroyWarnJs) {
      DestroyWarn = _destroyWarnJs.default;
    }, function (_outlineAlertOnChangeJs) {
      OutlineAlertOnChange = _outlineAlertOnChangeJs.default;
    }, function (_stickitJs) {
      Stickit = _stickitJs.default;
    }, function (_searchableJs) {
      Searchable = _searchableJs.default;
    }, function (_showNotSyncedJs) {
      ShowNotSynced = _showNotSyncedJs.default;
    }, function (_setNotSyncedJs) {
      SetNotSynced = _setNotSyncedJs.default;
    }, function (_saveCancelDeleteJs) {
      SaveCancelDelete = _saveCancelDeleteJs.default;
    }, function (_remoteSearchSelect2Js) {
      RemoteSearchSelect2 = _remoteSearchSelect2Js.default;
    }],
    execute: function () {
      _export('default', {
        'DestroyWarn': DestroyWarn,
        'OutlineAlertOnChange': OutlineAlertOnChange,
        'Stickit': Stickit,
        'Searchable': Searchable,
        'ShowNotSynced': ShowNotSynced,
        'SetNotSynced': SetNotSynced,
        'SaveCancelDelete': SaveCancelDelete,
        'RemoteSearchSelect2': RemoteSearchSelect2
      });
    }
  };
});
System.registerDynamic("github:components/handlebars.js@4.0.5.json", [], false, function() {
  return {
    "main": "handlebars",
    "meta": {
      "handlebars.js": {
        "exports": "Handlebars",
        "format": "global"
      }
    }
  };
});

(function() {
var define = System.amdDefine;
(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if (typeof define === 'function' && define.amd)
    define("github:components/handlebars.js@4.0.5/handlebars.runtime.js", [], factory);
  else if (typeof exports === 'object')
    exports["Handlebars"] = factory();
  else
    root["Handlebars"] = factory();
})(this, function() {
  return (function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
      if (installedModules[moduleId])
        return installedModules[moduleId].exports;
      var module = installedModules[moduleId] = {
        exports: {},
        id: moduleId,
        loaded: false
      };
      modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
      module.loaded = true;
      return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.p = "";
    return __webpack_require__(0);
  })([function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireWildcard = __webpack_require__(1)['default'];
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    var _handlebarsBase = __webpack_require__(3);
    var base = _interopRequireWildcard(_handlebarsBase);
    var _handlebarsSafeString = __webpack_require__(17);
    var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);
    var _handlebarsException = __webpack_require__(5);
    var _handlebarsException2 = _interopRequireDefault(_handlebarsException);
    var _handlebarsUtils = __webpack_require__(4);
    var Utils = _interopRequireWildcard(_handlebarsUtils);
    var _handlebarsRuntime = __webpack_require__(18);
    var runtime = _interopRequireWildcard(_handlebarsRuntime);
    var _handlebarsNoConflict = __webpack_require__(19);
    var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);
    function create() {
      var hb = new base.HandlebarsEnvironment();
      Utils.extend(hb, base);
      hb.SafeString = _handlebarsSafeString2['default'];
      hb.Exception = _handlebarsException2['default'];
      hb.Utils = Utils;
      hb.escapeExpression = Utils.escapeExpression;
      hb.VM = runtime;
      hb.template = function(spec) {
        return runtime.template(spec, hb);
      };
      return hb;
    }
    var inst = create();
    inst.create = create;
    _handlebarsNoConflict2['default'](inst);
    inst['default'] = inst;
    exports['default'] = inst;
    module.exports = exports['default'];
  }, function(module, exports) {
    "use strict";
    exports["default"] = function(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key))
              newObj[key] = obj[key];
          }
        }
        newObj["default"] = obj;
        return newObj;
      }
    };
    exports.__esModule = true;
  }, function(module, exports) {
    "use strict";
    exports["default"] = function(obj) {
      return obj && obj.__esModule ? obj : {"default": obj};
    };
    exports.__esModule = true;
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    exports.HandlebarsEnvironment = HandlebarsEnvironment;
    var _utils = __webpack_require__(4);
    var _exception = __webpack_require__(5);
    var _exception2 = _interopRequireDefault(_exception);
    var _helpers = __webpack_require__(6);
    var _decorators = __webpack_require__(14);
    var _logger = __webpack_require__(16);
    var _logger2 = _interopRequireDefault(_logger);
    var VERSION = '4.0.5';
    exports.VERSION = VERSION;
    var COMPILER_REVISION = 7;
    exports.COMPILER_REVISION = COMPILER_REVISION;
    var REVISION_CHANGES = {
      1: '<= 1.0.rc.2',
      2: '== 1.0.0-rc.3',
      3: '== 1.0.0-rc.4',
      4: '== 1.x.x',
      5: '== 2.0.0-alpha.x',
      6: '>= 2.0.0-beta.1',
      7: '>= 4.0.0'
    };
    exports.REVISION_CHANGES = REVISION_CHANGES;
    var objectType = '[object Object]';
    function HandlebarsEnvironment(helpers, partials, decorators) {
      this.helpers = helpers || {};
      this.partials = partials || {};
      this.decorators = decorators || {};
      _helpers.registerDefaultHelpers(this);
      _decorators.registerDefaultDecorators(this);
    }
    HandlebarsEnvironment.prototype = {
      constructor: HandlebarsEnvironment,
      logger: _logger2['default'],
      log: _logger2['default'].log,
      registerHelper: function registerHelper(name, fn) {
        if (_utils.toString.call(name) === objectType) {
          if (fn) {
            throw new _exception2['default']('Arg not supported with multiple helpers');
          }
          _utils.extend(this.helpers, name);
        } else {
          this.helpers[name] = fn;
        }
      },
      unregisterHelper: function unregisterHelper(name) {
        delete this.helpers[name];
      },
      registerPartial: function registerPartial(name, partial) {
        if (_utils.toString.call(name) === objectType) {
          _utils.extend(this.partials, name);
        } else {
          if (typeof partial === 'undefined') {
            throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
          }
          this.partials[name] = partial;
        }
      },
      unregisterPartial: function unregisterPartial(name) {
        delete this.partials[name];
      },
      registerDecorator: function registerDecorator(name, fn) {
        if (_utils.toString.call(name) === objectType) {
          if (fn) {
            throw new _exception2['default']('Arg not supported with multiple decorators');
          }
          _utils.extend(this.decorators, name);
        } else {
          this.decorators[name] = fn;
        }
      },
      unregisterDecorator: function unregisterDecorator(name) {
        delete this.decorators[name];
      }
    };
    var log = _logger2['default'].log;
    exports.log = log;
    exports.createFrame = _utils.createFrame;
    exports.logger = _logger2['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    exports.extend = extend;
    exports.indexOf = indexOf;
    exports.escapeExpression = escapeExpression;
    exports.isEmpty = isEmpty;
    exports.createFrame = createFrame;
    exports.blockParams = blockParams;
    exports.appendContextPath = appendContextPath;
    var escape = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#x27;',
      '`': '&#x60;',
      '=': '&#x3D;'
    };
    var badChars = /[&<>"'`=]/g,
        possible = /[&<>"'`=]/;
    function escapeChar(chr) {
      return escape[chr];
    }
    function extend(obj) {
      for (var i = 1; i < arguments.length; i++) {
        for (var key in arguments[i]) {
          if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
            obj[key] = arguments[i][key];
          }
        }
      }
      return obj;
    }
    var toString = Object.prototype.toString;
    exports.toString = toString;
    var isFunction = function isFunction(value) {
      return typeof value === 'function';
    };
    if (isFunction(/x/)) {
      exports.isFunction = isFunction = function(value) {
        return typeof value === 'function' && toString.call(value) === '[object Function]';
      };
    }
    exports.isFunction = isFunction;
    var isArray = Array.isArray || function(value) {
      return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
    };
    exports.isArray = isArray;
    function indexOf(array, value) {
      for (var i = 0,
          len = array.length; i < len; i++) {
        if (array[i] === value) {
          return i;
        }
      }
      return -1;
    }
    function escapeExpression(string) {
      if (typeof string !== 'string') {
        if (string && string.toHTML) {
          return string.toHTML();
        } else if (string == null) {
          return '';
        } else if (!string) {
          return string + '';
        }
        string = '' + string;
      }
      if (!possible.test(string)) {
        return string;
      }
      return string.replace(badChars, escapeChar);
    }
    function isEmpty(value) {
      if (!value && value !== 0) {
        return true;
      } else if (isArray(value) && value.length === 0) {
        return true;
      } else {
        return false;
      }
    }
    function createFrame(object) {
      var frame = extend({}, object);
      frame._parent = object;
      return frame;
    }
    function blockParams(params, ids) {
      params.path = ids;
      return params;
    }
    function appendContextPath(contextPath, id) {
      return (contextPath ? contextPath + '.' : '') + id;
    }
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];
    function Exception(message, node) {
      var loc = node && node.loc,
          line = undefined,
          column = undefined;
      if (loc) {
        line = loc.start.line;
        column = loc.start.column;
        message += ' - ' + line + ':' + column;
      }
      var tmp = Error.prototype.constructor.call(this, message);
      for (var idx = 0; idx < errorProps.length; idx++) {
        this[errorProps[idx]] = tmp[errorProps[idx]];
      }
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, Exception);
      }
      if (loc) {
        this.lineNumber = line;
        this.column = column;
      }
    }
    Exception.prototype = new Error();
    exports['default'] = Exception;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    exports.registerDefaultHelpers = registerDefaultHelpers;
    var _helpersBlockHelperMissing = __webpack_require__(7);
    var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);
    var _helpersEach = __webpack_require__(8);
    var _helpersEach2 = _interopRequireDefault(_helpersEach);
    var _helpersHelperMissing = __webpack_require__(9);
    var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);
    var _helpersIf = __webpack_require__(10);
    var _helpersIf2 = _interopRequireDefault(_helpersIf);
    var _helpersLog = __webpack_require__(11);
    var _helpersLog2 = _interopRequireDefault(_helpersLog);
    var _helpersLookup = __webpack_require__(12);
    var _helpersLookup2 = _interopRequireDefault(_helpersLookup);
    var _helpersWith = __webpack_require__(13);
    var _helpersWith2 = _interopRequireDefault(_helpersWith);
    function registerDefaultHelpers(instance) {
      _helpersBlockHelperMissing2['default'](instance);
      _helpersEach2['default'](instance);
      _helpersHelperMissing2['default'](instance);
      _helpersIf2['default'](instance);
      _helpersLog2['default'](instance);
      _helpersLookup2['default'](instance);
      _helpersWith2['default'](instance);
    }
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    exports['default'] = function(instance) {
      instance.registerHelper('blockHelperMissing', function(context, options) {
        var inverse = options.inverse,
            fn = options.fn;
        if (context === true) {
          return fn(this);
        } else if (context === false || context == null) {
          return inverse(this);
        } else if (_utils.isArray(context)) {
          if (context.length > 0) {
            if (options.ids) {
              options.ids = [options.name];
            }
            return instance.helpers.each(context, options);
          } else {
            return inverse(this);
          }
        } else {
          if (options.data && options.ids) {
            var data = _utils.createFrame(options.data);
            data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
            options = {data: data};
          }
          return fn(context, options);
        }
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    var _exception = __webpack_require__(5);
    var _exception2 = _interopRequireDefault(_exception);
    exports['default'] = function(instance) {
      instance.registerHelper('each', function(context, options) {
        if (!options) {
          throw new _exception2['default']('Must pass iterator to #each');
        }
        var fn = options.fn,
            inverse = options.inverse,
            i = 0,
            ret = '',
            data = undefined,
            contextPath = undefined;
        if (options.data && options.ids) {
          contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
        }
        if (_utils.isFunction(context)) {
          context = context.call(this);
        }
        if (options.data) {
          data = _utils.createFrame(options.data);
        }
        function execIteration(field, index, last) {
          if (data) {
            data.key = field;
            data.index = index;
            data.first = index === 0;
            data.last = !!last;
            if (contextPath) {
              data.contextPath = contextPath + field;
            }
          }
          ret = ret + fn(context[field], {
            data: data,
            blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
          });
        }
        if (context && typeof context === 'object') {
          if (_utils.isArray(context)) {
            for (var j = context.length; i < j; i++) {
              if (i in context) {
                execIteration(i, i, i === context.length - 1);
              }
            }
          } else {
            var priorKey = undefined;
            for (var key in context) {
              if (context.hasOwnProperty(key)) {
                if (priorKey !== undefined) {
                  execIteration(priorKey, i - 1);
                }
                priorKey = key;
                i++;
              }
            }
            if (priorKey !== undefined) {
              execIteration(priorKey, i - 1, true);
            }
          }
        }
        if (i === 0) {
          ret = inverse(this);
        }
        return ret;
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    var _exception = __webpack_require__(5);
    var _exception2 = _interopRequireDefault(_exception);
    exports['default'] = function(instance) {
      instance.registerHelper('helperMissing', function() {
        if (arguments.length === 1) {
          return undefined;
        } else {
          throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
        }
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    exports['default'] = function(instance) {
      instance.registerHelper('if', function(conditional, options) {
        if (_utils.isFunction(conditional)) {
          conditional = conditional.call(this);
        }
        if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
          return options.inverse(this);
        } else {
          return options.fn(this);
        }
      });
      instance.registerHelper('unless', function(conditional, options) {
        return instance.helpers['if'].call(this, conditional, {
          fn: options.inverse,
          inverse: options.fn,
          hash: options.hash
        });
      });
    };
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    exports['default'] = function(instance) {
      instance.registerHelper('log', function() {
        var args = [undefined],
            options = arguments[arguments.length - 1];
        for (var i = 0; i < arguments.length - 1; i++) {
          args.push(arguments[i]);
        }
        var level = 1;
        if (options.hash.level != null) {
          level = options.hash.level;
        } else if (options.data && options.data.level != null) {
          level = options.data.level;
        }
        args[0] = level;
        instance.log.apply(instance, args);
      });
    };
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    exports['default'] = function(instance) {
      instance.registerHelper('lookup', function(obj, field) {
        return obj && obj[field];
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    exports['default'] = function(instance) {
      instance.registerHelper('with', function(context, options) {
        if (_utils.isFunction(context)) {
          context = context.call(this);
        }
        var fn = options.fn;
        if (!_utils.isEmpty(context)) {
          var data = options.data;
          if (options.data && options.ids) {
            data = _utils.createFrame(options.data);
            data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
          }
          return fn(context, {
            data: data,
            blockParams: _utils.blockParams([context], [data && data.contextPath])
          });
        } else {
          return options.inverse(this);
        }
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    exports.registerDefaultDecorators = registerDefaultDecorators;
    var _decoratorsInline = __webpack_require__(15);
    var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);
    function registerDefaultDecorators(instance) {
      _decoratorsInline2['default'](instance);
    }
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    exports['default'] = function(instance) {
      instance.registerDecorator('inline', function(fn, props, container, options) {
        var ret = fn;
        if (!props.partials) {
          props.partials = {};
          ret = function(context, options) {
            var original = container.partials;
            container.partials = _utils.extend({}, original, props.partials);
            var ret = fn(context, options);
            container.partials = original;
            return ret;
          };
        }
        props.partials[options.args[0]] = options.fn;
        return ret;
      });
    };
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    exports.__esModule = true;
    var _utils = __webpack_require__(4);
    var logger = {
      methodMap: ['debug', 'info', 'warn', 'error'],
      level: 'info',
      lookupLevel: function lookupLevel(level) {
        if (typeof level === 'string') {
          var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
          if (levelMap >= 0) {
            level = levelMap;
          } else {
            level = parseInt(level, 10);
          }
        }
        return level;
      },
      log: function log(level) {
        level = logger.lookupLevel(level);
        if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
          var method = logger.methodMap[level];
          if (!console[method]) {
            method = 'log';
          }
          for (var _len = arguments.length,
              message = Array(_len > 1 ? _len - 1 : 0),
              _key = 1; _key < _len; _key++) {
            message[_key - 1] = arguments[_key];
          }
          console[method].apply(console, message);
        }
      }
    };
    exports['default'] = logger;
    module.exports = exports['default'];
  }, function(module, exports) {
    'use strict';
    exports.__esModule = true;
    function SafeString(string) {
      this.string = string;
    }
    SafeString.prototype.toString = SafeString.prototype.toHTML = function() {
      return '' + this.string;
    };
    exports['default'] = SafeString;
    module.exports = exports['default'];
  }, function(module, exports, __webpack_require__) {
    'use strict';
    var _interopRequireWildcard = __webpack_require__(1)['default'];
    var _interopRequireDefault = __webpack_require__(2)['default'];
    exports.__esModule = true;
    exports.checkRevision = checkRevision;
    exports.template = template;
    exports.wrapProgram = wrapProgram;
    exports.resolvePartial = resolvePartial;
    exports.invokePartial = invokePartial;
    exports.noop = noop;
    var _utils = __webpack_require__(4);
    var Utils = _interopRequireWildcard(_utils);
    var _exception = __webpack_require__(5);
    var _exception2 = _interopRequireDefault(_exception);
    var _base = __webpack_require__(3);
    function checkRevision(compilerInfo) {
      var compilerRevision = compilerInfo && compilerInfo[0] || 1,
          currentRevision = _base.COMPILER_REVISION;
      if (compilerRevision !== currentRevision) {
        if (compilerRevision < currentRevision) {
          var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
              compilerVersions = _base.REVISION_CHANGES[compilerRevision];
          throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
        } else {
          throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
        }
      }
    }
    function template(templateSpec, env) {
      if (!env) {
        throw new _exception2['default']('No environment passed to template');
      }
      if (!templateSpec || !templateSpec.main) {
        throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
      }
      templateSpec.main.decorator = templateSpec.main_d;
      env.VM.checkRevision(templateSpec.compiler);
      function invokePartialWrapper(partial, context, options) {
        if (options.hash) {
          context = Utils.extend({}, context, options.hash);
          if (options.ids) {
            options.ids[0] = true;
          }
        }
        partial = env.VM.resolvePartial.call(this, partial, context, options);
        var result = env.VM.invokePartial.call(this, partial, context, options);
        if (result == null && env.compile) {
          options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
          result = options.partials[options.name](context, options);
        }
        if (result != null) {
          if (options.indent) {
            var lines = result.split('\n');
            for (var i = 0,
                l = lines.length; i < l; i++) {
              if (!lines[i] && i + 1 === l) {
                break;
              }
              lines[i] = options.indent + lines[i];
            }
            result = lines.join('\n');
          }
          return result;
        } else {
          throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
        }
      }
      var container = {
        strict: function strict(obj, name) {
          if (!(name in obj)) {
            throw new _exception2['default']('"' + name + '" not defined in ' + obj);
          }
          return obj[name];
        },
        lookup: function lookup(depths, name) {
          var len = depths.length;
          for (var i = 0; i < len; i++) {
            if (depths[i] && depths[i][name] != null) {
              return depths[i][name];
            }
          }
        },
        lambda: function lambda(current, context) {
          return typeof current === 'function' ? current.call(context) : current;
        },
        escapeExpression: Utils.escapeExpression,
        invokePartial: invokePartialWrapper,
        fn: function fn(i) {
          var ret = templateSpec[i];
          ret.decorator = templateSpec[i + '_d'];
          return ret;
        },
        programs: [],
        program: function program(i, data, declaredBlockParams, blockParams, depths) {
          var programWrapper = this.programs[i],
              fn = this.fn(i);
          if (data || depths || blockParams || declaredBlockParams) {
            programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
          } else if (!programWrapper) {
            programWrapper = this.programs[i] = wrapProgram(this, i, fn);
          }
          return programWrapper;
        },
        data: function data(value, depth) {
          while (value && depth--) {
            value = value._parent;
          }
          return value;
        },
        merge: function merge(param, common) {
          var obj = param || common;
          if (param && common && param !== common) {
            obj = Utils.extend({}, common, param);
          }
          return obj;
        },
        noop: env.VM.noop,
        compilerInfo: templateSpec.compiler
      };
      function ret(context) {
        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];
        var data = options.data;
        ret._setup(options);
        if (!options.partial && templateSpec.useData) {
          data = initData(context, data);
        }
        var depths = undefined,
            blockParams = templateSpec.useBlockParams ? [] : undefined;
        if (templateSpec.useDepths) {
          if (options.depths) {
            depths = context !== options.depths[0] ? [context].concat(options.depths) : options.depths;
          } else {
            depths = [context];
          }
        }
        function main(context) {
          return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
        }
        main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
        return main(context, options);
      }
      ret.isTop = true;
      ret._setup = function(options) {
        if (!options.partial) {
          container.helpers = container.merge(options.helpers, env.helpers);
          if (templateSpec.usePartial) {
            container.partials = container.merge(options.partials, env.partials);
          }
          if (templateSpec.usePartial || templateSpec.useDecorators) {
            container.decorators = container.merge(options.decorators, env.decorators);
          }
        } else {
          container.helpers = options.helpers;
          container.partials = options.partials;
          container.decorators = options.decorators;
        }
      };
      ret._child = function(i, data, blockParams, depths) {
        if (templateSpec.useBlockParams && !blockParams) {
          throw new _exception2['default']('must pass block params');
        }
        if (templateSpec.useDepths && !depths) {
          throw new _exception2['default']('must pass parent depths');
        }
        return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
      };
      return ret;
    }
    function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
      function prog(context) {
        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];
        var currentDepths = depths;
        if (depths && context !== depths[0]) {
          currentDepths = [context].concat(depths);
        }
        return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
      }
      prog = executeDecorators(fn, prog, container, depths, data, blockParams);
      prog.program = i;
      prog.depth = depths ? depths.length : 0;
      prog.blockParams = declaredBlockParams || 0;
      return prog;
    }
    function resolvePartial(partial, context, options) {
      if (!partial) {
        if (options.name === '@partial-block') {
          partial = options.data['partial-block'];
        } else {
          partial = options.partials[options.name];
        }
      } else if (!partial.call && !options.name) {
        options.name = partial;
        partial = options.partials[partial];
      }
      return partial;
    }
    function invokePartial(partial, context, options) {
      options.partial = true;
      if (options.ids) {
        options.data.contextPath = options.ids[0] || options.data.contextPath;
      }
      var partialBlock = undefined;
      if (options.fn && options.fn !== noop) {
        options.data = _base.createFrame(options.data);
        partialBlock = options.data['partial-block'] = options.fn;
        if (partialBlock.partials) {
          options.partials = Utils.extend({}, options.partials, partialBlock.partials);
        }
      }
      if (partial === undefined && partialBlock) {
        partial = partialBlock;
      }
      if (partial === undefined) {
        throw new _exception2['default']('The partial ' + options.name + ' could not be found');
      } else if (partial instanceof Function) {
        return partial(context, options);
      }
    }
    function noop() {
      return '';
    }
    function initData(context, data) {
      if (!data || !('root' in data)) {
        data = data ? _base.createFrame(data) : {};
        data.root = context;
      }
      return data;
    }
    function executeDecorators(fn, prog, container, depths, data, blockParams) {
      if (fn.decorator) {
        var props = {};
        prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
        Utils.extend(prog, props);
      }
      return prog;
    }
  }, function(module, exports) {
    (function(global) {
      'use strict';
      exports.__esModule = true;
      exports['default'] = function(Handlebars) {
        var root = typeof global !== 'undefined' ? global : window,
            $Handlebars = root.Handlebars;
        Handlebars.noConflict = function() {
          if (root.Handlebars === Handlebars) {
            root.Handlebars = $Handlebars;
          }
          return Handlebars;
        };
      };
      module.exports = exports['default'];
    }.call(exports, (function() {
      return this;
    }())));
  }]);
});
;

})();
System.registerDynamic("npm:moment@2.17.1.json", [], false, function() {
  return {
    "main": "./moment.js",
    "map": {
      "moment": "./moment"
    }
  };
});

(function() {
var define = System.amdDefine;
;
(function(global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define("npm:moment@2.17.1/moment.js", [], factory) : global.moment = factory();
}(this, (function() {
  'use strict';
  var hookCallback;
  function hooks() {
    return hookCallback.apply(null, arguments);
  }
  function setHookCallback(callback) {
    hookCallback = callback;
  }
  function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
  }
  function isObject(input) {
    return input != null && Object.prototype.toString.call(input) === '[object Object]';
  }
  function isObjectEmpty(obj) {
    var k;
    for (k in obj) {
      return false;
    }
    return true;
  }
  function isNumber(input) {
    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
  }
  function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
  }
  function map(arr, fn) {
    var res = [],
        i;
    for (i = 0; i < arr.length; ++i) {
      res.push(fn(arr[i], i));
    }
    return res;
  }
  function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
  }
  function extend(a, b) {
    for (var i in b) {
      if (hasOwnProp(b, i)) {
        a[i] = b[i];
      }
    }
    if (hasOwnProp(b, 'toString')) {
      a.toString = b.toString;
    }
    if (hasOwnProp(b, 'valueOf')) {
      a.valueOf = b.valueOf;
    }
    return a;
  }
  function createUTC(input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, true).utc();
  }
  function defaultParsingFlags() {
    return {
      empty: false,
      unusedTokens: [],
      unusedInput: [],
      overflow: -2,
      charsLeftOver: 0,
      nullInput: false,
      invalidMonth: null,
      invalidFormat: false,
      userInvalidated: false,
      iso: false,
      parsedDateParts: [],
      meridiem: null
    };
  }
  function getParsingFlags(m) {
    if (m._pf == null) {
      m._pf = defaultParsingFlags();
    }
    return m._pf;
  }
  var some;
  if (Array.prototype.some) {
    some = Array.prototype.some;
  } else {
    some = function(fun) {
      var t = Object(this);
      var len = t.length >>> 0;
      for (var i = 0; i < len; i++) {
        if (i in t && fun.call(this, t[i], i, t)) {
          return true;
        }
      }
      return false;
    };
  }
  var some$1 = some;
  function isValid(m) {
    if (m._isValid == null) {
      var flags = getParsingFlags(m);
      var parsedParts = some$1.call(flags.parsedDateParts, function(i) {
        return i != null;
      });
      var isNowValid = !isNaN(m._d.getTime()) && flags.overflow < 0 && !flags.empty && !flags.invalidMonth && !flags.invalidWeekday && !flags.nullInput && !flags.invalidFormat && !flags.userInvalidated && (!flags.meridiem || (flags.meridiem && parsedParts));
      if (m._strict) {
        isNowValid = isNowValid && flags.charsLeftOver === 0 && flags.unusedTokens.length === 0 && flags.bigHour === undefined;
      }
      if (Object.isFrozen == null || !Object.isFrozen(m)) {
        m._isValid = isNowValid;
      } else {
        return isNowValid;
      }
    }
    return m._isValid;
  }
  function createInvalid(flags) {
    var m = createUTC(NaN);
    if (flags != null) {
      extend(getParsingFlags(m), flags);
    } else {
      getParsingFlags(m).userInvalidated = true;
    }
    return m;
  }
  function isUndefined(input) {
    return input === void 0;
  }
  var momentProperties = hooks.momentProperties = [];
  function copyConfig(to, from) {
    var i,
        prop,
        val;
    if (!isUndefined(from._isAMomentObject)) {
      to._isAMomentObject = from._isAMomentObject;
    }
    if (!isUndefined(from._i)) {
      to._i = from._i;
    }
    if (!isUndefined(from._f)) {
      to._f = from._f;
    }
    if (!isUndefined(from._l)) {
      to._l = from._l;
    }
    if (!isUndefined(from._strict)) {
      to._strict = from._strict;
    }
    if (!isUndefined(from._tzm)) {
      to._tzm = from._tzm;
    }
    if (!isUndefined(from._isUTC)) {
      to._isUTC = from._isUTC;
    }
    if (!isUndefined(from._offset)) {
      to._offset = from._offset;
    }
    if (!isUndefined(from._pf)) {
      to._pf = getParsingFlags(from);
    }
    if (!isUndefined(from._locale)) {
      to._locale = from._locale;
    }
    if (momentProperties.length > 0) {
      for (i in momentProperties) {
        prop = momentProperties[i];
        val = from[prop];
        if (!isUndefined(val)) {
          to[prop] = val;
        }
      }
    }
    return to;
  }
  var updateInProgress = false;
  function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (!this.isValid()) {
      this._d = new Date(NaN);
    }
    if (updateInProgress === false) {
      updateInProgress = true;
      hooks.updateOffset(this);
      updateInProgress = false;
    }
  }
  function isMoment(obj) {
    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
  }
  function absFloor(number) {
    if (number < 0) {
      return Math.ceil(number) || 0;
    } else {
      return Math.floor(number);
    }
  }
  function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion,
        value = 0;
    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
      value = absFloor(coercedNumber);
    }
    return value;
  }
  function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length),
        lengthDiff = Math.abs(array1.length - array2.length),
        diffs = 0,
        i;
    for (i = 0; i < len; i++) {
      if ((dontConvert && array1[i] !== array2[i]) || (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
        diffs++;
      }
    }
    return diffs + lengthDiff;
  }
  function warn(msg) {
    if (hooks.suppressDeprecationWarnings === false && (typeof console !== 'undefined') && console.warn) {
      console.warn('Deprecation warning: ' + msg);
    }
  }
  function deprecate(msg, fn) {
    var firstTime = true;
    return extend(function() {
      if (hooks.deprecationHandler != null) {
        hooks.deprecationHandler(null, msg);
      }
      if (firstTime) {
        var args = [];
        var arg;
        for (var i = 0; i < arguments.length; i++) {
          arg = '';
          if (typeof arguments[i] === 'object') {
            arg += '\n[' + i + '] ';
            for (var key in arguments[0]) {
              arg += key + ': ' + arguments[0][key] + ', ';
            }
            arg = arg.slice(0, -2);
          } else {
            arg = arguments[i];
          }
          args.push(arg);
        }
        warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
        firstTime = false;
      }
      return fn.apply(this, arguments);
    }, fn);
  }
  var deprecations = {};
  function deprecateSimple(name, msg) {
    if (hooks.deprecationHandler != null) {
      hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
      warn(msg);
      deprecations[name] = true;
    }
  }
  hooks.suppressDeprecationWarnings = false;
  hooks.deprecationHandler = null;
  function isFunction(input) {
    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
  }
  function set(config) {
    var prop,
        i;
    for (i in config) {
      prop = config[i];
      if (isFunction(prop)) {
        this[i] = prop;
      } else {
        this['_' + i] = prop;
      }
    }
    this._config = config;
    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
  }
  function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig),
        prop;
    for (prop in childConfig) {
      if (hasOwnProp(childConfig, prop)) {
        if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
          res[prop] = {};
          extend(res[prop], parentConfig[prop]);
          extend(res[prop], childConfig[prop]);
        } else if (childConfig[prop] != null) {
          res[prop] = childConfig[prop];
        } else {
          delete res[prop];
        }
      }
    }
    for (prop in parentConfig) {
      if (hasOwnProp(parentConfig, prop) && !hasOwnProp(childConfig, prop) && isObject(parentConfig[prop])) {
        res[prop] = extend({}, res[prop]);
      }
    }
    return res;
  }
  function Locale(config) {
    if (config != null) {
      this.set(config);
    }
  }
  var keys;
  if (Object.keys) {
    keys = Object.keys;
  } else {
    keys = function(obj) {
      var i,
          res = [];
      for (i in obj) {
        if (hasOwnProp(obj, i)) {
          res.push(i);
        }
      }
      return res;
    };
  }
  var keys$1 = keys;
  var defaultCalendar = {
    sameDay: '[Today at] LT',
    nextDay: '[Tomorrow at] LT',
    nextWeek: 'dddd [at] LT',
    lastDay: '[Yesterday at] LT',
    lastWeek: '[Last] dddd [at] LT',
    sameElse: 'L'
  };
  function calendar(key, mom, now) {
    var output = this._calendar[key] || this._calendar['sameElse'];
    return isFunction(output) ? output.call(mom, now) : output;
  }
  var defaultLongDateFormat = {
    LTS: 'h:mm:ss A',
    LT: 'h:mm A',
    L: 'MM/DD/YYYY',
    LL: 'MMMM D, YYYY',
    LLL: 'MMMM D, YYYY h:mm A',
    LLLL: 'dddd, MMMM D, YYYY h:mm A'
  };
  function longDateFormat(key) {
    var format = this._longDateFormat[key],
        formatUpper = this._longDateFormat[key.toUpperCase()];
    if (format || !formatUpper) {
      return format;
    }
    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function(val) {
      return val.slice(1);
    });
    return this._longDateFormat[key];
  }
  var defaultInvalidDate = 'Invalid date';
  function invalidDate() {
    return this._invalidDate;
  }
  var defaultOrdinal = '%d';
  var defaultOrdinalParse = /\d{1,2}/;
  function ordinal(number) {
    return this._ordinal.replace('%d', number);
  }
  var defaultRelativeTime = {
    future: 'in %s',
    past: '%s ago',
    s: 'a few seconds',
    m: 'a minute',
    mm: '%d minutes',
    h: 'an hour',
    hh: '%d hours',
    d: 'a day',
    dd: '%d days',
    M: 'a month',
    MM: '%d months',
    y: 'a year',
    yy: '%d years'
  };
  function relativeTime(number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return (isFunction(output)) ? output(number, withoutSuffix, string, isFuture) : output.replace(/%d/i, number);
  }
  function pastFuture(diff, output) {
    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
    return isFunction(format) ? format(output) : format.replace(/%s/i, output);
  }
  var aliases = {};
  function addUnitAlias(unit, shorthand) {
    var lowerCase = unit.toLowerCase();
    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
  }
  function normalizeUnits(units) {
    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
  }
  function normalizeObjectUnits(inputObject) {
    var normalizedInput = {},
        normalizedProp,
        prop;
    for (prop in inputObject) {
      if (hasOwnProp(inputObject, prop)) {
        normalizedProp = normalizeUnits(prop);
        if (normalizedProp) {
          normalizedInput[normalizedProp] = inputObject[prop];
        }
      }
    }
    return normalizedInput;
  }
  var priorities = {};
  function addUnitPriority(unit, priority) {
    priorities[unit] = priority;
  }
  function getPrioritizedUnits(unitsObj) {
    var units = [];
    for (var u in unitsObj) {
      units.push({
        unit: u,
        priority: priorities[u]
      });
    }
    units.sort(function(a, b) {
      return a.priority - b.priority;
    });
    return units;
  }
  function makeGetSet(unit, keepTime) {
    return function(value) {
      if (value != null) {
        set$1(this, unit, value);
        hooks.updateOffset(this, keepTime);
        return this;
      } else {
        return get(this, unit);
      }
    };
  }
  function get(mom, unit) {
    return mom.isValid() ? mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
  }
  function set$1(mom, unit, value) {
    if (mom.isValid()) {
      mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }
  }
  function stringGet(units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
      return this[units]();
    }
    return this;
  }
  function stringSet(units, value) {
    if (typeof units === 'object') {
      units = normalizeObjectUnits(units);
      var prioritized = getPrioritizedUnits(units);
      for (var i = 0; i < prioritized.length; i++) {
        this[prioritized[i].unit](units[prioritized[i].unit]);
      }
    } else {
      units = normalizeUnits(units);
      if (isFunction(this[units])) {
        return this[units](value);
      }
    }
    return this;
  }
  function zeroFill(number, targetLength, forceSign) {
    var absNumber = '' + Math.abs(number),
        zerosToFill = targetLength - absNumber.length,
        sign = number >= 0;
    return (sign ? (forceSign ? '+' : '') : '-') + Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
  }
  var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
  var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;
  var formatFunctions = {};
  var formatTokenFunctions = {};
  function addFormatToken(token, padded, ordinal, callback) {
    var func = callback;
    if (typeof callback === 'string') {
      func = function() {
        return this[callback]();
      };
    }
    if (token) {
      formatTokenFunctions[token] = func;
    }
    if (padded) {
      formatTokenFunctions[padded[0]] = function() {
        return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
      };
    }
    if (ordinal) {
      formatTokenFunctions[ordinal] = function() {
        return this.localeData().ordinal(func.apply(this, arguments), token);
      };
    }
  }
  function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
      return input.replace(/^\[|\]$/g, '');
    }
    return input.replace(/\\/g, '');
  }
  function makeFormatFunction(format) {
    var array = format.match(formattingTokens),
        i,
        length;
    for (i = 0, length = array.length; i < length; i++) {
      if (formatTokenFunctions[array[i]]) {
        array[i] = formatTokenFunctions[array[i]];
      } else {
        array[i] = removeFormattingTokens(array[i]);
      }
    }
    return function(mom) {
      var output = '',
          i;
      for (i = 0; i < length; i++) {
        output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
      }
      return output;
    };
  }
  function formatMoment(m, format) {
    if (!m.isValid()) {
      return m.localeData().invalidDate();
    }
    format = expandFormat(format, m.localeData());
    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);
    return formatFunctions[format](m);
  }
  function expandFormat(format, locale) {
    var i = 5;
    function replaceLongDateFormatTokens(input) {
      return locale.longDateFormat(input) || input;
    }
    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format)) {
      format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
      localFormattingTokens.lastIndex = 0;
      i -= 1;
    }
    return format;
  }
  var match1 = /\d/;
  var match2 = /\d\d/;
  var match3 = /\d{3}/;
  var match4 = /\d{4}/;
  var match6 = /[+-]?\d{6}/;
  var match1to2 = /\d\d?/;
  var match3to4 = /\d\d\d\d?/;
  var match5to6 = /\d\d\d\d\d\d?/;
  var match1to3 = /\d{1,3}/;
  var match1to4 = /\d{1,4}/;
  var match1to6 = /[+-]?\d{1,6}/;
  var matchUnsigned = /\d+/;
  var matchSigned = /[+-]?\d+/;
  var matchOffset = /Z|[+-]\d\d:?\d\d/gi;
  var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi;
  var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/;
  var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;
  var regexes = {};
  function addRegexToken(token, regex, strictRegex) {
    regexes[token] = isFunction(regex) ? regex : function(isStrict, localeData) {
      return (isStrict && strictRegex) ? strictRegex : regex;
    };
  }
  function getParseRegexForToken(token, config) {
    if (!hasOwnProp(regexes, token)) {
      return new RegExp(unescapeFormat(token));
    }
    return regexes[token](config._strict, config._locale);
  }
  function unescapeFormat(s) {
    return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(matched, p1, p2, p3, p4) {
      return p1 || p2 || p3 || p4;
    }));
  }
  function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
  }
  var tokens = {};
  function addParseToken(token, callback) {
    var i,
        func = callback;
    if (typeof token === 'string') {
      token = [token];
    }
    if (isNumber(callback)) {
      func = function(input, array) {
        array[callback] = toInt(input);
      };
    }
    for (i = 0; i < token.length; i++) {
      tokens[token[i]] = func;
    }
  }
  function addWeekParseToken(token, callback) {
    addParseToken(token, function(input, array, config, token) {
      config._w = config._w || {};
      callback(input, config._w, config, token);
    });
  }
  function addTimeToArrayFromToken(token, input, config) {
    if (input != null && hasOwnProp(tokens, token)) {
      tokens[token](input, config._a, config, token);
    }
  }
  var YEAR = 0;
  var MONTH = 1;
  var DATE = 2;
  var HOUR = 3;
  var MINUTE = 4;
  var SECOND = 5;
  var MILLISECOND = 6;
  var WEEK = 7;
  var WEEKDAY = 8;
  var indexOf;
  if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
  } else {
    indexOf = function(o) {
      var i;
      for (i = 0; i < this.length; ++i) {
        if (this[i] === o) {
          return i;
        }
      }
      return -1;
    };
  }
  var indexOf$1 = indexOf;
  function daysInMonth(year, month) {
    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
  }
  addFormatToken('M', ['MM', 2], 'Mo', function() {
    return this.month() + 1;
  });
  addFormatToken('MMM', 0, 0, function(format) {
    return this.localeData().monthsShort(this, format);
  });
  addFormatToken('MMMM', 0, 0, function(format) {
    return this.localeData().months(this, format);
  });
  addUnitAlias('month', 'M');
  addUnitPriority('month', 8);
  addRegexToken('M', match1to2);
  addRegexToken('MM', match1to2, match2);
  addRegexToken('MMM', function(isStrict, locale) {
    return locale.monthsShortRegex(isStrict);
  });
  addRegexToken('MMMM', function(isStrict, locale) {
    return locale.monthsRegex(isStrict);
  });
  addParseToken(['M', 'MM'], function(input, array) {
    array[MONTH] = toInt(input) - 1;
  });
  addParseToken(['MMM', 'MMMM'], function(input, array, config, token) {
    var month = config._locale.monthsParse(input, token, config._strict);
    if (month != null) {
      array[MONTH] = month;
    } else {
      getParsingFlags(config).invalidMonth = input;
    }
  });
  var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
  var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
  function localeMonths(m, format) {
    if (!m) {
      return this._months;
    }
    return isArray(this._months) ? this._months[m.month()] : this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
  }
  var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
  function localeMonthsShort(m, format) {
    if (!m) {
      return this._monthsShort;
    }
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] : this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
  }
  function handleStrictParse(monthName, format, strict) {
    var i,
        ii,
        mom,
        llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
      for (i = 0; i < 12; ++i) {
        mom = createUTC([2000, i]);
        this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
        this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format === 'MMM') {
        ii = indexOf$1.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf$1.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format === 'MMM') {
        ii = indexOf$1.call(this._shortMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._longMonthsParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf$1.call(this._longMonthsParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._shortMonthsParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeMonthsParse(monthName, format, strict) {
    var i,
        mom,
        regex;
    if (this._monthsParseExact) {
      return handleStrictParse.call(this, monthName, format, strict);
    }
    if (!this._monthsParse) {
      this._monthsParse = [];
      this._longMonthsParse = [];
      this._shortMonthsParse = [];
    }
    for (i = 0; i < 12; i++) {
      mom = createUTC([2000, i]);
      if (strict && !this._longMonthsParse[i]) {
        this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
        this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
      }
      if (!strict && !this._monthsParse[i]) {
        regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
        this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
      }
      if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
        return i;
      } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
        return i;
      } else if (!strict && this._monthsParse[i].test(monthName)) {
        return i;
      }
    }
  }
  function setMonth(mom, value) {
    var dayOfMonth;
    if (!mom.isValid()) {
      return mom;
    }
    if (typeof value === 'string') {
      if (/^\d+$/.test(value)) {
        value = toInt(value);
      } else {
        value = mom.localeData().monthsParse(value);
        if (!isNumber(value)) {
          return mom;
        }
      }
    }
    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
    return mom;
  }
  function getSetMonth(value) {
    if (value != null) {
      setMonth(this, value);
      hooks.updateOffset(this, true);
      return this;
    } else {
      return get(this, 'Month');
    }
  }
  function getDaysInMonth() {
    return daysInMonth(this.year(), this.month());
  }
  var defaultMonthsShortRegex = matchWord;
  function monthsShortRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, '_monthsRegex')) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsShortStrictRegex;
      } else {
        return this._monthsShortRegex;
      }
    } else {
      if (!hasOwnProp(this, '_monthsShortRegex')) {
        this._monthsShortRegex = defaultMonthsShortRegex;
      }
      return this._monthsShortStrictRegex && isStrict ? this._monthsShortStrictRegex : this._monthsShortRegex;
    }
  }
  var defaultMonthsRegex = matchWord;
  function monthsRegex(isStrict) {
    if (this._monthsParseExact) {
      if (!hasOwnProp(this, '_monthsRegex')) {
        computeMonthsParse.call(this);
      }
      if (isStrict) {
        return this._monthsStrictRegex;
      } else {
        return this._monthsRegex;
      }
    } else {
      if (!hasOwnProp(this, '_monthsRegex')) {
        this._monthsRegex = defaultMonthsRegex;
      }
      return this._monthsStrictRegex && isStrict ? this._monthsStrictRegex : this._monthsRegex;
    }
  }
  function computeMonthsParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var shortPieces = [],
        longPieces = [],
        mixedPieces = [],
        i,
        mom;
    for (i = 0; i < 12; i++) {
      mom = createUTC([2000, i]);
      shortPieces.push(this.monthsShort(mom, ''));
      longPieces.push(this.months(mom, ''));
      mixedPieces.push(this.months(mom, ''));
      mixedPieces.push(this.monthsShort(mom, ''));
    }
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 12; i++) {
      shortPieces[i] = regexEscape(shortPieces[i]);
      longPieces[i] = regexEscape(longPieces[i]);
    }
    for (i = 0; i < 24; i++) {
      mixedPieces[i] = regexEscape(mixedPieces[i]);
    }
    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
  }
  addFormatToken('Y', 0, 0, function() {
    var y = this.year();
    return y <= 9999 ? '' + y : '+' + y;
  });
  addFormatToken(0, ['YY', 2], 0, function() {
    return this.year() % 100;
  });
  addFormatToken(0, ['YYYY', 4], 0, 'year');
  addFormatToken(0, ['YYYYY', 5], 0, 'year');
  addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');
  addUnitAlias('year', 'y');
  addUnitPriority('year', 1);
  addRegexToken('Y', matchSigned);
  addRegexToken('YY', match1to2, match2);
  addRegexToken('YYYY', match1to4, match4);
  addRegexToken('YYYYY', match1to6, match6);
  addRegexToken('YYYYYY', match1to6, match6);
  addParseToken(['YYYYY', 'YYYYYY'], YEAR);
  addParseToken('YYYY', function(input, array) {
    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
  });
  addParseToken('YY', function(input, array) {
    array[YEAR] = hooks.parseTwoDigitYear(input);
  });
  addParseToken('Y', function(input, array) {
    array[YEAR] = parseInt(input, 10);
  });
  function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
  }
  function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
  }
  hooks.parseTwoDigitYear = function(input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
  };
  var getSetYear = makeGetSet('FullYear', true);
  function getIsLeapYear() {
    return isLeapYear(this.year());
  }
  function createDate(y, m, d, h, M, s, ms) {
    var date = new Date(y, m, d, h, M, s, ms);
    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
      date.setFullYear(y);
    }
    return date;
  }
  function createUTCDate(y) {
    var date = new Date(Date.UTC.apply(null, arguments));
    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
      date.setUTCFullYear(y);
    }
    return date;
  }
  function firstWeekOffset(year, dow, doy) {
    var fwd = 7 + dow - doy,
        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;
    return -fwdlw + fwd - 1;
  }
  function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7,
        weekOffset = firstWeekOffset(year, dow, doy),
        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
        resYear,
        resDayOfYear;
    if (dayOfYear <= 0) {
      resYear = year - 1;
      resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
      resYear = year + 1;
      resDayOfYear = dayOfYear - daysInYear(year);
    } else {
      resYear = year;
      resDayOfYear = dayOfYear;
    }
    return {
      year: resYear,
      dayOfYear: resDayOfYear
    };
  }
  function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy),
        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
        resWeek,
        resYear;
    if (week < 1) {
      resYear = mom.year() - 1;
      resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
      resWeek = week - weeksInYear(mom.year(), dow, doy);
      resYear = mom.year() + 1;
    } else {
      resYear = mom.year();
      resWeek = week;
    }
    return {
      week: resWeek,
      year: resYear
    };
  }
  function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy),
        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
  }
  addFormatToken('w', ['ww', 2], 'wo', 'week');
  addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');
  addUnitAlias('week', 'w');
  addUnitAlias('isoWeek', 'W');
  addUnitPriority('week', 5);
  addUnitPriority('isoWeek', 5);
  addRegexToken('w', match1to2);
  addRegexToken('ww', match1to2, match2);
  addRegexToken('W', match1to2);
  addRegexToken('WW', match1to2, match2);
  addWeekParseToken(['w', 'ww', 'W', 'WW'], function(input, week, config, token) {
    week[token.substr(0, 1)] = toInt(input);
  });
  function localeWeek(mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
  }
  var defaultLocaleWeek = {
    dow: 0,
    doy: 6
  };
  function localeFirstDayOfWeek() {
    return this._week.dow;
  }
  function localeFirstDayOfYear() {
    return this._week.doy;
  }
  function getSetWeek(input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, 'd');
  }
  function getSetISOWeek(input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, 'd');
  }
  addFormatToken('d', 0, 'do', 'day');
  addFormatToken('dd', 0, 0, function(format) {
    return this.localeData().weekdaysMin(this, format);
  });
  addFormatToken('ddd', 0, 0, function(format) {
    return this.localeData().weekdaysShort(this, format);
  });
  addFormatToken('dddd', 0, 0, function(format) {
    return this.localeData().weekdays(this, format);
  });
  addFormatToken('e', 0, 0, 'weekday');
  addFormatToken('E', 0, 0, 'isoWeekday');
  addUnitAlias('day', 'd');
  addUnitAlias('weekday', 'e');
  addUnitAlias('isoWeekday', 'E');
  addUnitPriority('day', 11);
  addUnitPriority('weekday', 11);
  addUnitPriority('isoWeekday', 11);
  addRegexToken('d', match1to2);
  addRegexToken('e', match1to2);
  addRegexToken('E', match1to2);
  addRegexToken('dd', function(isStrict, locale) {
    return locale.weekdaysMinRegex(isStrict);
  });
  addRegexToken('ddd', function(isStrict, locale) {
    return locale.weekdaysShortRegex(isStrict);
  });
  addRegexToken('dddd', function(isStrict, locale) {
    return locale.weekdaysRegex(isStrict);
  });
  addWeekParseToken(['dd', 'ddd', 'dddd'], function(input, week, config, token) {
    var weekday = config._locale.weekdaysParse(input, token, config._strict);
    if (weekday != null) {
      week.d = weekday;
    } else {
      getParsingFlags(config).invalidWeekday = input;
    }
  });
  addWeekParseToken(['d', 'e', 'E'], function(input, week, config, token) {
    week[token] = toInt(input);
  });
  function parseWeekday(input, locale) {
    if (typeof input !== 'string') {
      return input;
    }
    if (!isNaN(input)) {
      return parseInt(input, 10);
    }
    input = locale.weekdaysParse(input);
    if (typeof input === 'number') {
      return input;
    }
    return null;
  }
  function parseIsoWeekday(input, locale) {
    if (typeof input === 'string') {
      return locale.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
  }
  var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
  function localeWeekdays(m, format) {
    if (!m) {
      return this._weekdays;
    }
    return isArray(this._weekdays) ? this._weekdays[m.day()] : this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
  }
  var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
  function localeWeekdaysShort(m) {
    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
  }
  var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
  function localeWeekdaysMin(m) {
    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
  }
  function handleStrictParse$1(weekdayName, format, strict) {
    var i,
        ii,
        mom,
        llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._minWeekdaysParse = [];
      for (i = 0; i < 7; ++i) {
        mom = createUTC([2000, 1]).day(i);
        this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
        this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
        this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
      }
    }
    if (strict) {
      if (format === 'dddd') {
        ii = indexOf$1.call(this._weekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format === 'ddd') {
        ii = indexOf$1.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf$1.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    } else {
      if (format === 'dddd') {
        ii = indexOf$1.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else if (format === 'ddd') {
        ii = indexOf$1.call(this._shortWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._minWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      } else {
        ii = indexOf$1.call(this._minWeekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._weekdaysParse, llc);
        if (ii !== -1) {
          return ii;
        }
        ii = indexOf$1.call(this._shortWeekdaysParse, llc);
        return ii !== -1 ? ii : null;
      }
    }
  }
  function localeWeekdaysParse(weekdayName, format, strict) {
    var i,
        mom,
        regex;
    if (this._weekdaysParseExact) {
      return handleStrictParse$1.call(this, weekdayName, format, strict);
    }
    if (!this._weekdaysParse) {
      this._weekdaysParse = [];
      this._minWeekdaysParse = [];
      this._shortWeekdaysParse = [];
      this._fullWeekdaysParse = [];
    }
    for (i = 0; i < 7; i++) {
      mom = createUTC([2000, 1]).day(i);
      if (strict && !this._fullWeekdaysParse[i]) {
        this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\.?') + '$', 'i');
        this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\.?') + '$', 'i');
        this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\.?') + '$', 'i');
      }
      if (!this._weekdaysParse[i]) {
        regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
        this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
      }
      if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
        return i;
      } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
        return i;
      }
    }
  }
  function getSetDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
    if (input != null) {
      input = parseWeekday(input, this.localeData());
      return this.add(input - day, 'd');
    } else {
      return day;
    }
  }
  function getSetLocaleDayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, 'd');
  }
  function getSetISODayOfWeek(input) {
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      var weekday = parseIsoWeekday(input, this.localeData());
      return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
      return this.day() || 7;
    }
  }
  var defaultWeekdaysRegex = matchWord;
  function weekdaysRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysStrictRegex;
      } else {
        return this._weekdaysRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        this._weekdaysRegex = defaultWeekdaysRegex;
      }
      return this._weekdaysStrictRegex && isStrict ? this._weekdaysStrictRegex : this._weekdaysRegex;
    }
  }
  var defaultWeekdaysShortRegex = matchWord;
  function weekdaysShortRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysShortStrictRegex;
      } else {
        return this._weekdaysShortRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysShortRegex')) {
        this._weekdaysShortRegex = defaultWeekdaysShortRegex;
      }
      return this._weekdaysShortStrictRegex && isStrict ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
  }
  var defaultWeekdaysMinRegex = matchWord;
  function weekdaysMinRegex(isStrict) {
    if (this._weekdaysParseExact) {
      if (!hasOwnProp(this, '_weekdaysRegex')) {
        computeWeekdaysParse.call(this);
      }
      if (isStrict) {
        return this._weekdaysMinStrictRegex;
      } else {
        return this._weekdaysMinRegex;
      }
    } else {
      if (!hasOwnProp(this, '_weekdaysMinRegex')) {
        this._weekdaysMinRegex = defaultWeekdaysMinRegex;
      }
      return this._weekdaysMinStrictRegex && isStrict ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
  }
  function computeWeekdaysParse() {
    function cmpLenRev(a, b) {
      return b.length - a.length;
    }
    var minPieces = [],
        shortPieces = [],
        longPieces = [],
        mixedPieces = [],
        i,
        mom,
        minp,
        shortp,
        longp;
    for (i = 0; i < 7; i++) {
      mom = createUTC([2000, 1]).day(i);
      minp = this.weekdaysMin(mom, '');
      shortp = this.weekdaysShort(mom, '');
      longp = this.weekdays(mom, '');
      minPieces.push(minp);
      shortPieces.push(shortp);
      longPieces.push(longp);
      mixedPieces.push(minp);
      mixedPieces.push(shortp);
      mixedPieces.push(longp);
    }
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 7; i++) {
      shortPieces[i] = regexEscape(shortPieces[i]);
      longPieces[i] = regexEscape(longPieces[i]);
      mixedPieces[i] = regexEscape(mixedPieces[i]);
    }
    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;
    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
  }
  function hFormat() {
    return this.hours() % 12 || 12;
  }
  function kFormat() {
    return this.hours() || 24;
  }
  addFormatToken('H', ['HH', 2], 0, 'hour');
  addFormatToken('h', ['hh', 2], 0, hFormat);
  addFormatToken('k', ['kk', 2], 0, kFormat);
  addFormatToken('hmm', 0, 0, function() {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
  });
  addFormatToken('hmmss', 0, 0, function() {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  addFormatToken('Hmm', 0, 0, function() {
    return '' + this.hours() + zeroFill(this.minutes(), 2);
  });
  addFormatToken('Hmmss', 0, 0, function() {
    return '' + this.hours() + zeroFill(this.minutes(), 2) + zeroFill(this.seconds(), 2);
  });
  function meridiem(token, lowercase) {
    addFormatToken(token, 0, 0, function() {
      return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
    });
  }
  meridiem('a', true);
  meridiem('A', false);
  addUnitAlias('hour', 'h');
  addUnitPriority('hour', 13);
  function matchMeridiem(isStrict, locale) {
    return locale._meridiemParse;
  }
  addRegexToken('a', matchMeridiem);
  addRegexToken('A', matchMeridiem);
  addRegexToken('H', match1to2);
  addRegexToken('h', match1to2);
  addRegexToken('HH', match1to2, match2);
  addRegexToken('hh', match1to2, match2);
  addRegexToken('hmm', match3to4);
  addRegexToken('hmmss', match5to6);
  addRegexToken('Hmm', match3to4);
  addRegexToken('Hmmss', match5to6);
  addParseToken(['H', 'HH'], HOUR);
  addParseToken(['a', 'A'], function(input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
  });
  addParseToken(['h', 'hh'], function(input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('hmm', function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('hmmss', function(input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
  });
  addParseToken('Hmm', function(input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
  });
  addParseToken('Hmmss', function(input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
  });
  function localeIsPM(input) {
    return ((input + '').toLowerCase().charAt(0) === 'p');
  }
  var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
  function localeMeridiem(hours, minutes, isLower) {
    if (hours > 11) {
      return isLower ? 'pm' : 'PM';
    } else {
      return isLower ? 'am' : 'AM';
    }
  }
  var getSetHour = makeGetSet('Hours', true);
  var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    ordinalParse: defaultOrdinalParse,
    relativeTime: defaultRelativeTime,
    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,
    week: defaultLocaleWeek,
    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,
    meridiemParse: defaultLocaleMeridiemParse
  };
  var locales = {};
  var localeFamilies = {};
  var globalLocale;
  function normalizeLocale(key) {
    return key ? key.toLowerCase().replace('_', '-') : key;
  }
  function chooseLocale(names) {
    var i = 0,
        j,
        next,
        locale,
        split;
    while (i < names.length) {
      split = normalizeLocale(names[i]).split('-');
      j = split.length;
      next = normalizeLocale(names[i + 1]);
      next = next ? next.split('-') : null;
      while (j > 0) {
        locale = loadLocale(split.slice(0, j).join('-'));
        if (locale) {
          return locale;
        }
        if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
          break;
        }
        j--;
      }
      i++;
    }
    return null;
  }
  function loadLocale(name) {
    var oldLocale = null;
    if (!locales[name] && (typeof module !== 'undefined') && module && module.exports) {
      try {
        oldLocale = globalLocale._abbr;
        require('./locale/' + name);
        getSetGlobalLocale(oldLocale);
      } catch (e) {}
    }
    return locales[name];
  }
  function getSetGlobalLocale(key, values) {
    var data;
    if (key) {
      if (isUndefined(values)) {
        data = getLocale(key);
      } else {
        data = defineLocale(key, values);
      }
      if (data) {
        globalLocale = data;
      }
    }
    return globalLocale._abbr;
  }
  function defineLocale(name, config) {
    if (config !== null) {
      var parentConfig = baseConfig;
      config.abbr = name;
      if (locales[name] != null) {
        deprecateSimple('defineLocaleOverride', 'use moment.updateLocale(localeName, config) to change ' + 'an existing locale. moment.defineLocale(localeName, ' + 'config) should only be used for creating a new locale ' + 'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
        parentConfig = locales[name]._config;
      } else if (config.parentLocale != null) {
        if (locales[config.parentLocale] != null) {
          parentConfig = locales[config.parentLocale]._config;
        } else {
          if (!localeFamilies[config.parentLocale]) {
            localeFamilies[config.parentLocale] = [];
          }
          localeFamilies[config.parentLocale].push({
            name: name,
            config: config
          });
          return null;
        }
      }
      locales[name] = new Locale(mergeConfigs(parentConfig, config));
      if (localeFamilies[name]) {
        localeFamilies[name].forEach(function(x) {
          defineLocale(x.name, x.config);
        });
      }
      getSetGlobalLocale(name);
      return locales[name];
    } else {
      delete locales[name];
      return null;
    }
  }
  function updateLocale(name, config) {
    if (config != null) {
      var locale,
          parentConfig = baseConfig;
      if (locales[name] != null) {
        parentConfig = locales[name]._config;
      }
      config = mergeConfigs(parentConfig, config);
      locale = new Locale(config);
      locale.parentLocale = locales[name];
      locales[name] = locale;
      getSetGlobalLocale(name);
    } else {
      if (locales[name] != null) {
        if (locales[name].parentLocale != null) {
          locales[name] = locales[name].parentLocale;
        } else if (locales[name] != null) {
          delete locales[name];
        }
      }
    }
    return locales[name];
  }
  function getLocale(key) {
    var locale;
    if (key && key._locale && key._locale._abbr) {
      key = key._locale._abbr;
    }
    if (!key) {
      return globalLocale;
    }
    if (!isArray(key)) {
      locale = loadLocale(key);
      if (locale) {
        return locale;
      }
      key = [key];
    }
    return chooseLocale(key);
  }
  function listLocales() {
    return keys$1(locales);
  }
  function checkOverflow(m) {
    var overflow;
    var a = m._a;
    if (a && getParsingFlags(m).overflow === -2) {
      overflow = a[MONTH] < 0 || a[MONTH] > 11 ? MONTH : a[DATE] < 1 || a[DATE] > daysInMonth(a[YEAR], a[MONTH]) ? DATE : a[HOUR] < 0 || a[HOUR] > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR : a[MINUTE] < 0 || a[MINUTE] > 59 ? MINUTE : a[SECOND] < 0 || a[SECOND] > 59 ? SECOND : a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND : -1;
      if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
        overflow = DATE;
      }
      if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
        overflow = WEEK;
      }
      if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
        overflow = WEEKDAY;
      }
      getParsingFlags(m).overflow = overflow;
    }
    return m;
  }
  var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
  var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
  var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;
  var isoDates = [['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/], ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/], ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/], ['GGGG-[W]WW', /\d{4}-W\d\d/, false], ['YYYY-DDD', /\d{4}-\d{3}/], ['YYYY-MM', /\d{4}-\d\d/, false], ['YYYYYYMMDD', /[+-]\d{10}/], ['YYYYMMDD', /\d{8}/], ['GGGG[W]WWE', /\d{4}W\d{3}/], ['GGGG[W]WW', /\d{4}W\d{2}/, false], ['YYYYDDD', /\d{7}/]];
  var isoTimes = [['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/], ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/], ['HH:mm:ss', /\d\d:\d\d:\d\d/], ['HH:mm', /\d\d:\d\d/], ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/], ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/], ['HHmmss', /\d\d\d\d\d\d/], ['HHmm', /\d\d\d\d/], ['HH', /\d\d/]];
  var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;
  function configFromISO(config) {
    var i,
        l,
        string = config._i,
        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
        allowTime,
        dateFormat,
        timeFormat,
        tzFormat;
    if (match) {
      getParsingFlags(config).iso = true;
      for (i = 0, l = isoDates.length; i < l; i++) {
        if (isoDates[i][1].exec(match[1])) {
          dateFormat = isoDates[i][0];
          allowTime = isoDates[i][2] !== false;
          break;
        }
      }
      if (dateFormat == null) {
        config._isValid = false;
        return;
      }
      if (match[3]) {
        for (i = 0, l = isoTimes.length; i < l; i++) {
          if (isoTimes[i][1].exec(match[3])) {
            timeFormat = (match[2] || ' ') + isoTimes[i][0];
            break;
          }
        }
        if (timeFormat == null) {
          config._isValid = false;
          return;
        }
      }
      if (!allowTime && timeFormat != null) {
        config._isValid = false;
        return;
      }
      if (match[4]) {
        if (tzRegex.exec(match[4])) {
          tzFormat = 'Z';
        } else {
          config._isValid = false;
          return;
        }
      }
      config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
      configFromStringAndFormat(config);
    } else {
      config._isValid = false;
    }
  }
  function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);
    if (matched !== null) {
      config._d = new Date(+matched[1]);
      return;
    }
    configFromISO(config);
    if (config._isValid === false) {
      delete config._isValid;
      hooks.createFromInputFallback(config);
    }
  }
  hooks.createFromInputFallback = deprecate('value provided is not in a recognized ISO format. moment construction falls back to js Date(), ' + 'which is not reliable across all browsers and versions. Non ISO date formats are ' + 'discouraged and will be removed in an upcoming major release. Please refer to ' + 'http://momentjs.com/guides/#/warnings/js-date/ for more info.', function(config) {
    config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
  });
  function defaults(a, b, c) {
    if (a != null) {
      return a;
    }
    if (b != null) {
      return b;
    }
    return c;
  }
  function currentDateArray(config) {
    var nowValue = new Date(hooks.now());
    if (config._useUTC) {
      return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
  }
  function configFromArray(config) {
    var i,
        date,
        input = [],
        currentDate,
        yearToUse;
    if (config._d) {
      return;
    }
    currentDate = currentDateArray(config);
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
      dayOfYearFromWeekInfo(config);
    }
    if (config._dayOfYear) {
      yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);
      if (config._dayOfYear > daysInYear(yearToUse)) {
        getParsingFlags(config)._overflowDayOfYear = true;
      }
      date = createUTCDate(yearToUse, 0, config._dayOfYear);
      config._a[MONTH] = date.getUTCMonth();
      config._a[DATE] = date.getUTCDate();
    }
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
      config._a[i] = input[i] = currentDate[i];
    }
    for (; i < 7; i++) {
      config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
    }
    if (config._a[HOUR] === 24 && config._a[MINUTE] === 0 && config._a[SECOND] === 0 && config._a[MILLISECOND] === 0) {
      config._nextDay = true;
      config._a[HOUR] = 0;
    }
    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
    if (config._tzm != null) {
      config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }
    if (config._nextDay) {
      config._a[HOUR] = 24;
    }
  }
  function dayOfYearFromWeekInfo(config) {
    var w,
        weekYear,
        week,
        weekday,
        dow,
        doy,
        temp,
        weekdayOverflow;
    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
      dow = 1;
      doy = 4;
      weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
      week = defaults(w.W, 1);
      weekday = defaults(w.E, 1);
      if (weekday < 1 || weekday > 7) {
        weekdayOverflow = true;
      }
    } else {
      dow = config._locale._week.dow;
      doy = config._locale._week.doy;
      var curWeek = weekOfYear(createLocal(), dow, doy);
      weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);
      week = defaults(w.w, curWeek.week);
      if (w.d != null) {
        weekday = w.d;
        if (weekday < 0 || weekday > 6) {
          weekdayOverflow = true;
        }
      } else if (w.e != null) {
        weekday = w.e + dow;
        if (w.e < 0 || w.e > 6) {
          weekdayOverflow = true;
        }
      } else {
        weekday = dow;
      }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
      getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
      getParsingFlags(config)._overflowWeekday = true;
    } else {
      temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
      config._a[YEAR] = temp.year;
      config._dayOfYear = temp.dayOfYear;
    }
  }
  hooks.ISO_8601 = function() {};
  function configFromStringAndFormat(config) {
    if (config._f === hooks.ISO_8601) {
      configFromISO(config);
      return;
    }
    config._a = [];
    getParsingFlags(config).empty = true;
    var string = '' + config._i,
        i,
        parsedInput,
        tokens,
        token,
        skipped,
        stringLength = string.length,
        totalParsedInputLength = 0;
    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];
    for (i = 0; i < tokens.length; i++) {
      token = tokens[i];
      parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
      if (parsedInput) {
        skipped = string.substr(0, string.indexOf(parsedInput));
        if (skipped.length > 0) {
          getParsingFlags(config).unusedInput.push(skipped);
        }
        string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
        totalParsedInputLength += parsedInput.length;
      }
      if (formatTokenFunctions[token]) {
        if (parsedInput) {
          getParsingFlags(config).empty = false;
        } else {
          getParsingFlags(config).unusedTokens.push(token);
        }
        addTimeToArrayFromToken(token, parsedInput, config);
      } else if (config._strict && !parsedInput) {
        getParsingFlags(config).unusedTokens.push(token);
      }
    }
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
      getParsingFlags(config).unusedInput.push(string);
    }
    if (config._a[HOUR] <= 12 && getParsingFlags(config).bigHour === true && config._a[HOUR] > 0) {
      getParsingFlags(config).bigHour = undefined;
    }
    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);
    configFromArray(config);
    checkOverflow(config);
  }
  function meridiemFixWrap(locale, hour, meridiem) {
    var isPm;
    if (meridiem == null) {
      return hour;
    }
    if (locale.meridiemHour != null) {
      return locale.meridiemHour(hour, meridiem);
    } else if (locale.isPM != null) {
      isPm = locale.isPM(meridiem);
      if (isPm && hour < 12) {
        hour += 12;
      }
      if (!isPm && hour === 12) {
        hour = 0;
      }
      return hour;
    } else {
      return hour;
    }
  }
  function configFromStringAndArray(config) {
    var tempConfig,
        bestMoment,
        scoreToBeat,
        i,
        currentScore;
    if (config._f.length === 0) {
      getParsingFlags(config).invalidFormat = true;
      config._d = new Date(NaN);
      return;
    }
    for (i = 0; i < config._f.length; i++) {
      currentScore = 0;
      tempConfig = copyConfig({}, config);
      if (config._useUTC != null) {
        tempConfig._useUTC = config._useUTC;
      }
      tempConfig._f = config._f[i];
      configFromStringAndFormat(tempConfig);
      if (!isValid(tempConfig)) {
        continue;
      }
      currentScore += getParsingFlags(tempConfig).charsLeftOver;
      currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;
      getParsingFlags(tempConfig).score = currentScore;
      if (scoreToBeat == null || currentScore < scoreToBeat) {
        scoreToBeat = currentScore;
        bestMoment = tempConfig;
      }
    }
    extend(config, bestMoment || tempConfig);
  }
  function configFromObject(config) {
    if (config._d) {
      return;
    }
    var i = normalizeObjectUnits(config._i);
    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function(obj) {
      return obj && parseInt(obj, 10);
    });
    configFromArray(config);
  }
  function createFromConfig(config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
      res.add(1, 'd');
      res._nextDay = undefined;
    }
    return res;
  }
  function prepareConfig(config) {
    var input = config._i,
        format = config._f;
    config._locale = config._locale || getLocale(config._l);
    if (input === null || (format === undefined && input === '')) {
      return createInvalid({nullInput: true});
    }
    if (typeof input === 'string') {
      config._i = input = config._locale.preparse(input);
    }
    if (isMoment(input)) {
      return new Moment(checkOverflow(input));
    } else if (isDate(input)) {
      config._d = input;
    } else if (isArray(format)) {
      configFromStringAndArray(config);
    } else if (format) {
      configFromStringAndFormat(config);
    } else {
      configFromInput(config);
    }
    if (!isValid(config)) {
      config._d = null;
    }
    return config;
  }
  function configFromInput(config) {
    var input = config._i;
    if (input === undefined) {
      config._d = new Date(hooks.now());
    } else if (isDate(input)) {
      config._d = new Date(input.valueOf());
    } else if (typeof input === 'string') {
      configFromString(config);
    } else if (isArray(input)) {
      config._a = map(input.slice(0), function(obj) {
        return parseInt(obj, 10);
      });
      configFromArray(config);
    } else if (typeof(input) === 'object') {
      configFromObject(config);
    } else if (isNumber(input)) {
      config._d = new Date(input);
    } else {
      hooks.createFromInputFallback(config);
    }
  }
  function createLocalOrUTC(input, format, locale, strict, isUTC) {
    var c = {};
    if (locale === true || locale === false) {
      strict = locale;
      locale = undefined;
    }
    if ((isObject(input) && isObjectEmpty(input)) || (isArray(input) && input.length === 0)) {
      input = undefined;
    }
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale;
    c._i = input;
    c._f = format;
    c._strict = strict;
    return createFromConfig(c);
  }
  function createLocal(input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, false);
  }
  var prototypeMin = deprecate('moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/', function() {
    var other = createLocal.apply(null, arguments);
    if (this.isValid() && other.isValid()) {
      return other < this ? this : other;
    } else {
      return createInvalid();
    }
  });
  var prototypeMax = deprecate('moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/', function() {
    var other = createLocal.apply(null, arguments);
    if (this.isValid() && other.isValid()) {
      return other > this ? this : other;
    } else {
      return createInvalid();
    }
  });
  function pickBy(fn, moments) {
    var res,
        i;
    if (moments.length === 1 && isArray(moments[0])) {
      moments = moments[0];
    }
    if (!moments.length) {
      return createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
      if (!moments[i].isValid() || moments[i][fn](res)) {
        res = moments[i];
      }
    }
    return res;
  }
  function min() {
    var args = [].slice.call(arguments, 0);
    return pickBy('isBefore', args);
  }
  function max() {
    var args = [].slice.call(arguments, 0);
    return pickBy('isAfter', args);
  }
  var now = function() {
    return Date.now ? Date.now() : +(new Date());
  };
  function Duration(duration) {
    var normalizedInput = normalizeObjectUnits(duration),
        years = normalizedInput.year || 0,
        quarters = normalizedInput.quarter || 0,
        months = normalizedInput.month || 0,
        weeks = normalizedInput.week || 0,
        days = normalizedInput.day || 0,
        hours = normalizedInput.hour || 0,
        minutes = normalizedInput.minute || 0,
        seconds = normalizedInput.second || 0,
        milliseconds = normalizedInput.millisecond || 0;
    this._milliseconds = +milliseconds + seconds * 1e3 + minutes * 6e4 + hours * 1000 * 60 * 60;
    this._days = +days + weeks * 7;
    this._months = +months + quarters * 3 + years * 12;
    this._data = {};
    this._locale = getLocale();
    this._bubble();
  }
  function isDuration(obj) {
    return obj instanceof Duration;
  }
  function absRound(number) {
    if (number < 0) {
      return Math.round(-1 * number) * -1;
    } else {
      return Math.round(number);
    }
  }
  function offset(token, separator) {
    addFormatToken(token, 0, 0, function() {
      var offset = this.utcOffset();
      var sign = '+';
      if (offset < 0) {
        offset = -offset;
        sign = '-';
      }
      return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
    });
  }
  offset('Z', ':');
  offset('ZZ', '');
  addRegexToken('Z', matchShortOffset);
  addRegexToken('ZZ', matchShortOffset);
  addParseToken(['Z', 'ZZ'], function(input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
  });
  var chunkOffset = /([\+\-]|\d\d)/gi;
  function offsetFromString(matcher, string) {
    var matches = (string || '').match(matcher);
    if (matches === null) {
      return null;
    }
    var chunk = matches[matches.length - 1] || [];
    var parts = (chunk + '').match(chunkOffset) || ['-', 0, 0];
    var minutes = +(parts[1] * 60) + toInt(parts[2]);
    return minutes === 0 ? 0 : parts[0] === '+' ? minutes : -minutes;
  }
  function cloneWithOffset(input, model) {
    var res,
        diff;
    if (model._isUTC) {
      res = model.clone();
      diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
      res._d.setTime(res._d.valueOf() + diff);
      hooks.updateOffset(res, false);
      return res;
    } else {
      return createLocal(input).local();
    }
  }
  function getDateOffset(m) {
    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
  }
  hooks.updateOffset = function() {};
  function getSetOffset(input, keepLocalTime) {
    var offset = this._offset || 0,
        localAdjust;
    if (!this.isValid()) {
      return input != null ? this : NaN;
    }
    if (input != null) {
      if (typeof input === 'string') {
        input = offsetFromString(matchShortOffset, input);
        if (input === null) {
          return this;
        }
      } else if (Math.abs(input) < 16) {
        input = input * 60;
      }
      if (!this._isUTC && keepLocalTime) {
        localAdjust = getDateOffset(this);
      }
      this._offset = input;
      this._isUTC = true;
      if (localAdjust != null) {
        this.add(localAdjust, 'm');
      }
      if (offset !== input) {
        if (!keepLocalTime || this._changeInProgress) {
          addSubtract(this, createDuration(input - offset, 'm'), 1, false);
        } else if (!this._changeInProgress) {
          this._changeInProgress = true;
          hooks.updateOffset(this, true);
          this._changeInProgress = null;
        }
      }
      return this;
    } else {
      return this._isUTC ? offset : getDateOffset(this);
    }
  }
  function getSetZone(input, keepLocalTime) {
    if (input != null) {
      if (typeof input !== 'string') {
        input = -input;
      }
      this.utcOffset(input, keepLocalTime);
      return this;
    } else {
      return -this.utcOffset();
    }
  }
  function setOffsetToUTC(keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
  }
  function setOffsetToLocal(keepLocalTime) {
    if (this._isUTC) {
      this.utcOffset(0, keepLocalTime);
      this._isUTC = false;
      if (keepLocalTime) {
        this.subtract(getDateOffset(this), 'm');
      }
    }
    return this;
  }
  function setOffsetToParsedOffset() {
    if (this._tzm != null) {
      this.utcOffset(this._tzm);
    } else if (typeof this._i === 'string') {
      var tZone = offsetFromString(matchOffset, this._i);
      if (tZone != null) {
        this.utcOffset(tZone);
      } else {
        this.utcOffset(0, true);
      }
    }
    return this;
  }
  function hasAlignedHourOffset(input) {
    if (!this.isValid()) {
      return false;
    }
    input = input ? createLocal(input).utcOffset() : 0;
    return (this.utcOffset() - input) % 60 === 0;
  }
  function isDaylightSavingTime() {
    return (this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset());
  }
  function isDaylightSavingTimeShifted() {
    if (!isUndefined(this._isDSTShifted)) {
      return this._isDSTShifted;
    }
    var c = {};
    copyConfig(c, this);
    c = prepareConfig(c);
    if (c._a) {
      var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
      this._isDSTShifted = this.isValid() && compareArrays(c._a, other.toArray()) > 0;
    } else {
      this._isDSTShifted = false;
    }
    return this._isDSTShifted;
  }
  function isLocal() {
    return this.isValid() ? !this._isUTC : false;
  }
  function isUtcOffset() {
    return this.isValid() ? this._isUTC : false;
  }
  function isUtc() {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
  }
  var aspNetRegex = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;
  var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
  function createDuration(input, key) {
    var duration = input,
        match = null,
        sign,
        ret,
        diffRes;
    if (isDuration(input)) {
      duration = {
        ms: input._milliseconds,
        d: input._days,
        M: input._months
      };
    } else if (isNumber(input)) {
      duration = {};
      if (key) {
        duration[key] = input;
      } else {
        duration.milliseconds = input;
      }
    } else if (!!(match = aspNetRegex.exec(input))) {
      sign = (match[1] === '-') ? -1 : 1;
      duration = {
        y: 0,
        d: toInt(match[DATE]) * sign,
        h: toInt(match[HOUR]) * sign,
        m: toInt(match[MINUTE]) * sign,
        s: toInt(match[SECOND]) * sign,
        ms: toInt(absRound(match[MILLISECOND] * 1000)) * sign
      };
    } else if (!!(match = isoRegex.exec(input))) {
      sign = (match[1] === '-') ? -1 : 1;
      duration = {
        y: parseIso(match[2], sign),
        M: parseIso(match[3], sign),
        w: parseIso(match[4], sign),
        d: parseIso(match[5], sign),
        h: parseIso(match[6], sign),
        m: parseIso(match[7], sign),
        s: parseIso(match[8], sign)
      };
    } else if (duration == null) {
      duration = {};
    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
      diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));
      duration = {};
      duration.ms = diffRes.milliseconds;
      duration.M = diffRes.months;
    }
    ret = new Duration(duration);
    if (isDuration(input) && hasOwnProp(input, '_locale')) {
      ret._locale = input._locale;
    }
    return ret;
  }
  createDuration.fn = Duration.prototype;
  function parseIso(inp, sign) {
    var res = inp && parseFloat(inp.replace(',', '.'));
    return (isNaN(res) ? 0 : res) * sign;
  }
  function positiveMomentsDifference(base, other) {
    var res = {
      milliseconds: 0,
      months: 0
    };
    res.months = other.month() - base.month() + (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, 'M').isAfter(other)) {
      --res.months;
    }
    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));
    return res;
  }
  function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
      return {
        milliseconds: 0,
        months: 0
      };
    }
    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
      res = positiveMomentsDifference(base, other);
    } else {
      res = positiveMomentsDifference(other, base);
      res.milliseconds = -res.milliseconds;
      res.months = -res.months;
    }
    return res;
  }
  function createAdder(direction, name) {
    return function(val, period) {
      var dur,
          tmp;
      if (period !== null && !isNaN(+period)) {
        deprecateSimple(name, 'moment().' + name + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' + 'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
        tmp = val;
        val = period;
        period = tmp;
      }
      val = typeof val === 'string' ? +val : val;
      dur = createDuration(val, period);
      addSubtract(this, dur, direction);
      return this;
    };
  }
  function addSubtract(mom, duration, isAdding, updateOffset) {
    var milliseconds = duration._milliseconds,
        days = absRound(duration._days),
        months = absRound(duration._months);
    if (!mom.isValid()) {
      return;
    }
    updateOffset = updateOffset == null ? true : updateOffset;
    if (milliseconds) {
      mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
    }
    if (days) {
      set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
    }
    if (months) {
      setMonth(mom, get(mom, 'Month') + months * isAdding);
    }
    if (updateOffset) {
      hooks.updateOffset(mom, days || months);
    }
  }
  var add = createAdder(1, 'add');
  var subtract = createAdder(-1, 'subtract');
  function getCalendarFormat(myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    return diff < -6 ? 'sameElse' : diff < -1 ? 'lastWeek' : diff < 0 ? 'lastDay' : diff < 1 ? 'sameDay' : diff < 2 ? 'nextDay' : diff < 7 ? 'nextWeek' : 'sameElse';
  }
  function calendar$1(time, formats) {
    var now = time || createLocal(),
        sod = cloneWithOffset(now, this).startOf('day'),
        format = hooks.calendarFormat(this, sod) || 'sameElse';
    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);
    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
  }
  function clone() {
    return new Moment(this);
  }
  function isAfter(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() > localInput.valueOf();
    } else {
      return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
  }
  function isBefore(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() < localInput.valueOf();
    } else {
      return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
  }
  function isBetween(from, to, units, inclusivity) {
    inclusivity = inclusivity || '()';
    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) && (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
  }
  function isSame(input, units) {
    var localInput = isMoment(input) ? input : createLocal(input),
        inputMs;
    if (!(this.isValid() && localInput.isValid())) {
      return false;
    }
    units = normalizeUnits(units || 'millisecond');
    if (units === 'millisecond') {
      return this.valueOf() === localInput.valueOf();
    } else {
      inputMs = localInput.valueOf();
      return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
  }
  function isSameOrAfter(input, units) {
    return this.isSame(input, units) || this.isAfter(input, units);
  }
  function isSameOrBefore(input, units) {
    return this.isSame(input, units) || this.isBefore(input, units);
  }
  function diff(input, units, asFloat) {
    var that,
        zoneDelta,
        delta,
        output;
    if (!this.isValid()) {
      return NaN;
    }
    that = cloneWithOffset(input, this);
    if (!that.isValid()) {
      return NaN;
    }
    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;
    units = normalizeUnits(units);
    if (units === 'year' || units === 'month' || units === 'quarter') {
      output = monthDiff(this, that);
      if (units === 'quarter') {
        output = output / 3;
      } else if (units === 'year') {
        output = output / 12;
      }
    } else {
      delta = this - that;
      output = units === 'second' ? delta / 1e3 : units === 'minute' ? delta / 6e4 : units === 'hour' ? delta / 36e5 : units === 'day' ? (delta - zoneDelta) / 864e5 : units === 'week' ? (delta - zoneDelta) / 6048e5 : delta;
    }
    return asFloat ? output : absFloor(output);
  }
  function monthDiff(a, b) {
    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        anchor = a.clone().add(wholeMonthDiff, 'months'),
        anchor2,
        adjust;
    if (b - anchor < 0) {
      anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
      adjust = (b - anchor) / (anchor - anchor2);
    } else {
      anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
      adjust = (b - anchor) / (anchor2 - anchor);
    }
    return -(wholeMonthDiff + adjust) || 0;
  }
  hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
  hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';
  function toString() {
    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
  }
  function toISOString() {
    var m = this.clone().utc();
    if (0 < m.year() && m.year() <= 9999) {
      if (isFunction(Date.prototype.toISOString)) {
        return this.toDate().toISOString();
      } else {
        return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
      }
    } else {
      return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
    }
  }
  function inspect() {
    if (!this.isValid()) {
      return 'moment.invalid(/* ' + this._i + ' */)';
    }
    var func = 'moment';
    var zone = '';
    if (!this.isLocal()) {
      func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
      zone = 'Z';
    }
    var prefix = '[' + func + '("]';
    var year = (0 < this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
    var datetime = '-MM-DD[T]HH:mm:ss.SSS';
    var suffix = zone + '[")]';
    return this.format(prefix + year + datetime + suffix);
  }
  function format(inputString) {
    if (!inputString) {
      inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
  }
  function from(time, withoutSuffix) {
    if (this.isValid() && ((isMoment(time) && time.isValid()) || createLocal(time).isValid())) {
      return createDuration({
        to: this,
        from: time
      }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function fromNow(withoutSuffix) {
    return this.from(createLocal(), withoutSuffix);
  }
  function to(time, withoutSuffix) {
    if (this.isValid() && ((isMoment(time) && time.isValid()) || createLocal(time).isValid())) {
      return createDuration({
        from: this,
        to: time
      }).locale(this.locale()).humanize(!withoutSuffix);
    } else {
      return this.localeData().invalidDate();
    }
  }
  function toNow(withoutSuffix) {
    return this.to(createLocal(), withoutSuffix);
  }
  function locale(key) {
    var newLocaleData;
    if (key === undefined) {
      return this._locale._abbr;
    } else {
      newLocaleData = getLocale(key);
      if (newLocaleData != null) {
        this._locale = newLocaleData;
      }
      return this;
    }
  }
  var lang = deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.', function(key) {
    if (key === undefined) {
      return this.localeData();
    } else {
      return this.locale(key);
    }
  });
  function localeData() {
    return this._locale;
  }
  function startOf(units) {
    units = normalizeUnits(units);
    switch (units) {
      case 'year':
        this.month(0);
      case 'quarter':
      case 'month':
        this.date(1);
      case 'week':
      case 'isoWeek':
      case 'day':
      case 'date':
        this.hours(0);
      case 'hour':
        this.minutes(0);
      case 'minute':
        this.seconds(0);
      case 'second':
        this.milliseconds(0);
    }
    if (units === 'week') {
      this.weekday(0);
    }
    if (units === 'isoWeek') {
      this.isoWeekday(1);
    }
    if (units === 'quarter') {
      this.month(Math.floor(this.month() / 3) * 3);
    }
    return this;
  }
  function endOf(units) {
    units = normalizeUnits(units);
    if (units === undefined || units === 'millisecond') {
      return this;
    }
    if (units === 'date') {
      units = 'day';
    }
    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
  }
  function valueOf() {
    return this._d.valueOf() - ((this._offset || 0) * 60000);
  }
  function unix() {
    return Math.floor(this.valueOf() / 1000);
  }
  function toDate() {
    return new Date(this.valueOf());
  }
  function toArray() {
    var m = this;
    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
  }
  function toObject() {
    var m = this;
    return {
      years: m.year(),
      months: m.month(),
      date: m.date(),
      hours: m.hours(),
      minutes: m.minutes(),
      seconds: m.seconds(),
      milliseconds: m.milliseconds()
    };
  }
  function toJSON() {
    return this.isValid() ? this.toISOString() : null;
  }
  function isValid$1() {
    return isValid(this);
  }
  function parsingFlags() {
    return extend({}, getParsingFlags(this));
  }
  function invalidAt() {
    return getParsingFlags(this).overflow;
  }
  function creationData() {
    return {
      input: this._i,
      format: this._f,
      locale: this._locale,
      isUTC: this._isUTC,
      strict: this._strict
    };
  }
  addFormatToken(0, ['gg', 2], 0, function() {
    return this.weekYear() % 100;
  });
  addFormatToken(0, ['GG', 2], 0, function() {
    return this.isoWeekYear() % 100;
  });
  function addWeekYearFormatToken(token, getter) {
    addFormatToken(0, [token, token.length], 0, getter);
  }
  addWeekYearFormatToken('gggg', 'weekYear');
  addWeekYearFormatToken('ggggg', 'weekYear');
  addWeekYearFormatToken('GGGG', 'isoWeekYear');
  addWeekYearFormatToken('GGGGG', 'isoWeekYear');
  addUnitAlias('weekYear', 'gg');
  addUnitAlias('isoWeekYear', 'GG');
  addUnitPriority('weekYear', 1);
  addUnitPriority('isoWeekYear', 1);
  addRegexToken('G', matchSigned);
  addRegexToken('g', matchSigned);
  addRegexToken('GG', match1to2, match2);
  addRegexToken('gg', match1to2, match2);
  addRegexToken('GGGG', match1to4, match4);
  addRegexToken('gggg', match1to4, match4);
  addRegexToken('GGGGG', match1to6, match6);
  addRegexToken('ggggg', match1to6, match6);
  addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function(input, week, config, token) {
    week[token.substr(0, 2)] = toInt(input);
  });
  addWeekParseToken(['gg', 'GG'], function(input, week, config, token) {
    week[token] = hooks.parseTwoDigitYear(input);
  });
  function getSetWeekYear(input) {
    return getSetWeekYearHelper.call(this, input, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy);
  }
  function getSetISOWeekYear(input) {
    return getSetWeekYearHelper.call(this, input, this.isoWeek(), this.isoWeekday(), 1, 4);
  }
  function getISOWeeksInYear() {
    return weeksInYear(this.year(), 1, 4);
  }
  function getWeeksInYear() {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
  }
  function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
      return weekOfYear(this, dow, doy).year;
    } else {
      weeksTarget = weeksInYear(input, dow, doy);
      if (week > weeksTarget) {
        week = weeksTarget;
      }
      return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
  }
  function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);
    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
  }
  addFormatToken('Q', 0, 'Qo', 'quarter');
  addUnitAlias('quarter', 'Q');
  addUnitPriority('quarter', 7);
  addRegexToken('Q', match1);
  addParseToken('Q', function(input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
  });
  function getSetQuarter(input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
  }
  addFormatToken('D', ['DD', 2], 'Do', 'date');
  addUnitAlias('date', 'D');
  addUnitPriority('date', 9);
  addRegexToken('D', match1to2);
  addRegexToken('DD', match1to2, match2);
  addRegexToken('Do', function(isStrict, locale) {
    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
  });
  addParseToken(['D', 'DD'], DATE);
  addParseToken('Do', function(input, array) {
    array[DATE] = toInt(input.match(match1to2)[0], 10);
  });
  var getSetDayOfMonth = makeGetSet('Date', true);
  addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');
  addUnitAlias('dayOfYear', 'DDD');
  addUnitPriority('dayOfYear', 4);
  addRegexToken('DDD', match1to3);
  addRegexToken('DDDD', match3);
  addParseToken(['DDD', 'DDDD'], function(input, array, config) {
    config._dayOfYear = toInt(input);
  });
  function getSetDayOfYear(input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
  }
  addFormatToken('m', ['mm', 2], 0, 'minute');
  addUnitAlias('minute', 'm');
  addUnitPriority('minute', 14);
  addRegexToken('m', match1to2);
  addRegexToken('mm', match1to2, match2);
  addParseToken(['m', 'mm'], MINUTE);
  var getSetMinute = makeGetSet('Minutes', false);
  addFormatToken('s', ['ss', 2], 0, 'second');
  addUnitAlias('second', 's');
  addUnitPriority('second', 15);
  addRegexToken('s', match1to2);
  addRegexToken('ss', match1to2, match2);
  addParseToken(['s', 'ss'], SECOND);
  var getSetSecond = makeGetSet('Seconds', false);
  addFormatToken('S', 0, 0, function() {
    return ~~(this.millisecond() / 100);
  });
  addFormatToken(0, ['SS', 2], 0, function() {
    return ~~(this.millisecond() / 10);
  });
  addFormatToken(0, ['SSS', 3], 0, 'millisecond');
  addFormatToken(0, ['SSSS', 4], 0, function() {
    return this.millisecond() * 10;
  });
  addFormatToken(0, ['SSSSS', 5], 0, function() {
    return this.millisecond() * 100;
  });
  addFormatToken(0, ['SSSSSS', 6], 0, function() {
    return this.millisecond() * 1000;
  });
  addFormatToken(0, ['SSSSSSS', 7], 0, function() {
    return this.millisecond() * 10000;
  });
  addFormatToken(0, ['SSSSSSSS', 8], 0, function() {
    return this.millisecond() * 100000;
  });
  addFormatToken(0, ['SSSSSSSSS', 9], 0, function() {
    return this.millisecond() * 1000000;
  });
  addUnitAlias('millisecond', 'ms');
  addUnitPriority('millisecond', 16);
  addRegexToken('S', match1to3, match1);
  addRegexToken('SS', match1to3, match2);
  addRegexToken('SSS', match1to3, match3);
  var token;
  for (token = 'SSSS'; token.length <= 9; token += 'S') {
    addRegexToken(token, matchUnsigned);
  }
  function parseMs(input, array) {
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
  }
  for (token = 'S'; token.length <= 9; token += 'S') {
    addParseToken(token, parseMs);
  }
  var getSetMillisecond = makeGetSet('Milliseconds', false);
  addFormatToken('z', 0, 0, 'zoneAbbr');
  addFormatToken('zz', 0, 0, 'zoneName');
  function getZoneAbbr() {
    return this._isUTC ? 'UTC' : '';
  }
  function getZoneName() {
    return this._isUTC ? 'Coordinated Universal Time' : '';
  }
  var proto = Moment.prototype;
  proto.add = add;
  proto.calendar = calendar$1;
  proto.clone = clone;
  proto.diff = diff;
  proto.endOf = endOf;
  proto.format = format;
  proto.from = from;
  proto.fromNow = fromNow;
  proto.to = to;
  proto.toNow = toNow;
  proto.get = stringGet;
  proto.invalidAt = invalidAt;
  proto.isAfter = isAfter;
  proto.isBefore = isBefore;
  proto.isBetween = isBetween;
  proto.isSame = isSame;
  proto.isSameOrAfter = isSameOrAfter;
  proto.isSameOrBefore = isSameOrBefore;
  proto.isValid = isValid$1;
  proto.lang = lang;
  proto.locale = locale;
  proto.localeData = localeData;
  proto.max = prototypeMax;
  proto.min = prototypeMin;
  proto.parsingFlags = parsingFlags;
  proto.set = stringSet;
  proto.startOf = startOf;
  proto.subtract = subtract;
  proto.toArray = toArray;
  proto.toObject = toObject;
  proto.toDate = toDate;
  proto.toISOString = toISOString;
  proto.inspect = inspect;
  proto.toJSON = toJSON;
  proto.toString = toString;
  proto.unix = unix;
  proto.valueOf = valueOf;
  proto.creationData = creationData;
  proto.year = getSetYear;
  proto.isLeapYear = getIsLeapYear;
  proto.weekYear = getSetWeekYear;
  proto.isoWeekYear = getSetISOWeekYear;
  proto.quarter = proto.quarters = getSetQuarter;
  proto.month = getSetMonth;
  proto.daysInMonth = getDaysInMonth;
  proto.week = proto.weeks = getSetWeek;
  proto.isoWeek = proto.isoWeeks = getSetISOWeek;
  proto.weeksInYear = getWeeksInYear;
  proto.isoWeeksInYear = getISOWeeksInYear;
  proto.date = getSetDayOfMonth;
  proto.day = proto.days = getSetDayOfWeek;
  proto.weekday = getSetLocaleDayOfWeek;
  proto.isoWeekday = getSetISODayOfWeek;
  proto.dayOfYear = getSetDayOfYear;
  proto.hour = proto.hours = getSetHour;
  proto.minute = proto.minutes = getSetMinute;
  proto.second = proto.seconds = getSetSecond;
  proto.millisecond = proto.milliseconds = getSetMillisecond;
  proto.utcOffset = getSetOffset;
  proto.utc = setOffsetToUTC;
  proto.local = setOffsetToLocal;
  proto.parseZone = setOffsetToParsedOffset;
  proto.hasAlignedHourOffset = hasAlignedHourOffset;
  proto.isDST = isDaylightSavingTime;
  proto.isLocal = isLocal;
  proto.isUtcOffset = isUtcOffset;
  proto.isUtc = isUtc;
  proto.isUTC = isUtc;
  proto.zoneAbbr = getZoneAbbr;
  proto.zoneName = getZoneName;
  proto.dates = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
  proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
  proto.years = deprecate('years accessor is deprecated. Use year instead', getSetYear);
  proto.zone = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
  proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);
  function createUnix(input) {
    return createLocal(input * 1000);
  }
  function createInZone() {
    return createLocal.apply(null, arguments).parseZone();
  }
  function preParsePostFormat(string) {
    return string;
  }
  var proto$1 = Locale.prototype;
  proto$1.calendar = calendar;
  proto$1.longDateFormat = longDateFormat;
  proto$1.invalidDate = invalidDate;
  proto$1.ordinal = ordinal;
  proto$1.preparse = preParsePostFormat;
  proto$1.postformat = preParsePostFormat;
  proto$1.relativeTime = relativeTime;
  proto$1.pastFuture = pastFuture;
  proto$1.set = set;
  proto$1.months = localeMonths;
  proto$1.monthsShort = localeMonthsShort;
  proto$1.monthsParse = localeMonthsParse;
  proto$1.monthsRegex = monthsRegex;
  proto$1.monthsShortRegex = monthsShortRegex;
  proto$1.week = localeWeek;
  proto$1.firstDayOfYear = localeFirstDayOfYear;
  proto$1.firstDayOfWeek = localeFirstDayOfWeek;
  proto$1.weekdays = localeWeekdays;
  proto$1.weekdaysMin = localeWeekdaysMin;
  proto$1.weekdaysShort = localeWeekdaysShort;
  proto$1.weekdaysParse = localeWeekdaysParse;
  proto$1.weekdaysRegex = weekdaysRegex;
  proto$1.weekdaysShortRegex = weekdaysShortRegex;
  proto$1.weekdaysMinRegex = weekdaysMinRegex;
  proto$1.isPM = localeIsPM;
  proto$1.meridiem = localeMeridiem;
  function get$1(format, index, field, setter) {
    var locale = getLocale();
    var utc = createUTC().set(setter, index);
    return locale[field](utc, format);
  }
  function listMonthsImpl(format, index, field) {
    if (isNumber(format)) {
      index = format;
      format = undefined;
    }
    format = format || '';
    if (index != null) {
      return get$1(format, index, field, 'month');
    }
    var i;
    var out = [];
    for (i = 0; i < 12; i++) {
      out[i] = get$1(format, i, field, 'month');
    }
    return out;
  }
  function listWeekdaysImpl(localeSorted, format, index, field) {
    if (typeof localeSorted === 'boolean') {
      if (isNumber(format)) {
        index = format;
        format = undefined;
      }
      format = format || '';
    } else {
      format = localeSorted;
      index = format;
      localeSorted = false;
      if (isNumber(format)) {
        index = format;
        format = undefined;
      }
      format = format || '';
    }
    var locale = getLocale(),
        shift = localeSorted ? locale._week.dow : 0;
    if (index != null) {
      return get$1(format, (index + shift) % 7, field, 'day');
    }
    var i;
    var out = [];
    for (i = 0; i < 7; i++) {
      out[i] = get$1(format, (i + shift) % 7, field, 'day');
    }
    return out;
  }
  function listMonths(format, index) {
    return listMonthsImpl(format, index, 'months');
  }
  function listMonthsShort(format, index) {
    return listMonthsImpl(format, index, 'monthsShort');
  }
  function listWeekdays(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
  }
  function listWeekdaysShort(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
  }
  function listWeekdaysMin(localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
  }
  getSetGlobalLocale('en', {
    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal: function(number) {
      var b = number % 10,
          output = (toInt(number % 100 / 10) === 1) ? 'th' : (b === 1) ? 'st' : (b === 2) ? 'nd' : (b === 3) ? 'rd' : 'th';
      return number + output;
    }
  });
  hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
  hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);
  var mathAbs = Math.abs;
  function abs() {
    var data = this._data;
    this._milliseconds = mathAbs(this._milliseconds);
    this._days = mathAbs(this._days);
    this._months = mathAbs(this._months);
    data.milliseconds = mathAbs(data.milliseconds);
    data.seconds = mathAbs(data.seconds);
    data.minutes = mathAbs(data.minutes);
    data.hours = mathAbs(data.hours);
    data.months = mathAbs(data.months);
    data.years = mathAbs(data.years);
    return this;
  }
  function addSubtract$1(duration, input, value, direction) {
    var other = createDuration(input, value);
    duration._milliseconds += direction * other._milliseconds;
    duration._days += direction * other._days;
    duration._months += direction * other._months;
    return duration._bubble();
  }
  function add$1(input, value) {
    return addSubtract$1(this, input, value, 1);
  }
  function subtract$1(input, value) {
    return addSubtract$1(this, input, value, -1);
  }
  function absCeil(number) {
    if (number < 0) {
      return Math.floor(number);
    } else {
      return Math.ceil(number);
    }
  }
  function bubble() {
    var milliseconds = this._milliseconds;
    var days = this._days;
    var months = this._months;
    var data = this._data;
    var seconds,
        minutes,
        hours,
        years,
        monthsFromDays;
    if (!((milliseconds >= 0 && days >= 0 && months >= 0) || (milliseconds <= 0 && days <= 0 && months <= 0))) {
      milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
      days = 0;
      months = 0;
    }
    data.milliseconds = milliseconds % 1000;
    seconds = absFloor(milliseconds / 1000);
    data.seconds = seconds % 60;
    minutes = absFloor(seconds / 60);
    data.minutes = minutes % 60;
    hours = absFloor(minutes / 60);
    data.hours = hours % 24;
    days += absFloor(hours / 24);
    monthsFromDays = absFloor(daysToMonths(days));
    months += monthsFromDays;
    days -= absCeil(monthsToDays(monthsFromDays));
    years = absFloor(months / 12);
    months %= 12;
    data.days = days;
    data.months = months;
    data.years = years;
    return this;
  }
  function daysToMonths(days) {
    return days * 4800 / 146097;
  }
  function monthsToDays(months) {
    return months * 146097 / 4800;
  }
  function as(units) {
    var days;
    var months;
    var milliseconds = this._milliseconds;
    units = normalizeUnits(units);
    if (units === 'month' || units === 'year') {
      days = this._days + milliseconds / 864e5;
      months = this._months + daysToMonths(days);
      return units === 'month' ? months : months / 12;
    } else {
      days = this._days + Math.round(monthsToDays(this._months));
      switch (units) {
        case 'week':
          return days / 7 + milliseconds / 6048e5;
        case 'day':
          return days + milliseconds / 864e5;
        case 'hour':
          return days * 24 + milliseconds / 36e5;
        case 'minute':
          return days * 1440 + milliseconds / 6e4;
        case 'second':
          return days * 86400 + milliseconds / 1000;
        case 'millisecond':
          return Math.floor(days * 864e5) + milliseconds;
        default:
          throw new Error('Unknown unit ' + units);
      }
    }
  }
  function valueOf$1() {
    return (this._milliseconds + this._days * 864e5 + (this._months % 12) * 2592e6 + toInt(this._months / 12) * 31536e6);
  }
  function makeAs(alias) {
    return function() {
      return this.as(alias);
    };
  }
  var asMilliseconds = makeAs('ms');
  var asSeconds = makeAs('s');
  var asMinutes = makeAs('m');
  var asHours = makeAs('h');
  var asDays = makeAs('d');
  var asWeeks = makeAs('w');
  var asMonths = makeAs('M');
  var asYears = makeAs('y');
  function get$2(units) {
    units = normalizeUnits(units);
    return this[units + 's']();
  }
  function makeGetter(name) {
    return function() {
      return this._data[name];
    };
  }
  var milliseconds = makeGetter('milliseconds');
  var seconds = makeGetter('seconds');
  var minutes = makeGetter('minutes');
  var hours = makeGetter('hours');
  var days = makeGetter('days');
  var months = makeGetter('months');
  var years = makeGetter('years');
  function weeks() {
    return absFloor(this.days() / 7);
  }
  var round = Math.round;
  var thresholds = {
    s: 45,
    m: 45,
    h: 22,
    d: 26,
    M: 11
  };
  function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
  }
  function relativeTime$1(posNegDuration, withoutSuffix, locale) {
    var duration = createDuration(posNegDuration).abs();
    var seconds = round(duration.as('s'));
    var minutes = round(duration.as('m'));
    var hours = round(duration.as('h'));
    var days = round(duration.as('d'));
    var months = round(duration.as('M'));
    var years = round(duration.as('y'));
    var a = seconds < thresholds.s && ['s', seconds] || minutes <= 1 && ['m'] || minutes < thresholds.m && ['mm', minutes] || hours <= 1 && ['h'] || hours < thresholds.h && ['hh', hours] || days <= 1 && ['d'] || days < thresholds.d && ['dd', days] || months <= 1 && ['M'] || months < thresholds.M && ['MM', months] || years <= 1 && ['y'] || ['yy', years];
    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale;
    return substituteTimeAgo.apply(null, a);
  }
  function getSetRelativeTimeRounding(roundingFunction) {
    if (roundingFunction === undefined) {
      return round;
    }
    if (typeof(roundingFunction) === 'function') {
      round = roundingFunction;
      return true;
    }
    return false;
  }
  function getSetRelativeTimeThreshold(threshold, limit) {
    if (thresholds[threshold] === undefined) {
      return false;
    }
    if (limit === undefined) {
      return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    return true;
  }
  function humanize(withSuffix) {
    var locale = this.localeData();
    var output = relativeTime$1(this, !withSuffix, locale);
    if (withSuffix) {
      output = locale.pastFuture(+this, output);
    }
    return locale.postformat(output);
  }
  var abs$1 = Math.abs;
  function toISOString$1() {
    var seconds = abs$1(this._milliseconds) / 1000;
    var days = abs$1(this._days);
    var months = abs$1(this._months);
    var minutes,
        hours,
        years;
    minutes = absFloor(seconds / 60);
    hours = absFloor(minutes / 60);
    seconds %= 60;
    minutes %= 60;
    years = absFloor(months / 12);
    months %= 12;
    var Y = years;
    var M = months;
    var D = days;
    var h = hours;
    var m = minutes;
    var s = seconds;
    var total = this.asSeconds();
    if (!total) {
      return 'P0D';
    }
    return (total < 0 ? '-' : '') + 'P' + (Y ? Y + 'Y' : '') + (M ? M + 'M' : '') + (D ? D + 'D' : '') + ((h || m || s) ? 'T' : '') + (h ? h + 'H' : '') + (m ? m + 'M' : '') + (s ? s + 'S' : '');
  }
  var proto$2 = Duration.prototype;
  proto$2.abs = abs;
  proto$2.add = add$1;
  proto$2.subtract = subtract$1;
  proto$2.as = as;
  proto$2.asMilliseconds = asMilliseconds;
  proto$2.asSeconds = asSeconds;
  proto$2.asMinutes = asMinutes;
  proto$2.asHours = asHours;
  proto$2.asDays = asDays;
  proto$2.asWeeks = asWeeks;
  proto$2.asMonths = asMonths;
  proto$2.asYears = asYears;
  proto$2.valueOf = valueOf$1;
  proto$2._bubble = bubble;
  proto$2.get = get$2;
  proto$2.milliseconds = milliseconds;
  proto$2.seconds = seconds;
  proto$2.minutes = minutes;
  proto$2.hours = hours;
  proto$2.days = days;
  proto$2.weeks = weeks;
  proto$2.months = months;
  proto$2.years = years;
  proto$2.humanize = humanize;
  proto$2.toISOString = toISOString$1;
  proto$2.toString = toISOString$1;
  proto$2.toJSON = toISOString$1;
  proto$2.locale = locale;
  proto$2.localeData = localeData;
  proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
  proto$2.lang = lang;
  addFormatToken('X', 0, 0, 'unix');
  addFormatToken('x', 0, 0, 'valueOf');
  addRegexToken('x', matchSigned);
  addRegexToken('X', matchTimestamp);
  addParseToken('X', function(input, array, config) {
    config._d = new Date(parseFloat(input, 10) * 1000);
  });
  addParseToken('x', function(input, array, config) {
    config._d = new Date(toInt(input));
  });
  hooks.version = '2.17.1';
  setHookCallback(createLocal);
  hooks.fn = proto;
  hooks.min = min;
  hooks.max = max;
  hooks.now = now;
  hooks.utc = createUTC;
  hooks.unix = createUnix;
  hooks.months = listMonths;
  hooks.isDate = isDate;
  hooks.locale = getSetGlobalLocale;
  hooks.invalid = createInvalid;
  hooks.duration = createDuration;
  hooks.isMoment = isMoment;
  hooks.weekdays = listWeekdays;
  hooks.parseZone = createInZone;
  hooks.localeData = getLocale;
  hooks.isDuration = isDuration;
  hooks.monthsShort = listMonthsShort;
  hooks.weekdaysMin = listWeekdaysMin;
  hooks.defineLocale = defineLocale;
  hooks.updateLocale = updateLocale;
  hooks.locales = listLocales;
  hooks.weekdaysShort = listWeekdaysShort;
  hooks.normalizeUnits = normalizeUnits;
  hooks.relativeTimeRounding = getSetRelativeTimeRounding;
  hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
  hooks.calendarFormat = getCalendarFormat;
  hooks.prototype = proto;
  return hooks;
})));

})();
'use strict';

System.register('lib/accounting/models/clientModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/contactModel.js', 'lib/common/models/addressModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsContactModelJs) {}, function (_libCommonModelsAddressModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/client';
        },

        importData: {
          type: 'client',
          properties: [{ name: 'name', required: true, description: null }]
        },
        relations: [{
          type: BackboneRelational.HasMany,
          key: 'contacts',
          relatedModel: 'ContactModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'client',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'addresses',
          relatedModel: 'AddressModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'client',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          name: null,
          contacts: null,
          addresses: null
        }
      });


      globalNamespace.Models.ClientModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/accounting/models/inboundOrderModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/inventory/models/travelerIdModel.js', './clientModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libInventoryModelsTravelerIdModelJs) {}, function (_clientModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inbound_order';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'client',
          relatedModel: 'ClientModel',
          includeInJSON: ['id']
        }],
        defaults: {
          label: null,
          client: null,
          description: null,
          isVoid: false,
          isReceived: false,
          travelerIds: null,
          //virtual, since travelerIds starts empty
          travelerIdCount: null
        }
      });


      globalNamespace.Models.InboundOrderModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/travelerIdModel.js', ['lib/globalNamespace.js', 'backbone', 'backbone.relational', 'backbone.radio', 'lib/common/models/baseUrlBaseModel.js', 'lib/accounting/models/inboundOrderModel.js', './binModel.js', './skuModel.js', './unitModel.js', './inventoryTravelerIdTransformModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, Backbone, BackboneRelational, Radio, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libAccountingModelsInboundOrderModelJs) {}, function (_binModelJs) {}, function (_skuModelJs) {}, function (_unitModelJs) {}, function (_inventoryTravelerIdTransformModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        modelName: 'TravelerId',
        initialize: function initialize() {
          this.listenTo(this, 'change:isSelected', this.triggerIsSelectedChangeOnRadio);
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/tid';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'inboundOrder',
          relatedModel: 'InboundOrderModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'travelerIds',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'bin',
          relatedModel: 'BinModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'travelerIds',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'transform',
          relatedModel: 'InventoryTravelerIdTransformModel',
          includeInJSON: true,
          reverseRelation: {
            key: 'fromTravelerIds',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'reverseTransform',
          relatedModel: 'InventoryTravelerIdTransformModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'toTravelerIds',
            includeInJSON: true
          }
        }],
        defaults: {
          inboundOrder: null,
          label: null,
          bin: null,
          sku: null,
          isVoid: null,
          quantity: null,
          cost: null,
          unit: null,
          transform: null,
          reverseTransform: null
        },
        triggerIsSelectedChangeOnRadio: function triggerIsSelectedChangeOnRadio() {
          Radio.channel('inventory').trigger('change:isSelected:travelerId', this);
        },
        getUpdatadableAttributes: function getUpdatadableAttributes(selectedCollection) {
          var defaultAttributes = {
            inboundOrder: {
              title: 'Inbound Order',
              type: 'select'
            },
            bin: {
              title: 'Bin',
              type: 'select'
            },
            isVoid: {
              title: 'Is Void? (Use "Yes" and "No" for multiple)',
              type: 'checkbox'
            },
            quantity: {
              title: 'Quantity',
              type: 'text'
            },
            cost: {
              title: 'Cost',
              type: 'text'
            }
          };
          if (selectedCollection && selectedCollection instanceof Backbone.Collection) {
            (function () {
              var unitType = null;
              var properties = null;
              var isUnitTypeSame = true;
              selectedCollection.each(function (tid) {
                if (unitType === null) {
                  unitType = tid.get('sku').get('unitType') ? tid.get('sku').get('unitType') : false;
                  if (unitType && tid.get('unit')) {
                    properties = tid.get('unit').get('properties');
                  }
                } else {
                  if (tid.get('sku').get('unitType') != unitType) {
                    isUnitTypeSame = false;
                  }
                }
              });
              if (isUnitTypeSame) {
                defaultAttributes.unit = {
                  title: 'Unit',
                  type: 'unit',
                  properties: properties
                };
              }
            })();
          }
          return defaultAttributes;
        },
        getMassUpdateAttrs: function getMassUpdateAttrs() {
          var attrs = {
            id: this.get('id'),
            cid: this.cid,
            inboundOrder: { id: this.get('inboundOrder').get('id') },
            bin: { id: this.get('bin').get('id') },
            sku: { id: this.get('sku').get('id') },
            isVoid: this.get('isVoid'),
            quantity: this.get('quantity'),
            cost: this.get('cost')
          };
          if (this.get('unit')) {
            attrs.unit = this.get('unit').getMassUpdateAttrs();
          }
          return attrs;
        },
        getMassTransformAttrs: function getMassTransformAttrs() {
          var attrs = this.getMassUpdateAttrs();
          if (this.get('transform')) {
            attrs.transform = this.get('transform').getMassTransformAttrs();
          }
          return attrs;
        }
      });


      globalNamespace.Models.TravelerIdModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/contactModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/contact';
        },

        defaults: {
          firstName: null,
          lastName: null,
          emailAddress: null,
          phoneNumber: null,
          position: null,
          client: null,
          customer: null
        }
      });


      globalNamespace.Models.ContactModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/addressModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/address';
        },

        defaults: {
          street: null,
          unit: null,
          city: null,
          state: null,
          postalCode: null,
          country: null,
          type: null,
          note: null,
          client: null,
          customer: null
        }
      });


      globalNamespace.Models.AddressModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/accounting/models/customerModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/contactModel.js', 'lib/common/models/addressModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsContactModelJs) {}, function (_libCommonModelsAddressModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/customer';
        },

        importData: {
          type: 'client',
          properties: [{ name: 'name', required: true, description: null }]
        },
        relations: [{
          type: BackboneRelational.HasMany,
          key: 'contacts',
          relatedModel: 'ContactModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'customer',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'addresses',
          relatedModel: 'AddressModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'customer',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          name: null,
          contacts: null,
          addresses: null
        }
      });


      globalNamespace.Models.CustomerModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/accounting/models/outboundOrderModel.js', ['jquery', 'lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/inventory/models/salesItemModel.js', './customerModel.js'], function (_export, _context) {
  "use strict";

  var jquery, globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_jquery) {
      jquery = _jquery.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libInventoryModelsSalesItemModelJs) {}, function (_customerModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/outbound_order';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'customer',
          relatedModel: 'CustomerModel',
          includeInJSON: ['id']
        }],
        defaults: {
          label: null,
          customer: null,
          description: null,
          isVoid: false,
          isShipped: false,
          salesItems: null,
          //virtual, since salesItems starts empty
          salesItemCount: null
        },
        ship: function ship() {
          var thisModel = this;
          return new Promise(function (resolve, reject) {
            jquery.ajax(thisModel.url() + '/ship', {
              accepts: {
                json: 'application/json'
              },
              dataType: 'json'
            }).done(function (data) {
              thisModel.set(data);
              resolve(thisModel);
            }).fail(function (response) {
              reject(response);
            });
          });
        }
      });


      globalNamespace.Models.OutboundOrderModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/binModel.js', ['lib/globalNamespace.js', 'underscore', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/departmentModel.js', './partCategoryModel.js', './binTypeModel.js', './binSkuCountModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, BackboneRelational, BaseUrlBaseModel, Model;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsDepartmentModelJs) {}, function (_partCategoryModelJs) {}, function (_binTypeModelJs) {}, function (_binSkuCountModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/bin';
        },

        importData: {
          type: 'bin',
          properties: [{ name: 'name', required: true, description: null }, { name: 'description', required: false, description: null }, { name: 'department', required: true, description: 'Integer, Must be an existing Id' }, { name: 'partCategory', required: false, description: 'Integer, Must be an existing Id' }, { name: 'binType', required: true, description: 'Integer, Must be an existing Id' }, { name: 'parent', required: false, description: 'Integer, Must be an existing Id' }, { name: 'isActive', required: true, description: 'Boolean' }]
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'department',
          relatedModel: 'DepartmentModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'partCategory',
          relatedModel: 'PartCategoryModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'binType',
          relatedModel: 'BinTypeModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasMany,
          key: 'children',
          relatedModel: 'BinModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'parent',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasMany,
          key: 'skuCount',
          relatedModel: 'BinSkuCountModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'bin',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          name: null,
          description: null,
          department: null,
          partCategory: null,
          binType: null,
          children: null,
          parent: null,
          isActive: null,
          skuCount: null,
          travelerIds: null,
          salesItems: null
        }

      });


      globalNamespace.Models.BinModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/unitPropertyModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/inventory/models/unitTypePropertyModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, UnitTypePropertyModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libInventoryModelsUnitTypePropertyModelJs) {
      UnitTypePropertyModel = _libInventoryModelsUnitTypePropertyModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/unit_property';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'unitTypeProperty',
          relatedModel: 'UnitTypePropertyModel',
          includeInJSON: ['id']
        }],
        defaults: {
          integerValue: null,
          floatValue: null,
          booleanValue: null,
          stringValue: null,
          unit: null,
          unitTypeProperty: null
        },
        typeAndSet: function typeAndSet(valueName, value) {
          var typedValue = null;
          if (this.get('unitTypeProperty').get('propertyType') === UnitTypePropertyModel.prototype.TYPE_INTEGER) {
            typedValue = parseInt(value);
          } else if (this.get('unitTypeProperty').get('propertyType') === UnitTypePropertyModel.prototype.TYPE_FLOAT) {
            typedValue = parseFloat(value);
          } else if (this.get('unitTypeProperty').get('propertyType') === UnitTypePropertyModel.prototype.TYPE_BOOLEAN) {
            typedValue = value ? true : false;
          } else {
            typedValue = value + '';
          }
          this.set(valueName, typedValue);
        }
      });


      globalNamespace.Models.UnitPropertyModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/unitModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './unitPropertyModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_unitPropertyModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/unit';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'travelerId',
          relatedModel: 'TravelerIdModel',
          includeInJSON: ['id'],
          reverseRelation: {
            type: BackboneRelational.HasOne,
            key: 'unit',
            includeInJSON: ['id', 'serial', 'unitType', 'properties']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'salesItem',
          relatedModel: 'SalesItemModel',
          includeInJSON: ['id'],
          reverseRelation: {
            type: BackboneRelational.HasOne,
            key: 'unit',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'unitType',
          relatedModel: 'UnitTypeModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasMany,
          key: 'properties',
          relatedModel: 'UnitPropertyModel',
          includeInJSON: ['id', 'unitTypeProperty', 'integerValue', 'floatValue', 'booleanValue', 'stringValue'],
          reverseRelation: {
            type: BackboneRelational.HasOne,
            key: 'unit',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: ['id']
        }],
        defaults: {
          serial: null,
          description: null,
          travelerId: null,
          salesItem: null,
          properties: null,
          unitType: null,
          organization: null,
          isVoid: null
        },
        findPropertyByUnitTypePropertyId: function findPropertyByUnitTypePropertyId(unitTypePropertyId) {
          var foundProperty = null;
          this.get('properties').each(function (property) {
            if (property.get('unitTypeProperty').id == unitTypePropertyId) {
              foundProperty = property;
            }
          });
          return foundProperty;
        },
        getMassUpdateAttrs: function getMassUpdateAttrs() {
          var attrs = {
            id: this.get('id'),
            serial: this.get('serial'),
            unitType: { id: this.get('unitType').id },
            properties: []
          };
          this.get('properties').each(function (property) {
            attrs.properties.push({
              id: property.get('id'),
              unitTypeProperty: property.get('unitTypeProperty'),
              integerValue: property.get('integerValue'),
              floatValue: property.get('floatValue'),
              booleanValue: property.get('booleanValue'),
              stringValue: property.get('stringValue')
            });
          });
          return attrs;
        }
      });


      globalNamespace.Models.UnitModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/officeModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './organizationModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_organizationModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/office';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'offices',
            includeInJSON: false
          }
        }],
        defaults: {
          organization: null,
          name: null,
          departments: null
        },
        getDepartmentTotalMenuItemCount: function getDepartmentTotalMenuItemCount(departmentId) {
          var department = this.get('departments').get(departmentId);
          var count = department.getTotalMenuItemCount();
          return count;
        }
      });


      globalNamespace.Models.OfficeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/departmentModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './officeModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_officeModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/department';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'office',
          relatedModel: 'OfficeModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'departments',
            includeInJSON: false
          }
        }],
        defaults: {
          name: null,
          office: null,
          menuItems: null
        },
        getTotalMenuItemCount: function getTotalMenuItemCount() {
          var count = this.get('menuItems').length;
          this.get('menuItems').each(function (menuItem) {
            count += menuItem.getChildCount();
          });
          return count;
        }
      });


      globalNamespace.Models.DepartmentModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/menuLinkModel.js', ['lib/globalNamespace.js', 'backbone.radio', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, Radio, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/menu_link';
        },

        defaults: {
          name: null,
          url: null,
          routeMatches: null
        }
      });


      globalNamespace.Models.MenuLinkModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/menuItemModel.js', ['lib/globalNamespace.js', 'underscore', 'backbone', 'backbone.relational', 'backbone.radio', './baseUrlBaseModel.js', './departmentModel.js', './menuLinkModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, Backbone, BackboneRelational, Radio, BaseUrlBaseModel, Model;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_departmentModelJs) {}, function (_menuLinkModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize() {
          this.listenTo(Radio.channel('app'), 'route:changed', this.setUiIsActiveFromRoute);
          this.setUiIsActiveFromRoute(Backbone.history.fragment);
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/menu_item';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'department',
          relatedModel: 'DepartmentModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'menuItems',
            includeInJSON: false
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'menuLink',
          relatedModel: 'MenuLinkModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasMany,
          key: 'children',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'parent',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          isActive: null,
          position: null,
          menuLink: null,
          department: null,
          children: null,
          parent: null,
          uiIsActive: false
        },
        hasChild: function hasChild(child) {
          return this.get('children').contains(child);
        },
        getChildCount: function getChildCount() {
          var count = this.get('children').length;
          this.get('children').each(function (menuItem) {
            count += menuItem.getChildCount();
          });
          return count;
        },
        setUiIsActiveFromRoute: function setUiIsActiveFromRoute(route) {
          var _this = this;

          if (route) {
            route = route[0] == '/' ? route.slice(1) : route;
            var uiIsActive = false;
            if (this.get('menuLink') && this.get('menuLink').get('url')) {
              var url = this.get('menuLink').get('url');
              if (this.doesRouteMatchUrl(route, url)) {
                uiIsActive = true;
                //console.log('Url Match Found:'+route+' = '+url);
              }
              _.each(this.get('menuLink').get('routeMatches'), function (subUrl) {
                if (_this.doesRouteMatchUrl(route, subUrl)) {
                  uiIsActive = true;
                  //console.log('SubUrl Match Found:'+route+' = '+subUrl);
                }
              });
            }
            this.set('uiIsActive', uiIsActive);
            return uiIsActive;
          }
        },
        doesRouteMatchUrl: function doesRouteMatchUrl(route, url) {
          url = url[0] == '/' ? url.slice(1) : url;
          var re = new RegExp('^' + url + '$');
          if (re.test(route)) {
            return true;
          }
          re = new RegExp('^' + url + '/');
          if (re.test(route)) {
            return true;
          }
        }
      });


      globalNamespace.Models.MenuItemModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/organizationModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './uploadedImageModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_uploadedImageModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/organization';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'logo',
          relatedModel: 'UploadedImageModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          name: null,
          logo: null
        }
      });


      globalNamespace.Models.OrganizationModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/announcementModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js', './organizationModel.js', './userModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_organizationModelJs) {}, function (_userModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/announcement';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }],
        defaults: {
          content: null,
          byUser: null,
          organization: null,
          isActive: true
        }

      });


      globalNamespace.Models.AnnouncementModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/roleModel.js', ['lib/globalNamespace.js', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/role';
        },

        defaults: {
          isAllowedToSwitch: null,
          name: null,
          role: null
        }
      });


      globalNamespace.Models.RoleModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/userRoleModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'backbone.radio', './baseUrlBaseModel.js', './roleModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, Radio, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_roleModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/user_role';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'role',
          relatedModel: 'RoleModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'user',
          relatedModel: 'UserModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'userRoles',
            includeInJSON: true
          }
        }],
        defaults: {
          user: null,
          role: null
        }
      });


      globalNamespace.Models.UserRoleModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/binTypeModel.js', ['lib/globalNamespace.js', 'lib/common/models/baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize() {
          this.set('behavoirs', []);
        },

        behavoirList: {
          'cannotHaveParent': 'Can not have parent'
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/bin_type';
        },

        defaults: {
          name: null,
          description: null,
          isActive: null,
          behavoirs: null
        },
        hasBehavoir: function hasBehavoir(behavoir) {
          return this.get('behavoirs').indexOf(behavoir) > -1;
        },
        addBehavoir: function addBehavoir(behavoir) {
          if (!this.hasBehavoir(behavoir)) {
            this.get('behavoirs').push(behavoir);
            this.trigger('change:behavoirs', this, this.get('behavoirs'), {});
          }
        },
        removeBehavoir: function removeBehavoir(behavoir) {
          var index = this.get('behavoirs').indexOf(behavoir);
          if (index > -1) {
            this.get('behavoirs').splice(index, 1);
            this.trigger('change:behavoirs', this, this.get('behavoirs'), {});
          }
        }
      });


      globalNamespace.Models.BinTypeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryAlertLogModel.js', ['jquery', 'lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userRoleModel.js', './binTypeModel.js'], function (_export, _context) {
  "use strict";

  var jquery, globalNamespace, BackboneRelational, BaseUrlBaseModel, TYPE_LESS_THAN, TYPE_GREATER_THAN, Model;
  return {
    setters: [function (_jquery) {
      jquery = _jquery.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserRoleModelJs) {}, function (_binTypeModelJs) {}],
    execute: function () {
      TYPE_LESS_THAN = 1;
      TYPE_GREATER_THAN = 2;
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_alert_log';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'inventoryAlert',
          relatedModel: 'InventoryAlertModel',
          includeInJSON: ['id']
        }],
        defaults: {
          inventoryAlert: null,
          performedAt: null,
          count: null,
          isActive: null
        },
        dismissAlert: function dismissAlert() {
          var thisModel = this;
          return new Promise(function (resolve, reject) {
            jquery.ajax(thisModel.url() + '/dismiss', {
              accepts: {
                json: 'application/json'
              },
              dataType: 'json'
            }).done(function (resultsData) {
              resolve(resultsData);
            }).fail(function (response) {
              reject(response);
            });
          });
        }
      });


      globalNamespace.Models.InventoryAlertLogModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/userModel.js', ['underscore', 'lib/globalNamespace.js', 'backbone', 'backbone.relational', 'backbone.radio', './baseUrlBaseModel.js', './departmentModel.js', './userRoleModel.js', './menuItemModel.js', './announcementModel.js', 'lib/inventory/models/inventoryAlertLogModel.js'], function (_export, _context) {
  "use strict";

  var _, globalNamespace, Backbone, BackboneRelational, Radio, BaseUrlBaseModel, Model;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }, function (_departmentModelJs) {}, function (_userRoleModelJs) {}, function (_menuItemModelJs) {}, function (_announcementModelJs) {}, function (_libInventoryModelsInventoryAlertLogModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize(attrs, options) {
          var _this = this;

          if (this.id || attrs.id) {
            (function () {
              var id = _this.id ? _this.id : attrs.id;
              var myself = Radio.channel('data').request('myself');
              if (id == myself.id) {
                _this.listenTo(_this, 'change', function () {
                  myself.set(_this.attributes);
                });
              }
            })();
          }
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/user';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'defaultDepartment',
          relatedModel: 'DepartmentModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'currentDepartment',
          relatedModel: 'DepartmentModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'appAnnouncement',
          relatedModel: 'AnnouncementModel',
          includeInJSON: false
        }, {
          type: BackboneRelational.HasMany,
          key: 'inventoryAlertLogs',
          relatedModel: 'InventoryAlertLogModel',
          includeInJSON: false
        }, {
          type: BackboneRelational.HasMany,
          key: 'menuItems',
          relatedModel: 'MenuItemModel',
          includeInJSON: false,
          reverseRelation: false
        }],
        defaults: {
          username: null,
          email: null,
          firstName: null,
          lastName: null,
          isActive: true,
          receivesInventoryAlert: false,
          organization: null,
          defaultDepartment: null,
          currentDepartment: null,
          userRoles: null,
          roleHierarchy: null,
          menuItems: null,
          appAnnouncement: null,
          inventoryAlertLogs: null
        },
        hasUserRole: function hasUserRole(userRole) {
          return this.get('userRoles').get(userRole) ? true : false;
        },
        isGrantedRole: function isGrantedRole(role, userAccount, subRole) {
          var _this2 = this;

          var user = userAccount ? userAccount : this;
          if (user.get('userRoles')) {
            var userRoles = [];
            if (user.get('userRoles') instanceof Backbone.Collection) {
              userRoles = user.get('userRoles').models;
            } else {
              userRoles = user.get('userRoles');
            }
            return _.some(userRoles, function (userRole) {
              var userRoleStr = null;
              if (userRole instanceof Backbone.Model) {
                if (userRole.get('role') instanceof Backbone.Model) {
                  userRoleStr = userRole.get('role').get('role');
                } else {
                  userRoleStr = userRole.get('role').role;
                }
              } else {
                if (userRole && userRole.role) {
                  userRoleStr = userRole.role.role;
                }
              }
              if (userRoleStr == role) {
                return true;
              }
              var roleLookup = subRole ? subRole : userRoleStr;
              if (_this2.get('roleHierarchy')) {
                var userGrantedRoles = _this2.get('roleHierarchy')[roleLookup];
                if (userGrantedRoles) {
                  if (userGrantedRoles.indexOf(role) > -1) {
                    return true;
                  } else {
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                      for (var _iterator = userGrantedRoles[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var _subRole = _step.value;

                        if (_this2.isGrantedRole(role, user, _subRole)) {
                          return true;
                        }
                      }
                    } catch (err) {
                      _didIteratorError = true;
                      _iteratorError = err;
                    } finally {
                      try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                          _iterator.return();
                        }
                      } finally {
                        if (_didIteratorError) {
                          throw _iteratorError;
                        }
                      }
                    }
                  }
                }
              } else {
                return false;
              }
            });
          }
          return false;
        },
        isAccountOwner: function isAccountOwner() {
          return this.get('isAccountOwner') || this.isGrantedRole('ROLE_DEV');
        }
      });


      globalNamespace.Models.UserModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/inventoryTravelerIdTransformModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/userModel.js', './salesItemModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUserModelJs) {}, function (_salesItemModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/inventory_tid_transform';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'byUser',
          relatedModel: 'UserModel',
          includeInJSON: ['id']
        }],
        defaults: {
          byUser: null,
          transformedAt: null,
          quantity: null,
          ratio: null,
          fromTravelerIds: null,
          toTravelerIds: null,
          toSalesItems: null
        },
        getMassTransformAttrs: function getMassTransformAttrs() {
          var attrs = {
            id: this.get('id'),
            cid: this.cid,
            //skip byUser, it is set on server
            quantity: this.get('quantity'),
            ratio: this.get('ratio'),
            fromTravelerIds: [],
            toTravelerIds: [],
            toSalesItems: []
          };
          this.get('fromTravelerIds').each(function (travelerId) {
            attrs.fromTravelerIds.push({ id: travelerId.get('id') });
          });
          this.get('toTravelerIds').each(function (travelerId) {
            attrs.toTravelerIds.push(travelerId.getMassTransformAttrs());
          });
          this.get('toSalesItems').each(function (salesItem) {
            attrs.toSalesItems.push(salesItem.getMassTransformAttrs());
          });
          return attrs;
        }
      });


      globalNamespace.Models.InventoryTravelerIdTransformModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/salesItemModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'backbone.radio', 'lib/common/models/baseUrlBaseModel.js', 'lib/accounting/models/outboundOrderModel.js', './binModel.js', './skuModel.js', './unitModel.js', './inventoryTravelerIdTransformModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, Radio, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libAccountingModelsOutboundOrderModelJs) {}, function (_binModelJs) {}, function (_skuModelJs) {}, function (_unitModelJs) {}, function (_inventoryTravelerIdTransformModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        initialize: function initialize() {
          this.listenTo(this, 'change:isSelected', this.triggerIsSelectedChangeOnRadio);
        },
        urlRoot: function urlRoot() {
          return this.baseUrl + '/sales_item';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'outboundOrder',
          relatedModel: 'OutboundOrderModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'salesItems',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'bin',
          relatedModel: 'BinModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'salesItems',
            includeInJSON: ['id']
          }
        }, {
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'reverseTransform',
          relatedModel: 'InventoryTravelerIdTransformModel',
          includeInJSON: false,
          reverseRelation: {
            key: 'toSalesItems',
            includeInJSON: true
          }
        }],
        defaults: {
          outboundOrder: null,
          label: null,
          bin: null,
          sku: null,
          isVoid: null,
          quantity: null,
          cost: null,
          revenue: null,
          reverseTransform: null
        },
        triggerIsSelectedChangeOnRadio: function triggerIsSelectedChangeOnRadio() {
          Radio.channel('inventory').trigger('change:isSelected:salesItem', this);
        },
        getUpdatadableAttributes: function getUpdatadableAttributes() {
          return {
            outboundOrder: {
              title: 'Outbound Order',
              type: 'select'
            },
            bin: {
              title: 'Bin',
              type: 'select'
            },
            isVoid: {
              title: 'Is Void? (Use "Yes" and "No" for multiple)',
              type: 'checkbox'
            },
            quantity: {
              title: 'Quantity',
              type: 'text'
            },
            revenue: {
              title: 'Revenue',
              type: 'text'
            }
          };
        },
        getMassUpdateAttrs: function getMassUpdateAttrs() {
          return {
            id: this.get('id'),
            cid: this.cid,
            outboundOrder: { id: this.get('outboundOrder').get('id') },
            label: this.get('label'),
            bin: { id: this.get('bin').get('id') },
            sku: { id: this.get('sku').get('id') },
            isVoid: this.get('isVoid'),
            quantity: this.get('quantity'),
            revenue: this.get('revenue')
          };
        },
        getMassTransformAttrs: function getMassTransformAttrs() {
          var attrs = this.getMassUpdateAttrs();
          return attrs;
        }
      });


      globalNamespace.Models.SalesItemModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/partCategoryModel.js', ['lib/globalNamespace.js', 'lib/common/models/baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/part_category';
        },

        defaults: {
          name: null,
          isActive: null
        }
      });


      globalNamespace.Models.PartCategoryModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/partGroupModel.js', ['lib/globalNamespace.js', 'lib/common/models/baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/part_group';
        },

        defaults: {
          name: null,
          isActive: null
        }
      });


      globalNamespace.Models.PartGroupModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/partModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './partCategoryModel.js', './partGroupModel.js', 'lib/common/models/uploadedImageModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_partCategoryModelJs) {}, function (_partGroupModelJs) {}, function (_libCommonModelsUploadedImageModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/part';
        },

        importData: {
          type: 'part',
          properties: [{ name: 'name', required: true, description: null }, { name: 'partId', required: false, description: null }, { name: 'partAltId', required: false, description: null }, { name: 'description', required: false, description: null }, { name: 'partCategory', required: false, description: 'Integer, Must be an existing Id' }, { name: 'partGroup', required: false, description: 'Integer, Must be an existing Id' }, { name: 'isActive', required: true, description: 'Boolean' }]
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'partCategory',
          relatedModel: 'PartCategoryModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'partGroup',
          relatedModel: 'PartGroupModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'image',
          relatedModel: 'UploadedImageModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          name: null,
          partId: null,
          partAltId: null,
          description: null,
          partCategory: null,
          partGroup: null,
          isActive: null,
          image: null
        }
      });


      globalNamespace.Models.PartModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/commodityModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/uploadedImageModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUploadedImageModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/commodity';
        },

        importData: {
          type: 'commodity',
          properties: [{ name: 'name', required: true, description: null }, { name: 'commodityId', required: false, description: null }, { name: 'commodityAltId', required: false, description: null }, { name: 'description', required: false, description: null }, { name: 'isActive', required: true, description: 'Boolean' }]
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'image',
          relatedModel: 'UploadedImageModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          name: null,
          commodityId: null,
          commodityAltId: null,
          description: null,
          image: null,
          isActive: null
        }
      });


      globalNamespace.Models.CommodityModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/models/uploadedImageModel.js', ['lib/globalNamespace.js', 'backbone.relational', './baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_baseUrlBaseModelJs) {
      BaseUrlBaseModel = _baseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/image';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'organization',
          relatedModel: 'OrganizationModel',
          includeInJSON: false,
          reverseRelation: false
        }],
        defaults: {
          organization: null,
          name: null,
          mimeType: null,
          width: null,
          height: null
        }
      });


      globalNamespace.Models.UploadedImageModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/unitTypeModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', 'lib/common/models/uploadedImageModel.js', './unitTypePropertyModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libCommonModelsUploadedImageModelJs) {}, function (_unitTypePropertyModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/unit_type';
        },

        importData: {
          type: 'unitType',
          properties: [{ name: 'name', required: true, description: null }, { name: 'manufacturer', required: false, description: null }, { name: 'model', required: false, description: null }, { name: 'description', required: false, description: null }, { name: 'isActive', required: true, description: 'Boolean' }]
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'image',
          relatedModel: 'UploadedImageModel',
          includeInJSON: ['id'],
          reverseRelation: false
        }],
        defaults: {
          name: null,
          manufacturer: null,
          model: null,
          description: null,
          image: null,
          isActive: null
        }
      });


      globalNamespace.Models.UnitTypeModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/skuModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './partModel.js', './commodityModel.js', './unitTypeModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_partModelJs) {}, function (_commodityModelJs) {}, function (_unitTypeModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/sku';
        },

        importData: {
          type: 'sku',
          properties: [{ name: 'name', required: true, description: null }, { name: 'number', required: true, description: null }, { name: 'label', required: true, description: null }, { name: 'supplierCode', required: false, description: 'Integer, Must be an existing Id' }, { name: 'supplierSku', required: false, description: 'Integer, Must be an existing Id' }, { name: 'part', required: false, description: 'Integer, Must be an existing Id. If supplied, cannot have a commodity or unitType.' }, { name: 'commodity', required: false, description: 'Integer, Must be an existing Id. If supplied, cannot have a part or unitType.' }, { name: 'unitType', required: false, description: 'Integer, Must be an existing Id. If supplied, cannot have a part or commodity.' }, { name: 'isVoid', required: true, description: 'Boolean' }, { name: 'quantity', required: true, description: 'Integer.  This is how much of a thing(part, commodity, or units) there is for this sku.' }]
        },
        relations: [{
          type: BackboneRelational.HasOne,
          key: 'part',
          relatedModel: 'PartModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'commodity',
          relatedModel: 'CommodityModel',
          includeInJSON: ['id']
        }, {
          type: BackboneRelational.HasOne,
          key: 'unitType',
          relatedModel: 'UnitTypeModel',
          includeInJSON: ['id']
        }],
        defaults: {
          name: null,
          number: null,
          label: null,
          supplierCode: null,
          supplierSku: null,
          part: null,
          commodity: null,
          unitType: null,
          isVoid: null,
          quantity: null,
          averageValue: null
        }
      });


      globalNamespace.Models.SkuModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/binSkuCountModel.js', ['lib/globalNamespace.js', 'underscore', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './skuModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, _, BackboneRelational, BaseUrlBaseModel, Model;

  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_underscore) {
      _ = _underscore.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_skuModelJs) {}],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/bin_sku_count';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'sku',
          relatedModel: 'SkuModel',
          includeInJSON: ['id']
        }],
        defaults: {
          bin: null,
          sku: null,
          count: null
        }
      });


      globalNamespace.Models.BinSkuCountModel = Model;

      _export('default', Model);
    }
  };
});
System.register("npm:systemjs-plugin-babel@0.0.13/babel-helpers/defineProperty.js", [], function (_export, _context) {
  "use strict";

  return {
    setters: [],
    execute: function () {
      _export("default", function (obj, key, value) {
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value: value,
            enumerable: true,
            configurable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }

        return obj;
      });
    }
  };
});
System.registerDynamic("npm:systemjs-plugin-babel@0.0.13.json", [], false, function() {
  return {
    "main": "plugin-babel.js",
    "map": {
      "systemjs-babel-build": {
        "browser": "./systemjs-babel-browser.js",
        "default": "./systemjs-babel-browser.js"
      }
    },
    "meta": {
      "./plugin-babel.js": {
        "format": "cjs"
      }
    }
  };
});

'use strict';

System.register('lib/globalNamespace.js', ['backbone', 'backbone.relational'], function (_export, _context) {
  "use strict";

  var Backbone, Relational, namespace;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRelational) {
      Relational = _backboneRelational.default;
    }],
    execute: function () {
      namespace = {
        Models: {},
        Views: {}
      };


      Backbone.Relational = Relational;
      Backbone.Relational.store.addModelScope(namespace.Models);

      _export('default', namespace);
    }
  };
});
System.registerDynamic("github:VitalStorm/Backbone-relational@master.json", [], false, function() {
  return {
    "main": "backbone-relational.js"
  };
});

(function() {
var define = System.amdDefine;
(function(factory) {
  var root = (typeof self == 'object' && self.self == self && self) || (typeof global == 'object' && global.global == global && global);
  if (typeof define === 'function' && define.amd) {
    define("github:VitalStorm/Backbone-relational@master/backbone-relational.js", ["exports", "backbone", "underscore"], function(exports, Backbone, _) {
      factory(exports, Backbone, _, root);
    });
  } else if (typeof exports !== 'undefined') {
    factory(exports, require('backbone'), require('underscore'), root);
  } else {
    root.Backbone.Relational = factory({}, root.Backbone, root._, root);
  }
}(function(module, Backbone, _, root) {
  "use strict";
  module.Collection = Backbone.Collection.extend();
  module.showWarnings = true;
  module.Semaphore = {
    _permitsAvailable: null,
    _permitsUsed: 0,
    acquire: function() {
      if (this._permitsAvailable && this._permitsUsed >= this._permitsAvailable) {
        throw new Error('Max permits acquired');
      } else {
        this._permitsUsed++;
      }
    },
    release: function() {
      if (this._permitsUsed === 0) {
        throw new Error('All permits released');
      } else {
        this._permitsUsed--;
      }
    },
    isLocked: function() {
      return this._permitsUsed > 0;
    },
    setAvailablePermits: function(amount) {
      if (this._permitsUsed > amount) {
        throw new Error('Available permits cannot be less than used permits');
      }
      this._permitsAvailable = amount;
    }
  };
  module.BlockingQueue = function() {
    this._queue = [];
  };
  _.extend(module.BlockingQueue.prototype, module.Semaphore, {
    _queue: null,
    add: function(func) {
      if (this.isBlocked()) {
        this._queue.push(func);
      } else {
        func();
      }
    },
    process: function() {
      var queue = this._queue;
      this._queue = [];
      while (queue && queue.length) {
        queue.shift()();
      }
    },
    block: function() {
      this.acquire();
    },
    unblock: function() {
      this.release();
      if (!this.isBlocked()) {
        this.process();
      }
    },
    isBlocked: function() {
      return this.isLocked();
    }
  });
  module.eventQueue = new module.BlockingQueue();
  module.Store = function() {
    this._collections = [];
    this._reverseRelations = [];
    this._orphanRelations = [];
    this._subModels = [];
    this._modelScopes = [root];
  };
  _.extend(module.Store.prototype, Backbone.Events, {
    initializeRelation: function(model, relation, options) {
      var type = !_.isString(relation.type) ? relation.type : module[relation.type] || this.getObjectByName(relation.type);
      if (type && type.prototype instanceof module.Relation) {
        var rel = new type(model, relation, options);
      } else {
        module.showWarnings && typeof console !== 'undefined' && console.warn('Relation=%o; missing or invalid relation type!', relation);
      }
    },
    addModelScope: function(scope) {
      this._modelScopes.push(scope);
    },
    removeModelScope: function(scope) {
      this._modelScopes = _.without(this._modelScopes, scope);
    },
    addSubModels: function(subModelTypes, superModelType) {
      this._subModels.push({
        'superModelType': superModelType,
        'subModels': subModelTypes
      });
    },
    setupSuperModel: function(modelType) {
      _.find(this._subModels, function(subModelDef) {
        return _.filter(subModelDef.subModels || [], function(subModelTypeName, typeValue) {
          var subModelType = this.getObjectByName(subModelTypeName);
          if (modelType === subModelType) {
            subModelDef.superModelType._subModels[typeValue] = modelType;
            modelType._superModel = subModelDef.superModelType;
            modelType._subModelTypeValue = typeValue;
            modelType._subModelTypeAttribute = subModelDef.superModelType.prototype.subModelTypeAttribute;
            return true;
          }
        }, this).length;
      }, this);
    },
    addReverseRelation: function(relation) {
      var exists = _.any(this._reverseRelations, function(rel) {
        return _.all(relation || [], function(val, key) {
          return val === rel[key];
        });
      });
      if (!exists && relation.model && relation.type) {
        this._reverseRelations.push(relation);
        this._addRelation(relation.model, relation);
        this.retroFitRelation(relation);
      }
    },
    addOrphanRelation: function(relation) {
      var exists = _.any(this._orphanRelations, function(rel) {
        return _.all(relation || [], function(val, key) {
          return val === rel[key];
        });
      });
      if (!exists && relation.model && relation.type) {
        this._orphanRelations.push(relation);
      }
    },
    processOrphanRelations: function() {
      _.each(this._orphanRelations.slice(0), function(rel) {
        var relatedModel = module.store.getObjectByName(rel.relatedModel);
        if (relatedModel) {
          this.initializeRelation(null, rel);
          this._orphanRelations = _.without(this._orphanRelations, rel);
        }
      }, this);
    },
    _addRelation: function(type, relation) {
      if (!type.prototype.relations) {
        type.prototype.relations = [];
      }
      type.prototype.relations.push(relation);
      _.each(type._subModels || [], function(subModel) {
        this._addRelation(subModel, relation);
      }, this);
    },
    retroFitRelation: function(relation) {
      var coll = this.getCollection(relation.model, false);
      coll && coll.each(function(model) {
        if (!(model instanceof relation.model)) {
          return;
        }
        var rel = new relation.type(model, relation);
      }, this);
    },
    getCollection: function(type, create) {
      if (type instanceof module.Model) {
        type = type.constructor;
      }
      var rootModel = type;
      while (rootModel._superModel) {
        rootModel = rootModel._superModel;
      }
      var coll = _.find(this._collections, function(item) {
        return item.model === rootModel;
      });
      if (!coll && create !== false) {
        coll = this._createCollection(rootModel);
      }
      return coll;
    },
    getObjectByName: function(name) {
      var parts = name.split('.'),
          type = null;
      _.find(this._modelScopes, function(scope) {
        type = _.reduce(parts || [], function(memo, val) {
          return memo ? memo[val] : undefined;
        }, scope);
        if (type && type !== scope) {
          return true;
        }
      }, this);
      return type;
    },
    _createCollection: function(type) {
      var coll;
      if (type instanceof module.Model) {
        type = type.constructor;
      }
      if (type.prototype instanceof module.Model) {
        coll = new module.Collection();
        coll.model = type;
        this._collections.push(coll);
      }
      return coll;
    },
    resolveIdForItem: function(type, item) {
      var id = _.isString(item) || _.isNumber(item) ? item : null;
      if (id === null) {
        if (item instanceof module.Model) {
          id = item.id;
        } else if (_.isObject(item)) {
          id = item[type.prototype.idAttribute];
        }
      }
      if (!id && id !== 0) {
        id = null;
      }
      return id;
    },
    find: function(type, item) {
      var id = this.resolveIdForItem(type, item),
          coll = this.getCollection(type);
      if (coll) {
        var obj = coll.get(id);
        if (obj instanceof type) {
          return obj;
        }
      }
      return null;
    },
    register: function(model) {
      var coll = this.getCollection(model);
      if (coll) {
        var modelColl = model.collection;
        coll.add(model);
        model.collection = modelColl;
      }
    },
    checkId: function(model, id) {
      var coll = this.getCollection(model),
          duplicate = coll && coll.get(id);
      if (duplicate && model !== duplicate) {
        if (module.showWarnings && typeof console !== 'undefined') {
          console.warn('Duplicate id! Old RelationalModel=%o, new RelationalModel=%o', duplicate, model);
        }
        throw new Error("Cannot instantiate more than one Backbone.Relational.Model with the same id per type!");
      }
    },
    update: function(model) {
      var coll = this.getCollection(model);
      if (!coll.contains(model)) {
        this.register(model);
      }
      coll._onModelEvent('change:' + model.idAttribute, model, coll);
      model.trigger('relational:change:id', model, coll);
    },
    unregister: function(type) {
      var coll,
          models;
      if (type instanceof Backbone.Model) {
        coll = this.getCollection(type);
        models = [type];
      } else if (type instanceof module.Collection) {
        coll = this.getCollection(type.model);
        models = _.clone(type.models);
      } else {
        coll = this.getCollection(type);
        models = _.clone(coll.models);
      }
      _.each(models, function(model) {
        this.stopListening(model);
        _.invoke(model.getRelations(), 'stopListening');
      }, this);
      if (_.contains(this._collections, type)) {
        coll.reset([]);
      } else {
        _.each(models, function(model) {
          if (coll.get(model)) {
            coll.remove(model);
          } else {
            coll.trigger('relational:remove', model, coll);
          }
        }, this);
      }
    },
    reset: function() {
      this.stopListening();
      _.each(this._collections, function(coll) {
        this.unregister(coll);
      }, this);
      this._collections = [];
      this._subModels = [];
      this._modelScopes = [root];
    }
  });
  module.store = new module.Store();
  module.Relation = function(instance, options, opts) {
    this.instance = instance;
    options = _.isObject(options) ? options : {};
    this.reverseRelation = _.defaults(options.reverseRelation || {}, this.options.reverseRelation);
    this.options = _.defaults(options, this.options, module.Relation.prototype.options);
    this.reverseRelation.type = !_.isString(this.reverseRelation.type) ? this.reverseRelation.type : module[this.reverseRelation.type] || module.store.getObjectByName(this.reverseRelation.type);
    this.key = this.options.key;
    this.keySource = this.options.keySource || this.key;
    this.keyDestination = this.options.keyDestination || this.keySource || this.key;
    this.model = this.options.model || this.instance.constructor;
    this.relatedModel = this.options.relatedModel;
    if (_.isUndefined(this.relatedModel)) {
      this.relatedModel = this.model;
    }
    if (_.isFunction(this.relatedModel) && !(this.relatedModel.prototype instanceof module.Model)) {
      this.relatedModel = _.result(this, 'relatedModel');
    }
    if (_.isString(this.relatedModel)) {
      this.relatedModel = module.store.getObjectByName(this.relatedModel);
    }
    if (!this.checkPreconditions()) {
      return;
    }
    if (!this.options.isAutoRelation && this.reverseRelation.type && this.reverseRelation.key) {
      module.store.addReverseRelation(_.defaults({
        isAutoRelation: true,
        model: this.relatedModel,
        relatedModel: this.model,
        reverseRelation: this.options
      }, this.reverseRelation));
    }
    if (instance) {
      var contentKey = this.keySource;
      if (contentKey !== this.key && _.isObject(this.instance.get(this.key))) {
        contentKey = this.key;
      }
      this.setKeyContents(this.instance.get(contentKey));
      this.relatedCollection = module.store.getCollection(this.relatedModel);
      if (this.keySource !== this.key) {
        delete this.instance.attributes[this.keySource];
      }
      this.instance._relations[this.key] = this;
      this.initialize(opts);
      if (this.options.autoFetch) {
        this.instance.getAsync(this.key, _.isObject(this.options.autoFetch) ? this.options.autoFetch : {});
      }
      this.listenTo(this.instance, 'destroy', this.destroy).listenTo(this.relatedCollection, 'relational:add relational:change:id', this.tryAddRelated).listenTo(this.relatedCollection, 'relational:remove', this.removeRelated);
    }
  };
  module.Relation.extend = Backbone.Model.extend;
  _.extend(module.Relation.prototype, Backbone.Events, module.Semaphore, {
    options: {
      createModels: true,
      includeInJSON: true,
      isAutoRelation: false,
      autoFetch: false,
      parse: false
    },
    instance: null,
    key: null,
    keyContents: null,
    relatedModel: null,
    relatedCollection: null,
    reverseRelation: null,
    related: null,
    checkPreconditions: function() {
      var i = this.instance,
          k = this.key,
          m = this.model,
          rm = this.relatedModel,
          warn = module.showWarnings && typeof console !== 'undefined';
      if (!m || !k || !rm) {
        warn && console.warn('Relation=%o: missing model, key or relatedModel (%o, %o, %o).', this, m, k, rm);
        return false;
      }
      if (!(m.prototype instanceof module.Model)) {
        warn && console.warn('Relation=%o: model does not inherit from Backbone.Relational.Model (%o).', this, i);
        return false;
      }
      if (!(rm.prototype instanceof module.Model)) {
        warn && console.warn('Relation=%o: relatedModel does not inherit from Backbone.Relational.Model (%o).', this, rm);
        return false;
      }
      if (this instanceof module.HasMany && this.reverseRelation.type === module.HasMany) {
        warn && console.warn('Relation=%o: relation is a HasMany, and the reverseRelation is HasMany as well.', this);
        return false;
      }
      if (i && _.keys(i._relations).length) {
        var existing = _.find(i._relations, function(rel) {
          return rel.key === k;
        }, this);
        if (existing) {
          warn && console.warn('Cannot create relation=%o on %o for model=%o: already taken by relation=%o.', this, k, i, existing);
          return false;
        }
      }
      return true;
    },
    setRelated: function(related) {
      this.related = related;
      this.instance.attributes[this.key] = related;
    },
    _isReverseRelation: function(relation) {
      return relation.instance instanceof this.relatedModel && this.reverseRelation.key === relation.key && this.key === relation.reverseRelation.key;
    },
    getReverseRelations: function(model) {
      var reverseRelations = [];
      var models = !_.isUndefined(model) ? [model] : this.related && (this.related.models || [this.related]),
          relations = null,
          relation = null;
      for (var i = 0; i < (models || []).length; i++) {
        relations = models[i].getRelations() || [];
        for (var j = 0; j < relations.length; j++) {
          relation = relations[j];
          if (this._isReverseRelation(relation)) {
            reverseRelations.push(relation);
          }
        }
      }
      return reverseRelations;
    },
    destroy: function() {
      this.stopListening();
      if (this instanceof module.HasOne) {
        this.setRelated(null);
      } else if (this instanceof module.HasMany) {
        this.setRelated(this._prepareCollection());
      }
      _.each(this.getReverseRelations(), function(relation) {
        relation.removeRelated(this.instance);
      }, this);
    }
  });
  module.HasOne = module.Relation.extend({
    options: {reverseRelation: {type: 'HasMany'}},
    initialize: function(opts) {
      this.listenTo(this.instance, 'relational:change:' + this.key, this.onChange);
      var related = this.findRelated(opts);
      this.setRelated(related);
      _.each(this.getReverseRelations(), function(relation) {
        relation.addRelated(this.instance, opts);
      }, this);
    },
    findRelated: function(options) {
      var related = null;
      options = _.defaults({parse: this.options.parse}, options);
      if (this.keyContents instanceof this.relatedModel) {
        related = this.keyContents;
      } else if (this.keyContents || this.keyContents === 0) {
        var opts = _.defaults({create: this.options.createModels}, options);
        related = this.relatedModel.findOrCreate(this.keyContents, opts);
      }
      if (related) {
        this.keyId = null;
      }
      return related;
    },
    setKeyContents: function(keyContents) {
      this.keyContents = keyContents;
      this.keyId = module.store.resolveIdForItem(this.relatedModel, this.keyContents);
    },
    onChange: function(model, attr, options) {
      if (this.isLocked()) {
        return;
      }
      this.acquire();
      options = options ? _.clone(options) : {};
      var changed = _.isUndefined(options.__related),
          oldRelated = changed ? this.related : options.__related;
      if (changed) {
        this.setKeyContents(attr);
        var related = this.findRelated(options);
        this.setRelated(related);
      }
      if (oldRelated && this.related !== oldRelated) {
        _.each(this.getReverseRelations(oldRelated), function(relation) {
          relation.removeRelated(this.instance, null, options);
        }, this);
      }
      _.each(this.getReverseRelations(), function(relation) {
        relation.addRelated(this.instance, options);
      }, this);
      if (!options.silent && this.related !== oldRelated) {
        var dit = this;
        this.changed = true;
        module.eventQueue.add(function() {
          dit.instance.trigger('change:' + dit.key, dit.instance, dit.related, options, true);
          dit.changed = false;
        });
      }
      this.release();
    },
    tryAddRelated: function(model, coll, options) {
      if ((this.keyId || this.keyId === 0) && model.id === this.keyId) {
        this.addRelated(model, options);
        this.keyId = null;
      }
    },
    addRelated: function(model, options) {
      var dit = this;
      model.queue(function() {
        if (model !== dit.related) {
          var oldRelated = dit.related || null;
          dit.setRelated(model);
          dit.onChange(dit.instance, model, _.defaults({__related: oldRelated}, options));
        }
      });
    },
    removeRelated: function(model, coll, options) {
      if (!this.related) {
        return;
      }
      if (model === this.related) {
        var oldRelated = this.related || null;
        this.setRelated(null);
        this.onChange(this.instance, model, _.defaults({__related: oldRelated}, options));
      }
    }
  });
  module.HasMany = module.Relation.extend({
    collectionType: null,
    options: {
      reverseRelation: {type: 'HasOne'},
      collectionType: module.Collection,
      collectionKey: true,
      collectionOptions: {}
    },
    initialize: function(opts) {
      this.listenTo(this.instance, 'relational:change:' + this.key, this.onChange);
      this.collectionType = this.options.collectionType;
      if (_.isFunction(this.collectionType) && this.collectionType !== module.Collection && !(this.collectionType.prototype instanceof module.Collection)) {
        this.collectionType = _.result(this, 'collectionType');
      }
      if (_.isString(this.collectionType)) {
        this.collectionType = module.store.getObjectByName(this.collectionType);
      }
      if (this.collectionType !== module.Collection && !(this.collectionType.prototype instanceof module.Collection)) {
        throw new Error('`collectionType` must inherit from module.Collection');
      }
      var related = this.findRelated(opts);
      this.setRelated(related);
    },
    _prepareCollection: function(collection) {
      if (this.related) {
        this.stopListening(this.related);
      }
      if (!collection || !(collection instanceof module.Collection)) {
        var options = _.isFunction(this.options.collectionOptions) ? this.options.collectionOptions(this.instance) : this.options.collectionOptions;
        collection = new this.collectionType(null, options);
      }
      collection.model = this.relatedModel;
      if (this.options.collectionKey) {
        var key = this.options.collectionKey === true ? this.options.reverseRelation.key : this.options.collectionKey;
        if (collection[key] && collection[key] !== this.instance) {
          if (module.showWarnings && typeof console !== 'undefined') {
            console.warn('Relation=%o; collectionKey=%s already exists on collection=%o', this, key, this.options.collectionKey);
          }
        } else if (key) {
          collection[key] = this.instance;
        }
      }
      this.listenTo(collection, 'relational:add', this.handleAddition).listenTo(collection, 'relational:remove', this.handleRemoval).listenTo(collection, 'relational:reset', this.handleReset);
      return collection;
    },
    findRelated: function(options) {
      var related = null;
      options = _.defaults({parse: this.options.parse}, options);
      if (this.keyContents instanceof module.Collection) {
        this._prepareCollection(this.keyContents);
        related = this.keyContents;
      } else {
        var toAdd = [];
        _.each(this.keyContents, function(attributes) {
          var model = null;
          if (attributes instanceof this.relatedModel) {
            model = attributes;
          } else {
            model = (_.isObject(attributes) && options.parse && this.relatedModel.prototype.parse) ? this.relatedModel.prototype.parse(_.clone(attributes), options) : attributes;
          }
          model && toAdd.push(model);
        }, this);
        if (this.related instanceof module.Collection) {
          related = this.related;
        } else {
          related = this._prepareCollection();
        }
        related.set(toAdd, _.defaults({parse: false}, options));
      }
      this.keyIds = _.difference(this.keyIds, _.pluck(related.models, 'id'));
      return related;
    },
    setKeyContents: function(keyContents) {
      this.keyContents = keyContents instanceof module.Collection ? keyContents : null;
      this.keyIds = [];
      if (!this.keyContents && (keyContents || keyContents === 0)) {
        this.keyContents = _.isArray(keyContents) ? keyContents : [keyContents];
        _.each(this.keyContents, function(item) {
          var itemId = module.store.resolveIdForItem(this.relatedModel, item);
          if (itemId || itemId === 0) {
            this.keyIds.push(itemId);
          }
        }, this);
      }
    },
    onChange: function(model, attr, options) {
      options = options ? _.clone(options) : {};
      this.setKeyContents(attr);
      this.changed = false;
      var related = this.findRelated(options);
      this.setRelated(related);
      if (!options.silent) {
        var dit = this;
        module.eventQueue.add(function() {
          if (dit.changed) {
            dit.instance.trigger('change:' + dit.key, dit.instance, dit.related, options, true);
            dit.changed = false;
          }
        });
      }
    },
    handleAddition: function(model, coll, options) {
      options = options ? _.clone(options) : {};
      this.changed = true;
      _.each(this.getReverseRelations(model), function(relation) {
        relation.addRelated(this.instance, options);
      }, this);
      var dit = this;
      !options.silent && module.eventQueue.add(function() {
        dit.instance.trigger('add:' + dit.key, model, dit.related, options);
      });
    },
    handleRemoval: function(model, coll, options) {
      options = options ? _.clone(options) : {};
      this.changed = true;
      _.each(this.getReverseRelations(model), function(relation) {
        relation.removeRelated(this.instance, null, options);
      }, this);
      var dit = this;
      !options.silent && module.eventQueue.add(function() {
        dit.instance.trigger('remove:' + dit.key, model, dit.related, options);
      });
    },
    handleReset: function(coll, options) {
      var dit = this;
      options = options ? _.clone(options) : {};
      !options.silent && module.eventQueue.add(function() {
        dit.instance.trigger('reset:' + dit.key, dit.related, options);
      });
    },
    tryAddRelated: function(model, coll, options) {
      var item = _.contains(this.keyIds, model.id);
      if (item) {
        this.addRelated(model, options);
        this.keyIds = _.without(this.keyIds, model.id);
      }
    },
    addRelated: function(model, options) {
      var dit = this;
      model.queue(function() {
        if (dit.related && !dit.related.get(model)) {
          dit.related.add(model, _.defaults({parse: false}, options));
        }
      });
    },
    removeRelated: function(model, coll, options) {
      if (this.related.get(model)) {
        this.related.remove(model, options);
      }
    }
  });
  module.Model = Backbone.Model.extend({
    relations: null,
    _relations: null,
    _isInitialized: false,
    _deferProcessing: false,
    _queue: null,
    _attributeChangeFired: false,
    subModelTypeAttribute: 'type',
    subModelTypes: null,
    constructor: function(attributes, options) {
      if (options && options.collection) {
        var dit = this,
            collection = this.collection = options.collection;
        delete options.collection;
        this._deferProcessing = true;
        var processQueue = function(model) {
          if (model === dit) {
            dit._deferProcessing = false;
            dit.processQueue();
            collection.off('relational:add', processQueue);
          }
        };
        collection.on('relational:add', processQueue);
        _.defer(function() {
          processQueue(dit);
        });
      }
      module.store.processOrphanRelations();
      module.store.listenTo(this, 'relational:unregister', module.store.unregister);
      this._queue = new module.BlockingQueue();
      this._queue.block();
      module.eventQueue.block();
      try {
        Backbone.Model.apply(this, arguments);
      } finally {
        module.eventQueue.unblock();
      }
    },
    trigger: function(eventName) {
      if (eventName.length > 5 && eventName.indexOf('change') === 0) {
        var dit = this,
            args = arguments;
        if (!module.eventQueue.isLocked()) {
          Backbone.Model.prototype.trigger.apply(dit, args);
        } else {
          module.eventQueue.add(function() {
            var changed = true;
            if (eventName === 'change') {
              changed = dit.hasChanged() || dit._attributeChangeFired;
              dit._attributeChangeFired = false;
            } else {
              var attr = eventName.slice(7),
                  rel = dit.getRelation(attr);
              if (rel) {
                changed = (args[4] === true);
                if (changed) {
                  dit.changed[attr] = args[2];
                } else if (!rel.changed) {
                  delete dit.changed[attr];
                }
              } else if (changed) {
                dit._attributeChangeFired = true;
              }
            }
            changed && Backbone.Model.prototype.trigger.apply(dit, args);
          });
        }
      } else if (eventName === 'destroy') {
        Backbone.Model.prototype.trigger.apply(this, arguments);
        module.store.unregister(this);
      } else {
        Backbone.Model.prototype.trigger.apply(this, arguments);
      }
      return this;
    },
    initializeRelations: function(options) {
      this.acquire();
      this._relations = {};
      _.each(this.relations || [], function(rel) {
        module.store.initializeRelation(this, rel, options);
      }, this);
      this._isInitialized = true;
      this.release();
      this.processQueue();
    },
    updateRelations: function(changedAttrs, options) {
      if (this._isInitialized && !this.isLocked()) {
        _.each(this._relations, function(rel) {
          if (!changedAttrs || (rel.keySource in changedAttrs || rel.key in changedAttrs)) {
            var value = this.attributes[rel.keySource] || this.attributes[rel.key],
                attr = changedAttrs && (changedAttrs[rel.keySource] || changedAttrs[rel.key]);
            if (rel.related !== value || (value === null && attr === null)) {
              this.trigger('relational:change:' + rel.key, this, value, options || {});
            }
          }
          if (rel.keySource !== rel.key) {
            delete this.attributes[rel.keySource];
          }
        }, this);
      }
    },
    queue: function(func) {
      this._queue.add(func);
    },
    processQueue: function() {
      if (this._isInitialized && !this._deferProcessing && this._queue.isBlocked()) {
        this._queue.unblock();
      }
    },
    getRelation: function(attr) {
      return this._relations[attr];
    },
    getRelations: function() {
      return _.values(this._relations);
    },
    getIdsToFetch: function(attr, refresh) {
      var rel = attr instanceof module.Relation ? attr : this.getRelation(attr),
          ids = rel ? (rel.keyIds && rel.keyIds.slice(0)) || ((rel.keyId || rel.keyId === 0) ? [rel.keyId] : []) : [];
      if (refresh) {
        var models = rel.related && (rel.related.models || [rel.related]);
        _.each(models, function(model) {
          if (model.id || model.id === 0) {
            ids.push(model.id);
          }
        });
      }
      return ids;
    },
    getAsync: function(attr, options) {
      options = _.extend({
        add: true,
        remove: false,
        refresh: false
      }, options);
      var dit = this,
          requests = [],
          rel = this.getRelation(attr),
          idsToFetch = rel && this.getIdsToFetch(rel, options.refresh),
          coll = rel.related instanceof module.Collection ? rel.related : rel.relatedCollection;
      if (idsToFetch && idsToFetch.length) {
        var models = [],
            createdModels = [],
            setUrl,
            createModels = function() {
              models = _.map(idsToFetch, function(id) {
                var model = rel.relatedModel.findModel(id);
                if (!model) {
                  var attrs = {};
                  attrs[rel.relatedModel.prototype.idAttribute] = id;
                  model = rel.relatedModel.findOrCreate(attrs, options);
                  createdModels.push(model);
                }
                return model;
              }, this);
            };
        if (coll instanceof module.Collection && _.isFunction(coll.url)) {
          var defaultUrl = coll.url();
          setUrl = coll.url(idsToFetch);
          if (setUrl === defaultUrl) {
            createModels();
            setUrl = coll.url(models);
            if (setUrl === defaultUrl) {
              setUrl = null;
            }
          }
        }
        if (setUrl) {
          var opts = _.defaults({
            error: function() {
              _.each(createdModels, function(model) {
                model.trigger('destroy', model, model.collection, options);
              });
              options.error && options.error.apply(models, arguments);
            },
            url: setUrl
          }, options);
          requests = [coll.fetch(opts)];
        } else {
          if (!models.length) {
            createModels();
          }
          requests = _.map(models, function(model) {
            var opts = _.defaults({error: function() {
                if (_.contains(createdModels, model)) {
                  model.trigger('destroy', model, model.collection, options);
                }
                options.error && options.error.apply(models, arguments);
              }}, options);
            return model.fetch(opts);
          }, this);
        }
      }
      return this.deferArray(requests).then(function() {
        return Backbone.Model.prototype.get.call(dit, attr);
      });
    },
    deferArray: function(deferArray) {
      return Backbone.$.when.apply(null, deferArray);
    },
    set: function(key, value, options) {
      module.eventQueue.block();
      var attributes,
          result;
      if (_.isObject(key) || key == null) {
        attributes = key;
        options = value;
      } else {
        attributes = {};
        attributes[key] = value;
      }
      try {
        var id = this.id,
            newId = attributes && this.idAttribute in attributes && attributes[this.idAttribute];
        module.store.checkId(this, newId);
        result = Backbone.Model.prototype.set.apply(this, arguments);
        if (!this._isInitialized && !this.isLocked()) {
          this.constructor.initializeModelHierarchy();
          if (newId || newId === 0) {
            module.store.register(this);
          }
          this.initializeRelations(options);
        } else if (newId && newId !== id) {
          module.store.update(this);
        }
        if (attributes) {
          this.updateRelations(attributes, options);
        }
      } finally {
        module.eventQueue.unblock();
      }
      return result;
    },
    clone: function() {
      var attributes = _.clone(this.attributes);
      if (!_.isUndefined(attributes[this.idAttribute])) {
        attributes[this.idAttribute] = null;
      }
      _.each(this.getRelations(), function(rel) {
        delete attributes[rel.key];
      });
      return new this.constructor(attributes);
    },
    toJSON: function(options) {
      if (this.isLocked()) {
        var relation = null;
        var me = this;
        _.each(this._relations, function(rel) {
          if (typeof rel.relatedModel === 'function' && me instanceof rel.relatedModel) {
            relation = rel;
          }
        });
        if (relation) {
          var includeInJSON = relation.options.includeInJSON;
          if (includeInJSON === true) {
            return {id: this.id};
          } else if (_.isString(includeInJSON)) {
            return this.id;
          } else if (_.isArray(includeInJSON)) {
            return {id: this.id};
          }
        } else {
          return this.id;
        }
      }
      this.acquire();
      var json = Backbone.Model.prototype.toJSON.call(this, options);
      if (this.constructor._superModel && !(this.constructor._subModelTypeAttribute in json)) {
        json[this.constructor._subModelTypeAttribute] = this.constructor._subModelTypeValue;
      }
      _.each(this._relations, function(rel) {
        var related = json[rel.key],
            includeInJSON = rel.options.includeInJSON,
            value = null;
        if (includeInJSON === true) {
          if (related && _.isFunction(related.toJSON)) {
            value = related.toJSON(options);
          }
        } else if (_.isString(includeInJSON)) {
          if (related instanceof module.Collection) {
            value = [];
            related.each(function(model) {
              var modelJSON = model.toJSON(options);
              if (typeof modelJSON !== 'undefined') {
                value.push(modelJSON[includeInJSON]);
              }
            });
          } else if (related instanceof Backbone.Model) {
            var relatedJSON = related.toJSON(options);
            if (typeof relatedJSON !== 'undefined') {
              value = relatedJSON[includeInJSON];
            }
          }
          if (includeInJSON === rel.relatedModel.prototype.idAttribute) {
            if (rel instanceof module.HasMany) {
              value = value.concat(rel.keyIds);
            } else if (rel instanceof module.HasOne) {
              value = value || rel.keyId;
              if (!value && !_.isObject(rel.keyContents)) {
                value = rel.keyContents || null;
              }
            }
          }
        } else if (_.isArray(includeInJSON)) {
          if (related instanceof module.Collection) {
            value = [];
            related.each(function(model) {
              var curJson = {};
              var modelJSON = model.toJSON(options);
              if (typeof modelJSON === 'number') {
                curJson.id = modelJSON;
              } else if (typeof modelJSON !== 'undefined') {
                _.each(includeInJSON, function(key) {
                  curJson[key] = modelJSON[key];
                });
              }
              value.push(curJson);
            });
          } else if (related instanceof Backbone.Model) {
            value = {};
            var relatedJSON = related.toJSON(options);
            if (typeof modelJSON === 'number') {
              value.id = modelJSON;
            } else if (typeof relatedJSON !== 'undefined') {
              _.each(includeInJSON, function(key) {
                value[key] = relatedJSON[key];
              });
            }
          }
        } else {
          delete json[rel.key];
        }
        if (value === null && options && options.wait) {
          value = related;
        }
        if (includeInJSON) {
          json[rel.keyDestination] = value;
        }
        if (rel.keyDestination !== rel.key) {
          delete json[rel.key];
        }
      });
      this.release();
      return json;
    }
  }, {
    setup: function(superModel) {
      this.prototype.relations = (this.prototype.relations || []).slice(0);
      this._subModels = {};
      this._superModel = null;
      if (this.prototype.hasOwnProperty('subModelTypes')) {
        module.store.addSubModels(this.prototype.subModelTypes, this);
      } else {
        this.prototype.subModelTypes = null;
      }
      _.each(this.prototype.relations || [], function(rel) {
        if (!rel.model) {
          rel.model = this;
        }
        if (rel.reverseRelation && rel.model === this) {
          var preInitialize = true;
          if (_.isString(rel.relatedModel)) {
            var relatedModel = module.store.getObjectByName(rel.relatedModel);
            preInitialize = relatedModel && (relatedModel.prototype instanceof module.Model);
          }
          if (preInitialize) {
            module.store.initializeRelation(null, rel);
          } else if (_.isString(rel.relatedModel)) {
            module.store.addOrphanRelation(rel);
          }
        }
      }, this);
      return this;
    },
    build: function(attributes, options) {
      this.initializeModelHierarchy();
      var model = this._findSubModelType(this, attributes) || this;
      return new model(attributes, options);
    },
    _findSubModelType: function(type, attributes) {
      if (type._subModels && type.prototype.subModelTypeAttribute in attributes) {
        var subModelTypeAttribute = attributes[type.prototype.subModelTypeAttribute];
        var subModelType = type._subModels[subModelTypeAttribute];
        if (subModelType) {
          return subModelType;
        } else {
          for (subModelTypeAttribute in type._subModels) {
            subModelType = this._findSubModelType(type._subModels[subModelTypeAttribute], attributes);
            if (subModelType) {
              return subModelType;
            }
          }
        }
      }
      return null;
    },
    initializeModelHierarchy: function() {
      this.inheritRelations();
      if (this.prototype.subModelTypes) {
        var resolvedSubModels = _.keys(this._subModels);
        var unresolvedSubModels = _.omit(this.prototype.subModelTypes, resolvedSubModels);
        _.each(unresolvedSubModels, function(subModelTypeName) {
          var subModelType = module.store.getObjectByName(subModelTypeName);
          subModelType && subModelType.initializeModelHierarchy();
        });
      }
    },
    inheritRelations: function() {
      if (!_.isUndefined(this._superModel) && !_.isNull(this._superModel)) {
        return;
      }
      module.store.setupSuperModel(this);
      if (this._superModel) {
        this._superModel.inheritRelations();
        if (this._superModel.prototype.relations) {
          var inheritedRelations = _.filter(this._superModel.prototype.relations || [], function(superRel) {
            return !_.any(this.prototype.relations || [], function(rel) {
              return superRel.relatedModel === rel.relatedModel && superRel.key === rel.key;
            }, this);
          }, this);
          this.prototype.relations = inheritedRelations.concat(this.prototype.relations);
        }
      } else {
        this._superModel = false;
      }
    },
    findOrCreate: function(attributes, options) {
      options || (options = {});
      var parsedAttributes = (_.isObject(attributes) && options.parse && this.prototype.parse) ? this.prototype.parse(_.clone(attributes), options) : attributes;
      var model = this.findModel(parsedAttributes);
      if (_.isObject(attributes)) {
        if (model && options.merge !== false) {
          delete options.collection;
          delete options.url;
          model.set(parsedAttributes, options);
        } else if (!model && options.create !== false) {
          model = this.build(parsedAttributes, _.defaults({parse: false}, options));
        }
      }
      return model;
    },
    find: function(attributes, options) {
      options || (options = {});
      options.create = false;
      return this.findOrCreate(attributes, options);
    },
    findModel: function(attributes) {
      return module.store.find(this, attributes);
    }
  });
  _.extend(module.Model.prototype, module.Semaphore);
  module.Collection.prototype.__prepareModel = module.Collection.prototype._prepareModel;
  module.Collection.prototype._prepareModel = function(attrs, options) {
    var model;
    if (attrs instanceof Backbone.Model) {
      if (!attrs.collection) {
        attrs.collection = this;
      }
      model = attrs;
    } else {
      options = options ? _.clone(options) : {};
      options.collection = this;
      if (typeof this.model.findOrCreate !== 'undefined') {
        model = this.model.findOrCreate(attrs, options);
      } else {
        model = new this.model(attrs, options);
      }
      if (model && model.validationError) {
        this.trigger('invalid', this, attrs, options);
        model = false;
      }
    }
    return model;
  };
  var set = module.Collection.prototype.__set = module.Collection.prototype.set;
  module.Collection.prototype.set = function(models, options) {
    if (!(this.model.prototype instanceof module.Model)) {
      return set.call(this, models, options);
    }
    if (options && options.parse) {
      models = this.parse(models, options);
    }
    var singular = !_.isArray(models),
        newModels = [],
        toAdd = [],
        model = null;
    models = singular ? (models ? [models] : []) : _.clone(models);
    for (var i = 0; i < models.length; i++) {
      model = models[i];
      if (!(model instanceof Backbone.Model)) {
        model = module.Collection.prototype._prepareModel.call(this, model, options);
      }
      if (model) {
        toAdd.push(model);
        if (!(this.get(model) || this.get(model.cid))) {
          newModels.push(model);
        } else if (model.id != null) {
          this._byId[model.id] = model;
        }
      }
    }
    toAdd = singular ? (toAdd.length ? toAdd[0] : null) : toAdd;
    var result = set.call(this, toAdd, _.defaults({
      merge: false,
      parse: false
    }, options));
    for (i = 0; i < newModels.length; i++) {
      model = newModels[i];
      if (this.get(model) || this.get(model.cid)) {
        this.trigger('relational:add', model, this, options);
      }
    }
    return result;
  };
  var _removeModels = Backbone.Collection.prototype.___removeModels = Backbone.Collection.prototype._removeModels;
  Backbone.Collection.prototype._removeModels = function(models, options) {
    if (!(this.model.prototype instanceof module.Model)) {
      return _removeModels.call(this, models, options);
    }
    var toRemove = [];
    _.each(models, function(model) {
      model = this.get(model) || (model && this.get(model.cid));
      model && toRemove.push(model);
    }, this);
    var result = _removeModels.call(this, toRemove, options);
    _.each(toRemove, function(model) {
      this.trigger('relational:remove', model, this, options);
    }, this);
    return result;
  };
  var reset = module.Collection.prototype.__reset = module.Collection.prototype.reset;
  module.Collection.prototype.reset = function(models, options) {
    options = _.extend({merge: true}, options);
    var result = reset.call(this, models, options);
    if (this.model.prototype instanceof module.Model) {
      this.trigger('relational:reset', this, options);
    }
    return result;
  };
  var sort = module.Collection.prototype.__sort = module.Collection.prototype.sort;
  module.Collection.prototype.sort = function(options) {
    var result = sort.call(this, options);
    if (this.model.prototype instanceof module.Model) {
      this.trigger('relational:reset', this, options);
    }
    return result;
  };
  var trigger = module.Collection.prototype.__trigger = module.Collection.prototype.trigger;
  module.Collection.prototype.trigger = function(eventName) {
    if (!(this.model.prototype instanceof module.Model)) {
      return trigger.apply(this, arguments);
    }
    if (eventName === 'add' || eventName === 'remove' || eventName === 'reset' || eventName === 'sort') {
      var dit = this,
          args = arguments;
      if (_.isObject(args[3])) {
        args = _.toArray(args);
        args[3] = _.clone(args[3]);
      }
      module.eventQueue.add(function() {
        trigger.apply(dit, args);
      });
    } else {
      trigger.apply(this, arguments);
    }
    return this;
  };
  module.Model.extend = function(protoProps, classProps) {
    var child = Backbone.Model.extend.apply(this, arguments);
    child.setup(this);
    return child;
  };
  return module;
}));

})();
System.registerDynamic("npm:underscore@1.8.3.json", [], false, function() {
  return {
    "main": "underscore.js",
    "format": "cjs",
    "meta": {
      "*.json": {
        "format": "json"
      }
    }
  };
});

System.registerDynamic('npm:underscore@1.8.3/underscore.js', [], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  //     Underscore.js 1.8.3
  //     http://underscorejs.org
  //     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
  //     Underscore may be freely distributed under the MIT license.

  (function () {

    // Baseline setup
    // --------------

    // Establish the root object, `window` in the browser, or `exports` on the server.
    var root = this;

    // Save the previous value of the `_` variable.
    var previousUnderscore = root._;

    // Save bytes in the minified (but not gzipped) version:
    var ArrayProto = Array.prototype,
        ObjProto = Object.prototype,
        FuncProto = Function.prototype;

    // Create quick reference variables for speed access to core prototypes.
    var push = ArrayProto.push,
        slice = ArrayProto.slice,
        toString = ObjProto.toString,
        hasOwnProperty = ObjProto.hasOwnProperty;

    // All **ECMAScript 5** native function implementations that we hope to use
    // are declared here.
    var nativeIsArray = Array.isArray,
        nativeKeys = Object.keys,
        nativeBind = FuncProto.bind,
        nativeCreate = Object.create;

    // Naked function reference for surrogate-prototype-swapping.
    var Ctor = function () {};

    // Create a safe reference to the Underscore object for use below.
    var _ = function (obj) {
      if (obj instanceof _) return obj;
      if (!(this instanceof _)) return new _(obj);
      this._wrapped = obj;
    };

    // Export the Underscore object for **Node.js**, with
    // backwards-compatibility for the old `require()` API. If we're in
    // the browser, add `_` as a global object.
    if (typeof exports !== 'undefined') {
      if (typeof module !== 'undefined' && module.exports) {
        exports = module.exports = _;
      }
      exports._ = _;
    } else {
      root._ = _;
    }

    // Current version.
    _.VERSION = '1.8.3';

    // Internal function that returns an efficient (for current engines) version
    // of the passed-in callback, to be repeatedly applied in other Underscore
    // functions.
    var optimizeCb = function (func, context, argCount) {
      if (context === void 0) return func;
      switch (argCount == null ? 3 : argCount) {
        case 1:
          return function (value) {
            return func.call(context, value);
          };
        case 2:
          return function (value, other) {
            return func.call(context, value, other);
          };
        case 3:
          return function (value, index, collection) {
            return func.call(context, value, index, collection);
          };
        case 4:
          return function (accumulator, value, index, collection) {
            return func.call(context, accumulator, value, index, collection);
          };
      }
      return function () {
        return func.apply(context, arguments);
      };
    };

    // A mostly-internal function to generate callbacks that can be applied
    // to each element in a collection, returning the desired result — either
    // identity, an arbitrary callback, a property matcher, or a property accessor.
    var cb = function (value, context, argCount) {
      if (value == null) return _.identity;
      if (_.isFunction(value)) return optimizeCb(value, context, argCount);
      if (_.isObject(value)) return _.matcher(value);
      return _.property(value);
    };
    _.iteratee = function (value, context) {
      return cb(value, context, Infinity);
    };

    // An internal function for creating assigner functions.
    var createAssigner = function (keysFunc, undefinedOnly) {
      return function (obj) {
        var length = arguments.length;
        if (length < 2 || obj == null) return obj;
        for (var index = 1; index < length; index++) {
          var source = arguments[index],
              keys = keysFunc(source),
              l = keys.length;
          for (var i = 0; i < l; i++) {
            var key = keys[i];
            if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];
          }
        }
        return obj;
      };
    };

    // An internal function for creating a new object that inherits from another.
    var baseCreate = function (prototype) {
      if (!_.isObject(prototype)) return {};
      if (nativeCreate) return nativeCreate(prototype);
      Ctor.prototype = prototype;
      var result = new Ctor();
      Ctor.prototype = null;
      return result;
    };

    var property = function (key) {
      return function (obj) {
        return obj == null ? void 0 : obj[key];
      };
    };

    // Helper for collection methods to determine whether a collection
    // should be iterated as an array or as an object
    // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
    // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
    var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
    var getLength = property('length');
    var isArrayLike = function (collection) {
      var length = getLength(collection);
      return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
    };

    // Collection Functions
    // --------------------

    // The cornerstone, an `each` implementation, aka `forEach`.
    // Handles raw objects in addition to array-likes. Treats all
    // sparse array-likes as if they were dense.
    _.each = _.forEach = function (obj, iteratee, context) {
      iteratee = optimizeCb(iteratee, context);
      var i, length;
      if (isArrayLike(obj)) {
        for (i = 0, length = obj.length; i < length; i++) {
          iteratee(obj[i], i, obj);
        }
      } else {
        var keys = _.keys(obj);
        for (i = 0, length = keys.length; i < length; i++) {
          iteratee(obj[keys[i]], keys[i], obj);
        }
      }
      return obj;
    };

    // Return the results of applying the iteratee to each element.
    _.map = _.collect = function (obj, iteratee, context) {
      iteratee = cb(iteratee, context);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length,
          results = Array(length);
      for (var index = 0; index < length; index++) {
        var currentKey = keys ? keys[index] : index;
        results[index] = iteratee(obj[currentKey], currentKey, obj);
      }
      return results;
    };

    // Create a reducing function iterating left or right.
    function createReduce(dir) {
      // Optimized iterator function as using arguments.length
      // in the main function will deoptimize the, see #1991.
      function iterator(obj, iteratee, memo, keys, index, length) {
        for (; index >= 0 && index < length; index += dir) {
          var currentKey = keys ? keys[index] : index;
          memo = iteratee(memo, obj[currentKey], currentKey, obj);
        }
        return memo;
      }

      return function (obj, iteratee, memo, context) {
        iteratee = optimizeCb(iteratee, context, 4);
        var keys = !isArrayLike(obj) && _.keys(obj),
            length = (keys || obj).length,
            index = dir > 0 ? 0 : length - 1;
        // Determine the initial value if none is provided.
        if (arguments.length < 3) {
          memo = obj[keys ? keys[index] : index];
          index += dir;
        }
        return iterator(obj, iteratee, memo, keys, index, length);
      };
    }

    // **Reduce** builds up a single result from a list of values, aka `inject`,
    // or `foldl`.
    _.reduce = _.foldl = _.inject = createReduce(1);

    // The right-associative version of reduce, also known as `foldr`.
    _.reduceRight = _.foldr = createReduce(-1);

    // Return the first value which passes a truth test. Aliased as `detect`.
    _.find = _.detect = function (obj, predicate, context) {
      var key;
      if (isArrayLike(obj)) {
        key = _.findIndex(obj, predicate, context);
      } else {
        key = _.findKey(obj, predicate, context);
      }
      if (key !== void 0 && key !== -1) return obj[key];
    };

    // Return all the elements that pass a truth test.
    // Aliased as `select`.
    _.filter = _.select = function (obj, predicate, context) {
      var results = [];
      predicate = cb(predicate, context);
      _.each(obj, function (value, index, list) {
        if (predicate(value, index, list)) results.push(value);
      });
      return results;
    };

    // Return all the elements for which a truth test fails.
    _.reject = function (obj, predicate, context) {
      return _.filter(obj, _.negate(cb(predicate)), context);
    };

    // Determine whether all of the elements match a truth test.
    // Aliased as `all`.
    _.every = _.all = function (obj, predicate, context) {
      predicate = cb(predicate, context);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length;
      for (var index = 0; index < length; index++) {
        var currentKey = keys ? keys[index] : index;
        if (!predicate(obj[currentKey], currentKey, obj)) return false;
      }
      return true;
    };

    // Determine if at least one element in the object matches a truth test.
    // Aliased as `any`.
    _.some = _.any = function (obj, predicate, context) {
      predicate = cb(predicate, context);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length;
      for (var index = 0; index < length; index++) {
        var currentKey = keys ? keys[index] : index;
        if (predicate(obj[currentKey], currentKey, obj)) return true;
      }
      return false;
    };

    // Determine if the array or object contains a given item (using `===`).
    // Aliased as `includes` and `include`.
    _.contains = _.includes = _.include = function (obj, item, fromIndex, guard) {
      if (!isArrayLike(obj)) obj = _.values(obj);
      if (typeof fromIndex != 'number' || guard) fromIndex = 0;
      return _.indexOf(obj, item, fromIndex) >= 0;
    };

    // Invoke a method (with arguments) on every item in a collection.
    _.invoke = function (obj, method) {
      var args = slice.call(arguments, 2);
      var isFunc = _.isFunction(method);
      return _.map(obj, function (value) {
        var func = isFunc ? method : value[method];
        return func == null ? func : func.apply(value, args);
      });
    };

    // Convenience version of a common use case of `map`: fetching a property.
    _.pluck = function (obj, key) {
      return _.map(obj, _.property(key));
    };

    // Convenience version of a common use case of `filter`: selecting only objects
    // containing specific `key:value` pairs.
    _.where = function (obj, attrs) {
      return _.filter(obj, _.matcher(attrs));
    };

    // Convenience version of a common use case of `find`: getting the first object
    // containing specific `key:value` pairs.
    _.findWhere = function (obj, attrs) {
      return _.find(obj, _.matcher(attrs));
    };

    // Return the maximum element (or element-based computation).
    _.max = function (obj, iteratee, context) {
      var result = -Infinity,
          lastComputed = -Infinity,
          value,
          computed;
      if (iteratee == null && obj != null) {
        obj = isArrayLike(obj) ? obj : _.values(obj);
        for (var i = 0, length = obj.length; i < length; i++) {
          value = obj[i];
          if (value > result) {
            result = value;
          }
        }
      } else {
        iteratee = cb(iteratee, context);
        _.each(obj, function (value, index, list) {
          computed = iteratee(value, index, list);
          if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
            result = value;
            lastComputed = computed;
          }
        });
      }
      return result;
    };

    // Return the minimum element (or element-based computation).
    _.min = function (obj, iteratee, context) {
      var result = Infinity,
          lastComputed = Infinity,
          value,
          computed;
      if (iteratee == null && obj != null) {
        obj = isArrayLike(obj) ? obj : _.values(obj);
        for (var i = 0, length = obj.length; i < length; i++) {
          value = obj[i];
          if (value < result) {
            result = value;
          }
        }
      } else {
        iteratee = cb(iteratee, context);
        _.each(obj, function (value, index, list) {
          computed = iteratee(value, index, list);
          if (computed < lastComputed || computed === Infinity && result === Infinity) {
            result = value;
            lastComputed = computed;
          }
        });
      }
      return result;
    };

    // Shuffle a collection, using the modern version of the
    // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
    _.shuffle = function (obj) {
      var set = isArrayLike(obj) ? obj : _.values(obj);
      var length = set.length;
      var shuffled = Array(length);
      for (var index = 0, rand; index < length; index++) {
        rand = _.random(0, index);
        if (rand !== index) shuffled[index] = shuffled[rand];
        shuffled[rand] = set[index];
      }
      return shuffled;
    };

    // Sample **n** random values from a collection.
    // If **n** is not specified, returns a single random element.
    // The internal `guard` argument allows it to work with `map`.
    _.sample = function (obj, n, guard) {
      if (n == null || guard) {
        if (!isArrayLike(obj)) obj = _.values(obj);
        return obj[_.random(obj.length - 1)];
      }
      return _.shuffle(obj).slice(0, Math.max(0, n));
    };

    // Sort the object's values by a criterion produced by an iteratee.
    _.sortBy = function (obj, iteratee, context) {
      iteratee = cb(iteratee, context);
      return _.pluck(_.map(obj, function (value, index, list) {
        return {
          value: value,
          index: index,
          criteria: iteratee(value, index, list)
        };
      }).sort(function (left, right) {
        var a = left.criteria;
        var b = right.criteria;
        if (a !== b) {
          if (a > b || a === void 0) return 1;
          if (a < b || b === void 0) return -1;
        }
        return left.index - right.index;
      }), 'value');
    };

    // An internal function used for aggregate "group by" operations.
    var group = function (behavior) {
      return function (obj, iteratee, context) {
        var result = {};
        iteratee = cb(iteratee, context);
        _.each(obj, function (value, index) {
          var key = iteratee(value, index, obj);
          behavior(result, value, key);
        });
        return result;
      };
    };

    // Groups the object's values by a criterion. Pass either a string attribute
    // to group by, or a function that returns the criterion.
    _.groupBy = group(function (result, value, key) {
      if (_.has(result, key)) result[key].push(value);else result[key] = [value];
    });

    // Indexes the object's values by a criterion, similar to `groupBy`, but for
    // when you know that your index values will be unique.
    _.indexBy = group(function (result, value, key) {
      result[key] = value;
    });

    // Counts instances of an object that group by a certain criterion. Pass
    // either a string attribute to count by, or a function that returns the
    // criterion.
    _.countBy = group(function (result, value, key) {
      if (_.has(result, key)) result[key]++;else result[key] = 1;
    });

    // Safely create a real, live array from anything iterable.
    _.toArray = function (obj) {
      if (!obj) return [];
      if (_.isArray(obj)) return slice.call(obj);
      if (isArrayLike(obj)) return _.map(obj, _.identity);
      return _.values(obj);
    };

    // Return the number of elements in an object.
    _.size = function (obj) {
      if (obj == null) return 0;
      return isArrayLike(obj) ? obj.length : _.keys(obj).length;
    };

    // Split a collection into two arrays: one whose elements all satisfy the given
    // predicate, and one whose elements all do not satisfy the predicate.
    _.partition = function (obj, predicate, context) {
      predicate = cb(predicate, context);
      var pass = [],
          fail = [];
      _.each(obj, function (value, key, obj) {
        (predicate(value, key, obj) ? pass : fail).push(value);
      });
      return [pass, fail];
    };

    // Array Functions
    // ---------------

    // Get the first element of an array. Passing **n** will return the first N
    // values in the array. Aliased as `head` and `take`. The **guard** check
    // allows it to work with `_.map`.
    _.first = _.head = _.take = function (array, n, guard) {
      if (array == null) return void 0;
      if (n == null || guard) return array[0];
      return _.initial(array, array.length - n);
    };

    // Returns everything but the last entry of the array. Especially useful on
    // the arguments object. Passing **n** will return all the values in
    // the array, excluding the last N.
    _.initial = function (array, n, guard) {
      return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
    };

    // Get the last element of an array. Passing **n** will return the last N
    // values in the array.
    _.last = function (array, n, guard) {
      if (array == null) return void 0;
      if (n == null || guard) return array[array.length - 1];
      return _.rest(array, Math.max(0, array.length - n));
    };

    // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
    // Especially useful on the arguments object. Passing an **n** will return
    // the rest N values in the array.
    _.rest = _.tail = _.drop = function (array, n, guard) {
      return slice.call(array, n == null || guard ? 1 : n);
    };

    // Trim out all falsy values from an array.
    _.compact = function (array) {
      return _.filter(array, _.identity);
    };

    // Internal implementation of a recursive `flatten` function.
    var flatten = function (input, shallow, strict, startIndex) {
      var output = [],
          idx = 0;
      for (var i = startIndex || 0, length = getLength(input); i < length; i++) {
        var value = input[i];
        if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
          //flatten current level of array or arguments object
          if (!shallow) value = flatten(value, shallow, strict);
          var j = 0,
              len = value.length;
          output.length += len;
          while (j < len) {
            output[idx++] = value[j++];
          }
        } else if (!strict) {
          output[idx++] = value;
        }
      }
      return output;
    };

    // Flatten out an array, either recursively (by default), or just one level.
    _.flatten = function (array, shallow) {
      return flatten(array, shallow, false);
    };

    // Return a version of the array that does not contain the specified value(s).
    _.without = function (array) {
      return _.difference(array, slice.call(arguments, 1));
    };

    // Produce a duplicate-free version of the array. If the array has already
    // been sorted, you have the option of using a faster algorithm.
    // Aliased as `unique`.
    _.uniq = _.unique = function (array, isSorted, iteratee, context) {
      if (!_.isBoolean(isSorted)) {
        context = iteratee;
        iteratee = isSorted;
        isSorted = false;
      }
      if (iteratee != null) iteratee = cb(iteratee, context);
      var result = [];
      var seen = [];
      for (var i = 0, length = getLength(array); i < length; i++) {
        var value = array[i],
            computed = iteratee ? iteratee(value, i, array) : value;
        if (isSorted) {
          if (!i || seen !== computed) result.push(value);
          seen = computed;
        } else if (iteratee) {
          if (!_.contains(seen, computed)) {
            seen.push(computed);
            result.push(value);
          }
        } else if (!_.contains(result, value)) {
          result.push(value);
        }
      }
      return result;
    };

    // Produce an array that contains the union: each distinct element from all of
    // the passed-in arrays.
    _.union = function () {
      return _.uniq(flatten(arguments, true, true));
    };

    // Produce an array that contains every item shared between all the
    // passed-in arrays.
    _.intersection = function (array) {
      var result = [];
      var argsLength = arguments.length;
      for (var i = 0, length = getLength(array); i < length; i++) {
        var item = array[i];
        if (_.contains(result, item)) continue;
        for (var j = 1; j < argsLength; j++) {
          if (!_.contains(arguments[j], item)) break;
        }
        if (j === argsLength) result.push(item);
      }
      return result;
    };

    // Take the difference between one array and a number of other arrays.
    // Only the elements present in just the first array will remain.
    _.difference = function (array) {
      var rest = flatten(arguments, true, true, 1);
      return _.filter(array, function (value) {
        return !_.contains(rest, value);
      });
    };

    // Zip together multiple lists into a single array -- elements that share
    // an index go together.
    _.zip = function () {
      return _.unzip(arguments);
    };

    // Complement of _.zip. Unzip accepts an array of arrays and groups
    // each array's elements on shared indices
    _.unzip = function (array) {
      var length = array && _.max(array, getLength).length || 0;
      var result = Array(length);

      for (var index = 0; index < length; index++) {
        result[index] = _.pluck(array, index);
      }
      return result;
    };

    // Converts lists into objects. Pass either a single array of `[key, value]`
    // pairs, or two parallel arrays of the same length -- one of keys, and one of
    // the corresponding values.
    _.object = function (list, values) {
      var result = {};
      for (var i = 0, length = getLength(list); i < length; i++) {
        if (values) {
          result[list[i]] = values[i];
        } else {
          result[list[i][0]] = list[i][1];
        }
      }
      return result;
    };

    // Generator function to create the findIndex and findLastIndex functions
    function createPredicateIndexFinder(dir) {
      return function (array, predicate, context) {
        predicate = cb(predicate, context);
        var length = getLength(array);
        var index = dir > 0 ? 0 : length - 1;
        for (; index >= 0 && index < length; index += dir) {
          if (predicate(array[index], index, array)) return index;
        }
        return -1;
      };
    }

    // Returns the first index on an array-like that passes a predicate test
    _.findIndex = createPredicateIndexFinder(1);
    _.findLastIndex = createPredicateIndexFinder(-1);

    // Use a comparator function to figure out the smallest index at which
    // an object should be inserted so as to maintain order. Uses binary search.
    _.sortedIndex = function (array, obj, iteratee, context) {
      iteratee = cb(iteratee, context, 1);
      var value = iteratee(obj);
      var low = 0,
          high = getLength(array);
      while (low < high) {
        var mid = Math.floor((low + high) / 2);
        if (iteratee(array[mid]) < value) low = mid + 1;else high = mid;
      }
      return low;
    };

    // Generator function to create the indexOf and lastIndexOf functions
    function createIndexFinder(dir, predicateFind, sortedIndex) {
      return function (array, item, idx) {
        var i = 0,
            length = getLength(array);
        if (typeof idx == 'number') {
          if (dir > 0) {
            i = idx >= 0 ? idx : Math.max(idx + length, i);
          } else {
            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
          }
        } else if (sortedIndex && idx && length) {
          idx = sortedIndex(array, item);
          return array[idx] === item ? idx : -1;
        }
        if (item !== item) {
          idx = predicateFind(slice.call(array, i, length), _.isNaN);
          return idx >= 0 ? idx + i : -1;
        }
        for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
          if (array[idx] === item) return idx;
        }
        return -1;
      };
    }

    // Return the position of the first occurrence of an item in an array,
    // or -1 if the item is not included in the array.
    // If the array is large and already in sort order, pass `true`
    // for **isSorted** to use binary search.
    _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
    _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

    // Generate an integer Array containing an arithmetic progression. A port of
    // the native Python `range()` function. See
    // [the Python documentation](http://docs.python.org/library/functions.html#range).
    _.range = function (start, stop, step) {
      if (stop == null) {
        stop = start || 0;
        start = 0;
      }
      step = step || 1;

      var length = Math.max(Math.ceil((stop - start) / step), 0);
      var range = Array(length);

      for (var idx = 0; idx < length; idx++, start += step) {
        range[idx] = start;
      }

      return range;
    };

    // Function (ahem) Functions
    // ------------------

    // Determines whether to execute a function as a constructor
    // or a normal function with the provided arguments
    var executeBound = function (sourceFunc, boundFunc, context, callingContext, args) {
      if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
      var self = baseCreate(sourceFunc.prototype);
      var result = sourceFunc.apply(self, args);
      if (_.isObject(result)) return result;
      return self;
    };

    // Create a function bound to a given object (assigning `this`, and arguments,
    // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
    // available.
    _.bind = function (func, context) {
      if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
      if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
      var args = slice.call(arguments, 2);
      var bound = function () {
        return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
      };
      return bound;
    };

    // Partially apply a function by creating a version that has had some of its
    // arguments pre-filled, without changing its dynamic `this` context. _ acts
    // as a placeholder, allowing any combination of arguments to be pre-filled.
    _.partial = function (func) {
      var boundArgs = slice.call(arguments, 1);
      var bound = function () {
        var position = 0,
            length = boundArgs.length;
        var args = Array(length);
        for (var i = 0; i < length; i++) {
          args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
        }
        while (position < arguments.length) args.push(arguments[position++]);
        return executeBound(func, bound, this, this, args);
      };
      return bound;
    };

    // Bind a number of an object's methods to that object. Remaining arguments
    // are the method names to be bound. Useful for ensuring that all callbacks
    // defined on an object belong to it.
    _.bindAll = function (obj) {
      var i,
          length = arguments.length,
          key;
      if (length <= 1) throw new Error('bindAll must be passed function names');
      for (i = 1; i < length; i++) {
        key = arguments[i];
        obj[key] = _.bind(obj[key], obj);
      }
      return obj;
    };

    // Memoize an expensive function by storing its results.
    _.memoize = function (func, hasher) {
      var memoize = function (key) {
        var cache = memoize.cache;
        var address = '' + (hasher ? hasher.apply(this, arguments) : key);
        if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
        return cache[address];
      };
      memoize.cache = {};
      return memoize;
    };

    // Delays a function for the given number of milliseconds, and then calls
    // it with the arguments supplied.
    _.delay = function (func, wait) {
      var args = slice.call(arguments, 2);
      return setTimeout(function () {
        return func.apply(null, args);
      }, wait);
    };

    // Defers a function, scheduling it to run after the current call stack has
    // cleared.
    _.defer = _.partial(_.delay, _, 1);

    // Returns a function, that, when invoked, will only be triggered at most once
    // during a given window of time. Normally, the throttled function will run
    // as much as it can, without ever going more than once per `wait` duration;
    // but if you'd like to disable the execution on the leading edge, pass
    // `{leading: false}`. To disable execution on the trailing edge, ditto.
    _.throttle = function (func, wait, options) {
      var context, args, result;
      var timeout = null;
      var previous = 0;
      if (!options) options = {};
      var later = function () {
        previous = options.leading === false ? 0 : _.now();
        timeout = null;
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      };
      return function () {
        var now = _.now();
        if (!previous && options.leading === false) previous = now;
        var remaining = wait - (now - previous);
        context = this;
        args = arguments;
        if (remaining <= 0 || remaining > wait) {
          if (timeout) {
            clearTimeout(timeout);
            timeout = null;
          }
          previous = now;
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        } else if (!timeout && options.trailing !== false) {
          timeout = setTimeout(later, remaining);
        }
        return result;
      };
    };

    // Returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.
    _.debounce = function (func, wait, immediate) {
      var timeout, args, context, timestamp, result;

      var later = function () {
        var last = _.now() - timestamp;

        if (last < wait && last >= 0) {
          timeout = setTimeout(later, wait - last);
        } else {
          timeout = null;
          if (!immediate) {
            result = func.apply(context, args);
            if (!timeout) context = args = null;
          }
        }
      };

      return function () {
        context = this;
        args = arguments;
        timestamp = _.now();
        var callNow = immediate && !timeout;
        if (!timeout) timeout = setTimeout(later, wait);
        if (callNow) {
          result = func.apply(context, args);
          context = args = null;
        }

        return result;
      };
    };

    // Returns the first function passed as an argument to the second,
    // allowing you to adjust arguments, run code before and after, and
    // conditionally execute the original function.
    _.wrap = function (func, wrapper) {
      return _.partial(wrapper, func);
    };

    // Returns a negated version of the passed-in predicate.
    _.negate = function (predicate) {
      return function () {
        return !predicate.apply(this, arguments);
      };
    };

    // Returns a function that is the composition of a list of functions, each
    // consuming the return value of the function that follows.
    _.compose = function () {
      var args = arguments;
      var start = args.length - 1;
      return function () {
        var i = start;
        var result = args[start].apply(this, arguments);
        while (i--) result = args[i].call(this, result);
        return result;
      };
    };

    // Returns a function that will only be executed on and after the Nth call.
    _.after = function (times, func) {
      return function () {
        if (--times < 1) {
          return func.apply(this, arguments);
        }
      };
    };

    // Returns a function that will only be executed up to (but not including) the Nth call.
    _.before = function (times, func) {
      var memo;
      return function () {
        if (--times > 0) {
          memo = func.apply(this, arguments);
        }
        if (times <= 1) func = null;
        return memo;
      };
    };

    // Returns a function that will be executed at most one time, no matter how
    // often you call it. Useful for lazy initialization.
    _.once = _.partial(_.before, 2);

    // Object Functions
    // ----------------

    // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
    var hasEnumBug = !{ toString: null }.propertyIsEnumerable('toString');
    var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

    function collectNonEnumProps(obj, keys) {
      var nonEnumIdx = nonEnumerableProps.length;
      var constructor = obj.constructor;
      var proto = _.isFunction(constructor) && constructor.prototype || ObjProto;

      // Constructor is a special case.
      var prop = 'constructor';
      if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

      while (nonEnumIdx--) {
        prop = nonEnumerableProps[nonEnumIdx];
        if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
          keys.push(prop);
        }
      }
    }

    // Retrieve the names of an object's own properties.
    // Delegates to **ECMAScript 5**'s native `Object.keys`
    _.keys = function (obj) {
      if (!_.isObject(obj)) return [];
      if (nativeKeys) return nativeKeys(obj);
      var keys = [];
      for (var key in obj) if (_.has(obj, key)) keys.push(key);
      // Ahem, IE < 9.
      if (hasEnumBug) collectNonEnumProps(obj, keys);
      return keys;
    };

    // Retrieve all the property names of an object.
    _.allKeys = function (obj) {
      if (!_.isObject(obj)) return [];
      var keys = [];
      for (var key in obj) keys.push(key);
      // Ahem, IE < 9.
      if (hasEnumBug) collectNonEnumProps(obj, keys);
      return keys;
    };

    // Retrieve the values of an object's properties.
    _.values = function (obj) {
      var keys = _.keys(obj);
      var length = keys.length;
      var values = Array(length);
      for (var i = 0; i < length; i++) {
        values[i] = obj[keys[i]];
      }
      return values;
    };

    // Returns the results of applying the iteratee to each element of the object
    // In contrast to _.map it returns an object
    _.mapObject = function (obj, iteratee, context) {
      iteratee = cb(iteratee, context);
      var keys = _.keys(obj),
          length = keys.length,
          results = {},
          currentKey;
      for (var index = 0; index < length; index++) {
        currentKey = keys[index];
        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
      }
      return results;
    };

    // Convert an object into a list of `[key, value]` pairs.
    _.pairs = function (obj) {
      var keys = _.keys(obj);
      var length = keys.length;
      var pairs = Array(length);
      for (var i = 0; i < length; i++) {
        pairs[i] = [keys[i], obj[keys[i]]];
      }
      return pairs;
    };

    // Invert the keys and values of an object. The values must be serializable.
    _.invert = function (obj) {
      var result = {};
      var keys = _.keys(obj);
      for (var i = 0, length = keys.length; i < length; i++) {
        result[obj[keys[i]]] = keys[i];
      }
      return result;
    };

    // Return a sorted list of the function names available on the object.
    // Aliased as `methods`
    _.functions = _.methods = function (obj) {
      var names = [];
      for (var key in obj) {
        if (_.isFunction(obj[key])) names.push(key);
      }
      return names.sort();
    };

    // Extend a given object with all the properties in passed-in object(s).
    _.extend = createAssigner(_.allKeys);

    // Assigns a given object with all the own properties in the passed-in object(s)
    // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
    _.extendOwn = _.assign = createAssigner(_.keys);

    // Returns the first key on an object that passes a predicate test
    _.findKey = function (obj, predicate, context) {
      predicate = cb(predicate, context);
      var keys = _.keys(obj),
          key;
      for (var i = 0, length = keys.length; i < length; i++) {
        key = keys[i];
        if (predicate(obj[key], key, obj)) return key;
      }
    };

    // Return a copy of the object only containing the whitelisted properties.
    _.pick = function (object, oiteratee, context) {
      var result = {},
          obj = object,
          iteratee,
          keys;
      if (obj == null) return result;
      if (_.isFunction(oiteratee)) {
        keys = _.allKeys(obj);
        iteratee = optimizeCb(oiteratee, context);
      } else {
        keys = flatten(arguments, false, false, 1);
        iteratee = function (value, key, obj) {
          return key in obj;
        };
        obj = Object(obj);
      }
      for (var i = 0, length = keys.length; i < length; i++) {
        var key = keys[i];
        var value = obj[key];
        if (iteratee(value, key, obj)) result[key] = value;
      }
      return result;
    };

    // Return a copy of the object without the blacklisted properties.
    _.omit = function (obj, iteratee, context) {
      if (_.isFunction(iteratee)) {
        iteratee = _.negate(iteratee);
      } else {
        var keys = _.map(flatten(arguments, false, false, 1), String);
        iteratee = function (value, key) {
          return !_.contains(keys, key);
        };
      }
      return _.pick(obj, iteratee, context);
    };

    // Fill in a given object with default properties.
    _.defaults = createAssigner(_.allKeys, true);

    // Creates an object that inherits from the given prototype object.
    // If additional properties are provided then they will be added to the
    // created object.
    _.create = function (prototype, props) {
      var result = baseCreate(prototype);
      if (props) _.extendOwn(result, props);
      return result;
    };

    // Create a (shallow-cloned) duplicate of an object.
    _.clone = function (obj) {
      if (!_.isObject(obj)) return obj;
      return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
    };

    // Invokes interceptor with the obj, and then returns obj.
    // The primary purpose of this method is to "tap into" a method chain, in
    // order to perform operations on intermediate results within the chain.
    _.tap = function (obj, interceptor) {
      interceptor(obj);
      return obj;
    };

    // Returns whether an object has a given set of `key:value` pairs.
    _.isMatch = function (object, attrs) {
      var keys = _.keys(attrs),
          length = keys.length;
      if (object == null) return !length;
      var obj = Object(object);
      for (var i = 0; i < length; i++) {
        var key = keys[i];
        if (attrs[key] !== obj[key] || !(key in obj)) return false;
      }
      return true;
    };

    // Internal recursive comparison function for `isEqual`.
    var eq = function (a, b, aStack, bStack) {
      // Identical objects are equal. `0 === -0`, but they aren't identical.
      // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
      if (a === b) return a !== 0 || 1 / a === 1 / b;
      // A strict comparison is necessary because `null == undefined`.
      if (a == null || b == null) return a === b;
      // Unwrap any wrapped objects.
      if (a instanceof _) a = a._wrapped;
      if (b instanceof _) b = b._wrapped;
      // Compare `[[Class]]` names.
      var className = toString.call(a);
      if (className !== toString.call(b)) return false;
      switch (className) {
        // Strings, numbers, regular expressions, dates, and booleans are compared by value.
        case '[object RegExp]':
        // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
        case '[object String]':
          // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
          // equivalent to `new String("5")`.
          return '' + a === '' + b;
        case '[object Number]':
          // `NaN`s are equivalent, but non-reflexive.
          // Object(NaN) is equivalent to NaN
          if (+a !== +a) return +b !== +b;
          // An `egal` comparison is performed for other numeric values.
          return +a === 0 ? 1 / +a === 1 / b : +a === +b;
        case '[object Date]':
        case '[object Boolean]':
          // Coerce dates and booleans to numeric primitive values. Dates are compared by their
          // millisecond representations. Note that invalid dates with millisecond representations
          // of `NaN` are not equivalent.
          return +a === +b;
      }

      var areArrays = className === '[object Array]';
      if (!areArrays) {
        if (typeof a != 'object' || typeof b != 'object') return false;

        // Objects with different constructors are not equivalent, but `Object`s or `Array`s
        // from different frames are.
        var aCtor = a.constructor,
            bCtor = b.constructor;
        if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && _.isFunction(bCtor) && bCtor instanceof bCtor) && 'constructor' in a && 'constructor' in b) {
          return false;
        }
      }
      // Assume equality for cyclic structures. The algorithm for detecting cyclic
      // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

      // Initializing stack of traversed objects.
      // It's done here since we only need them for objects and arrays comparison.
      aStack = aStack || [];
      bStack = bStack || [];
      var length = aStack.length;
      while (length--) {
        // Linear search. Performance is inversely proportional to the number of
        // unique nested structures.
        if (aStack[length] === a) return bStack[length] === b;
      }

      // Add the first object to the stack of traversed objects.
      aStack.push(a);
      bStack.push(b);

      // Recursively compare objects and arrays.
      if (areArrays) {
        // Compare array lengths to determine if a deep comparison is necessary.
        length = a.length;
        if (length !== b.length) return false;
        // Deep compare the contents, ignoring non-numeric properties.
        while (length--) {
          if (!eq(a[length], b[length], aStack, bStack)) return false;
        }
      } else {
        // Deep compare objects.
        var keys = _.keys(a),
            key;
        length = keys.length;
        // Ensure that both objects contain the same number of properties before comparing deep equality.
        if (_.keys(b).length !== length) return false;
        while (length--) {
          // Deep compare each member
          key = keys[length];
          if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
        }
      }
      // Remove the first object from the stack of traversed objects.
      aStack.pop();
      bStack.pop();
      return true;
    };

    // Perform a deep comparison to check if two objects are equal.
    _.isEqual = function (a, b) {
      return eq(a, b);
    };

    // Is a given array, string, or object empty?
    // An "empty" object has no enumerable own-properties.
    _.isEmpty = function (obj) {
      if (obj == null) return true;
      if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
      return _.keys(obj).length === 0;
    };

    // Is a given value a DOM element?
    _.isElement = function (obj) {
      return !!(obj && obj.nodeType === 1);
    };

    // Is a given value an array?
    // Delegates to ECMA5's native Array.isArray
    _.isArray = nativeIsArray || function (obj) {
      return toString.call(obj) === '[object Array]';
    };

    // Is a given variable an object?
    _.isObject = function (obj) {
      var type = typeof obj;
      return type === 'function' || type === 'object' && !!obj;
    };

    // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.
    _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function (name) {
      _['is' + name] = function (obj) {
        return toString.call(obj) === '[object ' + name + ']';
      };
    });

    // Define a fallback version of the method in browsers (ahem, IE < 9), where
    // there isn't any inspectable "Arguments" type.
    if (!_.isArguments(arguments)) {
      _.isArguments = function (obj) {
        return _.has(obj, 'callee');
      };
    }

    // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
    // IE 11 (#1621), and in Safari 8 (#1929).
    if (typeof /./ != 'function' && typeof Int8Array != 'object') {
      _.isFunction = function (obj) {
        return typeof obj == 'function' || false;
      };
    }

    // Is a given object a finite number?
    _.isFinite = function (obj) {
      return isFinite(obj) && !isNaN(parseFloat(obj));
    };

    // Is the given value `NaN`? (NaN is the only number which does not equal itself).
    _.isNaN = function (obj) {
      return _.isNumber(obj) && obj !== +obj;
    };

    // Is a given value a boolean?
    _.isBoolean = function (obj) {
      return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
    };

    // Is a given value equal to null?
    _.isNull = function (obj) {
      return obj === null;
    };

    // Is a given variable undefined?
    _.isUndefined = function (obj) {
      return obj === void 0;
    };

    // Shortcut function for checking if an object has a given property directly
    // on itself (in other words, not on a prototype).
    _.has = function (obj, key) {
      return obj != null && hasOwnProperty.call(obj, key);
    };

    // Utility Functions
    // -----------------

    // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
    // previous owner. Returns a reference to the Underscore object.
    _.noConflict = function () {
      root._ = previousUnderscore;
      return this;
    };

    // Keep the identity function around for default iteratees.
    _.identity = function (value) {
      return value;
    };

    // Predicate-generating functions. Often useful outside of Underscore.
    _.constant = function (value) {
      return function () {
        return value;
      };
    };

    _.noop = function () {};

    _.property = property;

    // Generates a function for a given object that returns a given property.
    _.propertyOf = function (obj) {
      return obj == null ? function () {} : function (key) {
        return obj[key];
      };
    };

    // Returns a predicate for checking whether an object has a given set of
    // `key:value` pairs.
    _.matcher = _.matches = function (attrs) {
      attrs = _.extendOwn({}, attrs);
      return function (obj) {
        return _.isMatch(obj, attrs);
      };
    };

    // Run a function **n** times.
    _.times = function (n, iteratee, context) {
      var accum = Array(Math.max(0, n));
      iteratee = optimizeCb(iteratee, context, 1);
      for (var i = 0; i < n; i++) accum[i] = iteratee(i);
      return accum;
    };

    // Return a random integer between min and max (inclusive).
    _.random = function (min, max) {
      if (max == null) {
        max = min;
        min = 0;
      }
      return min + Math.floor(Math.random() * (max - min + 1));
    };

    // A (possibly faster) way to get the current timestamp as an integer.
    _.now = Date.now || function () {
      return new Date().getTime();
    };

    // List of HTML entities for escaping.
    var escapeMap = {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#x27;',
      '`': '&#x60;'
    };
    var unescapeMap = _.invert(escapeMap);

    // Functions for escaping and unescaping strings to/from HTML interpolation.
    var createEscaper = function (map) {
      var escaper = function (match) {
        return map[match];
      };
      // Regexes for identifying a key that needs to be escaped
      var source = '(?:' + _.keys(map).join('|') + ')';
      var testRegexp = RegExp(source);
      var replaceRegexp = RegExp(source, 'g');
      return function (string) {
        string = string == null ? '' : '' + string;
        return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
      };
    };
    _.escape = createEscaper(escapeMap);
    _.unescape = createEscaper(unescapeMap);

    // If the value of the named `property` is a function then invoke it with the
    // `object` as context; otherwise, return it.
    _.result = function (object, property, fallback) {
      var value = object == null ? void 0 : object[property];
      if (value === void 0) {
        value = fallback;
      }
      return _.isFunction(value) ? value.call(object) : value;
    };

    // Generate a unique integer id (unique within the entire client session).
    // Useful for temporary DOM ids.
    var idCounter = 0;
    _.uniqueId = function (prefix) {
      var id = ++idCounter + '';
      return prefix ? prefix + id : id;
    };

    // By default, Underscore uses ERB-style template delimiters, change the
    // following template settings to use alternative delimiters.
    _.templateSettings = {
      evaluate: /<%([\s\S]+?)%>/g,
      interpolate: /<%=([\s\S]+?)%>/g,
      escape: /<%-([\s\S]+?)%>/g
    };

    // When customizing `templateSettings`, if you don't want to define an
    // interpolation, evaluation or escaping regex, we need one that is
    // guaranteed not to match.
    var noMatch = /(.)^/;

    // Certain characters need to be escaped so that they can be put into a
    // string literal.
    var escapes = {
      "'": "'",
      '\\': '\\',
      '\r': 'r',
      '\n': 'n',
      '\u2028': 'u2028',
      '\u2029': 'u2029'
    };

    var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

    var escapeChar = function (match) {
      return '\\' + escapes[match];
    };

    // JavaScript micro-templating, similar to John Resig's implementation.
    // Underscore templating handles arbitrary delimiters, preserves whitespace,
    // and correctly escapes quotes within interpolated code.
    // NB: `oldSettings` only exists for backwards compatibility.
    _.template = function (text, settings, oldSettings) {
      if (!settings && oldSettings) settings = oldSettings;
      settings = _.defaults({}, settings, _.templateSettings);

      // Combine delimiters into one regular expression via alternation.
      var matcher = RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g');

      // Compile the template source, escaping string literals appropriately.
      var index = 0;
      var source = "__p+='";
      text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {
        source += text.slice(index, offset).replace(escaper, escapeChar);
        index = offset + match.length;

        if (escape) {
          source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
        } else if (interpolate) {
          source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
        } else if (evaluate) {
          source += "';\n" + evaluate + "\n__p+='";
        }

        // Adobe VMs need the match returned to produce the correct offest.
        return match;
      });
      source += "';\n";

      // If a variable is not specified, place data values in local scope.
      if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

      source = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + source + 'return __p;\n';

      try {
        var render = new Function(settings.variable || 'obj', '_', source);
      } catch (e) {
        e.source = source;
        throw e;
      }

      var template = function (data) {
        return render.call(this, data, _);
      };

      // Provide the compiled source as a convenience for precompilation.
      var argument = settings.variable || 'obj';
      template.source = 'function(' + argument + '){\n' + source + '}';

      return template;
    };

    // Add a "chain" function. Start chaining a wrapped Underscore object.
    _.chain = function (obj) {
      var instance = _(obj);
      instance._chain = true;
      return instance;
    };

    // OOP
    // ---------------
    // If Underscore is called as a function, it returns a wrapped object that
    // can be used OO-style. This wrapper holds altered versions of all the
    // underscore functions. Wrapped objects may be chained.

    // Helper function to continue chaining intermediate results.
    var result = function (instance, obj) {
      return instance._chain ? _(obj).chain() : obj;
    };

    // Add your own custom functions to the Underscore object.
    _.mixin = function (obj) {
      _.each(_.functions(obj), function (name) {
        var func = _[name] = obj[name];
        _.prototype[name] = function () {
          var args = [this._wrapped];
          push.apply(args, arguments);
          return result(this, func.apply(_, args));
        };
      });
    };

    // Add all of the Underscore functions to the wrapper object.
    _.mixin(_);

    // Add all mutator Array functions to the wrapper.
    _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (name) {
      var method = ArrayProto[name];
      _.prototype[name] = function () {
        var obj = this._wrapped;
        method.apply(obj, arguments);
        if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
        return result(this, obj);
      };
    });

    // Add all accessor Array functions to the wrapper.
    _.each(['concat', 'join', 'slice'], function (name) {
      var method = ArrayProto[name];
      _.prototype[name] = function () {
        return result(this, method.apply(this._wrapped, arguments));
      };
    });

    // Extracts the result from a wrapped and chained object.
    _.prototype.value = function () {
      return this._wrapped;
    };

    // Provide unwrapping proxy for some methods used in engine operations
    // such as arithmetic and JSON stringification.
    _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

    _.prototype.toString = function () {
      return '' + this._wrapped;
    };

    // AMD registration happens at the end for compatibility with AMD loaders
    // that may not enforce next-turn semantics on modules. Even though general
    // practice for AMD registration is to be anonymous, underscore registers
    // as a named module because, like jQuery, it is a base library that is
    // popular enough to be bundled in a third party lib, but not be part of
    // an AMD load request. Those cases could generate an error when an
    // anonymous define() is called outside of a loader request.
    if (typeof define === 'function' && define.amd) {
      define('underscore', [], function () {
        return _;
      });
    }
  }).call(this);
  return module.exports;
});
System.registerDynamic("npm:jquery@3.1.1.json", [], false, function() {
  return {
    "main": "dist/jquery.js",
    "format": "amd",
    "meta": {
      "*.json": {
        "format": "json"
      }
    }
  };
});

(function() {
var define = System.amdDefine;
(function(global, factory) {
  "use strict";
  if (typeof module === "object" && typeof module.exports === "object") {
    module.exports = global.document ? factory(global, true) : function(w) {
      if (!w.document) {
        throw new Error("jQuery requires a window with a document");
      }
      return factory(w);
    };
  } else {
    factory(global);
  }
})(typeof window !== "undefined" ? window : this, function(window, noGlobal) {
  "use strict";
  var arr = [];
  var document = window.document;
  var getProto = Object.getPrototypeOf;
  var slice = arr.slice;
  var concat = arr.concat;
  var push = arr.push;
  var indexOf = arr.indexOf;
  var class2type = {};
  var toString = class2type.toString;
  var hasOwn = class2type.hasOwnProperty;
  var fnToString = hasOwn.toString;
  var ObjectFunctionString = fnToString.call(Object);
  var support = {};
  function DOMEval(code, doc) {
    doc = doc || document;
    var script = doc.createElement("script");
    script.text = code;
    doc.head.appendChild(script).parentNode.removeChild(script);
  }
  var version = "3.1.1",
      jQuery = function(selector, context) {
        return new jQuery.fn.init(selector, context);
      },
      rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
      rmsPrefix = /^-ms-/,
      rdashAlpha = /-([a-z])/g,
      fcamelCase = function(all, letter) {
        return letter.toUpperCase();
      };
  jQuery.fn = jQuery.prototype = {
    jquery: version,
    constructor: jQuery,
    length: 0,
    toArray: function() {
      return slice.call(this);
    },
    get: function(num) {
      if (num == null) {
        return slice.call(this);
      }
      return num < 0 ? this[num + this.length] : this[num];
    },
    pushStack: function(elems) {
      var ret = jQuery.merge(this.constructor(), elems);
      ret.prevObject = this;
      return ret;
    },
    each: function(callback) {
      return jQuery.each(this, callback);
    },
    map: function(callback) {
      return this.pushStack(jQuery.map(this, function(elem, i) {
        return callback.call(elem, i, elem);
      }));
    },
    slice: function() {
      return this.pushStack(slice.apply(this, arguments));
    },
    first: function() {
      return this.eq(0);
    },
    last: function() {
      return this.eq(-1);
    },
    eq: function(i) {
      var len = this.length,
          j = +i + (i < 0 ? len : 0);
      return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
    },
    end: function() {
      return this.prevObject || this.constructor();
    },
    push: push,
    sort: arr.sort,
    splice: arr.splice
  };
  jQuery.extend = jQuery.fn.extend = function() {
    var options,
        name,
        src,
        copy,
        copyIsArray,
        clone,
        target = arguments[0] || {},
        i = 1,
        length = arguments.length,
        deep = false;
    if (typeof target === "boolean") {
      deep = target;
      target = arguments[i] || {};
      i++;
    }
    if (typeof target !== "object" && !jQuery.isFunction(target)) {
      target = {};
    }
    if (i === length) {
      target = this;
      i--;
    }
    for (; i < length; i++) {
      if ((options = arguments[i]) != null) {
        for (name in options) {
          src = target[name];
          copy = options[name];
          if (target === copy) {
            continue;
          }
          if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {
            if (copyIsArray) {
              copyIsArray = false;
              clone = src && jQuery.isArray(src) ? src : [];
            } else {
              clone = src && jQuery.isPlainObject(src) ? src : {};
            }
            target[name] = jQuery.extend(deep, clone, copy);
          } else if (copy !== undefined) {
            target[name] = copy;
          }
        }
      }
    }
    return target;
  };
  jQuery.extend({
    expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
    isReady: true,
    error: function(msg) {
      throw new Error(msg);
    },
    noop: function() {},
    isFunction: function(obj) {
      return jQuery.type(obj) === "function";
    },
    isArray: Array.isArray,
    isWindow: function(obj) {
      return obj != null && obj === obj.window;
    },
    isNumeric: function(obj) {
      var type = jQuery.type(obj);
      return (type === "number" || type === "string") && !isNaN(obj - parseFloat(obj));
    },
    isPlainObject: function(obj) {
      var proto,
          Ctor;
      if (!obj || toString.call(obj) !== "[object Object]") {
        return false;
      }
      proto = getProto(obj);
      if (!proto) {
        return true;
      }
      Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
      return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
    },
    isEmptyObject: function(obj) {
      var name;
      for (name in obj) {
        return false;
      }
      return true;
    },
    type: function(obj) {
      if (obj == null) {
        return obj + "";
      }
      return typeof obj === "object" || typeof obj === "function" ? class2type[toString.call(obj)] || "object" : typeof obj;
    },
    globalEval: function(code) {
      DOMEval(code);
    },
    camelCase: function(string) {
      return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase);
    },
    nodeName: function(elem, name) {
      return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
    },
    each: function(obj, callback) {
      var length,
          i = 0;
      if (isArrayLike(obj)) {
        length = obj.length;
        for (; i < length; i++) {
          if (callback.call(obj[i], i, obj[i]) === false) {
            break;
          }
        }
      } else {
        for (i in obj) {
          if (callback.call(obj[i], i, obj[i]) === false) {
            break;
          }
        }
      }
      return obj;
    },
    trim: function(text) {
      return text == null ? "" : (text + "").replace(rtrim, "");
    },
    makeArray: function(arr, results) {
      var ret = results || [];
      if (arr != null) {
        if (isArrayLike(Object(arr))) {
          jQuery.merge(ret, typeof arr === "string" ? [arr] : arr);
        } else {
          push.call(ret, arr);
        }
      }
      return ret;
    },
    inArray: function(elem, arr, i) {
      return arr == null ? -1 : indexOf.call(arr, elem, i);
    },
    merge: function(first, second) {
      var len = +second.length,
          j = 0,
          i = first.length;
      for (; j < len; j++) {
        first[i++] = second[j];
      }
      first.length = i;
      return first;
    },
    grep: function(elems, callback, invert) {
      var callbackInverse,
          matches = [],
          i = 0,
          length = elems.length,
          callbackExpect = !invert;
      for (; i < length; i++) {
        callbackInverse = !callback(elems[i], i);
        if (callbackInverse !== callbackExpect) {
          matches.push(elems[i]);
        }
      }
      return matches;
    },
    map: function(elems, callback, arg) {
      var length,
          value,
          i = 0,
          ret = [];
      if (isArrayLike(elems)) {
        length = elems.length;
        for (; i < length; i++) {
          value = callback(elems[i], i, arg);
          if (value != null) {
            ret.push(value);
          }
        }
      } else {
        for (i in elems) {
          value = callback(elems[i], i, arg);
          if (value != null) {
            ret.push(value);
          }
        }
      }
      return concat.apply([], ret);
    },
    guid: 1,
    proxy: function(fn, context) {
      var tmp,
          args,
          proxy;
      if (typeof context === "string") {
        tmp = fn[context];
        context = fn;
        fn = tmp;
      }
      if (!jQuery.isFunction(fn)) {
        return undefined;
      }
      args = slice.call(arguments, 2);
      proxy = function() {
        return fn.apply(context || this, args.concat(slice.call(arguments)));
      };
      proxy.guid = fn.guid = fn.guid || jQuery.guid++;
      return proxy;
    },
    now: Date.now,
    support: support
  });
  if (typeof Symbol === "function") {
    jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
  }
  jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(i, name) {
    class2type["[object " + name + "]"] = name.toLowerCase();
  });
  function isArrayLike(obj) {
    var length = !!obj && "length" in obj && obj.length,
        type = jQuery.type(obj);
    if (type === "function" || jQuery.isWindow(obj)) {
      return false;
    }
    return type === "array" || length === 0 || typeof length === "number" && length > 0 && (length - 1) in obj;
  }
  var Sizzle = (function(window) {
    var i,
        support,
        Expr,
        getText,
        isXML,
        tokenize,
        compile,
        select,
        outermostContext,
        sortInput,
        hasDuplicate,
        setDocument,
        document,
        docElem,
        documentIsHTML,
        rbuggyQSA,
        rbuggyMatches,
        matches,
        contains,
        expando = "sizzle" + 1 * new Date(),
        preferredDoc = window.document,
        dirruns = 0,
        done = 0,
        classCache = createCache(),
        tokenCache = createCache(),
        compilerCache = createCache(),
        sortOrder = function(a, b) {
          if (a === b) {
            hasDuplicate = true;
          }
          return 0;
        },
        hasOwn = ({}).hasOwnProperty,
        arr = [],
        pop = arr.pop,
        push_native = arr.push,
        push = arr.push,
        slice = arr.slice,
        indexOf = function(list, elem) {
          var i = 0,
              len = list.length;
          for (; i < len; i++) {
            if (list[i] === elem) {
              return i;
            }
          }
          return -1;
        },
        booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
        whitespace = "[\\x20\\t\\r\\n\\f]",
        identifier = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
        attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace + "*([*^$|!~]?=)" + whitespace + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
        pseudos = ":(" + identifier + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" + ".*" + ")\\)|)",
        rwhitespace = new RegExp(whitespace + "+", "g"),
        rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),
        rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
        rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
        rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"),
        rpseudo = new RegExp(pseudos),
        ridentifier = new RegExp("^" + identifier + "$"),
        matchExpr = {
          "ID": new RegExp("^#(" + identifier + ")"),
          "CLASS": new RegExp("^\\.(" + identifier + ")"),
          "TAG": new RegExp("^(" + identifier + "|[*])"),
          "ATTR": new RegExp("^" + attributes),
          "PSEUDO": new RegExp("^" + pseudos),
          "CHILD": new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
          "bool": new RegExp("^(?:" + booleans + ")$", "i"),
          "needsContext": new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
        },
        rinputs = /^(?:input|select|textarea|button)$/i,
        rheader = /^h\d$/i,
        rnative = /^[^{]+\{\s*\[native \w/,
        rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
        rsibling = /[+~]/,
        runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"),
        funescape = function(_, escaped, escapedWhitespace) {
          var high = "0x" + escaped - 0x10000;
          return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 0x10000) : String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
        },
        rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
        fcssescape = function(ch, asCodePoint) {
          if (asCodePoint) {
            if (ch === "\0") {
              return "\uFFFD";
            }
            return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
          }
          return "\\" + ch;
        },
        unloadHandler = function() {
          setDocument();
        },
        disabledAncestor = addCombinator(function(elem) {
          return elem.disabled === true && ("form" in elem || "label" in elem);
        }, {
          dir: "parentNode",
          next: "legend"
        });
    try {
      push.apply((arr = slice.call(preferredDoc.childNodes)), preferredDoc.childNodes);
      arr[preferredDoc.childNodes.length].nodeType;
    } catch (e) {
      push = {apply: arr.length ? function(target, els) {
          push_native.apply(target, slice.call(els));
        } : function(target, els) {
          var j = target.length,
              i = 0;
          while ((target[j++] = els[i++])) {}
          target.length = j - 1;
        }};
    }
    function Sizzle(selector, context, results, seed) {
      var m,
          i,
          elem,
          nid,
          match,
          groups,
          newSelector,
          newContext = context && context.ownerDocument,
          nodeType = context ? context.nodeType : 9;
      results = results || [];
      if (typeof selector !== "string" || !selector || nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
        return results;
      }
      if (!seed) {
        if ((context ? context.ownerDocument || context : preferredDoc) !== document) {
          setDocument(context);
        }
        context = context || document;
        if (documentIsHTML) {
          if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
            if ((m = match[1])) {
              if (nodeType === 9) {
                if ((elem = context.getElementById(m))) {
                  if (elem.id === m) {
                    results.push(elem);
                    return results;
                  }
                } else {
                  return results;
                }
              } else {
                if (newContext && (elem = newContext.getElementById(m)) && contains(context, elem) && elem.id === m) {
                  results.push(elem);
                  return results;
                }
              }
            } else if (match[2]) {
              push.apply(results, context.getElementsByTagName(selector));
              return results;
            } else if ((m = match[3]) && support.getElementsByClassName && context.getElementsByClassName) {
              push.apply(results, context.getElementsByClassName(m));
              return results;
            }
          }
          if (support.qsa && !compilerCache[selector + " "] && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
            if (nodeType !== 1) {
              newContext = context;
              newSelector = selector;
            } else if (context.nodeName.toLowerCase() !== "object") {
              if ((nid = context.getAttribute("id"))) {
                nid = nid.replace(rcssescape, fcssescape);
              } else {
                context.setAttribute("id", (nid = expando));
              }
              groups = tokenize(selector);
              i = groups.length;
              while (i--) {
                groups[i] = "#" + nid + " " + toSelector(groups[i]);
              }
              newSelector = groups.join(",");
              newContext = rsibling.test(selector) && testContext(context.parentNode) || context;
            }
            if (newSelector) {
              try {
                push.apply(results, newContext.querySelectorAll(newSelector));
                return results;
              } catch (qsaError) {} finally {
                if (nid === expando) {
                  context.removeAttribute("id");
                }
              }
            }
          }
        }
      }
      return select(selector.replace(rtrim, "$1"), context, results, seed);
    }
    function createCache() {
      var keys = [];
      function cache(key, value) {
        if (keys.push(key + " ") > Expr.cacheLength) {
          delete cache[keys.shift()];
        }
        return (cache[key + " "] = value);
      }
      return cache;
    }
    function markFunction(fn) {
      fn[expando] = true;
      return fn;
    }
    function assert(fn) {
      var el = document.createElement("fieldset");
      try {
        return !!fn(el);
      } catch (e) {
        return false;
      } finally {
        if (el.parentNode) {
          el.parentNode.removeChild(el);
        }
        el = null;
      }
    }
    function addHandle(attrs, handler) {
      var arr = attrs.split("|"),
          i = arr.length;
      while (i--) {
        Expr.attrHandle[arr[i]] = handler;
      }
    }
    function siblingCheck(a, b) {
      var cur = b && a,
          diff = cur && a.nodeType === 1 && b.nodeType === 1 && a.sourceIndex - b.sourceIndex;
      if (diff) {
        return diff;
      }
      if (cur) {
        while ((cur = cur.nextSibling)) {
          if (cur === b) {
            return -1;
          }
        }
      }
      return a ? 1 : -1;
    }
    function createInputPseudo(type) {
      return function(elem) {
        var name = elem.nodeName.toLowerCase();
        return name === "input" && elem.type === type;
      };
    }
    function createButtonPseudo(type) {
      return function(elem) {
        var name = elem.nodeName.toLowerCase();
        return (name === "input" || name === "button") && elem.type === type;
      };
    }
    function createDisabledPseudo(disabled) {
      return function(elem) {
        if ("form" in elem) {
          if (elem.parentNode && elem.disabled === false) {
            if ("label" in elem) {
              if ("label" in elem.parentNode) {
                return elem.parentNode.disabled === disabled;
              } else {
                return elem.disabled === disabled;
              }
            }
            return elem.isDisabled === disabled || elem.isDisabled !== !disabled && disabledAncestor(elem) === disabled;
          }
          return elem.disabled === disabled;
        } else if ("label" in elem) {
          return elem.disabled === disabled;
        }
        return false;
      };
    }
    function createPositionalPseudo(fn) {
      return markFunction(function(argument) {
        argument = +argument;
        return markFunction(function(seed, matches) {
          var j,
              matchIndexes = fn([], seed.length, argument),
              i = matchIndexes.length;
          while (i--) {
            if (seed[(j = matchIndexes[i])]) {
              seed[j] = !(matches[j] = seed[j]);
            }
          }
        });
      });
    }
    function testContext(context) {
      return context && typeof context.getElementsByTagName !== "undefined" && context;
    }
    support = Sizzle.support = {};
    isXML = Sizzle.isXML = function(elem) {
      var documentElement = elem && (elem.ownerDocument || elem).documentElement;
      return documentElement ? documentElement.nodeName !== "HTML" : false;
    };
    setDocument = Sizzle.setDocument = function(node) {
      var hasCompare,
          subWindow,
          doc = node ? node.ownerDocument || node : preferredDoc;
      if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {
        return document;
      }
      document = doc;
      docElem = document.documentElement;
      documentIsHTML = !isXML(document);
      if (preferredDoc !== document && (subWindow = document.defaultView) && subWindow.top !== subWindow) {
        if (subWindow.addEventListener) {
          subWindow.addEventListener("unload", unloadHandler, false);
        } else if (subWindow.attachEvent) {
          subWindow.attachEvent("onunload", unloadHandler);
        }
      }
      support.attributes = assert(function(el) {
        el.className = "i";
        return !el.getAttribute("className");
      });
      support.getElementsByTagName = assert(function(el) {
        el.appendChild(document.createComment(""));
        return !el.getElementsByTagName("*").length;
      });
      support.getElementsByClassName = rnative.test(document.getElementsByClassName);
      support.getById = assert(function(el) {
        docElem.appendChild(el).id = expando;
        return !document.getElementsByName || !document.getElementsByName(expando).length;
      });
      if (support.getById) {
        Expr.filter["ID"] = function(id) {
          var attrId = id.replace(runescape, funescape);
          return function(elem) {
            return elem.getAttribute("id") === attrId;
          };
        };
        Expr.find["ID"] = function(id, context) {
          if (typeof context.getElementById !== "undefined" && documentIsHTML) {
            var elem = context.getElementById(id);
            return elem ? [elem] : [];
          }
        };
      } else {
        Expr.filter["ID"] = function(id) {
          var attrId = id.replace(runescape, funescape);
          return function(elem) {
            var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
            return node && node.value === attrId;
          };
        };
        Expr.find["ID"] = function(id, context) {
          if (typeof context.getElementById !== "undefined" && documentIsHTML) {
            var node,
                i,
                elems,
                elem = context.getElementById(id);
            if (elem) {
              node = elem.getAttributeNode("id");
              if (node && node.value === id) {
                return [elem];
              }
              elems = context.getElementsByName(id);
              i = 0;
              while ((elem = elems[i++])) {
                node = elem.getAttributeNode("id");
                if (node && node.value === id) {
                  return [elem];
                }
              }
            }
            return [];
          }
        };
      }
      Expr.find["TAG"] = support.getElementsByTagName ? function(tag, context) {
        if (typeof context.getElementsByTagName !== "undefined") {
          return context.getElementsByTagName(tag);
        } else if (support.qsa) {
          return context.querySelectorAll(tag);
        }
      } : function(tag, context) {
        var elem,
            tmp = [],
            i = 0,
            results = context.getElementsByTagName(tag);
        if (tag === "*") {
          while ((elem = results[i++])) {
            if (elem.nodeType === 1) {
              tmp.push(elem);
            }
          }
          return tmp;
        }
        return results;
      };
      Expr.find["CLASS"] = support.getElementsByClassName && function(className, context) {
        if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
          return context.getElementsByClassName(className);
        }
      };
      rbuggyMatches = [];
      rbuggyQSA = [];
      if ((support.qsa = rnative.test(document.querySelectorAll))) {
        assert(function(el) {
          docElem.appendChild(el).innerHTML = "<a id='" + expando + "'></a>" + "<select id='" + expando + "-\r\\' msallowcapture=''>" + "<option selected=''></option></select>";
          if (el.querySelectorAll("[msallowcapture^='']").length) {
            rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")");
          }
          if (!el.querySelectorAll("[selected]").length) {
            rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")");
          }
          if (!el.querySelectorAll("[id~=" + expando + "-]").length) {
            rbuggyQSA.push("~=");
          }
          if (!el.querySelectorAll(":checked").length) {
            rbuggyQSA.push(":checked");
          }
          if (!el.querySelectorAll("a#" + expando + "+*").length) {
            rbuggyQSA.push(".#.+[+~]");
          }
        });
        assert(function(el) {
          el.innerHTML = "<a href='' disabled='disabled'></a>" + "<select disabled='disabled'><option/></select>";
          var input = document.createElement("input");
          input.setAttribute("type", "hidden");
          el.appendChild(input).setAttribute("name", "D");
          if (el.querySelectorAll("[name=d]").length) {
            rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=");
          }
          if (el.querySelectorAll(":enabled").length !== 2) {
            rbuggyQSA.push(":enabled", ":disabled");
          }
          docElem.appendChild(el).disabled = true;
          if (el.querySelectorAll(":disabled").length !== 2) {
            rbuggyQSA.push(":enabled", ":disabled");
          }
          el.querySelectorAll("*,:x");
          rbuggyQSA.push(",.*:");
        });
      }
      if ((support.matchesSelector = rnative.test((matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)))) {
        assert(function(el) {
          support.disconnectedMatch = matches.call(el, "*");
          matches.call(el, "[s!='']:x");
          rbuggyMatches.push("!=", pseudos);
        });
      }
      rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
      rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
      hasCompare = rnative.test(docElem.compareDocumentPosition);
      contains = hasCompare || rnative.test(docElem.contains) ? function(a, b) {
        var adown = a.nodeType === 9 ? a.documentElement : a,
            bup = b && b.parentNode;
        return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
      } : function(a, b) {
        if (b) {
          while ((b = b.parentNode)) {
            if (b === a) {
              return true;
            }
          }
        }
        return false;
      };
      sortOrder = hasCompare ? function(a, b) {
        if (a === b) {
          hasDuplicate = true;
          return 0;
        }
        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
        if (compare) {
          return compare;
        }
        compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;
        if (compare & 1 || (!support.sortDetached && b.compareDocumentPosition(a) === compare)) {
          if (a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {
            return -1;
          }
          if (b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {
            return 1;
          }
          return sortInput ? (indexOf(sortInput, a) - indexOf(sortInput, b)) : 0;
        }
        return compare & 4 ? -1 : 1;
      } : function(a, b) {
        if (a === b) {
          hasDuplicate = true;
          return 0;
        }
        var cur,
            i = 0,
            aup = a.parentNode,
            bup = b.parentNode,
            ap = [a],
            bp = [b];
        if (!aup || !bup) {
          return a === document ? -1 : b === document ? 1 : aup ? -1 : bup ? 1 : sortInput ? (indexOf(sortInput, a) - indexOf(sortInput, b)) : 0;
        } else if (aup === bup) {
          return siblingCheck(a, b);
        }
        cur = a;
        while ((cur = cur.parentNode)) {
          ap.unshift(cur);
        }
        cur = b;
        while ((cur = cur.parentNode)) {
          bp.unshift(cur);
        }
        while (ap[i] === bp[i]) {
          i++;
        }
        return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;
      };
      return document;
    };
    Sizzle.matches = function(expr, elements) {
      return Sizzle(expr, null, null, elements);
    };
    Sizzle.matchesSelector = function(elem, expr) {
      if ((elem.ownerDocument || elem) !== document) {
        setDocument(elem);
      }
      expr = expr.replace(rattributeQuotes, "='$1']");
      if (support.matchesSelector && documentIsHTML && !compilerCache[expr + " "] && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {
        try {
          var ret = matches.call(elem, expr);
          if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {
            return ret;
          }
        } catch (e) {}
      }
      return Sizzle(expr, document, null, [elem]).length > 0;
    };
    Sizzle.contains = function(context, elem) {
      if ((context.ownerDocument || context) !== document) {
        setDocument(context);
      }
      return contains(context, elem);
    };
    Sizzle.attr = function(elem, name) {
      if ((elem.ownerDocument || elem) !== document) {
        setDocument(elem);
      }
      var fn = Expr.attrHandle[name.toLowerCase()],
          val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
      return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
    };
    Sizzle.escape = function(sel) {
      return (sel + "").replace(rcssescape, fcssescape);
    };
    Sizzle.error = function(msg) {
      throw new Error("Syntax error, unrecognized expression: " + msg);
    };
    Sizzle.uniqueSort = function(results) {
      var elem,
          duplicates = [],
          j = 0,
          i = 0;
      hasDuplicate = !support.detectDuplicates;
      sortInput = !support.sortStable && results.slice(0);
      results.sort(sortOrder);
      if (hasDuplicate) {
        while ((elem = results[i++])) {
          if (elem === results[i]) {
            j = duplicates.push(i);
          }
        }
        while (j--) {
          results.splice(duplicates[j], 1);
        }
      }
      sortInput = null;
      return results;
    };
    getText = Sizzle.getText = function(elem) {
      var node,
          ret = "",
          i = 0,
          nodeType = elem.nodeType;
      if (!nodeType) {
        while ((node = elem[i++])) {
          ret += getText(node);
        }
      } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
        if (typeof elem.textContent === "string") {
          return elem.textContent;
        } else {
          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
            ret += getText(elem);
          }
        }
      } else if (nodeType === 3 || nodeType === 4) {
        return elem.nodeValue;
      }
      return ret;
    };
    Expr = Sizzle.selectors = {
      cacheLength: 50,
      createPseudo: markFunction,
      match: matchExpr,
      attrHandle: {},
      find: {},
      relative: {
        ">": {
          dir: "parentNode",
          first: true
        },
        " ": {dir: "parentNode"},
        "+": {
          dir: "previousSibling",
          first: true
        },
        "~": {dir: "previousSibling"}
      },
      preFilter: {
        "ATTR": function(match) {
          match[1] = match[1].replace(runescape, funescape);
          match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);
          if (match[2] === "~=") {
            match[3] = " " + match[3] + " ";
          }
          return match.slice(0, 4);
        },
        "CHILD": function(match) {
          match[1] = match[1].toLowerCase();
          if (match[1].slice(0, 3) === "nth") {
            if (!match[3]) {
              Sizzle.error(match[0]);
            }
            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
            match[5] = +((match[7] + match[8]) || match[3] === "odd");
          } else if (match[3]) {
            Sizzle.error(match[0]);
          }
          return match;
        },
        "PSEUDO": function(match) {
          var excess,
              unquoted = !match[6] && match[2];
          if (matchExpr["CHILD"].test(match[0])) {
            return null;
          }
          if (match[3]) {
            match[2] = match[4] || match[5] || "";
          } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
            match[0] = match[0].slice(0, excess);
            match[2] = unquoted.slice(0, excess);
          }
          return match.slice(0, 3);
        }
      },
      filter: {
        "TAG": function(nodeNameSelector) {
          var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
          return nodeNameSelector === "*" ? function() {
            return true;
          } : function(elem) {
            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
          };
        },
        "CLASS": function(className) {
          var pattern = classCache[className + " "];
          return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem) {
            return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "");
          });
        },
        "ATTR": function(name, operator, check) {
          return function(elem) {
            var result = Sizzle.attr(elem, name);
            if (result == null) {
              return operator === "!=";
            }
            if (!operator) {
              return true;
            }
            result += "";
            return operator === "=" ? result === check : operator === "!=" ? result !== check : operator === "^=" ? check && result.indexOf(check) === 0 : operator === "*=" ? check && result.indexOf(check) > -1 : operator === "$=" ? check && result.slice(-check.length) === check : operator === "~=" ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 : operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" : false;
          };
        },
        "CHILD": function(type, what, argument, first, last) {
          var simple = type.slice(0, 3) !== "nth",
              forward = type.slice(-4) !== "last",
              ofType = what === "of-type";
          return first === 1 && last === 0 ? function(elem) {
            return !!elem.parentNode;
          } : function(elem, context, xml) {
            var cache,
                uniqueCache,
                outerCache,
                node,
                nodeIndex,
                start,
                dir = simple !== forward ? "nextSibling" : "previousSibling",
                parent = elem.parentNode,
                name = ofType && elem.nodeName.toLowerCase(),
                useCache = !xml && !ofType,
                diff = false;
            if (parent) {
              if (simple) {
                while (dir) {
                  node = elem;
                  while ((node = node[dir])) {
                    if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {
                      return false;
                    }
                  }
                  start = dir = type === "only" && !start && "nextSibling";
                }
                return true;
              }
              start = [forward ? parent.firstChild : parent.lastChild];
              if (forward && useCache) {
                node = parent;
                outerCache = node[expando] || (node[expando] = {});
                uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                cache = uniqueCache[type] || [];
                nodeIndex = cache[0] === dirruns && cache[1];
                diff = nodeIndex && cache[2];
                node = nodeIndex && parent.childNodes[nodeIndex];
                while ((node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop())) {
                  if (node.nodeType === 1 && ++diff && node === elem) {
                    uniqueCache[type] = [dirruns, nodeIndex, diff];
                    break;
                  }
                }
              } else {
                if (useCache) {
                  node = elem;
                  outerCache = node[expando] || (node[expando] = {});
                  uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                  cache = uniqueCache[type] || [];
                  nodeIndex = cache[0] === dirruns && cache[1];
                  diff = nodeIndex;
                }
                if (diff === false) {
                  while ((node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop())) {
                    if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {
                      if (useCache) {
                        outerCache = node[expando] || (node[expando] = {});
                        uniqueCache = outerCache[node.uniqueID] || (outerCache[node.uniqueID] = {});
                        uniqueCache[type] = [dirruns, diff];
                      }
                      if (node === elem) {
                        break;
                      }
                    }
                  }
                }
              }
              diff -= last;
              return diff === first || (diff % first === 0 && diff / first >= 0);
            }
          };
        },
        "PSEUDO": function(pseudo, argument) {
          var args,
              fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
          if (fn[expando]) {
            return fn(argument);
          }
          if (fn.length > 1) {
            args = [pseudo, pseudo, "", argument];
            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, matches) {
              var idx,
                  matched = fn(seed, argument),
                  i = matched.length;
              while (i--) {
                idx = indexOf(seed, matched[i]);
                seed[idx] = !(matches[idx] = matched[i]);
              }
            }) : function(elem) {
              return fn(elem, 0, args);
            };
          }
          return fn;
        }
      },
      pseudos: {
        "not": markFunction(function(selector) {
          var input = [],
              results = [],
              matcher = compile(selector.replace(rtrim, "$1"));
          return matcher[expando] ? markFunction(function(seed, matches, context, xml) {
            var elem,
                unmatched = matcher(seed, null, xml, []),
                i = seed.length;
            while (i--) {
              if ((elem = unmatched[i])) {
                seed[i] = !(matches[i] = elem);
              }
            }
          }) : function(elem, context, xml) {
            input[0] = elem;
            matcher(input, null, xml, results);
            input[0] = null;
            return !results.pop();
          };
        }),
        "has": markFunction(function(selector) {
          return function(elem) {
            return Sizzle(selector, elem).length > 0;
          };
        }),
        "contains": markFunction(function(text) {
          text = text.replace(runescape, funescape);
          return function(elem) {
            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;
          };
        }),
        "lang": markFunction(function(lang) {
          if (!ridentifier.test(lang || "")) {
            Sizzle.error("unsupported lang: " + lang);
          }
          lang = lang.replace(runescape, funescape).toLowerCase();
          return function(elem) {
            var elemLang;
            do {
              if ((elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang"))) {
                elemLang = elemLang.toLowerCase();
                return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
              }
            } while ((elem = elem.parentNode) && elem.nodeType === 1);
            return false;
          };
        }),
        "target": function(elem) {
          var hash = window.location && window.location.hash;
          return hash && hash.slice(1) === elem.id;
        },
        "root": function(elem) {
          return elem === docElem;
        },
        "focus": function(elem) {
          return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
        },
        "enabled": createDisabledPseudo(false),
        "disabled": createDisabledPseudo(true),
        "checked": function(elem) {
          var nodeName = elem.nodeName.toLowerCase();
          return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
        },
        "selected": function(elem) {
          if (elem.parentNode) {
            elem.parentNode.selectedIndex;
          }
          return elem.selected === true;
        },
        "empty": function(elem) {
          for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
            if (elem.nodeType < 6) {
              return false;
            }
          }
          return true;
        },
        "parent": function(elem) {
          return !Expr.pseudos["empty"](elem);
        },
        "header": function(elem) {
          return rheader.test(elem.nodeName);
        },
        "input": function(elem) {
          return rinputs.test(elem.nodeName);
        },
        "button": function(elem) {
          var name = elem.nodeName.toLowerCase();
          return name === "input" && elem.type === "button" || name === "button";
        },
        "text": function(elem) {
          var attr;
          return elem.nodeName.toLowerCase() === "input" && elem.type === "text" && ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text");
        },
        "first": createPositionalPseudo(function() {
          return [0];
        }),
        "last": createPositionalPseudo(function(matchIndexes, length) {
          return [length - 1];
        }),
        "eq": createPositionalPseudo(function(matchIndexes, length, argument) {
          return [argument < 0 ? argument + length : argument];
        }),
        "even": createPositionalPseudo(function(matchIndexes, length) {
          var i = 0;
          for (; i < length; i += 2) {
            matchIndexes.push(i);
          }
          return matchIndexes;
        }),
        "odd": createPositionalPseudo(function(matchIndexes, length) {
          var i = 1;
          for (; i < length; i += 2) {
            matchIndexes.push(i);
          }
          return matchIndexes;
        }),
        "lt": createPositionalPseudo(function(matchIndexes, length, argument) {
          var i = argument < 0 ? argument + length : argument;
          for (; --i >= 0; ) {
            matchIndexes.push(i);
          }
          return matchIndexes;
        }),
        "gt": createPositionalPseudo(function(matchIndexes, length, argument) {
          var i = argument < 0 ? argument + length : argument;
          for (; ++i < length; ) {
            matchIndexes.push(i);
          }
          return matchIndexes;
        })
      }
    };
    Expr.pseudos["nth"] = Expr.pseudos["eq"];
    for (i in {
      radio: true,
      checkbox: true,
      file: true,
      password: true,
      image: true
    }) {
      Expr.pseudos[i] = createInputPseudo(i);
    }
    for (i in {
      submit: true,
      reset: true
    }) {
      Expr.pseudos[i] = createButtonPseudo(i);
    }
    function setFilters() {}
    setFilters.prototype = Expr.filters = Expr.pseudos;
    Expr.setFilters = new setFilters();
    tokenize = Sizzle.tokenize = function(selector, parseOnly) {
      var matched,
          match,
          tokens,
          type,
          soFar,
          groups,
          preFilters,
          cached = tokenCache[selector + " "];
      if (cached) {
        return parseOnly ? 0 : cached.slice(0);
      }
      soFar = selector;
      groups = [];
      preFilters = Expr.preFilter;
      while (soFar) {
        if (!matched || (match = rcomma.exec(soFar))) {
          if (match) {
            soFar = soFar.slice(match[0].length) || soFar;
          }
          groups.push((tokens = []));
        }
        matched = false;
        if ((match = rcombinators.exec(soFar))) {
          matched = match.shift();
          tokens.push({
            value: matched,
            type: match[0].replace(rtrim, " ")
          });
          soFar = soFar.slice(matched.length);
        }
        for (type in Expr.filter) {
          if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {
            matched = match.shift();
            tokens.push({
              value: matched,
              type: type,
              matches: match
            });
            soFar = soFar.slice(matched.length);
          }
        }
        if (!matched) {
          break;
        }
      }
      return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);
    };
    function toSelector(tokens) {
      var i = 0,
          len = tokens.length,
          selector = "";
      for (; i < len; i++) {
        selector += tokens[i].value;
      }
      return selector;
    }
    function addCombinator(matcher, combinator, base) {
      var dir = combinator.dir,
          skip = combinator.next,
          key = skip || dir,
          checkNonElements = base && key === "parentNode",
          doneName = done++;
      return combinator.first ? function(elem, context, xml) {
        while ((elem = elem[dir])) {
          if (elem.nodeType === 1 || checkNonElements) {
            return matcher(elem, context, xml);
          }
        }
        return false;
      } : function(elem, context, xml) {
        var oldCache,
            uniqueCache,
            outerCache,
            newCache = [dirruns, doneName];
        if (xml) {
          while ((elem = elem[dir])) {
            if (elem.nodeType === 1 || checkNonElements) {
              if (matcher(elem, context, xml)) {
                return true;
              }
            }
          }
        } else {
          while ((elem = elem[dir])) {
            if (elem.nodeType === 1 || checkNonElements) {
              outerCache = elem[expando] || (elem[expando] = {});
              uniqueCache = outerCache[elem.uniqueID] || (outerCache[elem.uniqueID] = {});
              if (skip && skip === elem.nodeName.toLowerCase()) {
                elem = elem[dir] || elem;
              } else if ((oldCache = uniqueCache[key]) && oldCache[0] === dirruns && oldCache[1] === doneName) {
                return (newCache[2] = oldCache[2]);
              } else {
                uniqueCache[key] = newCache;
                if ((newCache[2] = matcher(elem, context, xml))) {
                  return true;
                }
              }
            }
          }
        }
        return false;
      };
    }
    function elementMatcher(matchers) {
      return matchers.length > 1 ? function(elem, context, xml) {
        var i = matchers.length;
        while (i--) {
          if (!matchers[i](elem, context, xml)) {
            return false;
          }
        }
        return true;
      } : matchers[0];
    }
    function multipleContexts(selector, contexts, results) {
      var i = 0,
          len = contexts.length;
      for (; i < len; i++) {
        Sizzle(selector, contexts[i], results);
      }
      return results;
    }
    function condense(unmatched, map, filter, context, xml) {
      var elem,
          newUnmatched = [],
          i = 0,
          len = unmatched.length,
          mapped = map != null;
      for (; i < len; i++) {
        if ((elem = unmatched[i])) {
          if (!filter || filter(elem, context, xml)) {
            newUnmatched.push(elem);
            if (mapped) {
              map.push(i);
            }
          }
        }
      }
      return newUnmatched;
    }
    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
      if (postFilter && !postFilter[expando]) {
        postFilter = setMatcher(postFilter);
      }
      if (postFinder && !postFinder[expando]) {
        postFinder = setMatcher(postFinder, postSelector);
      }
      return markFunction(function(seed, results, context, xml) {
        var temp,
            i,
            elem,
            preMap = [],
            postMap = [],
            preexisting = results.length,
            elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),
            matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,
            matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
        if (matcher) {
          matcher(matcherIn, matcherOut, context, xml);
        }
        if (postFilter) {
          temp = condense(matcherOut, postMap);
          postFilter(temp, [], context, xml);
          i = temp.length;
          while (i--) {
            if ((elem = temp[i])) {
              matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
            }
          }
        }
        if (seed) {
          if (postFinder || preFilter) {
            if (postFinder) {
              temp = [];
              i = matcherOut.length;
              while (i--) {
                if ((elem = matcherOut[i])) {
                  temp.push((matcherIn[i] = elem));
                }
              }
              postFinder(null, (matcherOut = []), temp, xml);
            }
            i = matcherOut.length;
            while (i--) {
              if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                seed[temp] = !(results[temp] = elem);
              }
            }
          }
        } else {
          matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);
          if (postFinder) {
            postFinder(null, results, matcherOut, xml);
          } else {
            push.apply(results, matcherOut);
          }
        }
      });
    }
    function matcherFromTokens(tokens) {
      var checkContext,
          matcher,
          j,
          len = tokens.length,
          leadingRelative = Expr.relative[tokens[0].type],
          implicitRelative = leadingRelative || Expr.relative[" "],
          i = leadingRelative ? 1 : 0,
          matchContext = addCombinator(function(elem) {
            return elem === checkContext;
          }, implicitRelative, true),
          matchAnyContext = addCombinator(function(elem) {
            return indexOf(checkContext, elem) > -1;
          }, implicitRelative, true),
          matchers = [function(elem, context, xml) {
            var ret = (!leadingRelative && (xml || context !== outermostContext)) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
            checkContext = null;
            return ret;
          }];
      for (; i < len; i++) {
        if ((matcher = Expr.relative[tokens[i].type])) {
          matchers = [addCombinator(elementMatcher(matchers), matcher)];
        } else {
          matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
          if (matcher[expando]) {
            j = ++i;
            for (; j < len; j++) {
              if (Expr.relative[tokens[j].type]) {
                break;
              }
            }
            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({value: tokens[i - 2].type === " " ? "*" : ""})).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && toSelector(tokens));
          }
          matchers.push(matcher);
        }
      }
      return elementMatcher(matchers);
    }
    function matcherFromGroupMatchers(elementMatchers, setMatchers) {
      var bySet = setMatchers.length > 0,
          byElement = elementMatchers.length > 0,
          superMatcher = function(seed, context, xml, results, outermost) {
            var elem,
                j,
                matcher,
                matchedCount = 0,
                i = "0",
                unmatched = seed && [],
                setMatched = [],
                contextBackup = outermostContext,
                elems = seed || byElement && Expr.find["TAG"]("*", outermost),
                dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
                len = elems.length;
            if (outermost) {
              outermostContext = context === document || context || outermost;
            }
            for (; i !== len && (elem = elems[i]) != null; i++) {
              if (byElement && elem) {
                j = 0;
                if (!context && elem.ownerDocument !== document) {
                  setDocument(elem);
                  xml = !documentIsHTML;
                }
                while ((matcher = elementMatchers[j++])) {
                  if (matcher(elem, context || document, xml)) {
                    results.push(elem);
                    break;
                  }
                }
                if (outermost) {
                  dirruns = dirrunsUnique;
                }
              }
              if (bySet) {
                if ((elem = !matcher && elem)) {
                  matchedCount--;
                }
                if (seed) {
                  unmatched.push(elem);
                }
              }
            }
            matchedCount += i;
            if (bySet && i !== matchedCount) {
              j = 0;
              while ((matcher = setMatchers[j++])) {
                matcher(unmatched, setMatched, context, xml);
              }
              if (seed) {
                if (matchedCount > 0) {
                  while (i--) {
                    if (!(unmatched[i] || setMatched[i])) {
                      setMatched[i] = pop.call(results);
                    }
                  }
                }
                setMatched = condense(setMatched);
              }
              push.apply(results, setMatched);
              if (outermost && !seed && setMatched.length > 0 && (matchedCount + setMatchers.length) > 1) {
                Sizzle.uniqueSort(results);
              }
            }
            if (outermost) {
              dirruns = dirrunsUnique;
              outermostContext = contextBackup;
            }
            return unmatched;
          };
      return bySet ? markFunction(superMatcher) : superMatcher;
    }
    compile = Sizzle.compile = function(selector, match) {
      var i,
          setMatchers = [],
          elementMatchers = [],
          cached = compilerCache[selector + " "];
      if (!cached) {
        if (!match) {
          match = tokenize(selector);
        }
        i = match.length;
        while (i--) {
          cached = matcherFromTokens(match[i]);
          if (cached[expando]) {
            setMatchers.push(cached);
          } else {
            elementMatchers.push(cached);
          }
        }
        cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
        cached.selector = selector;
      }
      return cached;
    };
    select = Sizzle.select = function(selector, context, results, seed) {
      var i,
          tokens,
          token,
          type,
          find,
          compiled = typeof selector === "function" && selector,
          match = !seed && tokenize((selector = compiled.selector || selector));
      results = results || [];
      if (match.length === 1) {
        tokens = match[0] = match[0].slice(0);
        if (tokens.length > 2 && (token = tokens[0]).type === "ID" && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
          context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];
          if (!context) {
            return results;
          } else if (compiled) {
            context = context.parentNode;
          }
          selector = selector.slice(tokens.shift().value.length);
        }
        i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;
        while (i--) {
          token = tokens[i];
          if (Expr.relative[(type = token.type)]) {
            break;
          }
          if ((find = Expr.find[type])) {
            if ((seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context))) {
              tokens.splice(i, 1);
              selector = seed.length && toSelector(tokens);
              if (!selector) {
                push.apply(results, seed);
                return results;
              }
              break;
            }
          }
        }
      }
      (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
      return results;
    };
    support.sortStable = expando.split("").sort(sortOrder).join("") === expando;
    support.detectDuplicates = !!hasDuplicate;
    setDocument();
    support.sortDetached = assert(function(el) {
      return el.compareDocumentPosition(document.createElement("fieldset")) & 1;
    });
    if (!assert(function(el) {
      el.innerHTML = "<a href='#'></a>";
      return el.firstChild.getAttribute("href") === "#";
    })) {
      addHandle("type|href|height|width", function(elem, name, isXML) {
        if (!isXML) {
          return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2);
        }
      });
    }
    if (!support.attributes || !assert(function(el) {
      el.innerHTML = "<input/>";
      el.firstChild.setAttribute("value", "");
      return el.firstChild.getAttribute("value") === "";
    })) {
      addHandle("value", function(elem, name, isXML) {
        if (!isXML && elem.nodeName.toLowerCase() === "input") {
          return elem.defaultValue;
        }
      });
    }
    if (!assert(function(el) {
      return el.getAttribute("disabled") == null;
    })) {
      addHandle(booleans, function(elem, name, isXML) {
        var val;
        if (!isXML) {
          return elem[name] === true ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null;
        }
      });
    }
    return Sizzle;
  })(window);
  jQuery.find = Sizzle;
  jQuery.expr = Sizzle.selectors;
  jQuery.expr[":"] = jQuery.expr.pseudos;
  jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
  jQuery.text = Sizzle.getText;
  jQuery.isXMLDoc = Sizzle.isXML;
  jQuery.contains = Sizzle.contains;
  jQuery.escapeSelector = Sizzle.escape;
  var dir = function(elem, dir, until) {
    var matched = [],
        truncate = until !== undefined;
    while ((elem = elem[dir]) && elem.nodeType !== 9) {
      if (elem.nodeType === 1) {
        if (truncate && jQuery(elem).is(until)) {
          break;
        }
        matched.push(elem);
      }
    }
    return matched;
  };
  var siblings = function(n, elem) {
    var matched = [];
    for (; n; n = n.nextSibling) {
      if (n.nodeType === 1 && n !== elem) {
        matched.push(n);
      }
    }
    return matched;
  };
  var rneedsContext = jQuery.expr.match.needsContext;
  var rsingleTag = (/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i);
  var risSimple = /^.[^:#\[\.,]*$/;
  function winnow(elements, qualifier, not) {
    if (jQuery.isFunction(qualifier)) {
      return jQuery.grep(elements, function(elem, i) {
        return !!qualifier.call(elem, i, elem) !== not;
      });
    }
    if (qualifier.nodeType) {
      return jQuery.grep(elements, function(elem) {
        return (elem === qualifier) !== not;
      });
    }
    if (typeof qualifier !== "string") {
      return jQuery.grep(elements, function(elem) {
        return (indexOf.call(qualifier, elem) > -1) !== not;
      });
    }
    if (risSimple.test(qualifier)) {
      return jQuery.filter(qualifier, elements, not);
    }
    qualifier = jQuery.filter(qualifier, elements);
    return jQuery.grep(elements, function(elem) {
      return (indexOf.call(qualifier, elem) > -1) !== not && elem.nodeType === 1;
    });
  }
  jQuery.filter = function(expr, elems, not) {
    var elem = elems[0];
    if (not) {
      expr = ":not(" + expr + ")";
    }
    if (elems.length === 1 && elem.nodeType === 1) {
      return jQuery.find.matchesSelector(elem, expr) ? [elem] : [];
    }
    return jQuery.find.matches(expr, jQuery.grep(elems, function(elem) {
      return elem.nodeType === 1;
    }));
  };
  jQuery.fn.extend({
    find: function(selector) {
      var i,
          ret,
          len = this.length,
          self = this;
      if (typeof selector !== "string") {
        return this.pushStack(jQuery(selector).filter(function() {
          for (i = 0; i < len; i++) {
            if (jQuery.contains(self[i], this)) {
              return true;
            }
          }
        }));
      }
      ret = this.pushStack([]);
      for (i = 0; i < len; i++) {
        jQuery.find(selector, self[i], ret);
      }
      return len > 1 ? jQuery.uniqueSort(ret) : ret;
    },
    filter: function(selector) {
      return this.pushStack(winnow(this, selector || [], false));
    },
    not: function(selector) {
      return this.pushStack(winnow(this, selector || [], true));
    },
    is: function(selector) {
      return !!winnow(this, typeof selector === "string" && rneedsContext.test(selector) ? jQuery(selector) : selector || [], false).length;
    }
  });
  var rootjQuery,
      rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
      init = jQuery.fn.init = function(selector, context, root) {
        var match,
            elem;
        if (!selector) {
          return this;
        }
        root = root || rootjQuery;
        if (typeof selector === "string") {
          if (selector[0] === "<" && selector[selector.length - 1] === ">" && selector.length >= 3) {
            match = [null, selector, null];
          } else {
            match = rquickExpr.exec(selector);
          }
          if (match && (match[1] || !context)) {
            if (match[1]) {
              context = context instanceof jQuery ? context[0] : context;
              jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));
              if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
                for (match in context) {
                  if (jQuery.isFunction(this[match])) {
                    this[match](context[match]);
                  } else {
                    this.attr(match, context[match]);
                  }
                }
              }
              return this;
            } else {
              elem = document.getElementById(match[2]);
              if (elem) {
                this[0] = elem;
                this.length = 1;
              }
              return this;
            }
          } else if (!context || context.jquery) {
            return (context || root).find(selector);
          } else {
            return this.constructor(context).find(selector);
          }
        } else if (selector.nodeType) {
          this[0] = selector;
          this.length = 1;
          return this;
        } else if (jQuery.isFunction(selector)) {
          return root.ready !== undefined ? root.ready(selector) : selector(jQuery);
        }
        return jQuery.makeArray(selector, this);
      };
  init.prototype = jQuery.fn;
  rootjQuery = jQuery(document);
  var rparentsprev = /^(?:parents|prev(?:Until|All))/,
      guaranteedUnique = {
        children: true,
        contents: true,
        next: true,
        prev: true
      };
  jQuery.fn.extend({
    has: function(target) {
      var targets = jQuery(target, this),
          l = targets.length;
      return this.filter(function() {
        var i = 0;
        for (; i < l; i++) {
          if (jQuery.contains(this, targets[i])) {
            return true;
          }
        }
      });
    },
    closest: function(selectors, context) {
      var cur,
          i = 0,
          l = this.length,
          matched = [],
          targets = typeof selectors !== "string" && jQuery(selectors);
      if (!rneedsContext.test(selectors)) {
        for (; i < l; i++) {
          for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
            if (cur.nodeType < 11 && (targets ? targets.index(cur) > -1 : cur.nodeType === 1 && jQuery.find.matchesSelector(cur, selectors))) {
              matched.push(cur);
              break;
            }
          }
        }
      }
      return this.pushStack(matched.length > 1 ? jQuery.uniqueSort(matched) : matched);
    },
    index: function(elem) {
      if (!elem) {
        return (this[0] && this[0].parentNode) ? this.first().prevAll().length : -1;
      }
      if (typeof elem === "string") {
        return indexOf.call(jQuery(elem), this[0]);
      }
      return indexOf.call(this, elem.jquery ? elem[0] : elem);
    },
    add: function(selector, context) {
      return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(), jQuery(selector, context))));
    },
    addBack: function(selector) {
      return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector));
    }
  });
  function sibling(cur, dir) {
    while ((cur = cur[dir]) && cur.nodeType !== 1) {}
    return cur;
  }
  jQuery.each({
    parent: function(elem) {
      var parent = elem.parentNode;
      return parent && parent.nodeType !== 11 ? parent : null;
    },
    parents: function(elem) {
      return dir(elem, "parentNode");
    },
    parentsUntil: function(elem, i, until) {
      return dir(elem, "parentNode", until);
    },
    next: function(elem) {
      return sibling(elem, "nextSibling");
    },
    prev: function(elem) {
      return sibling(elem, "previousSibling");
    },
    nextAll: function(elem) {
      return dir(elem, "nextSibling");
    },
    prevAll: function(elem) {
      return dir(elem, "previousSibling");
    },
    nextUntil: function(elem, i, until) {
      return dir(elem, "nextSibling", until);
    },
    prevUntil: function(elem, i, until) {
      return dir(elem, "previousSibling", until);
    },
    siblings: function(elem) {
      return siblings((elem.parentNode || {}).firstChild, elem);
    },
    children: function(elem) {
      return siblings(elem.firstChild);
    },
    contents: function(elem) {
      return elem.contentDocument || jQuery.merge([], elem.childNodes);
    }
  }, function(name, fn) {
    jQuery.fn[name] = function(until, selector) {
      var matched = jQuery.map(this, fn, until);
      if (name.slice(-5) !== "Until") {
        selector = until;
      }
      if (selector && typeof selector === "string") {
        matched = jQuery.filter(selector, matched);
      }
      if (this.length > 1) {
        if (!guaranteedUnique[name]) {
          jQuery.uniqueSort(matched);
        }
        if (rparentsprev.test(name)) {
          matched.reverse();
        }
      }
      return this.pushStack(matched);
    };
  });
  var rnothtmlwhite = (/[^\x20\t\r\n\f]+/g);
  function createOptions(options) {
    var object = {};
    jQuery.each(options.match(rnothtmlwhite) || [], function(_, flag) {
      object[flag] = true;
    });
    return object;
  }
  jQuery.Callbacks = function(options) {
    options = typeof options === "string" ? createOptions(options) : jQuery.extend({}, options);
    var firing,
        memory,
        fired,
        locked,
        list = [],
        queue = [],
        firingIndex = -1,
        fire = function() {
          locked = options.once;
          fired = firing = true;
          for (; queue.length; firingIndex = -1) {
            memory = queue.shift();
            while (++firingIndex < list.length) {
              if (list[firingIndex].apply(memory[0], memory[1]) === false && options.stopOnFalse) {
                firingIndex = list.length;
                memory = false;
              }
            }
          }
          if (!options.memory) {
            memory = false;
          }
          firing = false;
          if (locked) {
            if (memory) {
              list = [];
            } else {
              list = "";
            }
          }
        },
        self = {
          add: function() {
            if (list) {
              if (memory && !firing) {
                firingIndex = list.length - 1;
                queue.push(memory);
              }
              (function add(args) {
                jQuery.each(args, function(_, arg) {
                  if (jQuery.isFunction(arg)) {
                    if (!options.unique || !self.has(arg)) {
                      list.push(arg);
                    }
                  } else if (arg && arg.length && jQuery.type(arg) !== "string") {
                    add(arg);
                  }
                });
              })(arguments);
              if (memory && !firing) {
                fire();
              }
            }
            return this;
          },
          remove: function() {
            jQuery.each(arguments, function(_, arg) {
              var index;
              while ((index = jQuery.inArray(arg, list, index)) > -1) {
                list.splice(index, 1);
                if (index <= firingIndex) {
                  firingIndex--;
                }
              }
            });
            return this;
          },
          has: function(fn) {
            return fn ? jQuery.inArray(fn, list) > -1 : list.length > 0;
          },
          empty: function() {
            if (list) {
              list = [];
            }
            return this;
          },
          disable: function() {
            locked = queue = [];
            list = memory = "";
            return this;
          },
          disabled: function() {
            return !list;
          },
          lock: function() {
            locked = queue = [];
            if (!memory && !firing) {
              list = memory = "";
            }
            return this;
          },
          locked: function() {
            return !!locked;
          },
          fireWith: function(context, args) {
            if (!locked) {
              args = args || [];
              args = [context, args.slice ? args.slice() : args];
              queue.push(args);
              if (!firing) {
                fire();
              }
            }
            return this;
          },
          fire: function() {
            self.fireWith(this, arguments);
            return this;
          },
          fired: function() {
            return !!fired;
          }
        };
    return self;
  };
  function Identity(v) {
    return v;
  }
  function Thrower(ex) {
    throw ex;
  }
  function adoptValue(value, resolve, reject) {
    var method;
    try {
      if (value && jQuery.isFunction((method = value.promise))) {
        method.call(value).done(resolve).fail(reject);
      } else if (value && jQuery.isFunction((method = value.then))) {
        method.call(value, resolve, reject);
      } else {
        resolve.call(undefined, value);
      }
    } catch (value) {
      reject.call(undefined, value);
    }
  }
  jQuery.extend({
    Deferred: function(func) {
      var tuples = [["notify", "progress", jQuery.Callbacks("memory"), jQuery.Callbacks("memory"), 2], ["resolve", "done", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", jQuery.Callbacks("once memory"), jQuery.Callbacks("once memory"), 1, "rejected"]],
          state = "pending",
          promise = {
            state: function() {
              return state;
            },
            always: function() {
              deferred.done(arguments).fail(arguments);
              return this;
            },
            "catch": function(fn) {
              return promise.then(null, fn);
            },
            pipe: function() {
              var fns = arguments;
              return jQuery.Deferred(function(newDefer) {
                jQuery.each(tuples, function(i, tuple) {
                  var fn = jQuery.isFunction(fns[tuple[4]]) && fns[tuple[4]];
                  deferred[tuple[1]](function() {
                    var returned = fn && fn.apply(this, arguments);
                    if (returned && jQuery.isFunction(returned.promise)) {
                      returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject);
                    } else {
                      newDefer[tuple[0] + "With"](this, fn ? [returned] : arguments);
                    }
                  });
                });
                fns = null;
              }).promise();
            },
            then: function(onFulfilled, onRejected, onProgress) {
              var maxDepth = 0;
              function resolve(depth, deferred, handler, special) {
                return function() {
                  var that = this,
                      args = arguments,
                      mightThrow = function() {
                        var returned,
                            then;
                        if (depth < maxDepth) {
                          return;
                        }
                        returned = handler.apply(that, args);
                        if (returned === deferred.promise()) {
                          throw new TypeError("Thenable self-resolution");
                        }
                        then = returned && (typeof returned === "object" || typeof returned === "function") && returned.then;
                        if (jQuery.isFunction(then)) {
                          if (special) {
                            then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special));
                          } else {
                            maxDepth++;
                            then.call(returned, resolve(maxDepth, deferred, Identity, special), resolve(maxDepth, deferred, Thrower, special), resolve(maxDepth, deferred, Identity, deferred.notifyWith));
                          }
                        } else {
                          if (handler !== Identity) {
                            that = undefined;
                            args = [returned];
                          }
                          (special || deferred.resolveWith)(that, args);
                        }
                      },
                      process = special ? mightThrow : function() {
                        try {
                          mightThrow();
                        } catch (e) {
                          if (jQuery.Deferred.exceptionHook) {
                            jQuery.Deferred.exceptionHook(e, process.stackTrace);
                          }
                          if (depth + 1 >= maxDepth) {
                            if (handler !== Thrower) {
                              that = undefined;
                              args = [e];
                            }
                            deferred.rejectWith(that, args);
                          }
                        }
                      };
                  if (depth) {
                    process();
                  } else {
                    if (jQuery.Deferred.getStackHook) {
                      process.stackTrace = jQuery.Deferred.getStackHook();
                    }
                    window.setTimeout(process);
                  }
                };
              }
              return jQuery.Deferred(function(newDefer) {
                tuples[0][3].add(resolve(0, newDefer, jQuery.isFunction(onProgress) ? onProgress : Identity, newDefer.notifyWith));
                tuples[1][3].add(resolve(0, newDefer, jQuery.isFunction(onFulfilled) ? onFulfilled : Identity));
                tuples[2][3].add(resolve(0, newDefer, jQuery.isFunction(onRejected) ? onRejected : Thrower));
              }).promise();
            },
            promise: function(obj) {
              return obj != null ? jQuery.extend(obj, promise) : promise;
            }
          },
          deferred = {};
      jQuery.each(tuples, function(i, tuple) {
        var list = tuple[2],
            stateString = tuple[5];
        promise[tuple[1]] = list.add;
        if (stateString) {
          list.add(function() {
            state = stateString;
          }, tuples[3 - i][2].disable, tuples[0][2].lock);
        }
        list.add(tuple[3].fire);
        deferred[tuple[0]] = function() {
          deferred[tuple[0] + "With"](this === deferred ? undefined : this, arguments);
          return this;
        };
        deferred[tuple[0] + "With"] = list.fireWith;
      });
      promise.promise(deferred);
      if (func) {
        func.call(deferred, deferred);
      }
      return deferred;
    },
    when: function(singleValue) {
      var remaining = arguments.length,
          i = remaining,
          resolveContexts = Array(i),
          resolveValues = slice.call(arguments),
          master = jQuery.Deferred(),
          updateFunc = function(i) {
            return function(value) {
              resolveContexts[i] = this;
              resolveValues[i] = arguments.length > 1 ? slice.call(arguments) : value;
              if (!(--remaining)) {
                master.resolveWith(resolveContexts, resolveValues);
              }
            };
          };
      if (remaining <= 1) {
        adoptValue(singleValue, master.done(updateFunc(i)).resolve, master.reject);
        if (master.state() === "pending" || jQuery.isFunction(resolveValues[i] && resolveValues[i].then)) {
          return master.then();
        }
      }
      while (i--) {
        adoptValue(resolveValues[i], updateFunc(i), master.reject);
      }
      return master.promise();
    }
  });
  var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
  jQuery.Deferred.exceptionHook = function(error, stack) {
    if (window.console && window.console.warn && error && rerrorNames.test(error.name)) {
      window.console.warn("jQuery.Deferred exception: " + error.message, error.stack, stack);
    }
  };
  jQuery.readyException = function(error) {
    window.setTimeout(function() {
      throw error;
    });
  };
  var readyList = jQuery.Deferred();
  jQuery.fn.ready = function(fn) {
    readyList.then(fn).catch(function(error) {
      jQuery.readyException(error);
    });
    return this;
  };
  jQuery.extend({
    isReady: false,
    readyWait: 1,
    holdReady: function(hold) {
      if (hold) {
        jQuery.readyWait++;
      } else {
        jQuery.ready(true);
      }
    },
    ready: function(wait) {
      if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
        return;
      }
      jQuery.isReady = true;
      if (wait !== true && --jQuery.readyWait > 0) {
        return;
      }
      readyList.resolveWith(document, [jQuery]);
    }
  });
  jQuery.ready.then = readyList.then;
  function completed() {
    document.removeEventListener("DOMContentLoaded", completed);
    window.removeEventListener("load", completed);
    jQuery.ready();
  }
  if (document.readyState === "complete" || (document.readyState !== "loading" && !document.documentElement.doScroll)) {
    window.setTimeout(jQuery.ready);
  } else {
    document.addEventListener("DOMContentLoaded", completed);
    window.addEventListener("load", completed);
  }
  var access = function(elems, fn, key, value, chainable, emptyGet, raw) {
    var i = 0,
        len = elems.length,
        bulk = key == null;
    if (jQuery.type(key) === "object") {
      chainable = true;
      for (i in key) {
        access(elems, fn, i, key[i], true, emptyGet, raw);
      }
    } else if (value !== undefined) {
      chainable = true;
      if (!jQuery.isFunction(value)) {
        raw = true;
      }
      if (bulk) {
        if (raw) {
          fn.call(elems, value);
          fn = null;
        } else {
          bulk = fn;
          fn = function(elem, key, value) {
            return bulk.call(jQuery(elem), value);
          };
        }
      }
      if (fn) {
        for (; i < len; i++) {
          fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)));
        }
      }
    }
    if (chainable) {
      return elems;
    }
    if (bulk) {
      return fn.call(elems);
    }
    return len ? fn(elems[0], key) : emptyGet;
  };
  var acceptData = function(owner) {
    return owner.nodeType === 1 || owner.nodeType === 9 || !(+owner.nodeType);
  };
  function Data() {
    this.expando = jQuery.expando + Data.uid++;
  }
  Data.uid = 1;
  Data.prototype = {
    cache: function(owner) {
      var value = owner[this.expando];
      if (!value) {
        value = {};
        if (acceptData(owner)) {
          if (owner.nodeType) {
            owner[this.expando] = value;
          } else {
            Object.defineProperty(owner, this.expando, {
              value: value,
              configurable: true
            });
          }
        }
      }
      return value;
    },
    set: function(owner, data, value) {
      var prop,
          cache = this.cache(owner);
      if (typeof data === "string") {
        cache[jQuery.camelCase(data)] = value;
      } else {
        for (prop in data) {
          cache[jQuery.camelCase(prop)] = data[prop];
        }
      }
      return cache;
    },
    get: function(owner, key) {
      return key === undefined ? this.cache(owner) : owner[this.expando] && owner[this.expando][jQuery.camelCase(key)];
    },
    access: function(owner, key, value) {
      if (key === undefined || ((key && typeof key === "string") && value === undefined)) {
        return this.get(owner, key);
      }
      this.set(owner, key, value);
      return value !== undefined ? value : key;
    },
    remove: function(owner, key) {
      var i,
          cache = owner[this.expando];
      if (cache === undefined) {
        return;
      }
      if (key !== undefined) {
        if (jQuery.isArray(key)) {
          key = key.map(jQuery.camelCase);
        } else {
          key = jQuery.camelCase(key);
          key = key in cache ? [key] : (key.match(rnothtmlwhite) || []);
        }
        i = key.length;
        while (i--) {
          delete cache[key[i]];
        }
      }
      if (key === undefined || jQuery.isEmptyObject(cache)) {
        if (owner.nodeType) {
          owner[this.expando] = undefined;
        } else {
          delete owner[this.expando];
        }
      }
    },
    hasData: function(owner) {
      var cache = owner[this.expando];
      return cache !== undefined && !jQuery.isEmptyObject(cache);
    }
  };
  var dataPriv = new Data();
  var dataUser = new Data();
  var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
      rmultiDash = /[A-Z]/g;
  function getData(data) {
    if (data === "true") {
      return true;
    }
    if (data === "false") {
      return false;
    }
    if (data === "null") {
      return null;
    }
    if (data === +data + "") {
      return +data;
    }
    if (rbrace.test(data)) {
      return JSON.parse(data);
    }
    return data;
  }
  function dataAttr(elem, key, data) {
    var name;
    if (data === undefined && elem.nodeType === 1) {
      name = "data-" + key.replace(rmultiDash, "-$&").toLowerCase();
      data = elem.getAttribute(name);
      if (typeof data === "string") {
        try {
          data = getData(data);
        } catch (e) {}
        dataUser.set(elem, key, data);
      } else {
        data = undefined;
      }
    }
    return data;
  }
  jQuery.extend({
    hasData: function(elem) {
      return dataUser.hasData(elem) || dataPriv.hasData(elem);
    },
    data: function(elem, name, data) {
      return dataUser.access(elem, name, data);
    },
    removeData: function(elem, name) {
      dataUser.remove(elem, name);
    },
    _data: function(elem, name, data) {
      return dataPriv.access(elem, name, data);
    },
    _removeData: function(elem, name) {
      dataPriv.remove(elem, name);
    }
  });
  jQuery.fn.extend({
    data: function(key, value) {
      var i,
          name,
          data,
          elem = this[0],
          attrs = elem && elem.attributes;
      if (key === undefined) {
        if (this.length) {
          data = dataUser.get(elem);
          if (elem.nodeType === 1 && !dataPriv.get(elem, "hasDataAttrs")) {
            i = attrs.length;
            while (i--) {
              if (attrs[i]) {
                name = attrs[i].name;
                if (name.indexOf("data-") === 0) {
                  name = jQuery.camelCase(name.slice(5));
                  dataAttr(elem, name, data[name]);
                }
              }
            }
            dataPriv.set(elem, "hasDataAttrs", true);
          }
        }
        return data;
      }
      if (typeof key === "object") {
        return this.each(function() {
          dataUser.set(this, key);
        });
      }
      return access(this, function(value) {
        var data;
        if (elem && value === undefined) {
          data = dataUser.get(elem, key);
          if (data !== undefined) {
            return data;
          }
          data = dataAttr(elem, key);
          if (data !== undefined) {
            return data;
          }
          return;
        }
        this.each(function() {
          dataUser.set(this, key, value);
        });
      }, null, value, arguments.length > 1, null, true);
    },
    removeData: function(key) {
      return this.each(function() {
        dataUser.remove(this, key);
      });
    }
  });
  jQuery.extend({
    queue: function(elem, type, data) {
      var queue;
      if (elem) {
        type = (type || "fx") + "queue";
        queue = dataPriv.get(elem, type);
        if (data) {
          if (!queue || jQuery.isArray(data)) {
            queue = dataPriv.access(elem, type, jQuery.makeArray(data));
          } else {
            queue.push(data);
          }
        }
        return queue || [];
      }
    },
    dequeue: function(elem, type) {
      type = type || "fx";
      var queue = jQuery.queue(elem, type),
          startLength = queue.length,
          fn = queue.shift(),
          hooks = jQuery._queueHooks(elem, type),
          next = function() {
            jQuery.dequeue(elem, type);
          };
      if (fn === "inprogress") {
        fn = queue.shift();
        startLength--;
      }
      if (fn) {
        if (type === "fx") {
          queue.unshift("inprogress");
        }
        delete hooks.stop;
        fn.call(elem, next, hooks);
      }
      if (!startLength && hooks) {
        hooks.empty.fire();
      }
    },
    _queueHooks: function(elem, type) {
      var key = type + "queueHooks";
      return dataPriv.get(elem, key) || dataPriv.access(elem, key, {empty: jQuery.Callbacks("once memory").add(function() {
          dataPriv.remove(elem, [type + "queue", key]);
        })});
    }
  });
  jQuery.fn.extend({
    queue: function(type, data) {
      var setter = 2;
      if (typeof type !== "string") {
        data = type;
        type = "fx";
        setter--;
      }
      if (arguments.length < setter) {
        return jQuery.queue(this[0], type);
      }
      return data === undefined ? this : this.each(function() {
        var queue = jQuery.queue(this, type, data);
        jQuery._queueHooks(this, type);
        if (type === "fx" && queue[0] !== "inprogress") {
          jQuery.dequeue(this, type);
        }
      });
    },
    dequeue: function(type) {
      return this.each(function() {
        jQuery.dequeue(this, type);
      });
    },
    clearQueue: function(type) {
      return this.queue(type || "fx", []);
    },
    promise: function(type, obj) {
      var tmp,
          count = 1,
          defer = jQuery.Deferred(),
          elements = this,
          i = this.length,
          resolve = function() {
            if (!(--count)) {
              defer.resolveWith(elements, [elements]);
            }
          };
      if (typeof type !== "string") {
        obj = type;
        type = undefined;
      }
      type = type || "fx";
      while (i--) {
        tmp = dataPriv.get(elements[i], type + "queueHooks");
        if (tmp && tmp.empty) {
          count++;
          tmp.empty.add(resolve);
        }
      }
      resolve();
      return defer.promise(obj);
    }
  });
  var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;
  var rcssNum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i");
  var cssExpand = ["Top", "Right", "Bottom", "Left"];
  var isHiddenWithinTree = function(elem, el) {
    elem = el || elem;
    return elem.style.display === "none" || elem.style.display === "" && jQuery.contains(elem.ownerDocument, elem) && jQuery.css(elem, "display") === "none";
  };
  var swap = function(elem, options, callback, args) {
    var ret,
        name,
        old = {};
    for (name in options) {
      old[name] = elem.style[name];
      elem.style[name] = options[name];
    }
    ret = callback.apply(elem, args || []);
    for (name in options) {
      elem.style[name] = old[name];
    }
    return ret;
  };
  function adjustCSS(elem, prop, valueParts, tween) {
    var adjusted,
        scale = 1,
        maxIterations = 20,
        currentValue = tween ? function() {
          return tween.cur();
        } : function() {
          return jQuery.css(elem, prop, "");
        },
        initial = currentValue(),
        unit = valueParts && valueParts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
        initialInUnit = (jQuery.cssNumber[prop] || unit !== "px" && +initial) && rcssNum.exec(jQuery.css(elem, prop));
    if (initialInUnit && initialInUnit[3] !== unit) {
      unit = unit || initialInUnit[3];
      valueParts = valueParts || [];
      initialInUnit = +initial || 1;
      do {
        scale = scale || ".5";
        initialInUnit = initialInUnit / scale;
        jQuery.style(elem, prop, initialInUnit + unit);
      } while (scale !== (scale = currentValue() / initial) && scale !== 1 && --maxIterations);
    }
    if (valueParts) {
      initialInUnit = +initialInUnit || +initial || 0;
      adjusted = valueParts[1] ? initialInUnit + (valueParts[1] + 1) * valueParts[2] : +valueParts[2];
      if (tween) {
        tween.unit = unit;
        tween.start = initialInUnit;
        tween.end = adjusted;
      }
    }
    return adjusted;
  }
  var defaultDisplayMap = {};
  function getDefaultDisplay(elem) {
    var temp,
        doc = elem.ownerDocument,
        nodeName = elem.nodeName,
        display = defaultDisplayMap[nodeName];
    if (display) {
      return display;
    }
    temp = doc.body.appendChild(doc.createElement(nodeName));
    display = jQuery.css(temp, "display");
    temp.parentNode.removeChild(temp);
    if (display === "none") {
      display = "block";
    }
    defaultDisplayMap[nodeName] = display;
    return display;
  }
  function showHide(elements, show) {
    var display,
        elem,
        values = [],
        index = 0,
        length = elements.length;
    for (; index < length; index++) {
      elem = elements[index];
      if (!elem.style) {
        continue;
      }
      display = elem.style.display;
      if (show) {
        if (display === "none") {
          values[index] = dataPriv.get(elem, "display") || null;
          if (!values[index]) {
            elem.style.display = "";
          }
        }
        if (elem.style.display === "" && isHiddenWithinTree(elem)) {
          values[index] = getDefaultDisplay(elem);
        }
      } else {
        if (display !== "none") {
          values[index] = "none";
          dataPriv.set(elem, "display", display);
        }
      }
    }
    for (index = 0; index < length; index++) {
      if (values[index] != null) {
        elements[index].style.display = values[index];
      }
    }
    return elements;
  }
  jQuery.fn.extend({
    show: function() {
      return showHide(this, true);
    },
    hide: function() {
      return showHide(this);
    },
    toggle: function(state) {
      if (typeof state === "boolean") {
        return state ? this.show() : this.hide();
      }
      return this.each(function() {
        if (isHiddenWithinTree(this)) {
          jQuery(this).show();
        } else {
          jQuery(this).hide();
        }
      });
    }
  });
  var rcheckableType = (/^(?:checkbox|radio)$/i);
  var rtagName = (/<([a-z][^\/\0>\x20\t\r\n\f]+)/i);
  var rscriptType = (/^$|\/(?:java|ecma)script/i);
  var wrapMap = {
    option: [1, "<select multiple='multiple'>", "</select>"],
    thead: [1, "<table>", "</table>"],
    col: [2, "<table><colgroup>", "</colgroup></table>"],
    tr: [2, "<table><tbody>", "</tbody></table>"],
    td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
    _default: [0, "", ""]
  };
  wrapMap.optgroup = wrapMap.option;
  wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
  wrapMap.th = wrapMap.td;
  function getAll(context, tag) {
    var ret;
    if (typeof context.getElementsByTagName !== "undefined") {
      ret = context.getElementsByTagName(tag || "*");
    } else if (typeof context.querySelectorAll !== "undefined") {
      ret = context.querySelectorAll(tag || "*");
    } else {
      ret = [];
    }
    if (tag === undefined || tag && jQuery.nodeName(context, tag)) {
      return jQuery.merge([context], ret);
    }
    return ret;
  }
  function setGlobalEval(elems, refElements) {
    var i = 0,
        l = elems.length;
    for (; i < l; i++) {
      dataPriv.set(elems[i], "globalEval", !refElements || dataPriv.get(refElements[i], "globalEval"));
    }
  }
  var rhtml = /<|&#?\w+;/;
  function buildFragment(elems, context, scripts, selection, ignored) {
    var elem,
        tmp,
        tag,
        wrap,
        contains,
        j,
        fragment = context.createDocumentFragment(),
        nodes = [],
        i = 0,
        l = elems.length;
    for (; i < l; i++) {
      elem = elems[i];
      if (elem || elem === 0) {
        if (jQuery.type(elem) === "object") {
          jQuery.merge(nodes, elem.nodeType ? [elem] : elem);
        } else if (!rhtml.test(elem)) {
          nodes.push(context.createTextNode(elem));
        } else {
          tmp = tmp || fragment.appendChild(context.createElement("div"));
          tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
          wrap = wrapMap[tag] || wrapMap._default;
          tmp.innerHTML = wrap[1] + jQuery.htmlPrefilter(elem) + wrap[2];
          j = wrap[0];
          while (j--) {
            tmp = tmp.lastChild;
          }
          jQuery.merge(nodes, tmp.childNodes);
          tmp = fragment.firstChild;
          tmp.textContent = "";
        }
      }
    }
    fragment.textContent = "";
    i = 0;
    while ((elem = nodes[i++])) {
      if (selection && jQuery.inArray(elem, selection) > -1) {
        if (ignored) {
          ignored.push(elem);
        }
        continue;
      }
      contains = jQuery.contains(elem.ownerDocument, elem);
      tmp = getAll(fragment.appendChild(elem), "script");
      if (contains) {
        setGlobalEval(tmp);
      }
      if (scripts) {
        j = 0;
        while ((elem = tmp[j++])) {
          if (rscriptType.test(elem.type || "")) {
            scripts.push(elem);
          }
        }
      }
    }
    return fragment;
  }
  (function() {
    var fragment = document.createDocumentFragment(),
        div = fragment.appendChild(document.createElement("div")),
        input = document.createElement("input");
    input.setAttribute("type", "radio");
    input.setAttribute("checked", "checked");
    input.setAttribute("name", "t");
    div.appendChild(input);
    support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;
    div.innerHTML = "<textarea>x</textarea>";
    support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue;
  })();
  var documentElement = document.documentElement;
  var rkeyEvent = /^key/,
      rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
      rtypenamespace = /^([^.]*)(?:\.(.+)|)/;
  function returnTrue() {
    return true;
  }
  function returnFalse() {
    return false;
  }
  function safeActiveElement() {
    try {
      return document.activeElement;
    } catch (err) {}
  }
  function on(elem, types, selector, data, fn, one) {
    var origFn,
        type;
    if (typeof types === "object") {
      if (typeof selector !== "string") {
        data = data || selector;
        selector = undefined;
      }
      for (type in types) {
        on(elem, type, selector, data, types[type], one);
      }
      return elem;
    }
    if (data == null && fn == null) {
      fn = selector;
      data = selector = undefined;
    } else if (fn == null) {
      if (typeof selector === "string") {
        fn = data;
        data = undefined;
      } else {
        fn = data;
        data = selector;
        selector = undefined;
      }
    }
    if (fn === false) {
      fn = returnFalse;
    } else if (!fn) {
      return elem;
    }
    if (one === 1) {
      origFn = fn;
      fn = function(event) {
        jQuery().off(event);
        return origFn.apply(this, arguments);
      };
      fn.guid = origFn.guid || (origFn.guid = jQuery.guid++);
    }
    return elem.each(function() {
      jQuery.event.add(this, types, fn, data, selector);
    });
  }
  jQuery.event = {
    global: {},
    add: function(elem, types, handler, data, selector) {
      var handleObjIn,
          eventHandle,
          tmp,
          events,
          t,
          handleObj,
          special,
          handlers,
          type,
          namespaces,
          origType,
          elemData = dataPriv.get(elem);
      if (!elemData) {
        return;
      }
      if (handler.handler) {
        handleObjIn = handler;
        handler = handleObjIn.handler;
        selector = handleObjIn.selector;
      }
      if (selector) {
        jQuery.find.matchesSelector(documentElement, selector);
      }
      if (!handler.guid) {
        handler.guid = jQuery.guid++;
      }
      if (!(events = elemData.events)) {
        events = elemData.events = {};
      }
      if (!(eventHandle = elemData.handle)) {
        eventHandle = elemData.handle = function(e) {
          return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(elem, arguments) : undefined;
        };
      }
      types = (types || "").match(rnothtmlwhite) || [""];
      t = types.length;
      while (t--) {
        tmp = rtypenamespace.exec(types[t]) || [];
        type = origType = tmp[1];
        namespaces = (tmp[2] || "").split(".").sort();
        if (!type) {
          continue;
        }
        special = jQuery.event.special[type] || {};
        type = (selector ? special.delegateType : special.bindType) || type;
        special = jQuery.event.special[type] || {};
        handleObj = jQuery.extend({
          type: type,
          origType: origType,
          data: data,
          handler: handler,
          guid: handler.guid,
          selector: selector,
          needsContext: selector && jQuery.expr.match.needsContext.test(selector),
          namespace: namespaces.join(".")
        }, handleObjIn);
        if (!(handlers = events[type])) {
          handlers = events[type] = [];
          handlers.delegateCount = 0;
          if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
            if (elem.addEventListener) {
              elem.addEventListener(type, eventHandle);
            }
          }
        }
        if (special.add) {
          special.add.call(elem, handleObj);
          if (!handleObj.handler.guid) {
            handleObj.handler.guid = handler.guid;
          }
        }
        if (selector) {
          handlers.splice(handlers.delegateCount++, 0, handleObj);
        } else {
          handlers.push(handleObj);
        }
        jQuery.event.global[type] = true;
      }
    },
    remove: function(elem, types, handler, selector, mappedTypes) {
      var j,
          origCount,
          tmp,
          events,
          t,
          handleObj,
          special,
          handlers,
          type,
          namespaces,
          origType,
          elemData = dataPriv.hasData(elem) && dataPriv.get(elem);
      if (!elemData || !(events = elemData.events)) {
        return;
      }
      types = (types || "").match(rnothtmlwhite) || [""];
      t = types.length;
      while (t--) {
        tmp = rtypenamespace.exec(types[t]) || [];
        type = origType = tmp[1];
        namespaces = (tmp[2] || "").split(".").sort();
        if (!type) {
          for (type in events) {
            jQuery.event.remove(elem, type + types[t], handler, selector, true);
          }
          continue;
        }
        special = jQuery.event.special[type] || {};
        type = (selector ? special.delegateType : special.bindType) || type;
        handlers = events[type] || [];
        tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");
        origCount = j = handlers.length;
        while (j--) {
          handleObj = handlers[j];
          if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
            handlers.splice(j, 1);
            if (handleObj.selector) {
              handlers.delegateCount--;
            }
            if (special.remove) {
              special.remove.call(elem, handleObj);
            }
          }
        }
        if (origCount && !handlers.length) {
          if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {
            jQuery.removeEvent(elem, type, elemData.handle);
          }
          delete events[type];
        }
      }
      if (jQuery.isEmptyObject(events)) {
        dataPriv.remove(elem, "handle events");
      }
    },
    dispatch: function(nativeEvent) {
      var event = jQuery.event.fix(nativeEvent);
      var i,
          j,
          ret,
          matched,
          handleObj,
          handlerQueue,
          args = new Array(arguments.length),
          handlers = (dataPriv.get(this, "events") || {})[event.type] || [],
          special = jQuery.event.special[event.type] || {};
      args[0] = event;
      for (i = 1; i < arguments.length; i++) {
        args[i] = arguments[i];
      }
      event.delegateTarget = this;
      if (special.preDispatch && special.preDispatch.call(this, event) === false) {
        return;
      }
      handlerQueue = jQuery.event.handlers.call(this, event, handlers);
      i = 0;
      while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
        event.currentTarget = matched.elem;
        j = 0;
        while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {
          if (!event.rnamespace || event.rnamespace.test(handleObj.namespace)) {
            event.handleObj = handleObj;
            event.data = handleObj.data;
            ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);
            if (ret !== undefined) {
              if ((event.result = ret) === false) {
                event.preventDefault();
                event.stopPropagation();
              }
            }
          }
        }
      }
      if (special.postDispatch) {
        special.postDispatch.call(this, event);
      }
      return event.result;
    },
    handlers: function(event, handlers) {
      var i,
          handleObj,
          sel,
          matchedHandlers,
          matchedSelectors,
          handlerQueue = [],
          delegateCount = handlers.delegateCount,
          cur = event.target;
      if (delegateCount && cur.nodeType && !(event.type === "click" && event.button >= 1)) {
        for (; cur !== this; cur = cur.parentNode || this) {
          if (cur.nodeType === 1 && !(event.type === "click" && cur.disabled === true)) {
            matchedHandlers = [];
            matchedSelectors = {};
            for (i = 0; i < delegateCount; i++) {
              handleObj = handlers[i];
              sel = handleObj.selector + " ";
              if (matchedSelectors[sel] === undefined) {
                matchedSelectors[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) > -1 : jQuery.find(sel, this, null, [cur]).length;
              }
              if (matchedSelectors[sel]) {
                matchedHandlers.push(handleObj);
              }
            }
            if (matchedHandlers.length) {
              handlerQueue.push({
                elem: cur,
                handlers: matchedHandlers
              });
            }
          }
        }
      }
      cur = this;
      if (delegateCount < handlers.length) {
        handlerQueue.push({
          elem: cur,
          handlers: handlers.slice(delegateCount)
        });
      }
      return handlerQueue;
    },
    addProp: function(name, hook) {
      Object.defineProperty(jQuery.Event.prototype, name, {
        enumerable: true,
        configurable: true,
        get: jQuery.isFunction(hook) ? function() {
          if (this.originalEvent) {
            return hook(this.originalEvent);
          }
        } : function() {
          if (this.originalEvent) {
            return this.originalEvent[name];
          }
        },
        set: function(value) {
          Object.defineProperty(this, name, {
            enumerable: true,
            configurable: true,
            writable: true,
            value: value
          });
        }
      });
    },
    fix: function(originalEvent) {
      return originalEvent[jQuery.expando] ? originalEvent : new jQuery.Event(originalEvent);
    },
    special: {
      load: {noBubble: true},
      focus: {
        trigger: function() {
          if (this !== safeActiveElement() && this.focus) {
            this.focus();
            return false;
          }
        },
        delegateType: "focusin"
      },
      blur: {
        trigger: function() {
          if (this === safeActiveElement() && this.blur) {
            this.blur();
            return false;
          }
        },
        delegateType: "focusout"
      },
      click: {
        trigger: function() {
          if (this.type === "checkbox" && this.click && jQuery.nodeName(this, "input")) {
            this.click();
            return false;
          }
        },
        _default: function(event) {
          return jQuery.nodeName(event.target, "a");
        }
      },
      beforeunload: {postDispatch: function(event) {
          if (event.result !== undefined && event.originalEvent) {
            event.originalEvent.returnValue = event.result;
          }
        }}
    }
  };
  jQuery.removeEvent = function(elem, type, handle) {
    if (elem.removeEventListener) {
      elem.removeEventListener(type, handle);
    }
  };
  jQuery.Event = function(src, props) {
    if (!(this instanceof jQuery.Event)) {
      return new jQuery.Event(src, props);
    }
    if (src && src.type) {
      this.originalEvent = src;
      this.type = src.type;
      this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined && src.returnValue === false ? returnTrue : returnFalse;
      this.target = (src.target && src.target.nodeType === 3) ? src.target.parentNode : src.target;
      this.currentTarget = src.currentTarget;
      this.relatedTarget = src.relatedTarget;
    } else {
      this.type = src;
    }
    if (props) {
      jQuery.extend(this, props);
    }
    this.timeStamp = src && src.timeStamp || jQuery.now();
    this[jQuery.expando] = true;
  };
  jQuery.Event.prototype = {
    constructor: jQuery.Event,
    isDefaultPrevented: returnFalse,
    isPropagationStopped: returnFalse,
    isImmediatePropagationStopped: returnFalse,
    isSimulated: false,
    preventDefault: function() {
      var e = this.originalEvent;
      this.isDefaultPrevented = returnTrue;
      if (e && !this.isSimulated) {
        e.preventDefault();
      }
    },
    stopPropagation: function() {
      var e = this.originalEvent;
      this.isPropagationStopped = returnTrue;
      if (e && !this.isSimulated) {
        e.stopPropagation();
      }
    },
    stopImmediatePropagation: function() {
      var e = this.originalEvent;
      this.isImmediatePropagationStopped = returnTrue;
      if (e && !this.isSimulated) {
        e.stopImmediatePropagation();
      }
      this.stopPropagation();
    }
  };
  jQuery.each({
    altKey: true,
    bubbles: true,
    cancelable: true,
    changedTouches: true,
    ctrlKey: true,
    detail: true,
    eventPhase: true,
    metaKey: true,
    pageX: true,
    pageY: true,
    shiftKey: true,
    view: true,
    "char": true,
    charCode: true,
    key: true,
    keyCode: true,
    button: true,
    buttons: true,
    clientX: true,
    clientY: true,
    offsetX: true,
    offsetY: true,
    pointerId: true,
    pointerType: true,
    screenX: true,
    screenY: true,
    targetTouches: true,
    toElement: true,
    touches: true,
    which: function(event) {
      var button = event.button;
      if (event.which == null && rkeyEvent.test(event.type)) {
        return event.charCode != null ? event.charCode : event.keyCode;
      }
      if (!event.which && button !== undefined && rmouseEvent.test(event.type)) {
        if (button & 1) {
          return 1;
        }
        if (button & 2) {
          return 3;
        }
        if (button & 4) {
          return 2;
        }
        return 0;
      }
      return event.which;
    }
  }, jQuery.event.addProp);
  jQuery.each({
    mouseenter: "mouseover",
    mouseleave: "mouseout",
    pointerenter: "pointerover",
    pointerleave: "pointerout"
  }, function(orig, fix) {
    jQuery.event.special[orig] = {
      delegateType: fix,
      bindType: fix,
      handle: function(event) {
        var ret,
            target = this,
            related = event.relatedTarget,
            handleObj = event.handleObj;
        if (!related || (related !== target && !jQuery.contains(target, related))) {
          event.type = handleObj.origType;
          ret = handleObj.handler.apply(this, arguments);
          event.type = fix;
        }
        return ret;
      }
    };
  });
  jQuery.fn.extend({
    on: function(types, selector, data, fn) {
      return on(this, types, selector, data, fn);
    },
    one: function(types, selector, data, fn) {
      return on(this, types, selector, data, fn, 1);
    },
    off: function(types, selector, fn) {
      var handleObj,
          type;
      if (types && types.preventDefault && types.handleObj) {
        handleObj = types.handleObj;
        jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);
        return this;
      }
      if (typeof types === "object") {
        for (type in types) {
          this.off(type, selector, types[type]);
        }
        return this;
      }
      if (selector === false || typeof selector === "function") {
        fn = selector;
        selector = undefined;
      }
      if (fn === false) {
        fn = returnFalse;
      }
      return this.each(function() {
        jQuery.event.remove(this, types, fn, selector);
      });
    }
  });
  var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
      rnoInnerhtml = /<script|<style|<link/i,
      rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
      rscriptTypeMasked = /^true\/(.*)/,
      rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
  function manipulationTarget(elem, content) {
    if (jQuery.nodeName(elem, "table") && jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr")) {
      return elem.getElementsByTagName("tbody")[0] || elem;
    }
    return elem;
  }
  function disableScript(elem) {
    elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
    return elem;
  }
  function restoreScript(elem) {
    var match = rscriptTypeMasked.exec(elem.type);
    if (match) {
      elem.type = match[1];
    } else {
      elem.removeAttribute("type");
    }
    return elem;
  }
  function cloneCopyEvent(src, dest) {
    var i,
        l,
        type,
        pdataOld,
        pdataCur,
        udataOld,
        udataCur,
        events;
    if (dest.nodeType !== 1) {
      return;
    }
    if (dataPriv.hasData(src)) {
      pdataOld = dataPriv.access(src);
      pdataCur = dataPriv.set(dest, pdataOld);
      events = pdataOld.events;
      if (events) {
        delete pdataCur.handle;
        pdataCur.events = {};
        for (type in events) {
          for (i = 0, l = events[type].length; i < l; i++) {
            jQuery.event.add(dest, type, events[type][i]);
          }
        }
      }
    }
    if (dataUser.hasData(src)) {
      udataOld = dataUser.access(src);
      udataCur = jQuery.extend({}, udataOld);
      dataUser.set(dest, udataCur);
    }
  }
  function fixInput(src, dest) {
    var nodeName = dest.nodeName.toLowerCase();
    if (nodeName === "input" && rcheckableType.test(src.type)) {
      dest.checked = src.checked;
    } else if (nodeName === "input" || nodeName === "textarea") {
      dest.defaultValue = src.defaultValue;
    }
  }
  function domManip(collection, args, callback, ignored) {
    args = concat.apply([], args);
    var fragment,
        first,
        scripts,
        hasScripts,
        node,
        doc,
        i = 0,
        l = collection.length,
        iNoClone = l - 1,
        value = args[0],
        isFunction = jQuery.isFunction(value);
    if (isFunction || (l > 1 && typeof value === "string" && !support.checkClone && rchecked.test(value))) {
      return collection.each(function(index) {
        var self = collection.eq(index);
        if (isFunction) {
          args[0] = value.call(this, index, self.html());
        }
        domManip(self, args, callback, ignored);
      });
    }
    if (l) {
      fragment = buildFragment(args, collection[0].ownerDocument, false, collection, ignored);
      first = fragment.firstChild;
      if (fragment.childNodes.length === 1) {
        fragment = first;
      }
      if (first || ignored) {
        scripts = jQuery.map(getAll(fragment, "script"), disableScript);
        hasScripts = scripts.length;
        for (; i < l; i++) {
          node = fragment;
          if (i !== iNoClone) {
            node = jQuery.clone(node, true, true);
            if (hasScripts) {
              jQuery.merge(scripts, getAll(node, "script"));
            }
          }
          callback.call(collection[i], node, i);
        }
        if (hasScripts) {
          doc = scripts[scripts.length - 1].ownerDocument;
          jQuery.map(scripts, restoreScript);
          for (i = 0; i < hasScripts; i++) {
            node = scripts[i];
            if (rscriptType.test(node.type || "") && !dataPriv.access(node, "globalEval") && jQuery.contains(doc, node)) {
              if (node.src) {
                if (jQuery._evalUrl) {
                  jQuery._evalUrl(node.src);
                }
              } else {
                DOMEval(node.textContent.replace(rcleanScript, ""), doc);
              }
            }
          }
        }
      }
    }
    return collection;
  }
  function remove(elem, selector, keepData) {
    var node,
        nodes = selector ? jQuery.filter(selector, elem) : elem,
        i = 0;
    for (; (node = nodes[i]) != null; i++) {
      if (!keepData && node.nodeType === 1) {
        jQuery.cleanData(getAll(node));
      }
      if (node.parentNode) {
        if (keepData && jQuery.contains(node.ownerDocument, node)) {
          setGlobalEval(getAll(node, "script"));
        }
        node.parentNode.removeChild(node);
      }
    }
    return elem;
  }
  jQuery.extend({
    htmlPrefilter: function(html) {
      return html.replace(rxhtmlTag, "<$1></$2>");
    },
    clone: function(elem, dataAndEvents, deepDataAndEvents) {
      var i,
          l,
          srcElements,
          destElements,
          clone = elem.cloneNode(true),
          inPage = jQuery.contains(elem.ownerDocument, elem);
      if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
        destElements = getAll(clone);
        srcElements = getAll(elem);
        for (i = 0, l = srcElements.length; i < l; i++) {
          fixInput(srcElements[i], destElements[i]);
        }
      }
      if (dataAndEvents) {
        if (deepDataAndEvents) {
          srcElements = srcElements || getAll(elem);
          destElements = destElements || getAll(clone);
          for (i = 0, l = srcElements.length; i < l; i++) {
            cloneCopyEvent(srcElements[i], destElements[i]);
          }
        } else {
          cloneCopyEvent(elem, clone);
        }
      }
      destElements = getAll(clone, "script");
      if (destElements.length > 0) {
        setGlobalEval(destElements, !inPage && getAll(elem, "script"));
      }
      return clone;
    },
    cleanData: function(elems) {
      var data,
          elem,
          type,
          special = jQuery.event.special,
          i = 0;
      for (; (elem = elems[i]) !== undefined; i++) {
        if (acceptData(elem)) {
          if ((data = elem[dataPriv.expando])) {
            if (data.events) {
              for (type in data.events) {
                if (special[type]) {
                  jQuery.event.remove(elem, type);
                } else {
                  jQuery.removeEvent(elem, type, data.handle);
                }
              }
            }
            elem[dataPriv.expando] = undefined;
          }
          if (elem[dataUser.expando]) {
            elem[dataUser.expando] = undefined;
          }
        }
      }
    }
  });
  jQuery.fn.extend({
    detach: function(selector) {
      return remove(this, selector, true);
    },
    remove: function(selector) {
      return remove(this, selector);
    },
    text: function(value) {
      return access(this, function(value) {
        return value === undefined ? jQuery.text(this) : this.empty().each(function() {
          if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
            this.textContent = value;
          }
        });
      }, null, value, arguments.length);
    },
    append: function() {
      return domManip(this, arguments, function(elem) {
        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
          var target = manipulationTarget(this, elem);
          target.appendChild(elem);
        }
      });
    },
    prepend: function() {
      return domManip(this, arguments, function(elem) {
        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
          var target = manipulationTarget(this, elem);
          target.insertBefore(elem, target.firstChild);
        }
      });
    },
    before: function() {
      return domManip(this, arguments, function(elem) {
        if (this.parentNode) {
          this.parentNode.insertBefore(elem, this);
        }
      });
    },
    after: function() {
      return domManip(this, arguments, function(elem) {
        if (this.parentNode) {
          this.parentNode.insertBefore(elem, this.nextSibling);
        }
      });
    },
    empty: function() {
      var elem,
          i = 0;
      for (; (elem = this[i]) != null; i++) {
        if (elem.nodeType === 1) {
          jQuery.cleanData(getAll(elem, false));
          elem.textContent = "";
        }
      }
      return this;
    },
    clone: function(dataAndEvents, deepDataAndEvents) {
      dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
      deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
      return this.map(function() {
        return jQuery.clone(this, dataAndEvents, deepDataAndEvents);
      });
    },
    html: function(value) {
      return access(this, function(value) {
        var elem = this[0] || {},
            i = 0,
            l = this.length;
        if (value === undefined && elem.nodeType === 1) {
          return elem.innerHTML;
        }
        if (typeof value === "string" && !rnoInnerhtml.test(value) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
          value = jQuery.htmlPrefilter(value);
          try {
            for (; i < l; i++) {
              elem = this[i] || {};
              if (elem.nodeType === 1) {
                jQuery.cleanData(getAll(elem, false));
                elem.innerHTML = value;
              }
            }
            elem = 0;
          } catch (e) {}
        }
        if (elem) {
          this.empty().append(value);
        }
      }, null, value, arguments.length);
    },
    replaceWith: function() {
      var ignored = [];
      return domManip(this, arguments, function(elem) {
        var parent = this.parentNode;
        if (jQuery.inArray(this, ignored) < 0) {
          jQuery.cleanData(getAll(this));
          if (parent) {
            parent.replaceChild(elem, this);
          }
        }
      }, ignored);
    }
  });
  jQuery.each({
    appendTo: "append",
    prependTo: "prepend",
    insertBefore: "before",
    insertAfter: "after",
    replaceAll: "replaceWith"
  }, function(name, original) {
    jQuery.fn[name] = function(selector) {
      var elems,
          ret = [],
          insert = jQuery(selector),
          last = insert.length - 1,
          i = 0;
      for (; i <= last; i++) {
        elems = i === last ? this : this.clone(true);
        jQuery(insert[i])[original](elems);
        push.apply(ret, elems.get());
      }
      return this.pushStack(ret);
    };
  });
  var rmargin = (/^margin/);
  var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");
  var getStyles = function(elem) {
    var view = elem.ownerDocument.defaultView;
    if (!view || !view.opener) {
      view = window;
    }
    return view.getComputedStyle(elem);
  };
  (function() {
    function computeStyleTests() {
      if (!div) {
        return;
      }
      div.style.cssText = "box-sizing:border-box;" + "position:relative;display:block;" + "margin:auto;border:1px;padding:1px;" + "top:1%;width:50%";
      div.innerHTML = "";
      documentElement.appendChild(container);
      var divStyle = window.getComputedStyle(div);
      pixelPositionVal = divStyle.top !== "1%";
      reliableMarginLeftVal = divStyle.marginLeft === "2px";
      boxSizingReliableVal = divStyle.width === "4px";
      div.style.marginRight = "50%";
      pixelMarginRightVal = divStyle.marginRight === "4px";
      documentElement.removeChild(container);
      div = null;
    }
    var pixelPositionVal,
        boxSizingReliableVal,
        pixelMarginRightVal,
        reliableMarginLeftVal,
        container = document.createElement("div"),
        div = document.createElement("div");
    if (!div.style) {
      return;
    }
    div.style.backgroundClip = "content-box";
    div.cloneNode(true).style.backgroundClip = "";
    support.clearCloneStyle = div.style.backgroundClip === "content-box";
    container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" + "padding:0;margin-top:1px;position:absolute";
    container.appendChild(div);
    jQuery.extend(support, {
      pixelPosition: function() {
        computeStyleTests();
        return pixelPositionVal;
      },
      boxSizingReliable: function() {
        computeStyleTests();
        return boxSizingReliableVal;
      },
      pixelMarginRight: function() {
        computeStyleTests();
        return pixelMarginRightVal;
      },
      reliableMarginLeft: function() {
        computeStyleTests();
        return reliableMarginLeftVal;
      }
    });
  })();
  function curCSS(elem, name, computed) {
    var width,
        minWidth,
        maxWidth,
        ret,
        style = elem.style;
    computed = computed || getStyles(elem);
    if (computed) {
      ret = computed.getPropertyValue(name) || computed[name];
      if (ret === "" && !jQuery.contains(elem.ownerDocument, elem)) {
        ret = jQuery.style(elem, name);
      }
      if (!support.pixelMarginRight() && rnumnonpx.test(ret) && rmargin.test(name)) {
        width = style.width;
        minWidth = style.minWidth;
        maxWidth = style.maxWidth;
        style.minWidth = style.maxWidth = style.width = ret;
        ret = computed.width;
        style.width = width;
        style.minWidth = minWidth;
        style.maxWidth = maxWidth;
      }
    }
    return ret !== undefined ? ret + "" : ret;
  }
  function addGetHookIf(conditionFn, hookFn) {
    return {get: function() {
        if (conditionFn()) {
          delete this.get;
          return;
        }
        return (this.get = hookFn).apply(this, arguments);
      }};
  }
  var rdisplayswap = /^(none|table(?!-c[ea]).+)/,
      cssShow = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
      },
      cssNormalTransform = {
        letterSpacing: "0",
        fontWeight: "400"
      },
      cssPrefixes = ["Webkit", "Moz", "ms"],
      emptyStyle = document.createElement("div").style;
  function vendorPropName(name) {
    if (name in emptyStyle) {
      return name;
    }
    var capName = name[0].toUpperCase() + name.slice(1),
        i = cssPrefixes.length;
    while (i--) {
      name = cssPrefixes[i] + capName;
      if (name in emptyStyle) {
        return name;
      }
    }
  }
  function setPositiveNumber(elem, value, subtract) {
    var matches = rcssNum.exec(value);
    return matches ? Math.max(0, matches[2] - (subtract || 0)) + (matches[3] || "px") : value;
  }
  function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
    var i,
        val = 0;
    if (extra === (isBorderBox ? "border" : "content")) {
      i = 4;
    } else {
      i = name === "width" ? 1 : 0;
    }
    for (; i < 4; i += 2) {
      if (extra === "margin") {
        val += jQuery.css(elem, extra + cssExpand[i], true, styles);
      }
      if (isBorderBox) {
        if (extra === "content") {
          val -= jQuery.css(elem, "padding" + cssExpand[i], true, styles);
        }
        if (extra !== "margin") {
          val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
        }
      } else {
        val += jQuery.css(elem, "padding" + cssExpand[i], true, styles);
        if (extra !== "padding") {
          val += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles);
        }
      }
    }
    return val;
  }
  function getWidthOrHeight(elem, name, extra) {
    var val,
        valueIsBorderBox = true,
        styles = getStyles(elem),
        isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box";
    if (elem.getClientRects().length) {
      val = elem.getBoundingClientRect()[name];
    }
    if (val <= 0 || val == null) {
      val = curCSS(elem, name, styles);
      if (val < 0 || val == null) {
        val = elem.style[name];
      }
      if (rnumnonpx.test(val)) {
        return val;
      }
      valueIsBorderBox = isBorderBox && (support.boxSizingReliable() || val === elem.style[name]);
      val = parseFloat(val) || 0;
    }
    return (val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles)) + "px";
  }
  jQuery.extend({
    cssHooks: {opacity: {get: function(elem, computed) {
          if (computed) {
            var ret = curCSS(elem, "opacity");
            return ret === "" ? "1" : ret;
          }
        }}},
    cssNumber: {
      "animationIterationCount": true,
      "columnCount": true,
      "fillOpacity": true,
      "flexGrow": true,
      "flexShrink": true,
      "fontWeight": true,
      "lineHeight": true,
      "opacity": true,
      "order": true,
      "orphans": true,
      "widows": true,
      "zIndex": true,
      "zoom": true
    },
    cssProps: {"float": "cssFloat"},
    style: function(elem, name, value, extra) {
      if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
        return;
      }
      var ret,
          type,
          hooks,
          origName = jQuery.camelCase(name),
          style = elem.style;
      name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
      hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
      if (value !== undefined) {
        type = typeof value;
        if (type === "string" && (ret = rcssNum.exec(value)) && ret[1]) {
          value = adjustCSS(elem, name, ret);
          type = "number";
        }
        if (value == null || value !== value) {
          return;
        }
        if (type === "number") {
          value += ret && ret[3] || (jQuery.cssNumber[origName] ? "" : "px");
        }
        if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
          style[name] = "inherit";
        }
        if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {
          style[name] = value;
        }
      } else {
        if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
          return ret;
        }
        return style[name];
      }
    },
    css: function(elem, name, extra, styles) {
      var val,
          num,
          hooks,
          origName = jQuery.camelCase(name);
      name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(origName) || origName);
      hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
      if (hooks && "get" in hooks) {
        val = hooks.get(elem, true, extra);
      }
      if (val === undefined) {
        val = curCSS(elem, name, styles);
      }
      if (val === "normal" && name in cssNormalTransform) {
        val = cssNormalTransform[name];
      }
      if (extra === "" || extra) {
        num = parseFloat(val);
        return extra === true || isFinite(num) ? num || 0 : val;
      }
      return val;
    }
  });
  jQuery.each(["height", "width"], function(i, name) {
    jQuery.cssHooks[name] = {
      get: function(elem, computed, extra) {
        if (computed) {
          return rdisplayswap.test(jQuery.css(elem, "display")) && (!elem.getClientRects().length || !elem.getBoundingClientRect().width) ? swap(elem, cssShow, function() {
            return getWidthOrHeight(elem, name, extra);
          }) : getWidthOrHeight(elem, name, extra);
        }
      },
      set: function(elem, value, extra) {
        var matches,
            styles = extra && getStyles(elem),
            subtract = extra && augmentWidthOrHeight(elem, name, extra, jQuery.css(elem, "boxSizing", false, styles) === "border-box", styles);
        if (subtract && (matches = rcssNum.exec(value)) && (matches[3] || "px") !== "px") {
          elem.style[name] = value;
          value = jQuery.css(elem, name);
        }
        return setPositiveNumber(elem, value, subtract);
      }
    };
  });
  jQuery.cssHooks.marginLeft = addGetHookIf(support.reliableMarginLeft, function(elem, computed) {
    if (computed) {
      return (parseFloat(curCSS(elem, "marginLeft")) || elem.getBoundingClientRect().left - swap(elem, {marginLeft: 0}, function() {
        return elem.getBoundingClientRect().left;
      })) + "px";
    }
  });
  jQuery.each({
    margin: "",
    padding: "",
    border: "Width"
  }, function(prefix, suffix) {
    jQuery.cssHooks[prefix + suffix] = {expand: function(value) {
        var i = 0,
            expanded = {},
            parts = typeof value === "string" ? value.split(" ") : [value];
        for (; i < 4; i++) {
          expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0];
        }
        return expanded;
      }};
    if (!rmargin.test(prefix)) {
      jQuery.cssHooks[prefix + suffix].set = setPositiveNumber;
    }
  });
  jQuery.fn.extend({css: function(name, value) {
      return access(this, function(elem, name, value) {
        var styles,
            len,
            map = {},
            i = 0;
        if (jQuery.isArray(name)) {
          styles = getStyles(elem);
          len = name.length;
          for (; i < len; i++) {
            map[name[i]] = jQuery.css(elem, name[i], false, styles);
          }
          return map;
        }
        return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name);
      }, name, value, arguments.length > 1);
    }});
  function Tween(elem, options, prop, end, easing) {
    return new Tween.prototype.init(elem, options, prop, end, easing);
  }
  jQuery.Tween = Tween;
  Tween.prototype = {
    constructor: Tween,
    init: function(elem, options, prop, end, easing, unit) {
      this.elem = elem;
      this.prop = prop;
      this.easing = easing || jQuery.easing._default;
      this.options = options;
      this.start = this.now = this.cur();
      this.end = end;
      this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px");
    },
    cur: function() {
      var hooks = Tween.propHooks[this.prop];
      return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this);
    },
    run: function(percent) {
      var eased,
          hooks = Tween.propHooks[this.prop];
      if (this.options.duration) {
        this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration);
      } else {
        this.pos = eased = percent;
      }
      this.now = (this.end - this.start) * eased + this.start;
      if (this.options.step) {
        this.options.step.call(this.elem, this.now, this);
      }
      if (hooks && hooks.set) {
        hooks.set(this);
      } else {
        Tween.propHooks._default.set(this);
      }
      return this;
    }
  };
  Tween.prototype.init.prototype = Tween.prototype;
  Tween.propHooks = {_default: {
      get: function(tween) {
        var result;
        if (tween.elem.nodeType !== 1 || tween.elem[tween.prop] != null && tween.elem.style[tween.prop] == null) {
          return tween.elem[tween.prop];
        }
        result = jQuery.css(tween.elem, tween.prop, "");
        return !result || result === "auto" ? 0 : result;
      },
      set: function(tween) {
        if (jQuery.fx.step[tween.prop]) {
          jQuery.fx.step[tween.prop](tween);
        } else if (tween.elem.nodeType === 1 && (tween.elem.style[jQuery.cssProps[tween.prop]] != null || jQuery.cssHooks[tween.prop])) {
          jQuery.style(tween.elem, tween.prop, tween.now + tween.unit);
        } else {
          tween.elem[tween.prop] = tween.now;
        }
      }
    }};
  Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {set: function(tween) {
      if (tween.elem.nodeType && tween.elem.parentNode) {
        tween.elem[tween.prop] = tween.now;
      }
    }};
  jQuery.easing = {
    linear: function(p) {
      return p;
    },
    swing: function(p) {
      return 0.5 - Math.cos(p * Math.PI) / 2;
    },
    _default: "swing"
  };
  jQuery.fx = Tween.prototype.init;
  jQuery.fx.step = {};
  var fxNow,
      timerId,
      rfxtypes = /^(?:toggle|show|hide)$/,
      rrun = /queueHooks$/;
  function raf() {
    if (timerId) {
      window.requestAnimationFrame(raf);
      jQuery.fx.tick();
    }
  }
  function createFxNow() {
    window.setTimeout(function() {
      fxNow = undefined;
    });
    return (fxNow = jQuery.now());
  }
  function genFx(type, includeWidth) {
    var which,
        i = 0,
        attrs = {height: type};
    includeWidth = includeWidth ? 1 : 0;
    for (; i < 4; i += 2 - includeWidth) {
      which = cssExpand[i];
      attrs["margin" + which] = attrs["padding" + which] = type;
    }
    if (includeWidth) {
      attrs.opacity = attrs.width = type;
    }
    return attrs;
  }
  function createTween(value, prop, animation) {
    var tween,
        collection = (Animation.tweeners[prop] || []).concat(Animation.tweeners["*"]),
        index = 0,
        length = collection.length;
    for (; index < length; index++) {
      if ((tween = collection[index].call(animation, prop, value))) {
        return tween;
      }
    }
  }
  function defaultPrefilter(elem, props, opts) {
    var prop,
        value,
        toggle,
        hooks,
        oldfire,
        propTween,
        restoreDisplay,
        display,
        isBox = "width" in props || "height" in props,
        anim = this,
        orig = {},
        style = elem.style,
        hidden = elem.nodeType && isHiddenWithinTree(elem),
        dataShow = dataPriv.get(elem, "fxshow");
    if (!opts.queue) {
      hooks = jQuery._queueHooks(elem, "fx");
      if (hooks.unqueued == null) {
        hooks.unqueued = 0;
        oldfire = hooks.empty.fire;
        hooks.empty.fire = function() {
          if (!hooks.unqueued) {
            oldfire();
          }
        };
      }
      hooks.unqueued++;
      anim.always(function() {
        anim.always(function() {
          hooks.unqueued--;
          if (!jQuery.queue(elem, "fx").length) {
            hooks.empty.fire();
          }
        });
      });
    }
    for (prop in props) {
      value = props[prop];
      if (rfxtypes.test(value)) {
        delete props[prop];
        toggle = toggle || value === "toggle";
        if (value === (hidden ? "hide" : "show")) {
          if (value === "show" && dataShow && dataShow[prop] !== undefined) {
            hidden = true;
          } else {
            continue;
          }
        }
        orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop);
      }
    }
    propTween = !jQuery.isEmptyObject(props);
    if (!propTween && jQuery.isEmptyObject(orig)) {
      return;
    }
    if (isBox && elem.nodeType === 1) {
      opts.overflow = [style.overflow, style.overflowX, style.overflowY];
      restoreDisplay = dataShow && dataShow.display;
      if (restoreDisplay == null) {
        restoreDisplay = dataPriv.get(elem, "display");
      }
      display = jQuery.css(elem, "display");
      if (display === "none") {
        if (restoreDisplay) {
          display = restoreDisplay;
        } else {
          showHide([elem], true);
          restoreDisplay = elem.style.display || restoreDisplay;
          display = jQuery.css(elem, "display");
          showHide([elem]);
        }
      }
      if (display === "inline" || display === "inline-block" && restoreDisplay != null) {
        if (jQuery.css(elem, "float") === "none") {
          if (!propTween) {
            anim.done(function() {
              style.display = restoreDisplay;
            });
            if (restoreDisplay == null) {
              display = style.display;
              restoreDisplay = display === "none" ? "" : display;
            }
          }
          style.display = "inline-block";
        }
      }
    }
    if (opts.overflow) {
      style.overflow = "hidden";
      anim.always(function() {
        style.overflow = opts.overflow[0];
        style.overflowX = opts.overflow[1];
        style.overflowY = opts.overflow[2];
      });
    }
    propTween = false;
    for (prop in orig) {
      if (!propTween) {
        if (dataShow) {
          if ("hidden" in dataShow) {
            hidden = dataShow.hidden;
          }
        } else {
          dataShow = dataPriv.access(elem, "fxshow", {display: restoreDisplay});
        }
        if (toggle) {
          dataShow.hidden = !hidden;
        }
        if (hidden) {
          showHide([elem], true);
        }
        anim.done(function() {
          if (!hidden) {
            showHide([elem]);
          }
          dataPriv.remove(elem, "fxshow");
          for (prop in orig) {
            jQuery.style(elem, prop, orig[prop]);
          }
        });
      }
      propTween = createTween(hidden ? dataShow[prop] : 0, prop, anim);
      if (!(prop in dataShow)) {
        dataShow[prop] = propTween.start;
        if (hidden) {
          propTween.end = propTween.start;
          propTween.start = 0;
        }
      }
    }
  }
  function propFilter(props, specialEasing) {
    var index,
        name,
        easing,
        value,
        hooks;
    for (index in props) {
      name = jQuery.camelCase(index);
      easing = specialEasing[name];
      value = props[index];
      if (jQuery.isArray(value)) {
        easing = value[1];
        value = props[index] = value[0];
      }
      if (index !== name) {
        props[name] = value;
        delete props[index];
      }
      hooks = jQuery.cssHooks[name];
      if (hooks && "expand" in hooks) {
        value = hooks.expand(value);
        delete props[name];
        for (index in value) {
          if (!(index in props)) {
            props[index] = value[index];
            specialEasing[index] = easing;
          }
        }
      } else {
        specialEasing[name] = easing;
      }
    }
  }
  function Animation(elem, properties, options) {
    var result,
        stopped,
        index = 0,
        length = Animation.prefilters.length,
        deferred = jQuery.Deferred().always(function() {
          delete tick.elem;
        }),
        tick = function() {
          if (stopped) {
            return false;
          }
          var currentTime = fxNow || createFxNow(),
              remaining = Math.max(0, animation.startTime + animation.duration - currentTime),
              temp = remaining / animation.duration || 0,
              percent = 1 - temp,
              index = 0,
              length = animation.tweens.length;
          for (; index < length; index++) {
            animation.tweens[index].run(percent);
          }
          deferred.notifyWith(elem, [animation, percent, remaining]);
          if (percent < 1 && length) {
            return remaining;
          } else {
            deferred.resolveWith(elem, [animation]);
            return false;
          }
        },
        animation = deferred.promise({
          elem: elem,
          props: jQuery.extend({}, properties),
          opts: jQuery.extend(true, {
            specialEasing: {},
            easing: jQuery.easing._default
          }, options),
          originalProperties: properties,
          originalOptions: options,
          startTime: fxNow || createFxNow(),
          duration: options.duration,
          tweens: [],
          createTween: function(prop, end) {
            var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
            animation.tweens.push(tween);
            return tween;
          },
          stop: function(gotoEnd) {
            var index = 0,
                length = gotoEnd ? animation.tweens.length : 0;
            if (stopped) {
              return this;
            }
            stopped = true;
            for (; index < length; index++) {
              animation.tweens[index].run(1);
            }
            if (gotoEnd) {
              deferred.notifyWith(elem, [animation, 1, 0]);
              deferred.resolveWith(elem, [animation, gotoEnd]);
            } else {
              deferred.rejectWith(elem, [animation, gotoEnd]);
            }
            return this;
          }
        }),
        props = animation.props;
    propFilter(props, animation.opts.specialEasing);
    for (; index < length; index++) {
      result = Animation.prefilters[index].call(animation, elem, props, animation.opts);
      if (result) {
        if (jQuery.isFunction(result.stop)) {
          jQuery._queueHooks(animation.elem, animation.opts.queue).stop = jQuery.proxy(result.stop, result);
        }
        return result;
      }
    }
    jQuery.map(props, createTween, animation);
    if (jQuery.isFunction(animation.opts.start)) {
      animation.opts.start.call(elem, animation);
    }
    jQuery.fx.timer(jQuery.extend(tick, {
      elem: elem,
      anim: animation,
      queue: animation.opts.queue
    }));
    return animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always);
  }
  jQuery.Animation = jQuery.extend(Animation, {
    tweeners: {"*": [function(prop, value) {
        var tween = this.createTween(prop, value);
        adjustCSS(tween.elem, prop, rcssNum.exec(value), tween);
        return tween;
      }]},
    tweener: function(props, callback) {
      if (jQuery.isFunction(props)) {
        callback = props;
        props = ["*"];
      } else {
        props = props.match(rnothtmlwhite);
      }
      var prop,
          index = 0,
          length = props.length;
      for (; index < length; index++) {
        prop = props[index];
        Animation.tweeners[prop] = Animation.tweeners[prop] || [];
        Animation.tweeners[prop].unshift(callback);
      }
    },
    prefilters: [defaultPrefilter],
    prefilter: function(callback, prepend) {
      if (prepend) {
        Animation.prefilters.unshift(callback);
      } else {
        Animation.prefilters.push(callback);
      }
    }
  });
  jQuery.speed = function(speed, easing, fn) {
    var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {
      complete: fn || !fn && easing || jQuery.isFunction(speed) && speed,
      duration: speed,
      easing: fn && easing || easing && !jQuery.isFunction(easing) && easing
    };
    if (jQuery.fx.off || document.hidden) {
      opt.duration = 0;
    } else {
      if (typeof opt.duration !== "number") {
        if (opt.duration in jQuery.fx.speeds) {
          opt.duration = jQuery.fx.speeds[opt.duration];
        } else {
          opt.duration = jQuery.fx.speeds._default;
        }
      }
    }
    if (opt.queue == null || opt.queue === true) {
      opt.queue = "fx";
    }
    opt.old = opt.complete;
    opt.complete = function() {
      if (jQuery.isFunction(opt.old)) {
        opt.old.call(this);
      }
      if (opt.queue) {
        jQuery.dequeue(this, opt.queue);
      }
    };
    return opt;
  };
  jQuery.fn.extend({
    fadeTo: function(speed, to, easing, callback) {
      return this.filter(isHiddenWithinTree).css("opacity", 0).show().end().animate({opacity: to}, speed, easing, callback);
    },
    animate: function(prop, speed, easing, callback) {
      var empty = jQuery.isEmptyObject(prop),
          optall = jQuery.speed(speed, easing, callback),
          doAnimation = function() {
            var anim = Animation(this, jQuery.extend({}, prop), optall);
            if (empty || dataPriv.get(this, "finish")) {
              anim.stop(true);
            }
          };
      doAnimation.finish = doAnimation;
      return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation);
    },
    stop: function(type, clearQueue, gotoEnd) {
      var stopQueue = function(hooks) {
        var stop = hooks.stop;
        delete hooks.stop;
        stop(gotoEnd);
      };
      if (typeof type !== "string") {
        gotoEnd = clearQueue;
        clearQueue = type;
        type = undefined;
      }
      if (clearQueue && type !== false) {
        this.queue(type || "fx", []);
      }
      return this.each(function() {
        var dequeue = true,
            index = type != null && type + "queueHooks",
            timers = jQuery.timers,
            data = dataPriv.get(this);
        if (index) {
          if (data[index] && data[index].stop) {
            stopQueue(data[index]);
          }
        } else {
          for (index in data) {
            if (data[index] && data[index].stop && rrun.test(index)) {
              stopQueue(data[index]);
            }
          }
        }
        for (index = timers.length; index--; ) {
          if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
            timers[index].anim.stop(gotoEnd);
            dequeue = false;
            timers.splice(index, 1);
          }
        }
        if (dequeue || !gotoEnd) {
          jQuery.dequeue(this, type);
        }
      });
    },
    finish: function(type) {
      if (type !== false) {
        type = type || "fx";
      }
      return this.each(function() {
        var index,
            data = dataPriv.get(this),
            queue = data[type + "queue"],
            hooks = data[type + "queueHooks"],
            timers = jQuery.timers,
            length = queue ? queue.length : 0;
        data.finish = true;
        jQuery.queue(this, type, []);
        if (hooks && hooks.stop) {
          hooks.stop.call(this, true);
        }
        for (index = timers.length; index--; ) {
          if (timers[index].elem === this && timers[index].queue === type) {
            timers[index].anim.stop(true);
            timers.splice(index, 1);
          }
        }
        for (index = 0; index < length; index++) {
          if (queue[index] && queue[index].finish) {
            queue[index].finish.call(this);
          }
        }
        delete data.finish;
      });
    }
  });
  jQuery.each(["toggle", "show", "hide"], function(i, name) {
    var cssFn = jQuery.fn[name];
    jQuery.fn[name] = function(speed, easing, callback) {
      return speed == null || typeof speed === "boolean" ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback);
    };
  });
  jQuery.each({
    slideDown: genFx("show"),
    slideUp: genFx("hide"),
    slideToggle: genFx("toggle"),
    fadeIn: {opacity: "show"},
    fadeOut: {opacity: "hide"},
    fadeToggle: {opacity: "toggle"}
  }, function(name, props) {
    jQuery.fn[name] = function(speed, easing, callback) {
      return this.animate(props, speed, easing, callback);
    };
  });
  jQuery.timers = [];
  jQuery.fx.tick = function() {
    var timer,
        i = 0,
        timers = jQuery.timers;
    fxNow = jQuery.now();
    for (; i < timers.length; i++) {
      timer = timers[i];
      if (!timer() && timers[i] === timer) {
        timers.splice(i--, 1);
      }
    }
    if (!timers.length) {
      jQuery.fx.stop();
    }
    fxNow = undefined;
  };
  jQuery.fx.timer = function(timer) {
    jQuery.timers.push(timer);
    if (timer()) {
      jQuery.fx.start();
    } else {
      jQuery.timers.pop();
    }
  };
  jQuery.fx.interval = 13;
  jQuery.fx.start = function() {
    if (!timerId) {
      timerId = window.requestAnimationFrame ? window.requestAnimationFrame(raf) : window.setInterval(jQuery.fx.tick, jQuery.fx.interval);
    }
  };
  jQuery.fx.stop = function() {
    if (window.cancelAnimationFrame) {
      window.cancelAnimationFrame(timerId);
    } else {
      window.clearInterval(timerId);
    }
    timerId = null;
  };
  jQuery.fx.speeds = {
    slow: 600,
    fast: 200,
    _default: 400
  };
  jQuery.fn.delay = function(time, type) {
    time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
    type = type || "fx";
    return this.queue(type, function(next, hooks) {
      var timeout = window.setTimeout(next, time);
      hooks.stop = function() {
        window.clearTimeout(timeout);
      };
    });
  };
  (function() {
    var input = document.createElement("input"),
        select = document.createElement("select"),
        opt = select.appendChild(document.createElement("option"));
    input.type = "checkbox";
    support.checkOn = input.value !== "";
    support.optSelected = opt.selected;
    input = document.createElement("input");
    input.value = "t";
    input.type = "radio";
    support.radioValue = input.value === "t";
  })();
  var boolHook,
      attrHandle = jQuery.expr.attrHandle;
  jQuery.fn.extend({
    attr: function(name, value) {
      return access(this, jQuery.attr, name, value, arguments.length > 1);
    },
    removeAttr: function(name) {
      return this.each(function() {
        jQuery.removeAttr(this, name);
      });
    }
  });
  jQuery.extend({
    attr: function(elem, name, value) {
      var ret,
          hooks,
          nType = elem.nodeType;
      if (nType === 3 || nType === 8 || nType === 2) {
        return;
      }
      if (typeof elem.getAttribute === "undefined") {
        return jQuery.prop(elem, name, value);
      }
      if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
        hooks = jQuery.attrHooks[name.toLowerCase()] || (jQuery.expr.match.bool.test(name) ? boolHook : undefined);
      }
      if (value !== undefined) {
        if (value === null) {
          jQuery.removeAttr(elem, name);
          return;
        }
        if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
          return ret;
        }
        elem.setAttribute(name, value + "");
        return value;
      }
      if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
        return ret;
      }
      ret = jQuery.find.attr(elem, name);
      return ret == null ? undefined : ret;
    },
    attrHooks: {type: {set: function(elem, value) {
          if (!support.radioValue && value === "radio" && jQuery.nodeName(elem, "input")) {
            var val = elem.value;
            elem.setAttribute("type", value);
            if (val) {
              elem.value = val;
            }
            return value;
          }
        }}},
    removeAttr: function(elem, value) {
      var name,
          i = 0,
          attrNames = value && value.match(rnothtmlwhite);
      if (attrNames && elem.nodeType === 1) {
        while ((name = attrNames[i++])) {
          elem.removeAttribute(name);
        }
      }
    }
  });
  boolHook = {set: function(elem, value, name) {
      if (value === false) {
        jQuery.removeAttr(elem, name);
      } else {
        elem.setAttribute(name, name);
      }
      return name;
    }};
  jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function(i, name) {
    var getter = attrHandle[name] || jQuery.find.attr;
    attrHandle[name] = function(elem, name, isXML) {
      var ret,
          handle,
          lowercaseName = name.toLowerCase();
      if (!isXML) {
        handle = attrHandle[lowercaseName];
        attrHandle[lowercaseName] = ret;
        ret = getter(elem, name, isXML) != null ? lowercaseName : null;
        attrHandle[lowercaseName] = handle;
      }
      return ret;
    };
  });
  var rfocusable = /^(?:input|select|textarea|button)$/i,
      rclickable = /^(?:a|area)$/i;
  jQuery.fn.extend({
    prop: function(name, value) {
      return access(this, jQuery.prop, name, value, arguments.length > 1);
    },
    removeProp: function(name) {
      return this.each(function() {
        delete this[jQuery.propFix[name] || name];
      });
    }
  });
  jQuery.extend({
    prop: function(elem, name, value) {
      var ret,
          hooks,
          nType = elem.nodeType;
      if (nType === 3 || nType === 8 || nType === 2) {
        return;
      }
      if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
        name = jQuery.propFix[name] || name;
        hooks = jQuery.propHooks[name];
      }
      if (value !== undefined) {
        if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
          return ret;
        }
        return (elem[name] = value);
      }
      if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
        return ret;
      }
      return elem[name];
    },
    propHooks: {tabIndex: {get: function(elem) {
          var tabindex = jQuery.find.attr(elem, "tabindex");
          if (tabindex) {
            return parseInt(tabindex, 10);
          }
          if (rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href) {
            return 0;
          }
          return -1;
        }}},
    propFix: {
      "for": "htmlFor",
      "class": "className"
    }
  });
  if (!support.optSelected) {
    jQuery.propHooks.selected = {
      get: function(elem) {
        var parent = elem.parentNode;
        if (parent && parent.parentNode) {
          parent.parentNode.selectedIndex;
        }
        return null;
      },
      set: function(elem) {
        var parent = elem.parentNode;
        if (parent) {
          parent.selectedIndex;
          if (parent.parentNode) {
            parent.parentNode.selectedIndex;
          }
        }
      }
    };
  }
  jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
    jQuery.propFix[this.toLowerCase()] = this;
  });
  function stripAndCollapse(value) {
    var tokens = value.match(rnothtmlwhite) || [];
    return tokens.join(" ");
  }
  function getClass(elem) {
    return elem.getAttribute && elem.getAttribute("class") || "";
  }
  jQuery.fn.extend({
    addClass: function(value) {
      var classes,
          elem,
          cur,
          curValue,
          clazz,
          j,
          finalValue,
          i = 0;
      if (jQuery.isFunction(value)) {
        return this.each(function(j) {
          jQuery(this).addClass(value.call(this, j, getClass(this)));
        });
      }
      if (typeof value === "string" && value) {
        classes = value.match(rnothtmlwhite) || [];
        while ((elem = this[i++])) {
          curValue = getClass(elem);
          cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
          if (cur) {
            j = 0;
            while ((clazz = classes[j++])) {
              if (cur.indexOf(" " + clazz + " ") < 0) {
                cur += clazz + " ";
              }
            }
            finalValue = stripAndCollapse(cur);
            if (curValue !== finalValue) {
              elem.setAttribute("class", finalValue);
            }
          }
        }
      }
      return this;
    },
    removeClass: function(value) {
      var classes,
          elem,
          cur,
          curValue,
          clazz,
          j,
          finalValue,
          i = 0;
      if (jQuery.isFunction(value)) {
        return this.each(function(j) {
          jQuery(this).removeClass(value.call(this, j, getClass(this)));
        });
      }
      if (!arguments.length) {
        return this.attr("class", "");
      }
      if (typeof value === "string" && value) {
        classes = value.match(rnothtmlwhite) || [];
        while ((elem = this[i++])) {
          curValue = getClass(elem);
          cur = elem.nodeType === 1 && (" " + stripAndCollapse(curValue) + " ");
          if (cur) {
            j = 0;
            while ((clazz = classes[j++])) {
              while (cur.indexOf(" " + clazz + " ") > -1) {
                cur = cur.replace(" " + clazz + " ", " ");
              }
            }
            finalValue = stripAndCollapse(cur);
            if (curValue !== finalValue) {
              elem.setAttribute("class", finalValue);
            }
          }
        }
      }
      return this;
    },
    toggleClass: function(value, stateVal) {
      var type = typeof value;
      if (typeof stateVal === "boolean" && type === "string") {
        return stateVal ? this.addClass(value) : this.removeClass(value);
      }
      if (jQuery.isFunction(value)) {
        return this.each(function(i) {
          jQuery(this).toggleClass(value.call(this, i, getClass(this), stateVal), stateVal);
        });
      }
      return this.each(function() {
        var className,
            i,
            self,
            classNames;
        if (type === "string") {
          i = 0;
          self = jQuery(this);
          classNames = value.match(rnothtmlwhite) || [];
          while ((className = classNames[i++])) {
            if (self.hasClass(className)) {
              self.removeClass(className);
            } else {
              self.addClass(className);
            }
          }
        } else if (value === undefined || type === "boolean") {
          className = getClass(this);
          if (className) {
            dataPriv.set(this, "__className__", className);
          }
          if (this.setAttribute) {
            this.setAttribute("class", className || value === false ? "" : dataPriv.get(this, "__className__") || "");
          }
        }
      });
    },
    hasClass: function(selector) {
      var className,
          elem,
          i = 0;
      className = " " + selector + " ";
      while ((elem = this[i++])) {
        if (elem.nodeType === 1 && (" " + stripAndCollapse(getClass(elem)) + " ").indexOf(className) > -1) {
          return true;
        }
      }
      return false;
    }
  });
  var rreturn = /\r/g;
  jQuery.fn.extend({val: function(value) {
      var hooks,
          ret,
          isFunction,
          elem = this[0];
      if (!arguments.length) {
        if (elem) {
          hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];
          if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
            return ret;
          }
          ret = elem.value;
          if (typeof ret === "string") {
            return ret.replace(rreturn, "");
          }
          return ret == null ? "" : ret;
        }
        return;
      }
      isFunction = jQuery.isFunction(value);
      return this.each(function(i) {
        var val;
        if (this.nodeType !== 1) {
          return;
        }
        if (isFunction) {
          val = value.call(this, i, jQuery(this).val());
        } else {
          val = value;
        }
        if (val == null) {
          val = "";
        } else if (typeof val === "number") {
          val += "";
        } else if (jQuery.isArray(val)) {
          val = jQuery.map(val, function(value) {
            return value == null ? "" : value + "";
          });
        }
        hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];
        if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
          this.value = val;
        }
      });
    }});
  jQuery.extend({valHooks: {
      option: {get: function(elem) {
          var val = jQuery.find.attr(elem, "value");
          return val != null ? val : stripAndCollapse(jQuery.text(elem));
        }},
      select: {
        get: function(elem) {
          var value,
              option,
              i,
              options = elem.options,
              index = elem.selectedIndex,
              one = elem.type === "select-one",
              values = one ? null : [],
              max = one ? index + 1 : options.length;
          if (index < 0) {
            i = max;
          } else {
            i = one ? index : 0;
          }
          for (; i < max; i++) {
            option = options[i];
            if ((option.selected || i === index) && !option.disabled && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {
              value = jQuery(option).val();
              if (one) {
                return value;
              }
              values.push(value);
            }
          }
          return values;
        },
        set: function(elem, value) {
          var optionSet,
              option,
              options = elem.options,
              values = jQuery.makeArray(value),
              i = options.length;
          while (i--) {
            option = options[i];
            if (option.selected = jQuery.inArray(jQuery.valHooks.option.get(option), values) > -1) {
              optionSet = true;
            }
          }
          if (!optionSet) {
            elem.selectedIndex = -1;
          }
          return values;
        }
      }
    }});
  jQuery.each(["radio", "checkbox"], function() {
    jQuery.valHooks[this] = {set: function(elem, value) {
        if (jQuery.isArray(value)) {
          return (elem.checked = jQuery.inArray(jQuery(elem).val(), value) > -1);
        }
      }};
    if (!support.checkOn) {
      jQuery.valHooks[this].get = function(elem) {
        return elem.getAttribute("value") === null ? "on" : elem.value;
      };
    }
  });
  var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;
  jQuery.extend(jQuery.event, {
    trigger: function(event, data, elem, onlyHandlers) {
      var i,
          cur,
          tmp,
          bubbleType,
          ontype,
          handle,
          special,
          eventPath = [elem || document],
          type = hasOwn.call(event, "type") ? event.type : event,
          namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
      cur = tmp = elem = elem || document;
      if (elem.nodeType === 3 || elem.nodeType === 8) {
        return;
      }
      if (rfocusMorph.test(type + jQuery.event.triggered)) {
        return;
      }
      if (type.indexOf(".") > -1) {
        namespaces = type.split(".");
        type = namespaces.shift();
        namespaces.sort();
      }
      ontype = type.indexOf(":") < 0 && "on" + type;
      event = event[jQuery.expando] ? event : new jQuery.Event(type, typeof event === "object" && event);
      event.isTrigger = onlyHandlers ? 2 : 3;
      event.namespace = namespaces.join(".");
      event.rnamespace = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
      event.result = undefined;
      if (!event.target) {
        event.target = elem;
      }
      data = data == null ? [event] : jQuery.makeArray(data, [event]);
      special = jQuery.event.special[type] || {};
      if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
        return;
      }
      if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
        bubbleType = special.delegateType || type;
        if (!rfocusMorph.test(bubbleType + type)) {
          cur = cur.parentNode;
        }
        for (; cur; cur = cur.parentNode) {
          eventPath.push(cur);
          tmp = cur;
        }
        if (tmp === (elem.ownerDocument || document)) {
          eventPath.push(tmp.defaultView || tmp.parentWindow || window);
        }
      }
      i = 0;
      while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
        event.type = i > 1 ? bubbleType : special.bindType || type;
        handle = (dataPriv.get(cur, "events") || {})[event.type] && dataPriv.get(cur, "handle");
        if (handle) {
          handle.apply(cur, data);
        }
        handle = ontype && cur[ontype];
        if (handle && handle.apply && acceptData(cur)) {
          event.result = handle.apply(cur, data);
          if (event.result === false) {
            event.preventDefault();
          }
        }
      }
      event.type = type;
      if (!onlyHandlers && !event.isDefaultPrevented()) {
        if ((!special._default || special._default.apply(eventPath.pop(), data) === false) && acceptData(elem)) {
          if (ontype && jQuery.isFunction(elem[type]) && !jQuery.isWindow(elem)) {
            tmp = elem[ontype];
            if (tmp) {
              elem[ontype] = null;
            }
            jQuery.event.triggered = type;
            elem[type]();
            jQuery.event.triggered = undefined;
            if (tmp) {
              elem[ontype] = tmp;
            }
          }
        }
      }
      return event.result;
    },
    simulate: function(type, elem, event) {
      var e = jQuery.extend(new jQuery.Event(), event, {
        type: type,
        isSimulated: true
      });
      jQuery.event.trigger(e, null, elem);
    }
  });
  jQuery.fn.extend({
    trigger: function(type, data) {
      return this.each(function() {
        jQuery.event.trigger(type, data, this);
      });
    },
    triggerHandler: function(type, data) {
      var elem = this[0];
      if (elem) {
        return jQuery.event.trigger(type, data, elem, true);
      }
    }
  });
  jQuery.each(("blur focus focusin focusout resize scroll click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup contextmenu").split(" "), function(i, name) {
    jQuery.fn[name] = function(data, fn) {
      return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name);
    };
  });
  jQuery.fn.extend({hover: function(fnOver, fnOut) {
      return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);
    }});
  support.focusin = "onfocusin" in window;
  if (!support.focusin) {
    jQuery.each({
      focus: "focusin",
      blur: "focusout"
    }, function(orig, fix) {
      var handler = function(event) {
        jQuery.event.simulate(fix, event.target, jQuery.event.fix(event));
      };
      jQuery.event.special[fix] = {
        setup: function() {
          var doc = this.ownerDocument || this,
              attaches = dataPriv.access(doc, fix);
          if (!attaches) {
            doc.addEventListener(orig, handler, true);
          }
          dataPriv.access(doc, fix, (attaches || 0) + 1);
        },
        teardown: function() {
          var doc = this.ownerDocument || this,
              attaches = dataPriv.access(doc, fix) - 1;
          if (!attaches) {
            doc.removeEventListener(orig, handler, true);
            dataPriv.remove(doc, fix);
          } else {
            dataPriv.access(doc, fix, attaches);
          }
        }
      };
    });
  }
  var location = window.location;
  var nonce = jQuery.now();
  var rquery = (/\?/);
  jQuery.parseXML = function(data) {
    var xml;
    if (!data || typeof data !== "string") {
      return null;
    }
    try {
      xml = (new window.DOMParser()).parseFromString(data, "text/xml");
    } catch (e) {
      xml = undefined;
    }
    if (!xml || xml.getElementsByTagName("parsererror").length) {
      jQuery.error("Invalid XML: " + data);
    }
    return xml;
  };
  var rbracket = /\[\]$/,
      rCRLF = /\r?\n/g,
      rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
      rsubmittable = /^(?:input|select|textarea|keygen)/i;
  function buildParams(prefix, obj, traditional, add) {
    var name;
    if (jQuery.isArray(obj)) {
      jQuery.each(obj, function(i, v) {
        if (traditional || rbracket.test(prefix)) {
          add(prefix, v);
        } else {
          buildParams(prefix + "[" + (typeof v === "object" && v != null ? i : "") + "]", v, traditional, add);
        }
      });
    } else if (!traditional && jQuery.type(obj) === "object") {
      for (name in obj) {
        buildParams(prefix + "[" + name + "]", obj[name], traditional, add);
      }
    } else {
      add(prefix, obj);
    }
  }
  jQuery.param = function(a, traditional) {
    var prefix,
        s = [],
        add = function(key, valueOrFunction) {
          var value = jQuery.isFunction(valueOrFunction) ? valueOrFunction() : valueOrFunction;
          s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value == null ? "" : value);
        };
    if (jQuery.isArray(a) || (a.jquery && !jQuery.isPlainObject(a))) {
      jQuery.each(a, function() {
        add(this.name, this.value);
      });
    } else {
      for (prefix in a) {
        buildParams(prefix, a[prefix], traditional, add);
      }
    }
    return s.join("&");
  };
  jQuery.fn.extend({
    serialize: function() {
      return jQuery.param(this.serializeArray());
    },
    serializeArray: function() {
      return this.map(function() {
        var elements = jQuery.prop(this, "elements");
        return elements ? jQuery.makeArray(elements) : this;
      }).filter(function() {
        var type = this.type;
        return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type));
      }).map(function(i, elem) {
        var val = jQuery(this).val();
        if (val == null) {
          return null;
        }
        if (jQuery.isArray(val)) {
          return jQuery.map(val, function(val) {
            return {
              name: elem.name,
              value: val.replace(rCRLF, "\r\n")
            };
          });
        }
        return {
          name: elem.name,
          value: val.replace(rCRLF, "\r\n")
        };
      }).get();
    }
  });
  var r20 = /%20/g,
      rhash = /#.*$/,
      rantiCache = /([?&])_=[^&]*/,
      rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
      rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
      rnoContent = /^(?:GET|HEAD)$/,
      rprotocol = /^\/\//,
      prefilters = {},
      transports = {},
      allTypes = "*/".concat("*"),
      originAnchor = document.createElement("a");
  originAnchor.href = location.href;
  function addToPrefiltersOrTransports(structure) {
    return function(dataTypeExpression, func) {
      if (typeof dataTypeExpression !== "string") {
        func = dataTypeExpression;
        dataTypeExpression = "*";
      }
      var dataType,
          i = 0,
          dataTypes = dataTypeExpression.toLowerCase().match(rnothtmlwhite) || [];
      if (jQuery.isFunction(func)) {
        while ((dataType = dataTypes[i++])) {
          if (dataType[0] === "+") {
            dataType = dataType.slice(1) || "*";
            (structure[dataType] = structure[dataType] || []).unshift(func);
          } else {
            (structure[dataType] = structure[dataType] || []).push(func);
          }
        }
      }
    };
  }
  function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
    var inspected = {},
        seekingTransport = (structure === transports);
    function inspect(dataType) {
      var selected;
      inspected[dataType] = true;
      jQuery.each(structure[dataType] || [], function(_, prefilterOrFactory) {
        var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);
        if (typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[dataTypeOrTransport]) {
          options.dataTypes.unshift(dataTypeOrTransport);
          inspect(dataTypeOrTransport);
          return false;
        } else if (seekingTransport) {
          return !(selected = dataTypeOrTransport);
        }
      });
      return selected;
    }
    return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*");
  }
  function ajaxExtend(target, src) {
    var key,
        deep,
        flatOptions = jQuery.ajaxSettings.flatOptions || {};
    for (key in src) {
      if (src[key] !== undefined) {
        (flatOptions[key] ? target : (deep || (deep = {})))[key] = src[key];
      }
    }
    if (deep) {
      jQuery.extend(true, target, deep);
    }
    return target;
  }
  function ajaxHandleResponses(s, jqXHR, responses) {
    var ct,
        type,
        finalDataType,
        firstDataType,
        contents = s.contents,
        dataTypes = s.dataTypes;
    while (dataTypes[0] === "*") {
      dataTypes.shift();
      if (ct === undefined) {
        ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
      }
    }
    if (ct) {
      for (type in contents) {
        if (contents[type] && contents[type].test(ct)) {
          dataTypes.unshift(type);
          break;
        }
      }
    }
    if (dataTypes[0] in responses) {
      finalDataType = dataTypes[0];
    } else {
      for (type in responses) {
        if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
          finalDataType = type;
          break;
        }
        if (!firstDataType) {
          firstDataType = type;
        }
      }
      finalDataType = finalDataType || firstDataType;
    }
    if (finalDataType) {
      if (finalDataType !== dataTypes[0]) {
        dataTypes.unshift(finalDataType);
      }
      return responses[finalDataType];
    }
  }
  function ajaxConvert(s, response, jqXHR, isSuccess) {
    var conv2,
        current,
        conv,
        tmp,
        prev,
        converters = {},
        dataTypes = s.dataTypes.slice();
    if (dataTypes[1]) {
      for (conv in s.converters) {
        converters[conv.toLowerCase()] = s.converters[conv];
      }
    }
    current = dataTypes.shift();
    while (current) {
      if (s.responseFields[current]) {
        jqXHR[s.responseFields[current]] = response;
      }
      if (!prev && isSuccess && s.dataFilter) {
        response = s.dataFilter(response, s.dataType);
      }
      prev = current;
      current = dataTypes.shift();
      if (current) {
        if (current === "*") {
          current = prev;
        } else if (prev !== "*" && prev !== current) {
          conv = converters[prev + " " + current] || converters["* " + current];
          if (!conv) {
            for (conv2 in converters) {
              tmp = conv2.split(" ");
              if (tmp[1] === current) {
                conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]];
                if (conv) {
                  if (conv === true) {
                    conv = converters[conv2];
                  } else if (converters[conv2] !== true) {
                    current = tmp[0];
                    dataTypes.unshift(tmp[1]);
                  }
                  break;
                }
              }
            }
          }
          if (conv !== true) {
            if (conv && s.throws) {
              response = conv(response);
            } else {
              try {
                response = conv(response);
              } catch (e) {
                return {
                  state: "parsererror",
                  error: conv ? e : "No conversion from " + prev + " to " + current
                };
              }
            }
          }
        }
      }
    }
    return {
      state: "success",
      data: response
    };
  }
  jQuery.extend({
    active: 0,
    lastModified: {},
    etag: {},
    ajaxSettings: {
      url: location.href,
      type: "GET",
      isLocal: rlocalProtocol.test(location.protocol),
      global: true,
      processData: true,
      async: true,
      contentType: "application/x-www-form-urlencoded; charset=UTF-8",
      accepts: {
        "*": allTypes,
        text: "text/plain",
        html: "text/html",
        xml: "application/xml, text/xml",
        json: "application/json, text/javascript"
      },
      contents: {
        xml: /\bxml\b/,
        html: /\bhtml/,
        json: /\bjson\b/
      },
      responseFields: {
        xml: "responseXML",
        text: "responseText",
        json: "responseJSON"
      },
      converters: {
        "* text": String,
        "text html": true,
        "text json": JSON.parse,
        "text xml": jQuery.parseXML
      },
      flatOptions: {
        url: true,
        context: true
      }
    },
    ajaxSetup: function(target, settings) {
      return settings ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : ajaxExtend(jQuery.ajaxSettings, target);
    },
    ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
    ajaxTransport: addToPrefiltersOrTransports(transports),
    ajax: function(url, options) {
      if (typeof url === "object") {
        options = url;
        url = undefined;
      }
      options = options || {};
      var transport,
          cacheURL,
          responseHeadersString,
          responseHeaders,
          timeoutTimer,
          urlAnchor,
          completed,
          fireGlobals,
          i,
          uncached,
          s = jQuery.ajaxSetup({}, options),
          callbackContext = s.context || s,
          globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
          deferred = jQuery.Deferred(),
          completeDeferred = jQuery.Callbacks("once memory"),
          statusCode = s.statusCode || {},
          requestHeaders = {},
          requestHeadersNames = {},
          strAbort = "canceled",
          jqXHR = {
            readyState: 0,
            getResponseHeader: function(key) {
              var match;
              if (completed) {
                if (!responseHeaders) {
                  responseHeaders = {};
                  while ((match = rheaders.exec(responseHeadersString))) {
                    responseHeaders[match[1].toLowerCase()] = match[2];
                  }
                }
                match = responseHeaders[key.toLowerCase()];
              }
              return match == null ? null : match;
            },
            getAllResponseHeaders: function() {
              return completed ? responseHeadersString : null;
            },
            setRequestHeader: function(name, value) {
              if (completed == null) {
                name = requestHeadersNames[name.toLowerCase()] = requestHeadersNames[name.toLowerCase()] || name;
                requestHeaders[name] = value;
              }
              return this;
            },
            overrideMimeType: function(type) {
              if (completed == null) {
                s.mimeType = type;
              }
              return this;
            },
            statusCode: function(map) {
              var code;
              if (map) {
                if (completed) {
                  jqXHR.always(map[jqXHR.status]);
                } else {
                  for (code in map) {
                    statusCode[code] = [statusCode[code], map[code]];
                  }
                }
              }
              return this;
            },
            abort: function(statusText) {
              var finalText = statusText || strAbort;
              if (transport) {
                transport.abort(finalText);
              }
              done(0, finalText);
              return this;
            }
          };
      deferred.promise(jqXHR);
      s.url = ((url || s.url || location.href) + "").replace(rprotocol, location.protocol + "//");
      s.type = options.method || options.type || s.method || s.type;
      s.dataTypes = (s.dataType || "*").toLowerCase().match(rnothtmlwhite) || [""];
      if (s.crossDomain == null) {
        urlAnchor = document.createElement("a");
        try {
          urlAnchor.href = s.url;
          urlAnchor.href = urlAnchor.href;
          s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !== urlAnchor.protocol + "//" + urlAnchor.host;
        } catch (e) {
          s.crossDomain = true;
        }
      }
      if (s.data && s.processData && typeof s.data !== "string") {
        s.data = jQuery.param(s.data, s.traditional);
      }
      inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);
      if (completed) {
        return jqXHR;
      }
      fireGlobals = jQuery.event && s.global;
      if (fireGlobals && jQuery.active++ === 0) {
        jQuery.event.trigger("ajaxStart");
      }
      s.type = s.type.toUpperCase();
      s.hasContent = !rnoContent.test(s.type);
      cacheURL = s.url.replace(rhash, "");
      if (!s.hasContent) {
        uncached = s.url.slice(cacheURL.length);
        if (s.data) {
          cacheURL += (rquery.test(cacheURL) ? "&" : "?") + s.data;
          delete s.data;
        }
        if (s.cache === false) {
          cacheURL = cacheURL.replace(rantiCache, "$1");
          uncached = (rquery.test(cacheURL) ? "&" : "?") + "_=" + (nonce++) + uncached;
        }
        s.url = cacheURL + uncached;
      } else if (s.data && s.processData && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0) {
        s.data = s.data.replace(r20, "+");
      }
      if (s.ifModified) {
        if (jQuery.lastModified[cacheURL]) {
          jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL]);
        }
        if (jQuery.etag[cacheURL]) {
          jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL]);
        }
      }
      if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
        jqXHR.setRequestHeader("Content-Type", s.contentType);
      }
      jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]);
      for (i in s.headers) {
        jqXHR.setRequestHeader(i, s.headers[i]);
      }
      if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || completed)) {
        return jqXHR.abort();
      }
      strAbort = "abort";
      completeDeferred.add(s.complete);
      jqXHR.done(s.success);
      jqXHR.fail(s.error);
      transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);
      if (!transport) {
        done(-1, "No Transport");
      } else {
        jqXHR.readyState = 1;
        if (fireGlobals) {
          globalEventContext.trigger("ajaxSend", [jqXHR, s]);
        }
        if (completed) {
          return jqXHR;
        }
        if (s.async && s.timeout > 0) {
          timeoutTimer = window.setTimeout(function() {
            jqXHR.abort("timeout");
          }, s.timeout);
        }
        try {
          completed = false;
          transport.send(requestHeaders, done);
        } catch (e) {
          if (completed) {
            throw e;
          }
          done(-1, e);
        }
      }
      function done(status, nativeStatusText, responses, headers) {
        var isSuccess,
            success,
            error,
            response,
            modified,
            statusText = nativeStatusText;
        if (completed) {
          return;
        }
        completed = true;
        if (timeoutTimer) {
          window.clearTimeout(timeoutTimer);
        }
        transport = undefined;
        responseHeadersString = headers || "";
        jqXHR.readyState = status > 0 ? 4 : 0;
        isSuccess = status >= 200 && status < 300 || status === 304;
        if (responses) {
          response = ajaxHandleResponses(s, jqXHR, responses);
        }
        response = ajaxConvert(s, response, jqXHR, isSuccess);
        if (isSuccess) {
          if (s.ifModified) {
            modified = jqXHR.getResponseHeader("Last-Modified");
            if (modified) {
              jQuery.lastModified[cacheURL] = modified;
            }
            modified = jqXHR.getResponseHeader("etag");
            if (modified) {
              jQuery.etag[cacheURL] = modified;
            }
          }
          if (status === 204 || s.type === "HEAD") {
            statusText = "nocontent";
          } else if (status === 304) {
            statusText = "notmodified";
          } else {
            statusText = response.state;
            success = response.data;
            error = response.error;
            isSuccess = !error;
          }
        } else {
          error = statusText;
          if (status || !statusText) {
            statusText = "error";
            if (status < 0) {
              status = 0;
            }
          }
        }
        jqXHR.status = status;
        jqXHR.statusText = (nativeStatusText || statusText) + "";
        if (isSuccess) {
          deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);
        } else {
          deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);
        }
        jqXHR.statusCode(statusCode);
        statusCode = undefined;
        if (fireGlobals) {
          globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error]);
        }
        completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);
        if (fireGlobals) {
          globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
          if (!(--jQuery.active)) {
            jQuery.event.trigger("ajaxStop");
          }
        }
      }
      return jqXHR;
    },
    getJSON: function(url, data, callback) {
      return jQuery.get(url, data, callback, "json");
    },
    getScript: function(url, callback) {
      return jQuery.get(url, undefined, callback, "script");
    }
  });
  jQuery.each(["get", "post"], function(i, method) {
    jQuery[method] = function(url, data, callback, type) {
      if (jQuery.isFunction(data)) {
        type = type || callback;
        callback = data;
        data = undefined;
      }
      return jQuery.ajax(jQuery.extend({
        url: url,
        type: method,
        dataType: type,
        data: data,
        success: callback
      }, jQuery.isPlainObject(url) && url));
    };
  });
  jQuery._evalUrl = function(url) {
    return jQuery.ajax({
      url: url,
      type: "GET",
      dataType: "script",
      cache: true,
      async: false,
      global: false,
      "throws": true
    });
  };
  jQuery.fn.extend({
    wrapAll: function(html) {
      var wrap;
      if (this[0]) {
        if (jQuery.isFunction(html)) {
          html = html.call(this[0]);
        }
        wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
        if (this[0].parentNode) {
          wrap.insertBefore(this[0]);
        }
        wrap.map(function() {
          var elem = this;
          while (elem.firstElementChild) {
            elem = elem.firstElementChild;
          }
          return elem;
        }).append(this);
      }
      return this;
    },
    wrapInner: function(html) {
      if (jQuery.isFunction(html)) {
        return this.each(function(i) {
          jQuery(this).wrapInner(html.call(this, i));
        });
      }
      return this.each(function() {
        var self = jQuery(this),
            contents = self.contents();
        if (contents.length) {
          contents.wrapAll(html);
        } else {
          self.append(html);
        }
      });
    },
    wrap: function(html) {
      var isFunction = jQuery.isFunction(html);
      return this.each(function(i) {
        jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);
      });
    },
    unwrap: function(selector) {
      this.parent(selector).not("body").each(function() {
        jQuery(this).replaceWith(this.childNodes);
      });
      return this;
    }
  });
  jQuery.expr.pseudos.hidden = function(elem) {
    return !jQuery.expr.pseudos.visible(elem);
  };
  jQuery.expr.pseudos.visible = function(elem) {
    return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);
  };
  jQuery.ajaxSettings.xhr = function() {
    try {
      return new window.XMLHttpRequest();
    } catch (e) {}
  };
  var xhrSuccessStatus = {
    0: 200,
    1223: 204
  },
      xhrSupported = jQuery.ajaxSettings.xhr();
  support.cors = !!xhrSupported && ("withCredentials" in xhrSupported);
  support.ajax = xhrSupported = !!xhrSupported;
  jQuery.ajaxTransport(function(options) {
    var callback,
        errorCallback;
    if (support.cors || xhrSupported && !options.crossDomain) {
      return {
        send: function(headers, complete) {
          var i,
              xhr = options.xhr();
          xhr.open(options.type, options.url, options.async, options.username, options.password);
          if (options.xhrFields) {
            for (i in options.xhrFields) {
              xhr[i] = options.xhrFields[i];
            }
          }
          if (options.mimeType && xhr.overrideMimeType) {
            xhr.overrideMimeType(options.mimeType);
          }
          if (!options.crossDomain && !headers["X-Requested-With"]) {
            headers["X-Requested-With"] = "XMLHttpRequest";
          }
          for (i in headers) {
            xhr.setRequestHeader(i, headers[i]);
          }
          callback = function(type) {
            return function() {
              if (callback) {
                callback = errorCallback = xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = null;
                if (type === "abort") {
                  xhr.abort();
                } else if (type === "error") {
                  if (typeof xhr.status !== "number") {
                    complete(0, "error");
                  } else {
                    complete(xhr.status, xhr.statusText);
                  }
                } else {
                  complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, (xhr.responseType || "text") !== "text" || typeof xhr.responseText !== "string" ? {binary: xhr.response} : {text: xhr.responseText}, xhr.getAllResponseHeaders());
                }
              }
            };
          };
          xhr.onload = callback();
          errorCallback = xhr.onerror = callback("error");
          if (xhr.onabort !== undefined) {
            xhr.onabort = errorCallback;
          } else {
            xhr.onreadystatechange = function() {
              if (xhr.readyState === 4) {
                window.setTimeout(function() {
                  if (callback) {
                    errorCallback();
                  }
                });
              }
            };
          }
          callback = callback("abort");
          try {
            xhr.send(options.hasContent && options.data || null);
          } catch (e) {
            if (callback) {
              throw e;
            }
          }
        },
        abort: function() {
          if (callback) {
            callback();
          }
        }
      };
    }
  });
  jQuery.ajaxPrefilter(function(s) {
    if (s.crossDomain) {
      s.contents.script = false;
    }
  });
  jQuery.ajaxSetup({
    accepts: {script: "text/javascript, application/javascript, " + "application/ecmascript, application/x-ecmascript"},
    contents: {script: /\b(?:java|ecma)script\b/},
    converters: {"text script": function(text) {
        jQuery.globalEval(text);
        return text;
      }}
  });
  jQuery.ajaxPrefilter("script", function(s) {
    if (s.cache === undefined) {
      s.cache = false;
    }
    if (s.crossDomain) {
      s.type = "GET";
    }
  });
  jQuery.ajaxTransport("script", function(s) {
    if (s.crossDomain) {
      var script,
          callback;
      return {
        send: function(_, complete) {
          script = jQuery("<script>").prop({
            charset: s.scriptCharset,
            src: s.url
          }).on("load error", callback = function(evt) {
            script.remove();
            callback = null;
            if (evt) {
              complete(evt.type === "error" ? 404 : 200, evt.type);
            }
          });
          document.head.appendChild(script[0]);
        },
        abort: function() {
          if (callback) {
            callback();
          }
        }
      };
    }
  });
  var oldCallbacks = [],
      rjsonp = /(=)\?(?=&|$)|\?\?/;
  jQuery.ajaxSetup({
    jsonp: "callback",
    jsonpCallback: function() {
      var callback = oldCallbacks.pop() || (jQuery.expando + "_" + (nonce++));
      this[callback] = true;
      return callback;
    }
  });
  jQuery.ajaxPrefilter("json jsonp", function(s, originalSettings, jqXHR) {
    var callbackName,
        overwritten,
        responseContainer,
        jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? "url" : typeof s.data === "string" && (s.contentType || "").indexOf("application/x-www-form-urlencoded") === 0 && rjsonp.test(s.data) && "data");
    if (jsonProp || s.dataTypes[0] === "jsonp") {
      callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;
      if (jsonProp) {
        s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName);
      } else if (s.jsonp !== false) {
        s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName;
      }
      s.converters["script json"] = function() {
        if (!responseContainer) {
          jQuery.error(callbackName + " was not called");
        }
        return responseContainer[0];
      };
      s.dataTypes[0] = "json";
      overwritten = window[callbackName];
      window[callbackName] = function() {
        responseContainer = arguments;
      };
      jqXHR.always(function() {
        if (overwritten === undefined) {
          jQuery(window).removeProp(callbackName);
        } else {
          window[callbackName] = overwritten;
        }
        if (s[callbackName]) {
          s.jsonpCallback = originalSettings.jsonpCallback;
          oldCallbacks.push(callbackName);
        }
        if (responseContainer && jQuery.isFunction(overwritten)) {
          overwritten(responseContainer[0]);
        }
        responseContainer = overwritten = undefined;
      });
      return "script";
    }
  });
  support.createHTMLDocument = (function() {
    var body = document.implementation.createHTMLDocument("").body;
    body.innerHTML = "<form></form><form></form>";
    return body.childNodes.length === 2;
  })();
  jQuery.parseHTML = function(data, context, keepScripts) {
    if (typeof data !== "string") {
      return [];
    }
    if (typeof context === "boolean") {
      keepScripts = context;
      context = false;
    }
    var base,
        parsed,
        scripts;
    if (!context) {
      if (support.createHTMLDocument) {
        context = document.implementation.createHTMLDocument("");
        base = context.createElement("base");
        base.href = document.location.href;
        context.head.appendChild(base);
      } else {
        context = document;
      }
    }
    parsed = rsingleTag.exec(data);
    scripts = !keepScripts && [];
    if (parsed) {
      return [context.createElement(parsed[1])];
    }
    parsed = buildFragment([data], context, scripts);
    if (scripts && scripts.length) {
      jQuery(scripts).remove();
    }
    return jQuery.merge([], parsed.childNodes);
  };
  jQuery.fn.load = function(url, params, callback) {
    var selector,
        type,
        response,
        self = this,
        off = url.indexOf(" ");
    if (off > -1) {
      selector = stripAndCollapse(url.slice(off));
      url = url.slice(0, off);
    }
    if (jQuery.isFunction(params)) {
      callback = params;
      params = undefined;
    } else if (params && typeof params === "object") {
      type = "POST";
    }
    if (self.length > 0) {
      jQuery.ajax({
        url: url,
        type: type || "GET",
        dataType: "html",
        data: params
      }).done(function(responseText) {
        response = arguments;
        self.html(selector ? jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : responseText);
      }).always(callback && function(jqXHR, status) {
        self.each(function() {
          callback.apply(this, response || [jqXHR.responseText, status, jqXHR]);
        });
      });
    }
    return this;
  };
  jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(i, type) {
    jQuery.fn[type] = function(fn) {
      return this.on(type, fn);
    };
  });
  jQuery.expr.pseudos.animated = function(elem) {
    return jQuery.grep(jQuery.timers, function(fn) {
      return elem === fn.elem;
    }).length;
  };
  function getWindow(elem) {
    return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView;
  }
  jQuery.offset = {setOffset: function(elem, options, i) {
      var curPosition,
          curLeft,
          curCSSTop,
          curTop,
          curOffset,
          curCSSLeft,
          calculatePosition,
          position = jQuery.css(elem, "position"),
          curElem = jQuery(elem),
          props = {};
      if (position === "static") {
        elem.style.position = "relative";
      }
      curOffset = curElem.offset();
      curCSSTop = jQuery.css(elem, "top");
      curCSSLeft = jQuery.css(elem, "left");
      calculatePosition = (position === "absolute" || position === "fixed") && (curCSSTop + curCSSLeft).indexOf("auto") > -1;
      if (calculatePosition) {
        curPosition = curElem.position();
        curTop = curPosition.top;
        curLeft = curPosition.left;
      } else {
        curTop = parseFloat(curCSSTop) || 0;
        curLeft = parseFloat(curCSSLeft) || 0;
      }
      if (jQuery.isFunction(options)) {
        options = options.call(elem, i, jQuery.extend({}, curOffset));
      }
      if (options.top != null) {
        props.top = (options.top - curOffset.top) + curTop;
      }
      if (options.left != null) {
        props.left = (options.left - curOffset.left) + curLeft;
      }
      if ("using" in options) {
        options.using.call(elem, props);
      } else {
        curElem.css(props);
      }
    }};
  jQuery.fn.extend({
    offset: function(options) {
      if (arguments.length) {
        return options === undefined ? this : this.each(function(i) {
          jQuery.offset.setOffset(this, options, i);
        });
      }
      var docElem,
          win,
          rect,
          doc,
          elem = this[0];
      if (!elem) {
        return;
      }
      if (!elem.getClientRects().length) {
        return {
          top: 0,
          left: 0
        };
      }
      rect = elem.getBoundingClientRect();
      if (rect.width || rect.height) {
        doc = elem.ownerDocument;
        win = getWindow(doc);
        docElem = doc.documentElement;
        return {
          top: rect.top + win.pageYOffset - docElem.clientTop,
          left: rect.left + win.pageXOffset - docElem.clientLeft
        };
      }
      return rect;
    },
    position: function() {
      if (!this[0]) {
        return;
      }
      var offsetParent,
          offset,
          elem = this[0],
          parentOffset = {
            top: 0,
            left: 0
          };
      if (jQuery.css(elem, "position") === "fixed") {
        offset = elem.getBoundingClientRect();
      } else {
        offsetParent = this.offsetParent();
        offset = this.offset();
        if (!jQuery.nodeName(offsetParent[0], "html")) {
          parentOffset = offsetParent.offset();
        }
        parentOffset = {
          top: parentOffset.top + jQuery.css(offsetParent[0], "borderTopWidth", true),
          left: parentOffset.left + jQuery.css(offsetParent[0], "borderLeftWidth", true)
        };
      }
      return {
        top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
        left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
      };
    },
    offsetParent: function() {
      return this.map(function() {
        var offsetParent = this.offsetParent;
        while (offsetParent && jQuery.css(offsetParent, "position") === "static") {
          offsetParent = offsetParent.offsetParent;
        }
        return offsetParent || documentElement;
      });
    }
  });
  jQuery.each({
    scrollLeft: "pageXOffset",
    scrollTop: "pageYOffset"
  }, function(method, prop) {
    var top = "pageYOffset" === prop;
    jQuery.fn[method] = function(val) {
      return access(this, function(elem, method, val) {
        var win = getWindow(elem);
        if (val === undefined) {
          return win ? win[prop] : elem[method];
        }
        if (win) {
          win.scrollTo(!top ? val : win.pageXOffset, top ? val : win.pageYOffset);
        } else {
          elem[method] = val;
        }
      }, method, val, arguments.length);
    };
  });
  jQuery.each(["top", "left"], function(i, prop) {
    jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function(elem, computed) {
      if (computed) {
        computed = curCSS(elem, prop);
        return rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed;
      }
    });
  });
  jQuery.each({
    Height: "height",
    Width: "width"
  }, function(name, type) {
    jQuery.each({
      padding: "inner" + name,
      content: type,
      "": "outer" + name
    }, function(defaultExtra, funcName) {
      jQuery.fn[funcName] = function(margin, value) {
        var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"),
            extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
        return access(this, function(elem, type, value) {
          var doc;
          if (jQuery.isWindow(elem)) {
            return funcName.indexOf("outer") === 0 ? elem["inner" + name] : elem.document.documentElement["client" + name];
          }
          if (elem.nodeType === 9) {
            doc = elem.documentElement;
            return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name]);
          }
          return value === undefined ? jQuery.css(elem, type, extra) : jQuery.style(elem, type, value, extra);
        }, type, chainable ? margin : undefined, chainable);
      };
    });
  });
  jQuery.fn.extend({
    bind: function(types, data, fn) {
      return this.on(types, null, data, fn);
    },
    unbind: function(types, fn) {
      return this.off(types, null, fn);
    },
    delegate: function(selector, types, data, fn) {
      return this.on(types, selector, data, fn);
    },
    undelegate: function(selector, types, fn) {
      return arguments.length === 1 ? this.off(selector, "**") : this.off(types, selector || "**", fn);
    }
  });
  jQuery.parseJSON = JSON.parse;
  if (typeof define === "function" && define.amd) {
    define("npm:jquery@3.1.1/dist/jquery.js", [], function() {
      return jQuery;
    }) && define("jquery", ["npm:jquery@3.1.1/dist/jquery.js"], function(m) {
      return m;
    });
  }
  var _jQuery = window.jQuery,
      _$ = window.$;
  jQuery.noConflict = function(deep) {
    if (window.$ === jQuery) {
      window.$ = _$;
    }
    if (deep && window.jQuery === jQuery) {
      window.jQuery = _jQuery;
    }
    return jQuery;
  };
  if (!noGlobal) {
    window.jQuery = window.$ = jQuery;
  }
  return jQuery;
});

})();
System.registerDynamic("npm:backbone@1.3.3.json", [], false, function() {
  return {
    "main": "backbone.js",
    "format": "cjs",
    "meta": {
      "*.json": {
        "format": "json"
      }
    }
  };
});

System.registerDynamic('npm:backbone@1.3.3/backbone.js', ['underscore', 'jquery'], true, function ($__require, exports, module) {
  var define,
      global = this || self,
      GLOBAL = global;
  //     Backbone.js 1.3.3

  //     (c) 2010-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
  //     Backbone may be freely distributed under the MIT license.
  //     For all details and documentation:
  //     http://backbonejs.org

  (function (factory) {

    // Establish the root object, `window` (`self`) in the browser, or `global` on the server.
    // We use `self` instead of `window` for `WebWorker` support.
    var root = typeof self == 'object' && self.self === self && self || typeof global == 'object' && global.global === global && global;

    // Set up Backbone appropriately for the environment. Start with AMD.
    if (typeof define === 'function' && define.amd) {
      define(['underscore', 'jquery', 'exports'], function (_, $, exports) {
        // Export global even in AMD case in case this script is loaded with
        // others that may still expect a global Backbone.
        root.Backbone = factory(root, exports, _, $);
      });

      // Next for Node.js or CommonJS. jQuery may not be needed as a module.
    } else if (typeof exports !== 'undefined') {
      var _ = $__require('underscore'),
          $;
      try {
        $ = $__require('jquery');
      } catch (e) {}
      factory(root, exports, _, $);

      // Finally, as a browser global.
    } else {
      root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);
    }
  })(function (root, Backbone, _, $) {

    // Initial Setup
    // -------------

    // Save the previous value of the `Backbone` variable, so that it can be
    // restored later on, if `noConflict` is used.
    var previousBackbone = root.Backbone;

    // Create a local reference to a common array method we'll want to use later.
    var slice = Array.prototype.slice;

    // Current version of the library. Keep in sync with `package.json`.
    Backbone.VERSION = '1.3.3';

    // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns
    // the `$` variable.
    Backbone.$ = $;

    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable
    // to its previous owner. Returns a reference to this Backbone object.
    Backbone.noConflict = function () {
      root.Backbone = previousBackbone;
      return this;
    };

    // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option
    // will fake `"PATCH"`, `"PUT"` and `"DELETE"` requests via the `_method` parameter and
    // set a `X-Http-Method-Override` header.
    Backbone.emulateHTTP = false;

    // Turn on `emulateJSON` to support legacy servers that can't deal with direct
    // `application/json` requests ... this will encode the body as
    // `application/x-www-form-urlencoded` instead and will send the model in a
    // form param named `model`.
    Backbone.emulateJSON = false;

    // Proxy Backbone class methods to Underscore functions, wrapping the model's
    // `attributes` object or collection's `models` array behind the scenes.
    //
    // collection.filter(function(model) { return model.get('age') > 10 });
    // collection.each(this.addView);
    //
    // `Function#apply` can be slow so we use the method's arg count, if we know it.
    var addMethod = function (length, method, attribute) {
      switch (length) {
        case 1:
          return function () {
            return _[method](this[attribute]);
          };
        case 2:
          return function (value) {
            return _[method](this[attribute], value);
          };
        case 3:
          return function (iteratee, context) {
            return _[method](this[attribute], cb(iteratee, this), context);
          };
        case 4:
          return function (iteratee, defaultVal, context) {
            return _[method](this[attribute], cb(iteratee, this), defaultVal, context);
          };
        default:
          return function () {
            var args = slice.call(arguments);
            args.unshift(this[attribute]);
            return _[method].apply(_, args);
          };
      }
    };
    var addUnderscoreMethods = function (Class, methods, attribute) {
      _.each(methods, function (length, method) {
        if (_[method]) Class.prototype[method] = addMethod(length, method, attribute);
      });
    };

    // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.
    var cb = function (iteratee, instance) {
      if (_.isFunction(iteratee)) return iteratee;
      if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);
      if (_.isString(iteratee)) return function (model) {
        return model.get(iteratee);
      };
      return iteratee;
    };
    var modelMatcher = function (attrs) {
      var matcher = _.matches(attrs);
      return function (model) {
        return matcher(model.attributes);
      };
    };

    // Backbone.Events
    // ---------------

    // A module that can be mixed in to *any object* in order to provide it with
    // a custom event channel. You may bind a callback to an event with `on` or
    // remove with `off`; `trigger`-ing an event fires all callbacks in
    // succession.
    //
    //     var object = {};
    //     _.extend(object, Backbone.Events);
    //     object.on('expand', function(){ alert('expanded'); });
    //     object.trigger('expand');
    //
    var Events = Backbone.Events = {};

    // Regular expression used to split event strings.
    var eventSplitter = /\s+/;

    // Iterates over the standard `event, callback` (as well as the fancy multiple
    // space-separated events `"change blur", callback` and jQuery-style event
    // maps `{event: callback}`).
    var eventsApi = function (iteratee, events, name, callback, opts) {
      var i = 0,
          names;
      if (name && typeof name === 'object') {
        // Handle event maps.
        if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;
        for (names = _.keys(name); i < names.length; i++) {
          events = eventsApi(iteratee, events, names[i], name[names[i]], opts);
        }
      } else if (name && eventSplitter.test(name)) {
        // Handle space-separated event names by delegating them individually.
        for (names = name.split(eventSplitter); i < names.length; i++) {
          events = iteratee(events, names[i], callback, opts);
        }
      } else {
        // Finally, standard events.
        events = iteratee(events, name, callback, opts);
      }
      return events;
    };

    // Bind an event to a `callback` function. Passing `"all"` will bind
    // the callback to all events fired.
    Events.on = function (name, callback, context) {
      return internalOn(this, name, callback, context);
    };

    // Guard the `listening` argument from the public API.
    var internalOn = function (obj, name, callback, context, listening) {
      obj._events = eventsApi(onApi, obj._events || {}, name, callback, {
        context: context,
        ctx: obj,
        listening: listening
      });

      if (listening) {
        var listeners = obj._listeners || (obj._listeners = {});
        listeners[listening.id] = listening;
      }

      return obj;
    };

    // Inversion-of-control versions of `on`. Tell *this* object to listen to
    // an event in another object... keeping track of what it's listening to
    // for easier unbinding later.
    Events.listenTo = function (obj, name, callback) {
      if (!obj) return this;
      var id = obj._listenId || (obj._listenId = _.uniqueId('l'));
      var listeningTo = this._listeningTo || (this._listeningTo = {});
      var listening = listeningTo[id];

      // This object is not listening to any other events on `obj` yet.
      // Setup the necessary references to track the listening callbacks.
      if (!listening) {
        var thisId = this._listenId || (this._listenId = _.uniqueId('l'));
        listening = listeningTo[id] = { obj: obj, objId: id, id: thisId, listeningTo: listeningTo, count: 0 };
      }

      // Bind callbacks on obj, and keep track of them on listening.
      internalOn(obj, name, callback, this, listening);
      return this;
    };

    // The reducing API that adds a callback to the `events` object.
    var onApi = function (events, name, callback, options) {
      if (callback) {
        var handlers = events[name] || (events[name] = []);
        var context = options.context,
            ctx = options.ctx,
            listening = options.listening;
        if (listening) listening.count++;

        handlers.push({ callback: callback, context: context, ctx: context || ctx, listening: listening });
      }
      return events;
    };

    // Remove one or many callbacks. If `context` is null, removes all
    // callbacks with that function. If `callback` is null, removes all
    // callbacks for the event. If `name` is null, removes all bound
    // callbacks for all events.
    Events.off = function (name, callback, context) {
      if (!this._events) return this;
      this._events = eventsApi(offApi, this._events, name, callback, {
        context: context,
        listeners: this._listeners
      });
      return this;
    };

    // Tell this object to stop listening to either specific events ... or
    // to every object it's currently listening to.
    Events.stopListening = function (obj, name, callback) {
      var listeningTo = this._listeningTo;
      if (!listeningTo) return this;

      var ids = obj ? [obj._listenId] : _.keys(listeningTo);

      for (var i = 0; i < ids.length; i++) {
        var listening = listeningTo[ids[i]];

        // If listening doesn't exist, this object is not currently
        // listening to obj. Break out early.
        if (!listening) break;

        listening.obj.off(name, callback, this);
      }

      return this;
    };

    // The reducing API that removes a callback from the `events` object.
    var offApi = function (events, name, callback, options) {
      if (!events) return;

      var i = 0,
          listening;
      var context = options.context,
          listeners = options.listeners;

      // Delete all events listeners and "drop" events.
      if (!name && !callback && !context) {
        var ids = _.keys(listeners);
        for (; i < ids.length; i++) {
          listening = listeners[ids[i]];
          delete listeners[listening.id];
          delete listening.listeningTo[listening.objId];
        }
        return;
      }

      var names = name ? [name] : _.keys(events);
      for (; i < names.length; i++) {
        name = names[i];
        var handlers = events[name];

        // Bail out if there are no events stored.
        if (!handlers) break;

        // Replace events if there are any remaining.  Otherwise, clean up.
        var remaining = [];
        for (var j = 0; j < handlers.length; j++) {
          var handler = handlers[j];
          if (callback && callback !== handler.callback && callback !== handler.callback._callback || context && context !== handler.context) {
            remaining.push(handler);
          } else {
            listening = handler.listening;
            if (listening && --listening.count === 0) {
              delete listeners[listening.id];
              delete listening.listeningTo[listening.objId];
            }
          }
        }

        // Update tail event if the list has any events.  Otherwise, clean up.
        if (remaining.length) {
          events[name] = remaining;
        } else {
          delete events[name];
        }
      }
      return events;
    };

    // Bind an event to only be triggered a single time. After the first time
    // the callback is invoked, its listener will be removed. If multiple events
    // are passed in using the space-separated syntax, the handler will fire
    // once for each event, not once for a combination of all events.
    Events.once = function (name, callback, context) {
      // Map the event into a `{event: once}` object.
      var events = eventsApi(onceMap, {}, name, callback, _.bind(this.off, this));
      if (typeof name === 'string' && context == null) callback = void 0;
      return this.on(events, callback, context);
    };

    // Inversion-of-control versions of `once`.
    Events.listenToOnce = function (obj, name, callback) {
      // Map the event into a `{event: once}` object.
      var events = eventsApi(onceMap, {}, name, callback, _.bind(this.stopListening, this, obj));
      return this.listenTo(obj, events);
    };

    // Reduces the event callbacks into a map of `{event: onceWrapper}`.
    // `offer` unbinds the `onceWrapper` after it has been called.
    var onceMap = function (map, name, callback, offer) {
      if (callback) {
        var once = map[name] = _.once(function () {
          offer(name, once);
          callback.apply(this, arguments);
        });
        once._callback = callback;
      }
      return map;
    };

    // Trigger one or many events, firing all bound callbacks. Callbacks are
    // passed the same arguments as `trigger` is, apart from the event name
    // (unless you're listening on `"all"`, which will cause your callback to
    // receive the true name of the event as the first argument).
    Events.trigger = function (name) {
      if (!this._events) return this;

      var length = Math.max(0, arguments.length - 1);
      var args = Array(length);
      for (var i = 0; i < length; i++) args[i] = arguments[i + 1];

      eventsApi(triggerApi, this._events, name, void 0, args);
      return this;
    };

    // Handles triggering the appropriate event callbacks.
    var triggerApi = function (objEvents, name, callback, args) {
      if (objEvents) {
        var events = objEvents[name];
        var allEvents = objEvents.all;
        if (events && allEvents) allEvents = allEvents.slice();
        if (events) triggerEvents(events, args);
        if (allEvents) triggerEvents(allEvents, [name].concat(args));
      }
      return objEvents;
    };

    // A difficult-to-believe, but optimized internal dispatch function for
    // triggering events. Tries to keep the usual cases speedy (most internal
    // Backbone events have 3 arguments).
    var triggerEvents = function (events, args) {
      var ev,
          i = -1,
          l = events.length,
          a1 = args[0],
          a2 = args[1],
          a3 = args[2];
      switch (args.length) {
        case 0:
          while (++i < l) (ev = events[i]).callback.call(ev.ctx);return;
        case 1:
          while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1);return;
        case 2:
          while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2);return;
        case 3:
          while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3);return;
        default:
          while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);return;
      }
    };

    // Aliases for backwards compatibility.
    Events.bind = Events.on;
    Events.unbind = Events.off;

    // Allow the `Backbone` object to serve as a global event bus, for folks who
    // want global "pubsub" in a convenient place.
    _.extend(Backbone, Events);

    // Backbone.Model
    // --------------

    // Backbone **Models** are the basic data object in the framework --
    // frequently representing a row in a table in a database on your server.
    // A discrete chunk of data and a bunch of useful, related methods for
    // performing computations and transformations on that data.

    // Create a new model with the specified attributes. A client id (`cid`)
    // is automatically generated and assigned for you.
    var Model = Backbone.Model = function (attributes, options) {
      var attrs = attributes || {};
      options || (options = {});
      this.cid = _.uniqueId(this.cidPrefix);
      this.attributes = {};
      if (options.collection) this.collection = options.collection;
      if (options.parse) attrs = this.parse(attrs, options) || {};
      var defaults = _.result(this, 'defaults');
      attrs = _.defaults(_.extend({}, defaults, attrs), defaults);
      this.set(attrs, options);
      this.changed = {};
      this.initialize.apply(this, arguments);
    };

    // Attach all inheritable methods to the Model prototype.
    _.extend(Model.prototype, Events, {

      // A hash of attributes whose current and previous value differ.
      changed: null,

      // The value returned during the last failed validation.
      validationError: null,

      // The default name for the JSON `id` attribute is `"id"`. MongoDB and
      // CouchDB users may want to set this to `"_id"`.
      idAttribute: 'id',

      // The prefix is used to create the client id which is used to identify models locally.
      // You may want to override this if you're experiencing name clashes with model ids.
      cidPrefix: 'c',

      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function () {},

      // Return a copy of the model's `attributes` object.
      toJSON: function (options) {
        return _.clone(this.attributes);
      },

      // Proxy `Backbone.sync` by default -- but override this if you need
      // custom syncing semantics for *this* particular model.
      sync: function () {
        return Backbone.sync.apply(this, arguments);
      },

      // Get the value of an attribute.
      get: function (attr) {
        return this.attributes[attr];
      },

      // Get the HTML-escaped value of an attribute.
      escape: function (attr) {
        return _.escape(this.get(attr));
      },

      // Returns `true` if the attribute contains a value that is not null
      // or undefined.
      has: function (attr) {
        return this.get(attr) != null;
      },

      // Special-cased proxy to underscore's `_.matches` method.
      matches: function (attrs) {
        return !!_.iteratee(attrs, this)(this.attributes);
      },

      // Set a hash of model attributes on the object, firing `"change"`. This is
      // the core primitive operation of a model, updating the data and notifying
      // anyone who needs to know about the change in state. The heart of the beast.
      set: function (key, val, options) {
        if (key == null) return this;

        // Handle both `"key", value` and `{key: value}` -style arguments.
        var attrs;
        if (typeof key === 'object') {
          attrs = key;
          options = val;
        } else {
          (attrs = {})[key] = val;
        }

        options || (options = {});

        // Run validation.
        if (!this._validate(attrs, options)) return false;

        // Extract attributes and options.
        var unset = options.unset;
        var silent = options.silent;
        var changes = [];
        var changing = this._changing;
        this._changing = true;

        if (!changing) {
          this._previousAttributes = _.clone(this.attributes);
          this.changed = {};
        }

        var current = this.attributes;
        var changed = this.changed;
        var prev = this._previousAttributes;

        // For each `set` attribute, update or delete the current value.
        for (var attr in attrs) {
          val = attrs[attr];
          if (!_.isEqual(current[attr], val)) changes.push(attr);
          if (!_.isEqual(prev[attr], val)) {
            changed[attr] = val;
          } else {
            delete changed[attr];
          }
          unset ? delete current[attr] : current[attr] = val;
        }

        // Update the `id`.
        if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);

        // Trigger all relevant attribute changes.
        if (!silent) {
          if (changes.length) this._pending = options;
          for (var i = 0; i < changes.length; i++) {
            this.trigger('change:' + changes[i], this, current[changes[i]], options);
          }
        }

        // You might be wondering why there's a `while` loop here. Changes can
        // be recursively nested within `"change"` events.
        if (changing) return this;
        if (!silent) {
          while (this._pending) {
            options = this._pending;
            this._pending = false;
            this.trigger('change', this, options);
          }
        }
        this._pending = false;
        this._changing = false;
        return this;
      },

      // Remove an attribute from the model, firing `"change"`. `unset` is a noop
      // if the attribute doesn't exist.
      unset: function (attr, options) {
        return this.set(attr, void 0, _.extend({}, options, { unset: true }));
      },

      // Clear all attributes on the model, firing `"change"`.
      clear: function (options) {
        var attrs = {};
        for (var key in this.attributes) attrs[key] = void 0;
        return this.set(attrs, _.extend({}, options, { unset: true }));
      },

      // Determine if the model has changed since the last `"change"` event.
      // If you specify an attribute name, determine if that attribute has changed.
      hasChanged: function (attr) {
        if (attr == null) return !_.isEmpty(this.changed);
        return _.has(this.changed, attr);
      },

      // Return an object containing all the attributes that have changed, or
      // false if there are no changed attributes. Useful for determining what
      // parts of a view need to be updated and/or what attributes need to be
      // persisted to the server. Unset attributes will be set to undefined.
      // You can also pass an attributes object to diff against the model,
      // determining if there *would be* a change.
      changedAttributes: function (diff) {
        if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;
        var old = this._changing ? this._previousAttributes : this.attributes;
        var changed = {};
        for (var attr in diff) {
          var val = diff[attr];
          if (_.isEqual(old[attr], val)) continue;
          changed[attr] = val;
        }
        return _.size(changed) ? changed : false;
      },

      // Get the previous value of an attribute, recorded at the time the last
      // `"change"` event was fired.
      previous: function (attr) {
        if (attr == null || !this._previousAttributes) return null;
        return this._previousAttributes[attr];
      },

      // Get all of the attributes of the model at the time of the previous
      // `"change"` event.
      previousAttributes: function () {
        return _.clone(this._previousAttributes);
      },

      // Fetch the model from the server, merging the response with the model's
      // local attributes. Any changed attributes will trigger a "change" event.
      fetch: function (options) {
        options = _.extend({ parse: true }, options);
        var model = this;
        var success = options.success;
        options.success = function (resp) {
          var serverAttrs = options.parse ? model.parse(resp, options) : resp;
          if (!model.set(serverAttrs, options)) return false;
          if (success) success.call(options.context, model, resp, options);
          model.trigger('sync', model, resp, options);
        };
        wrapError(this, options);
        return this.sync('read', this, options);
      },

      // Set a hash of model attributes, and sync the model to the server.
      // If the server returns an attributes hash that differs, the model's
      // state will be `set` again.
      save: function (key, val, options) {
        // Handle both `"key", value` and `{key: value}` -style arguments.
        var attrs;
        if (key == null || typeof key === 'object') {
          attrs = key;
          options = val;
        } else {
          (attrs = {})[key] = val;
        }

        options = _.extend({ validate: true, parse: true }, options);
        var wait = options.wait;

        // If we're not waiting and attributes exist, save acts as
        // `set(attr).save(null, opts)` with validation. Otherwise, check if
        // the model will be valid when the attributes, if any, are set.
        if (attrs && !wait) {
          if (!this.set(attrs, options)) return false;
        } else if (!this._validate(attrs, options)) {
          return false;
        }

        // After a successful server-side save, the client is (optionally)
        // updated with the server-side state.
        var model = this;
        var success = options.success;
        var attributes = this.attributes;
        options.success = function (resp) {
          // Ensure attributes are restored during synchronous saves.
          model.attributes = attributes;
          var serverAttrs = options.parse ? model.parse(resp, options) : resp;
          if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);
          if (serverAttrs && !model.set(serverAttrs, options)) return false;
          if (success) success.call(options.context, model, resp, options);
          model.trigger('sync', model, resp, options);
        };
        wrapError(this, options);

        // Set temporary attributes if `{wait: true}` to properly find new ids.
        if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);

        var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';
        if (method === 'patch' && !options.attrs) options.attrs = attrs;
        var xhr = this.sync(method, this, options);

        // Restore attributes.
        this.attributes = attributes;

        return xhr;
      },

      // Destroy this model on the server if it was already persisted.
      // Optimistically removes the model from its collection, if it has one.
      // If `wait: true` is passed, waits for the server to respond before removal.
      destroy: function (options) {
        options = options ? _.clone(options) : {};
        var model = this;
        var success = options.success;
        var wait = options.wait;

        var destroy = function () {
          model.stopListening();
          model.trigger('destroy', model, model.collection, options);
        };

        options.success = function (resp) {
          if (wait) destroy();
          if (success) success.call(options.context, model, resp, options);
          if (!model.isNew()) model.trigger('sync', model, resp, options);
        };

        var xhr = false;
        if (this.isNew()) {
          _.defer(options.success);
        } else {
          wrapError(this, options);
          xhr = this.sync('delete', this, options);
        }
        if (!wait) destroy();
        return xhr;
      },

      // Default URL for the model's representation on the server -- if you're
      // using Backbone's restful methods, override this to change the endpoint
      // that will be called.
      url: function () {
        var base = _.result(this, 'urlRoot') || _.result(this.collection, 'url') || urlError();
        if (this.isNew()) return base;
        var id = this.get(this.idAttribute);
        return base.replace(/[^\/]$/, '$&/') + encodeURIComponent(id);
      },

      // **parse** converts a response into the hash of attributes to be `set` on
      // the model. The default implementation is just to pass the response along.
      parse: function (resp, options) {
        return resp;
      },

      // Create a new model with identical attributes to this one.
      clone: function () {
        return new this.constructor(this.attributes);
      },

      // A model is new if it has never been saved to the server, and lacks an id.
      isNew: function () {
        return !this.has(this.idAttribute);
      },

      // Check if the model is currently in a valid state.
      isValid: function (options) {
        return this._validate({}, _.extend({}, options, { validate: true }));
      },

      // Run validation against the next complete set of model attributes,
      // returning `true` if all is well. Otherwise, fire an `"invalid"` event.
      _validate: function (attrs, options) {
        if (!options.validate || !this.validate) return true;
        attrs = _.extend({}, this.attributes, attrs);
        var error = this.validationError = this.validate(attrs, options) || null;
        if (!error) return true;
        this.trigger('invalid', this, error, _.extend(options, { validationError: error }));
        return false;
      }

    });

    // Underscore methods that we want to implement on the Model, mapped to the
    // number of arguments they take.
    var modelMethods = { keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,
      omit: 0, chain: 1, isEmpty: 1 };

    // Mix in each Underscore method as a proxy to `Model#attributes`.
    addUnderscoreMethods(Model, modelMethods, 'attributes');

    // Backbone.Collection
    // -------------------

    // If models tend to represent a single row of data, a Backbone Collection is
    // more analogous to a table full of data ... or a small slice or page of that
    // table, or a collection of rows that belong together for a particular reason
    // -- all of the messages in this particular folder, all of the documents
    // belonging to this particular author, and so on. Collections maintain
    // indexes of their models, both in order, and for lookup by `id`.

    // Create a new **Collection**, perhaps to contain a specific type of `model`.
    // If a `comparator` is specified, the Collection will maintain
    // its models in sort order, as they're added and removed.
    var Collection = Backbone.Collection = function (models, options) {
      options || (options = {});
      if (options.model) this.model = options.model;
      if (options.comparator !== void 0) this.comparator = options.comparator;
      this._reset();
      this.initialize.apply(this, arguments);
      if (models) this.reset(models, _.extend({ silent: true }, options));
    };

    // Default options for `Collection#set`.
    var setOptions = { add: true, remove: true, merge: true };
    var addOptions = { add: true, remove: false };

    // Splices `insert` into `array` at index `at`.
    var splice = function (array, insert, at) {
      at = Math.min(Math.max(at, 0), array.length);
      var tail = Array(array.length - at);
      var length = insert.length;
      var i;
      for (i = 0; i < tail.length; i++) tail[i] = array[i + at];
      for (i = 0; i < length; i++) array[i + at] = insert[i];
      for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];
    };

    // Define the Collection's inheritable methods.
    _.extend(Collection.prototype, Events, {

      // The default model for a collection is just a **Backbone.Model**.
      // This should be overridden in most cases.
      model: Model,

      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function () {},

      // The JSON representation of a Collection is an array of the
      // models' attributes.
      toJSON: function (options) {
        return this.map(function (model) {
          return model.toJSON(options);
        });
      },

      // Proxy `Backbone.sync` by default.
      sync: function () {
        return Backbone.sync.apply(this, arguments);
      },

      // Add a model, or list of models to the set. `models` may be Backbone
      // Models or raw JavaScript objects to be converted to Models, or any
      // combination of the two.
      add: function (models, options) {
        return this.set(models, _.extend({ merge: false }, options, addOptions));
      },

      // Remove a model, or a list of models from the set.
      remove: function (models, options) {
        options = _.extend({}, options);
        var singular = !_.isArray(models);
        models = singular ? [models] : models.slice();
        var removed = this._removeModels(models, options);
        if (!options.silent && removed.length) {
          options.changes = { added: [], merged: [], removed: removed };
          this.trigger('update', this, options);
        }
        return singular ? removed[0] : removed;
      },

      // Update a collection by `set`-ing a new list of models, adding new ones,
      // removing models that are no longer present, and merging models that
      // already exist in the collection, as necessary. Similar to **Model#set**,
      // the core operation for updating the data contained by the collection.
      set: function (models, options) {
        if (models == null) return;

        options = _.extend({}, setOptions, options);
        if (options.parse && !this._isModel(models)) {
          models = this.parse(models, options) || [];
        }

        var singular = !_.isArray(models);
        models = singular ? [models] : models.slice();

        var at = options.at;
        if (at != null) at = +at;
        if (at > this.length) at = this.length;
        if (at < 0) at += this.length + 1;

        var set = [];
        var toAdd = [];
        var toMerge = [];
        var toRemove = [];
        var modelMap = {};

        var add = options.add;
        var merge = options.merge;
        var remove = options.remove;

        var sort = false;
        var sortable = this.comparator && at == null && options.sort !== false;
        var sortAttr = _.isString(this.comparator) ? this.comparator : null;

        // Turn bare objects into model references, and prevent invalid models
        // from being added.
        var model, i;
        for (i = 0; i < models.length; i++) {
          model = models[i];

          // If a duplicate is found, prevent it from being added and
          // optionally merge it into the existing model.
          var existing = this.get(model);
          if (existing) {
            if (merge && model !== existing) {
              var attrs = this._isModel(model) ? model.attributes : model;
              if (options.parse) attrs = existing.parse(attrs, options);
              existing.set(attrs, options);
              toMerge.push(existing);
              if (sortable && !sort) sort = existing.hasChanged(sortAttr);
            }
            if (!modelMap[existing.cid]) {
              modelMap[existing.cid] = true;
              set.push(existing);
            }
            models[i] = existing;

            // If this is a new, valid model, push it to the `toAdd` list.
          } else if (add) {
            model = models[i] = this._prepareModel(model, options);
            if (model) {
              toAdd.push(model);
              this._addReference(model, options);
              modelMap[model.cid] = true;
              set.push(model);
            }
          }
        }

        // Remove stale models.
        if (remove) {
          for (i = 0; i < this.length; i++) {
            model = this.models[i];
            if (!modelMap[model.cid]) toRemove.push(model);
          }
          if (toRemove.length) this._removeModels(toRemove, options);
        }

        // See if sorting is needed, update `length` and splice in new models.
        var orderChanged = false;
        var replace = !sortable && add && remove;
        if (set.length && replace) {
          orderChanged = this.length !== set.length || _.some(this.models, function (m, index) {
            return m !== set[index];
          });
          this.models.length = 0;
          splice(this.models, set, 0);
          this.length = this.models.length;
        } else if (toAdd.length) {
          if (sortable) sort = true;
          splice(this.models, toAdd, at == null ? this.length : at);
          this.length = this.models.length;
        }

        // Silently sort the collection if appropriate.
        if (sort) this.sort({ silent: true });

        // Unless silenced, it's time to fire all appropriate add/sort/update events.
        if (!options.silent) {
          for (i = 0; i < toAdd.length; i++) {
            if (at != null) options.index = at + i;
            model = toAdd[i];
            model.trigger('add', model, this, options);
          }
          if (sort || orderChanged) this.trigger('sort', this, options);
          if (toAdd.length || toRemove.length || toMerge.length) {
            options.changes = {
              added: toAdd,
              removed: toRemove,
              merged: toMerge
            };
            this.trigger('update', this, options);
          }
        }

        // Return the added (or merged) model (or models).
        return singular ? models[0] : models;
      },

      // When you have more items than you want to add or remove individually,
      // you can reset the entire set with a new list of models, without firing
      // any granular `add` or `remove` events. Fires `reset` when finished.
      // Useful for bulk operations and optimizations.
      reset: function (models, options) {
        options = options ? _.clone(options) : {};
        for (var i = 0; i < this.models.length; i++) {
          this._removeReference(this.models[i], options);
        }
        options.previousModels = this.models;
        this._reset();
        models = this.add(models, _.extend({ silent: true }, options));
        if (!options.silent) this.trigger('reset', this, options);
        return models;
      },

      // Add a model to the end of the collection.
      push: function (model, options) {
        return this.add(model, _.extend({ at: this.length }, options));
      },

      // Remove a model from the end of the collection.
      pop: function (options) {
        var model = this.at(this.length - 1);
        return this.remove(model, options);
      },

      // Add a model to the beginning of the collection.
      unshift: function (model, options) {
        return this.add(model, _.extend({ at: 0 }, options));
      },

      // Remove a model from the beginning of the collection.
      shift: function (options) {
        var model = this.at(0);
        return this.remove(model, options);
      },

      // Slice out a sub-array of models from the collection.
      slice: function () {
        return slice.apply(this.models, arguments);
      },

      // Get a model from the set by id, cid, model object with id or cid
      // properties, or an attributes object that is transformed through modelId.
      get: function (obj) {
        if (obj == null) return void 0;
        return this._byId[obj] || this._byId[this.modelId(obj.attributes || obj)] || obj.cid && this._byId[obj.cid];
      },

      // Returns `true` if the model is in the collection.
      has: function (obj) {
        return this.get(obj) != null;
      },

      // Get the model at the given index.
      at: function (index) {
        if (index < 0) index += this.length;
        return this.models[index];
      },

      // Return models with matching attributes. Useful for simple cases of
      // `filter`.
      where: function (attrs, first) {
        return this[first ? 'find' : 'filter'](attrs);
      },

      // Return the first model with matching attributes. Useful for simple cases
      // of `find`.
      findWhere: function (attrs) {
        return this.where(attrs, true);
      },

      // Force the collection to re-sort itself. You don't need to call this under
      // normal circumstances, as the set will maintain sort order as each item
      // is added.
      sort: function (options) {
        var comparator = this.comparator;
        if (!comparator) throw new Error('Cannot sort a set without a comparator');
        options || (options = {});

        var length = comparator.length;
        if (_.isFunction(comparator)) comparator = _.bind(comparator, this);

        // Run sort based on type of `comparator`.
        if (length === 1 || _.isString(comparator)) {
          this.models = this.sortBy(comparator);
        } else {
          this.models.sort(comparator);
        }
        if (!options.silent) this.trigger('sort', this, options);
        return this;
      },

      // Pluck an attribute from each model in the collection.
      pluck: function (attr) {
        return this.map(attr + '');
      },

      // Fetch the default set of models for this collection, resetting the
      // collection when they arrive. If `reset: true` is passed, the response
      // data will be passed through the `reset` method instead of `set`.
      fetch: function (options) {
        options = _.extend({ parse: true }, options);
        var success = options.success;
        var collection = this;
        options.success = function (resp) {
          var method = options.reset ? 'reset' : 'set';
          collection[method](resp, options);
          if (success) success.call(options.context, collection, resp, options);
          collection.trigger('sync', collection, resp, options);
        };
        wrapError(this, options);
        return this.sync('read', this, options);
      },

      // Create a new instance of a model in this collection. Add the model to the
      // collection immediately, unless `wait: true` is passed, in which case we
      // wait for the server to agree.
      create: function (model, options) {
        options = options ? _.clone(options) : {};
        var wait = options.wait;
        model = this._prepareModel(model, options);
        if (!model) return false;
        if (!wait) this.add(model, options);
        var collection = this;
        var success = options.success;
        options.success = function (m, resp, callbackOpts) {
          if (wait) collection.add(m, callbackOpts);
          if (success) success.call(callbackOpts.context, m, resp, callbackOpts);
        };
        model.save(null, options);
        return model;
      },

      // **parse** converts a response into a list of models to be added to the
      // collection. The default implementation is just to pass it through.
      parse: function (resp, options) {
        return resp;
      },

      // Create a new collection with an identical list of models as this one.
      clone: function () {
        return new this.constructor(this.models, {
          model: this.model,
          comparator: this.comparator
        });
      },

      // Define how to uniquely identify models in the collection.
      modelId: function (attrs) {
        return attrs[this.model.prototype.idAttribute || 'id'];
      },

      // Private method to reset all internal state. Called when the collection
      // is first initialized or reset.
      _reset: function () {
        this.length = 0;
        this.models = [];
        this._byId = {};
      },

      // Prepare a hash of attributes (or other model) to be added to this
      // collection.
      _prepareModel: function (attrs, options) {
        if (this._isModel(attrs)) {
          if (!attrs.collection) attrs.collection = this;
          return attrs;
        }
        options = options ? _.clone(options) : {};
        options.collection = this;
        var model = new this.model(attrs, options);
        if (!model.validationError) return model;
        this.trigger('invalid', this, model.validationError, options);
        return false;
      },

      // Internal method called by both remove and set.
      _removeModels: function (models, options) {
        var removed = [];
        for (var i = 0; i < models.length; i++) {
          var model = this.get(models[i]);
          if (!model) continue;

          var index = this.indexOf(model);
          this.models.splice(index, 1);
          this.length--;

          // Remove references before triggering 'remove' event to prevent an
          // infinite loop. #3693
          delete this._byId[model.cid];
          var id = this.modelId(model.attributes);
          if (id != null) delete this._byId[id];

          if (!options.silent) {
            options.index = index;
            model.trigger('remove', model, this, options);
          }

          removed.push(model);
          this._removeReference(model, options);
        }
        return removed;
      },

      // Method for checking whether an object should be considered a model for
      // the purposes of adding to the collection.
      _isModel: function (model) {
        return model instanceof Model;
      },

      // Internal method to create a model's ties to a collection.
      _addReference: function (model, options) {
        this._byId[model.cid] = model;
        var id = this.modelId(model.attributes);
        if (id != null) this._byId[id] = model;
        model.on('all', this._onModelEvent, this);
      },

      // Internal method to sever a model's ties to a collection.
      _removeReference: function (model, options) {
        delete this._byId[model.cid];
        var id = this.modelId(model.attributes);
        if (id != null) delete this._byId[id];
        if (this === model.collection) delete model.collection;
        model.off('all', this._onModelEvent, this);
      },

      // Internal method called every time a model in the set fires an event.
      // Sets need to update their indexes when models change ids. All other
      // events simply proxy through. "add" and "remove" events that originate
      // in other collections are ignored.
      _onModelEvent: function (event, model, collection, options) {
        if (model) {
          if ((event === 'add' || event === 'remove') && collection !== this) return;
          if (event === 'destroy') this.remove(model, options);
          if (event === 'change') {
            var prevId = this.modelId(model.previousAttributes());
            var id = this.modelId(model.attributes);
            if (prevId !== id) {
              if (prevId != null) delete this._byId[prevId];
              if (id != null) this._byId[id] = model;
            }
          }
        }
        this.trigger.apply(this, arguments);
      }

    });

    // Underscore methods that we want to implement on the Collection.
    // 90% of the core usefulness of Backbone Collections is actually implemented
    // right here:
    var collectionMethods = { forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,
      foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,
      select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,
      contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,
      head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,
      without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,
      isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,
      sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3 };

    // Mix in each Underscore method as a proxy to `Collection#models`.
    addUnderscoreMethods(Collection, collectionMethods, 'models');

    // Backbone.View
    // -------------

    // Backbone Views are almost more convention than they are actual code. A View
    // is simply a JavaScript object that represents a logical chunk of UI in the
    // DOM. This might be a single item, an entire list, a sidebar or panel, or
    // even the surrounding frame which wraps your whole app. Defining a chunk of
    // UI as a **View** allows you to define your DOM events declaratively, without
    // having to worry about render order ... and makes it easy for the view to
    // react to specific changes in the state of your models.

    // Creating a Backbone.View creates its initial element outside of the DOM,
    // if an existing element is not provided...
    var View = Backbone.View = function (options) {
      this.cid = _.uniqueId('view');
      _.extend(this, _.pick(options, viewOptions));
      this._ensureElement();
      this.initialize.apply(this, arguments);
    };

    // Cached regex to split keys for `delegate`.
    var delegateEventSplitter = /^(\S+)\s*(.*)$/;

    // List of view options to be set as properties.
    var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];

    // Set up all inheritable **Backbone.View** properties and methods.
    _.extend(View.prototype, Events, {

      // The default `tagName` of a View's element is `"div"`.
      tagName: 'div',

      // jQuery delegate for element lookup, scoped to DOM elements within the
      // current view. This should be preferred to global lookups where possible.
      $: function (selector) {
        return this.$el.find(selector);
      },

      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function () {},

      // **render** is the core function that your view should override, in order
      // to populate its element (`this.el`), with the appropriate HTML. The
      // convention is for **render** to always return `this`.
      render: function () {
        return this;
      },

      // Remove this view by taking the element out of the DOM, and removing any
      // applicable Backbone.Events listeners.
      remove: function () {
        this._removeElement();
        this.stopListening();
        return this;
      },

      // Remove this view's element from the document and all event listeners
      // attached to it. Exposed for subclasses using an alternative DOM
      // manipulation API.
      _removeElement: function () {
        this.$el.remove();
      },

      // Change the view's element (`this.el` property) and re-delegate the
      // view's events on the new element.
      setElement: function (element) {
        this.undelegateEvents();
        this._setElement(element);
        this.delegateEvents();
        return this;
      },

      // Creates the `this.el` and `this.$el` references for this view using the
      // given `el`. `el` can be a CSS selector or an HTML string, a jQuery
      // context or an element. Subclasses can override this to utilize an
      // alternative DOM manipulation API and are only required to set the
      // `this.el` property.
      _setElement: function (el) {
        this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);
        this.el = this.$el[0];
      },

      // Set callbacks, where `this.events` is a hash of
      //
      // *{"event selector": "callback"}*
      //
      //     {
      //       'mousedown .title':  'edit',
      //       'click .button':     'save',
      //       'click .open':       function(e) { ... }
      //     }
      //
      // pairs. Callbacks will be bound to the view, with `this` set properly.
      // Uses event delegation for efficiency.
      // Omitting the selector binds the event to `this.el`.
      delegateEvents: function (events) {
        events || (events = _.result(this, 'events'));
        if (!events) return this;
        this.undelegateEvents();
        for (var key in events) {
          var method = events[key];
          if (!_.isFunction(method)) method = this[method];
          if (!method) continue;
          var match = key.match(delegateEventSplitter);
          this.delegate(match[1], match[2], _.bind(method, this));
        }
        return this;
      },

      // Add a single event listener to the view's element (or a child element
      // using `selector`). This only works for delegate-able events: not `focus`,
      // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.
      delegate: function (eventName, selector, listener) {
        this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);
        return this;
      },

      // Clears all callbacks previously bound to the view by `delegateEvents`.
      // You usually don't need to use this, but may wish to if you have multiple
      // Backbone views attached to the same DOM element.
      undelegateEvents: function () {
        if (this.$el) this.$el.off('.delegateEvents' + this.cid);
        return this;
      },

      // A finer-grained `undelegateEvents` for removing a single delegated event.
      // `selector` and `listener` are both optional.
      undelegate: function (eventName, selector, listener) {
        this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);
        return this;
      },

      // Produces a DOM element to be assigned to your view. Exposed for
      // subclasses using an alternative DOM manipulation API.
      _createElement: function (tagName) {
        return document.createElement(tagName);
      },

      // Ensure that the View has a DOM element to render into.
      // If `this.el` is a string, pass it through `$()`, take the first
      // matching element, and re-assign it to `el`. Otherwise, create
      // an element from the `id`, `className` and `tagName` properties.
      _ensureElement: function () {
        if (!this.el) {
          var attrs = _.extend({}, _.result(this, 'attributes'));
          if (this.id) attrs.id = _.result(this, 'id');
          if (this.className) attrs['class'] = _.result(this, 'className');
          this.setElement(this._createElement(_.result(this, 'tagName')));
          this._setAttributes(attrs);
        } else {
          this.setElement(_.result(this, 'el'));
        }
      },

      // Set attributes from a hash on this view's element.  Exposed for
      // subclasses using an alternative DOM manipulation API.
      _setAttributes: function (attributes) {
        this.$el.attr(attributes);
      }

    });

    // Backbone.sync
    // -------------

    // Override this function to change the manner in which Backbone persists
    // models to the server. You will be passed the type of request, and the
    // model in question. By default, makes a RESTful Ajax request
    // to the model's `url()`. Some possible customizations could be:
    //
    // * Use `setTimeout` to batch rapid-fire updates into a single request.
    // * Send up the models as XML instead of JSON.
    // * Persist models via WebSockets instead of Ajax.
    //
    // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests
    // as `POST`, with a `_method` parameter containing the true HTTP method,
    // as well as all requests with the body as `application/x-www-form-urlencoded`
    // instead of `application/json` with the model in a param named `model`.
    // Useful when interfacing with server-side languages like **PHP** that make
    // it difficult to read the body of `PUT` requests.
    Backbone.sync = function (method, model, options) {
      var type = methodMap[method];

      // Default options, unless specified.
      _.defaults(options || (options = {}), {
        emulateHTTP: Backbone.emulateHTTP,
        emulateJSON: Backbone.emulateJSON
      });

      // Default JSON-request options.
      var params = { type: type, dataType: 'json' };

      // Ensure that we have a URL.
      if (!options.url) {
        params.url = _.result(model, 'url') || urlError();
      }

      // Ensure that we have the appropriate request data.
      if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {
        params.contentType = 'application/json';
        params.data = JSON.stringify(options.attrs || model.toJSON(options));
      }

      // For older servers, emulate JSON by encoding the request into an HTML-form.
      if (options.emulateJSON) {
        params.contentType = 'application/x-www-form-urlencoded';
        params.data = params.data ? { model: params.data } : {};
      }

      // For older servers, emulate HTTP by mimicking the HTTP method with `_method`
      // And an `X-HTTP-Method-Override` header.
      if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {
        params.type = 'POST';
        if (options.emulateJSON) params.data._method = type;
        var beforeSend = options.beforeSend;
        options.beforeSend = function (xhr) {
          xhr.setRequestHeader('X-HTTP-Method-Override', type);
          if (beforeSend) return beforeSend.apply(this, arguments);
        };
      }

      // Don't process data on a non-GET request.
      if (params.type !== 'GET' && !options.emulateJSON) {
        params.processData = false;
      }

      // Pass along `textStatus` and `errorThrown` from jQuery.
      var error = options.error;
      options.error = function (xhr, textStatus, errorThrown) {
        options.textStatus = textStatus;
        options.errorThrown = errorThrown;
        if (error) error.call(options.context, xhr, textStatus, errorThrown);
      };

      // Make the request, allowing the user to override any Ajax options.
      var xhr = options.xhr = Backbone.ajax(_.extend(params, options));
      model.trigger('request', model, xhr, options);
      return xhr;
    };

    // Map from CRUD to HTTP for our default `Backbone.sync` implementation.
    var methodMap = {
      'create': 'POST',
      'update': 'PUT',
      'patch': 'PATCH',
      'delete': 'DELETE',
      'read': 'GET'
    };

    // Set the default implementation of `Backbone.ajax` to proxy through to `$`.
    // Override this if you'd like to use a different library.
    Backbone.ajax = function () {
      return Backbone.$.ajax.apply(Backbone.$, arguments);
    };

    // Backbone.Router
    // ---------------

    // Routers map faux-URLs to actions, and fire events when routes are
    // matched. Creating a new one sets its `routes` hash, if not set statically.
    var Router = Backbone.Router = function (options) {
      options || (options = {});
      if (options.routes) this.routes = options.routes;
      this._bindRoutes();
      this.initialize.apply(this, arguments);
    };

    // Cached regular expressions for matching named param parts and splatted
    // parts of route strings.
    var optionalParam = /\((.*?)\)/g;
    var namedParam = /(\(\?)?:\w+/g;
    var splatParam = /\*\w+/g;
    var escapeRegExp = /[\-{}\[\]+?.,\\\^$|#\s]/g;

    // Set up all inheritable **Backbone.Router** properties and methods.
    _.extend(Router.prototype, Events, {

      // Initialize is an empty function by default. Override it with your own
      // initialization logic.
      initialize: function () {},

      // Manually bind a single named route to a callback. For example:
      //
      //     this.route('search/:query/p:num', 'search', function(query, num) {
      //       ...
      //     });
      //
      route: function (route, name, callback) {
        if (!_.isRegExp(route)) route = this._routeToRegExp(route);
        if (_.isFunction(name)) {
          callback = name;
          name = '';
        }
        if (!callback) callback = this[name];
        var router = this;
        Backbone.history.route(route, function (fragment) {
          var args = router._extractParameters(route, fragment);
          if (router.execute(callback, args, name) !== false) {
            router.trigger.apply(router, ['route:' + name].concat(args));
            router.trigger('route', name, args);
            Backbone.history.trigger('route', router, name, args);
          }
        });
        return this;
      },

      // Execute a route handler with the provided parameters.  This is an
      // excellent place to do pre-route setup or post-route cleanup.
      execute: function (callback, args, name) {
        if (callback) callback.apply(this, args);
      },

      // Simple proxy to `Backbone.history` to save a fragment into the history.
      navigate: function (fragment, options) {
        Backbone.history.navigate(fragment, options);
        return this;
      },

      // Bind all defined routes to `Backbone.history`. We have to reverse the
      // order of the routes here to support behavior where the most general
      // routes can be defined at the bottom of the route map.
      _bindRoutes: function () {
        if (!this.routes) return;
        this.routes = _.result(this, 'routes');
        var route,
            routes = _.keys(this.routes);
        while ((route = routes.pop()) != null) {
          this.route(route, this.routes[route]);
        }
      },

      // Convert a route string into a regular expression, suitable for matching
      // against the current location hash.
      _routeToRegExp: function (route) {
        route = route.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function (match, optional) {
          return optional ? match : '([^/?]+)';
        }).replace(splatParam, '([^?]*?)');
        return new RegExp('^' + route + '(?:\\?([\\s\\S]*))?$');
      },

      // Given a route, and a URL fragment that it matches, return the array of
      // extracted decoded parameters. Empty or unmatched parameters will be
      // treated as `null` to normalize cross-browser behavior.
      _extractParameters: function (route, fragment) {
        var params = route.exec(fragment).slice(1);
        return _.map(params, function (param, i) {
          // Don't decode the search params.
          if (i === params.length - 1) return param || null;
          return param ? decodeURIComponent(param) : null;
        });
      }

    });

    // Backbone.History
    // ----------------

    // Handles cross-browser history management, based on either
    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or
    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)
    // and URL fragments. If the browser supports neither (old IE, natch),
    // falls back to polling.
    var History = Backbone.History = function () {
      this.handlers = [];
      this.checkUrl = _.bind(this.checkUrl, this);

      // Ensure that `History` can be used outside of the browser.
      if (typeof window !== 'undefined') {
        this.location = window.location;
        this.history = window.history;
      }
    };

    // Cached regex for stripping a leading hash/slash and trailing space.
    var routeStripper = /^[#\/]|\s+$/g;

    // Cached regex for stripping leading and trailing slashes.
    var rootStripper = /^\/+|\/+$/g;

    // Cached regex for stripping urls of hash.
    var pathStripper = /#.*$/;

    // Has the history handling already been started?
    History.started = false;

    // Set up all inheritable **Backbone.History** properties and methods.
    _.extend(History.prototype, Events, {

      // The default interval to poll for hash changes, if necessary, is
      // twenty times a second.
      interval: 50,

      // Are we at the app root?
      atRoot: function () {
        var path = this.location.pathname.replace(/[^\/]$/, '$&/');
        return path === this.root && !this.getSearch();
      },

      // Does the pathname match the root?
      matchRoot: function () {
        var path = this.decodeFragment(this.location.pathname);
        var rootPath = path.slice(0, this.root.length - 1) + '/';
        return rootPath === this.root;
      },

      // Unicode characters in `location.pathname` are percent encoded so they're
      // decoded for comparison. `%25` should not be decoded since it may be part
      // of an encoded parameter.
      decodeFragment: function (fragment) {
        return decodeURI(fragment.replace(/%25/g, '%2525'));
      },

      // In IE6, the hash fragment and search params are incorrect if the
      // fragment contains `?`.
      getSearch: function () {
        var match = this.location.href.replace(/#.*/, '').match(/\?.+/);
        return match ? match[0] : '';
      },

      // Gets the true hash value. Cannot use location.hash directly due to bug
      // in Firefox where location.hash will always be decoded.
      getHash: function (window) {
        var match = (window || this).location.href.match(/#(.*)$/);
        return match ? match[1] : '';
      },

      // Get the pathname and search params, without the root.
      getPath: function () {
        var path = this.decodeFragment(this.location.pathname + this.getSearch()).slice(this.root.length - 1);
        return path.charAt(0) === '/' ? path.slice(1) : path;
      },

      // Get the cross-browser normalized URL fragment from the path or hash.
      getFragment: function (fragment) {
        if (fragment == null) {
          if (this._usePushState || !this._wantsHashChange) {
            fragment = this.getPath();
          } else {
            fragment = this.getHash();
          }
        }
        return fragment.replace(routeStripper, '');
      },

      // Start the hash change handling, returning `true` if the current URL matches
      // an existing route, and `false` otherwise.
      start: function (options) {
        if (History.started) throw new Error('Backbone.history has already been started');
        History.started = true;

        // Figure out the initial configuration. Do we need an iframe?
        // Is pushState desired ... is it available?
        this.options = _.extend({ root: '/' }, this.options, options);
        this.root = this.options.root;
        this._wantsHashChange = this.options.hashChange !== false;
        this._hasHashChange = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);
        this._useHashChange = this._wantsHashChange && this._hasHashChange;
        this._wantsPushState = !!this.options.pushState;
        this._hasPushState = !!(this.history && this.history.pushState);
        this._usePushState = this._wantsPushState && this._hasPushState;
        this.fragment = this.getFragment();

        // Normalize root to always include a leading and trailing slash.
        this.root = ('/' + this.root + '/').replace(rootStripper, '/');

        // Transition from hashChange to pushState or vice versa if both are
        // requested.
        if (this._wantsHashChange && this._wantsPushState) {

          // If we've started off with a route from a `pushState`-enabled
          // browser, but we're currently in a browser that doesn't support it...
          if (!this._hasPushState && !this.atRoot()) {
            var rootPath = this.root.slice(0, -1) || '/';
            this.location.replace(rootPath + '#' + this.getPath());
            // Return immediately as browser will do redirect to new url
            return true;

            // Or if we've started out with a hash-based route, but we're currently
            // in a browser where it could be `pushState`-based instead...
          } else if (this._hasPushState && this.atRoot()) {
            this.navigate(this.getHash(), { replace: true });
          }
        }

        // Proxy an iframe to handle location events if the browser doesn't
        // support the `hashchange` event, HTML5 history, or the user wants
        // `hashChange` but not `pushState`.
        if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {
          this.iframe = document.createElement('iframe');
          this.iframe.src = 'javascript:0';
          this.iframe.style.display = 'none';
          this.iframe.tabIndex = -1;
          var body = document.body;
          // Using `appendChild` will throw on IE < 9 if the document is not ready.
          var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;
          iWindow.document.open();
          iWindow.document.close();
          iWindow.location.hash = '#' + this.fragment;
        }

        // Add a cross-platform `addEventListener` shim for older browsers.
        var addEventListener = window.addEventListener || function (eventName, listener) {
          return attachEvent('on' + eventName, listener);
        };

        // Depending on whether we're using pushState or hashes, and whether
        // 'onhashchange' is supported, determine how we check the URL state.
        if (this._usePushState) {
          addEventListener('popstate', this.checkUrl, false);
        } else if (this._useHashChange && !this.iframe) {
          addEventListener('hashchange', this.checkUrl, false);
        } else if (this._wantsHashChange) {
          this._checkUrlInterval = setInterval(this.checkUrl, this.interval);
        }

        if (!this.options.silent) return this.loadUrl();
      },

      // Disable Backbone.history, perhaps temporarily. Not useful in a real app,
      // but possibly useful for unit testing Routers.
      stop: function () {
        // Add a cross-platform `removeEventListener` shim for older browsers.
        var removeEventListener = window.removeEventListener || function (eventName, listener) {
          return detachEvent('on' + eventName, listener);
        };

        // Remove window listeners.
        if (this._usePushState) {
          removeEventListener('popstate', this.checkUrl, false);
        } else if (this._useHashChange && !this.iframe) {
          removeEventListener('hashchange', this.checkUrl, false);
        }

        // Clean up the iframe if necessary.
        if (this.iframe) {
          document.body.removeChild(this.iframe);
          this.iframe = null;
        }

        // Some environments will throw when clearing an undefined interval.
        if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);
        History.started = false;
      },

      // Add a route to be tested when the fragment changes. Routes added later
      // may override previous routes.
      route: function (route, callback) {
        this.handlers.unshift({ route: route, callback: callback });
      },

      // Checks the current URL to see if it has changed, and if it has,
      // calls `loadUrl`, normalizing across the hidden iframe.
      checkUrl: function (e) {
        var current = this.getFragment();

        // If the user pressed the back button, the iframe's hash will have
        // changed and we should use that for comparison.
        if (current === this.fragment && this.iframe) {
          current = this.getHash(this.iframe.contentWindow);
        }

        if (current === this.fragment) return false;
        if (this.iframe) this.navigate(current);
        this.loadUrl();
      },

      // Attempt to load the current URL fragment. If a route succeeds with a
      // match, returns `true`. If no defined routes matches the fragment,
      // returns `false`.
      loadUrl: function (fragment) {
        // If the root doesn't match, no routes can match either.
        if (!this.matchRoot()) return false;
        fragment = this.fragment = this.getFragment(fragment);
        return _.some(this.handlers, function (handler) {
          if (handler.route.test(fragment)) {
            handler.callback(fragment);
            return true;
          }
        });
      },

      // Save a fragment into the hash history, or replace the URL state if the
      // 'replace' option is passed. You are responsible for properly URL-encoding
      // the fragment in advance.
      //
      // The options object can contain `trigger: true` if you wish to have the
      // route callback be fired (not usually desirable), or `replace: true`, if
      // you wish to modify the current URL without adding an entry to the history.
      navigate: function (fragment, options) {
        if (!History.started) return false;
        if (!options || options === true) options = { trigger: !!options };

        // Normalize the fragment.
        fragment = this.getFragment(fragment || '');

        // Don't include a trailing slash on the root.
        var rootPath = this.root;
        if (fragment === '' || fragment.charAt(0) === '?') {
          rootPath = rootPath.slice(0, -1) || '/';
        }
        var url = rootPath + fragment;

        // Strip the hash and decode for matching.
        fragment = this.decodeFragment(fragment.replace(pathStripper, ''));

        if (this.fragment === fragment) return;
        this.fragment = fragment;

        // If pushState is available, we use it to set the fragment as a real URL.
        if (this._usePushState) {
          this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);

          // If hash changes haven't been explicitly disabled, update the hash
          // fragment to store history.
        } else if (this._wantsHashChange) {
          this._updateHash(this.location, fragment, options.replace);
          if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {
            var iWindow = this.iframe.contentWindow;

            // Opening and closing the iframe tricks IE7 and earlier to push a
            // history entry on hash-tag change.  When replace is true, we don't
            // want this.
            if (!options.replace) {
              iWindow.document.open();
              iWindow.document.close();
            }

            this._updateHash(iWindow.location, fragment, options.replace);
          }

          // If you've told us that you explicitly don't want fallback hashchange-
          // based history, then `navigate` becomes a page refresh.
        } else {
          return this.location.assign(url);
        }
        if (options.trigger) return this.loadUrl(fragment);
      },

      // Update the hash location, either replacing the current entry, or adding
      // a new one to the browser history.
      _updateHash: function (location, fragment, replace) {
        if (replace) {
          var href = location.href.replace(/(javascript:|#).*$/, '');
          location.replace(href + '#' + fragment);
        } else {
          // Some browsers require that `hash` contains a leading #.
          location.hash = '#' + fragment;
        }
      }

    });

    // Create the default Backbone.history.
    Backbone.history = new History();

    // Helpers
    // -------

    // Helper function to correctly set up the prototype chain for subclasses.
    // Similar to `goog.inherits`, but uses a hash of prototype properties and
    // class properties to be extended.
    var extend = function (protoProps, staticProps) {
      var parent = this;
      var child;

      // The constructor function for the new subclass is either defined by you
      // (the "constructor" property in your `extend` definition), or defaulted
      // by us to simply call the parent constructor.
      if (protoProps && _.has(protoProps, 'constructor')) {
        child = protoProps.constructor;
      } else {
        child = function () {
          return parent.apply(this, arguments);
        };
      }

      // Add static properties to the constructor function, if supplied.
      _.extend(child, parent, staticProps);

      // Set the prototype chain to inherit from `parent`, without calling
      // `parent`'s constructor function and add the prototype properties.
      child.prototype = _.create(parent.prototype, protoProps);
      child.prototype.constructor = child;

      // Set a convenience property in case the parent's prototype is needed
      // later.
      child.__super__ = parent.prototype;

      return child;
    };

    // Set up inheritance for the model, collection, router, view and history.
    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;

    // Throw an error when a URL is needed, and none is supplied.
    var urlError = function () {
      throw new Error('A "url" property or function must be specified');
    };

    // Wrap an optional error callback with a fallback error event.
    var wrapError = function (model, options) {
      var error = options.error;
      options.error = function (resp) {
        if (error) error.call(options.context, model, resp, options);
        model.trigger('error', model, resp, options);
      };
    };

    return Backbone;
  });
  return module.exports;
});
System.registerDynamic("github:marionettejs/backbone.radio@1.0.5.json", [], false, function() {
  return {
    "main": "build/backbone.radio.js"
  };
});

(function() {
var define = System.amdDefine;
(function(global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('backbone')) : typeof define === 'function' && define.amd ? define("github:marionettejs/backbone.radio@1.0.5/build/backbone.radio.js", ["underscore", "backbone"], factory) : (global.Backbone = global.Backbone || {}, global.Backbone.Radio = factory(global._, global.Backbone));
}(this, function(_, Backbone) {
  'use strict';
  _ = 'default' in _ ? _['default'] : _;
  Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;
  var babelHelpers = {};
  babelHelpers.typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
    return typeof obj;
  } : function(obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj;
  };
  babelHelpers;
  var previousRadio = Backbone.Radio;
  var Radio = Backbone.Radio = {};
  Radio.VERSION = '1.0.4';
  Radio.noConflict = function() {
    Backbone.Radio = previousRadio;
    return this;
  };
  Radio.DEBUG = false;
  Radio._debugText = function(warning, eventName, channelName) {
    return warning + (channelName ? ' on the ' + channelName + ' channel' : '') + ': "' + eventName + '"';
  };
  Radio.debugLog = function(warning, eventName, channelName) {
    if (Radio.DEBUG && console && console.warn) {
      console.warn(Radio._debugText(warning, eventName, channelName));
    }
  };
  var eventSplitter = /\s+/;
  Radio._eventsApi = function(obj, action, name, rest) {
    if (!name) {
      return false;
    }
    var results = {};
    if ((typeof name === 'undefined' ? 'undefined' : babelHelpers.typeof(name)) === 'object') {
      for (var key in name) {
        var result = obj[action].apply(obj, [key, name[key]].concat(rest));
        eventSplitter.test(key) ? _.extend(results, result) : results[key] = result;
      }
      return results;
    }
    if (eventSplitter.test(name)) {
      var names = name.split(eventSplitter);
      for (var i = 0,
          l = names.length; i < l; i++) {
        results[names[i]] = obj[action].apply(obj, [names[i]].concat(rest));
      }
      return results;
    }
    return false;
  };
  Radio._callHandler = function(callback, context, args) {
    var a1 = args[0],
        a2 = args[1],
        a3 = args[2];
    switch (args.length) {
      case 0:
        return callback.call(context);
      case 1:
        return callback.call(context, a1);
      case 2:
        return callback.call(context, a1, a2);
      case 3:
        return callback.call(context, a1, a2, a3);
      default:
        return callback.apply(context, args);
    }
  };
  function removeHandler(store, name, callback, context) {
    var event = store[name];
    if ((!callback || callback === event.callback || callback === event.callback._callback) && (!context || context === event.context)) {
      delete store[name];
      return true;
    }
  }
  function removeHandlers(store, name, callback, context) {
    store || (store = {});
    var names = name ? [name] : _.keys(store);
    var matched = false;
    for (var i = 0,
        length = names.length; i < length; i++) {
      name = names[i];
      if (!store[name]) {
        continue;
      }
      if (removeHandler(store, name, callback, context)) {
        matched = true;
      }
    }
    return matched;
  }
  var _logs = {};
  function _partial(channelName) {
    return _logs[channelName] || (_logs[channelName] = _.bind(Radio.log, Radio, channelName));
  }
  _.extend(Radio, {
    log: function log(channelName, eventName) {
      if (typeof console === 'undefined') {
        return;
      }
      var args = _.toArray(arguments).slice(2);
      console.log('[' + channelName + '] "' + eventName + '"', args);
    },
    tuneIn: function tuneIn(channelName) {
      var channel = Radio.channel(channelName);
      channel._tunedIn = true;
      channel.on('all', _partial(channelName));
      return this;
    },
    tuneOut: function tuneOut(channelName) {
      var channel = Radio.channel(channelName);
      channel._tunedIn = false;
      channel.off('all', _partial(channelName));
      delete _logs[channelName];
      return this;
    }
  });
  function makeCallback(callback) {
    return _.isFunction(callback) ? callback : function() {
      return callback;
    };
  }
  Radio.Requests = {
    request: function request(name) {
      var args = _.toArray(arguments).slice(1);
      var results = Radio._eventsApi(this, 'request', name, args);
      if (results) {
        return results;
      }
      var channelName = this.channelName;
      var requests = this._requests;
      if (channelName && this._tunedIn) {
        Radio.log.apply(this, [channelName, name].concat(args));
      }
      if (requests && (requests[name] || requests['default'])) {
        var handler = requests[name] || requests['default'];
        args = requests[name] ? args : arguments;
        return Radio._callHandler(handler.callback, handler.context, args);
      } else {
        Radio.debugLog('An unhandled request was fired', name, channelName);
      }
    },
    reply: function reply(name, callback, context) {
      if (Radio._eventsApi(this, 'reply', name, [callback, context])) {
        return this;
      }
      this._requests || (this._requests = {});
      if (this._requests[name]) {
        Radio.debugLog('A request was overwritten', name, this.channelName);
      }
      this._requests[name] = {
        callback: makeCallback(callback),
        context: context || this
      };
      return this;
    },
    replyOnce: function replyOnce(name, callback, context) {
      if (Radio._eventsApi(this, 'replyOnce', name, [callback, context])) {
        return this;
      }
      var self = this;
      var once = _.once(function() {
        self.stopReplying(name);
        return makeCallback(callback).apply(this, arguments);
      });
      return this.reply(name, once, context);
    },
    stopReplying: function stopReplying(name, callback, context) {
      if (Radio._eventsApi(this, 'stopReplying', name)) {
        return this;
      }
      if (!name && !callback && !context) {
        delete this._requests;
      } else if (!removeHandlers(this._requests, name, callback, context)) {
        Radio.debugLog('Attempted to remove the unregistered request', name, this.channelName);
      }
      return this;
    }
  };
  Radio._channels = {};
  Radio.channel = function(channelName) {
    if (!channelName) {
      throw new Error('You must provide a name for the channel.');
    }
    if (Radio._channels[channelName]) {
      return Radio._channels[channelName];
    } else {
      return Radio._channels[channelName] = new Radio.Channel(channelName);
    }
  };
  Radio.Channel = function(channelName) {
    this.channelName = channelName;
  };
  _.extend(Radio.Channel.prototype, Backbone.Events, Radio.Requests, {reset: function reset() {
      this.off();
      this.stopListening();
      this.stopReplying();
      return this;
    }});
  var channel;
  var args;
  var systems = [Backbone.Events, Radio.Requests];
  _.each(systems, function(system) {
    _.each(system, function(method, methodName) {
      Radio[methodName] = function(channelName) {
        args = _.toArray(arguments).slice(1);
        channel = this.channel(channelName);
        return channel[methodName].apply(channel, args);
      };
    });
  });
  Radio.reset = function(channelName) {
    var channels = !channelName ? this._channels : [this._channels[channelName]];
    _.each(channels, function(channel) {
      channel.reset();
    });
  };
  return Radio;
}));

})();
'use strict';

System.register('lib/common/models/baseUrlBaseModel.js', ['backbone', 'backbone.radio'], function (_export, _context) {
  "use strict";

  var Backbone, Radio, proto;
  return {
    setters: [function (_backbone) {
      Backbone = _backbone.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }],
    execute: function () {
      proto = Backbone.Relational.Model.prototype;

      _export('default', Backbone.Relational.Model.extend({
        //baseUrl: '/~belac/step-inventory/app_dev.php',
        baseUrl: '',
        fetch: function fetch(options) {
          var _this = this;

          Radio.channel('app').trigger('request:started');
          return proto.fetch.call(this, options).always(function () {
            Radio.channel('app').trigger('request:finished');
            if (_this.has('isSynced')) {
              _this.set('isSynced', true);
            }
          });
        },
        save: function save(options) {
          var _this2 = this;

          Radio.channel('app').trigger('request:started');
          return proto.save.call(this, options).always(function () {
            Radio.channel('app').trigger('request:finished');
            if (_this2.has('isSynced')) {
              _this2.set('isSynced', true);
            }
          });
        },
        getValueFromPath: function getValueFromPath(path) {
          var pathArray = path.split('.');
          var currentModel = this;
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = pathArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var pathPart = _step.value;

              currentModel = currentModel.get(pathPart);
              if (typeof currentModel === 'undefined') {
                throw 'Path part "' + pathPart + '" undefined!';
              }
              if (!Backbone.Relational.Model || !(currentModel instanceof Backbone.Relational.Model)) {
                break;
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          return currentModel;
        }
      }));
    }
  };
});
'use strict';

System.register('lib/inventory/models/unitTypePropertyValidValueModel.js', ['lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js'], function (_export, _context) {
  "use strict";

  var globalNamespace, BackboneRelational, BaseUrlBaseModel, Model;
  return {
    setters: [function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }],
    execute: function () {
      Model = BaseUrlBaseModel.extend({
        urlRoot: function urlRoot() {
          return this.baseUrl + '/unit_type_property_valid_value';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'unitTypeProperty',
          relatedModel: 'UnitTypePropertyModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'validValues',
            includeInJSON: ['id', 'integerValue', 'floatValue', 'booleanValue', 'stringValue']
          }
        }],
        defaults: {
          integerValue: null,
          floatValue: null,
          booleanValue: null,
          stringValue: null,
          unitTypeProperty: null
        }
      });


      globalNamespace.Models.UnitTypePropertyValidValueModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/inventory/models/unitTypePropertyModel.js', ['npm:systemjs-plugin-babel@0.0.13/babel-helpers/defineProperty.js', 'lib/globalNamespace.js', 'backbone.relational', 'lib/common/models/baseUrlBaseModel.js', './unitTypePropertyValidValueModel.js'], function (_export, _context) {
  "use strict";

  var _defineProperty, globalNamespace, BackboneRelational, BaseUrlBaseModel, _types, TYPE_INTEGER, TYPE_FLOAT, TYPE_BOOLEAN, TYPE_STRING, types, Model;

  return {
    setters: [function (_npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs) {
      _defineProperty = _npmSystemjsPluginBabel0013BabelHelpersDefinePropertyJs.default;
    }, function (_libGlobalNamespaceJs) {
      globalNamespace = _libGlobalNamespaceJs.default;
    }, function (_backboneRelational) {
      BackboneRelational = _backboneRelational.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_unitTypePropertyValidValueModelJs) {}],
    execute: function () {
      TYPE_INTEGER = 'integer';
      TYPE_FLOAT = 'float';
      TYPE_BOOLEAN = 'boolean';
      TYPE_STRING = 'string';
      types = (_types = {}, _defineProperty(_types, TYPE_INTEGER, 'Integer'), _defineProperty(_types, TYPE_STRING, 'String'), _defineProperty(_types, TYPE_BOOLEAN, 'Boolean'), _defineProperty(_types, TYPE_FLOAT, 'Float'), _types);
      Model = BaseUrlBaseModel.extend({
        TYPE_INTEGER: TYPE_INTEGER,
        TYPE_FLOAT: TYPE_FLOAT,
        TYPE_BOOLEAN: TYPE_BOOLEAN,
        TYPE_STRING: TYPE_STRING,
        types: types,
        urlRoot: function urlRoot() {
          return this.baseUrl + '/unit_type_property';
        },

        relations: [{
          type: BackboneRelational.HasOne,
          key: 'unitType',
          relatedModel: 'UnitTypeModel',
          includeInJSON: ['id'],
          reverseRelation: {
            key: 'properties',
            includeInJSON: ['id']
          }
        }],
        defaults: {
          propertyName: null,
          propertyType: null,
          isRequired: null,
          unitType: null,
          validValues: null
        }
      });


      globalNamespace.Models.UnitTypePropertyModel = Model;

      _export('default', Model);
    }
  };
});
'use strict';

System.register('lib/common/handlebarsHelpers/helpers.js', ['underscore', 'handlebars/handlebars.runtime.js', 'moment', 'backbone.radio', 'lib/common/models/baseUrlBaseModel.js', 'lib/inventory/models/travelerIdModel.js', 'lib/inventory/models/salesItemModel.js', 'lib/inventory/models/binSkuCountModel.js', 'lib/inventory/models/unitTypePropertyModel.js'], function (_export, _context) {
  "use strict";

  var _, Handlebars, Moment, Radio, BaseUrlBaseModel, TravelerIdModel, SalesItemModel, BinSkuCountModel, UnitTypePropertyModel, castAsType, lpad, getUnitPropertyInputHtml;

  return {
    setters: [function (_underscore) {
      _ = _underscore.default;
    }, function (_handlebarsHandlebarsRuntimeJs) {
      Handlebars = _handlebarsHandlebarsRuntimeJs.default;
    }, function (_moment) {
      Moment = _moment.default;
    }, function (_backboneRadio) {
      Radio = _backboneRadio.default;
    }, function (_libCommonModelsBaseUrlBaseModelJs) {
      BaseUrlBaseModel = _libCommonModelsBaseUrlBaseModelJs.default;
    }, function (_libInventoryModelsTravelerIdModelJs) {
      TravelerIdModel = _libInventoryModelsTravelerIdModelJs.default;
    }, function (_libInventoryModelsSalesItemModelJs) {
      SalesItemModel = _libInventoryModelsSalesItemModelJs.default;
    }, function (_libInventoryModelsBinSkuCountModelJs) {
      BinSkuCountModel = _libInventoryModelsBinSkuCountModelJs.default;
    }, function (_libInventoryModelsUnitTypePropertyModelJs) {
      UnitTypePropertyModel = _libInventoryModelsUnitTypePropertyModelJs.default;
    }],
    execute: function () {
      castAsType = function castAsType(value, type) {
        switch (type) {
          case 'integer':
            return parseInt(value);
          case 'boolean':
            var boolValue = value ? true : false;
            return boolValue;
          case 'string':
            return '' + value;
          default:
            return value;
        }
      };

      lpad = function lpad(str, width, fill) {
        fill = fill || '0';
        width = width || 6;
        str = str + '';
        return str.length >= width ? str : new Array(width - str.length + 1).join(fill) + str;
      };

      Handlebars.registerHelper('tableCell', function (column, data, options) {
        if (typeof column != "object" || typeof data != "object") {
          return;
        }
        var type = column.type.toLowerCase().replace(' ', '');
        var value = castAsType(data[column.name], type);
        if (typeof Handlebars.helpers[column.helper] === 'function') {
          var helperOptions = _.extend(options, column.helperOptions);
          return Handlebars.helpers[column.helper](value, helperOptions);
        }
        switch (type) {
          case 'integer':
            return new Handlebars.SafeString(parseInt(value));
          case 'boolean':
            return Handlebars.helpers.boolean(value, options);
          case 'percent':
            return Handlebars.helpers.percent(value, options);
          case 'datetime':
            return Handlebars.helpers.moment(value, options);
          default:
            return new Handlebars.SafeString(value);
        }
      });

      Handlebars.registerHelper('castAsType', function (value, type, options) {
        if (value.date) {
          type = 'datetime';
          value = Moment.parseZone(value.date + ' ' + value.timezone);
        }
        var castedValue = castAsType(value, type);
        switch (type) {
          case 'integer':
            return new Handlebars.SafeString(parseInt(castedValue));
          case 'boolean':
            return Handlebars.helpers.boolean(castedValue, options);
          case 'percent':
            return Handlebars.helpers.percent(castedValue, options);
          case 'datetime':
            return Handlebars.helpers.moment(castedValue, options);
          default:
            return new Handlebars.SafeString(castedValue);
        }
      });

      Handlebars.registerHelper('statusCode', function (data, options) {
        return data ? 'Enabled' : 'Disabled';
      });

      Handlebars.registerHelper('percent', function (data, options) {
        var value = Math.round(parseFloat(data) * 10000) / 100;
        return isNaN(value) ? '' : value + '%';
      });

      Handlebars.registerHelper('titleCase', function (str, options) {
        var newstr = (str + '').replace('_', ' ').split(' ');
        for (var i = 0; i < newstr.length; i++) {
          var copy = newstr[i].substring(1).toLowerCase();
          newstr[i] = newstr[i][0].toUpperCase() + copy;
        }
        newstr = newstr.join(" ");
        return newstr;
      });

      Handlebars.registerHelper('upperCase', function (str, options) {
        return (str + '').toUpperCase();
      });

      Handlebars.registerHelper('boolean', function (boolean, options) {
        return boolean ? 'Yes' : 'No';
      });

      Handlebars.registerHelper('moment', function (data, options) {
        var format = options.hash.format ? options.hash.format : 'h:mm A, ddd MMM D YYYY';
        return Moment(data).format(format);
      });

      Handlebars.registerHelper('log', function (data, options) {
        console.log(data);
        return '';
      });

      Handlebars.registerHelper('ifIsRouteActive', function (route, options) {
        route = route[0] == '/' ? route.slice(1) : route;
        var routeRegExp = new RegExp('^' + route + '(/\\d+)?$');
        var currentRoute = Radio.channel('app').request('currentRoute');
        if (routeRegExp.test(currentRoute)) {
          return options.fn(this);
        } else {
          return options.inverse(this);
        }
      });

      Handlebars.registerHelper('isGrantedRole', function (role, options) {
        var myself = Radio.channel('data').request('myself');
        return myself.isGrantedRole(role, myself) ? options.fn(this) : options.inverse(this);
      });

      Handlebars.registerHelper('isMyself', function (user, options) {
        var myself = Radio.channel('data').request('myself');
        return myself.id === user.id ? options.fn(this) : options.inverse(this);
      });

      Handlebars.registerHelper('concat', function (options) {
        var str = '';
        _.each(arguments, function (arg) {
          if (typeof arg === 'string') {
            str += arg;
          }
        });
        return str;
      });

      Handlebars.registerHelper('lpad', function (data, options) {
        return lpad(data, options.width, options.z);
      });

      Handlebars.registerHelper('truncate', function (data, options) {
        var maxLength = options.hash.maxLength ? parseInt(options.hash.maxLength) : 30;
        var str = '' + data;
        if (str.length > maxLength && maxLength > 3) {
          return str.substr(0, maxLength - 3) + '...';
        } else {
          return str.substr(0, maxLength);
        }
      });

      Handlebars.registerHelper('translate', function (term, dict, options) {
        return dict[term];
      });

      Handlebars.registerHelper('join', function (array, seperator, options) {
        if (typeof array === 'object' && array && array.join) {
          seperator = typeof seperator === 'string' ? seperator : ',';
          return array.join(seperator);
        } else {
          return '';
        }
      });

      Handlebars.registerHelper('return', function (fn, context) {
        var args = Array.from(arguments);
        args = args.slice(2);
        return typeof fn === 'function' ? fn.apply(context, args) : null;
      });

      Handlebars.registerHelper('barcodeHtml', function (data, options) {
        var barcodeValue = '';
        if (data instanceof TravelerIdModel || options.hash.type == 'TravelerIdModel') {
          barcodeValue = data.attributes ? data.attributes.label : data.label;
        } else if (data instanceof SalesItemModel || options.hash.type == 'SalesItemModel') {
          barcodeValue = data.attributes ? data.attributes.label : data.label;
        } else if (data instanceof BinSkuCountModel || options.hash.type == 'BinSkuCountModel') {
          barcodeValue = data.attributes ? data.attributes.sku.attributes.label : data.sku.attributes.label;
        } else {
          throw 'Must supply a Model or a option Type to barcodeHtml helper';
        }
        if (data instanceof TravelerIdModel || data instanceof SalesItemModel) {
          data = data.attributes;
        }
        var html = void 0;
        if (options.hash.isCard) {
          html = '<div data-ui-top-label><p class="has-text-centered">';
        } else {
          html = '<p class="has-text-centered" data-ui-top-label>';
        }
        if (data.sku) {
          if (data.sku.attributes.unit) {
            html += 'Unit: ' + data.sku.attributes.unit.attributes.serial;
          } else if (data.sku.attributes.part) {
            html += 'Part: ' + data.sku.attributes.part.attributes.name;
          } else if (data.sku.attributes.commodity) {
            html += 'Item: ' + data.sku.attributes.commodity.attributes.name;
          } else if (data.sku.attributes.unitType) {
            html += 'Type: ' + data.sku.attributes.unitType.attributes.name;
          }
        }
        html += '</p>';
        if (options.hash.isCard) {
          html += '</div>';
        }
        var svgClass = '';
        if (data.isVoid) {
          svgClass = 'si-is-void';
        }
        if (data.transform && !data.transform.attributes.isVoid) {
          svgClass += ' si-has-transform';
        }
        html += '<svg jsbarcode-value="' + barcodeValue + '" class="' + svgClass + '"></svg>';
        return new Handlebars.SafeString(html);
      });

      Handlebars.registerHelper('getAspectRatioClass', function (width, height, options) {
        var ratio = width / height;
        if (ratio < 1.3) {
          return 'is-1by1';
        } else if (ratio < 1.5) {
          return 'is-4by3';
        } else if (ratio < 1.7) {
          return 'is-3by2';
        } else if (ratio < 2.0) {
          return 'is-16by9';
        } else if (ratio < 2.5) {
          return 'is-2by1';
        } else {
          return '';
        }
      });

      Handlebars.registerHelper('baseUrl', function (options) {
        var str = BaseUrlBaseModel.prototype.baseUrl + '';
        _.each(arguments, function (arg) {
          if (typeof arg === 'string') {
            str += arg;
          }
        });
        return str;
      });

      Handlebars.registerHelper('ifCond', function (v1, operator, v2, options) {
        switch (operator) {
          case '==':
            return v1 == v2 ? options.fn(this) : options.inverse(this);
          case '===':
            return v1 === v2 ? options.fn(this) : options.inverse(this);
          case '<':
            return v1 < v2 ? options.fn(this) : options.inverse(this);
          case '<=':
            return v1 <= v2 ? options.fn(this) : options.inverse(this);
          case '>':
            return v1 > v2 ? options.fn(this) : options.inverse(this);
          case '>=':
            return v1 >= v2 ? options.fn(this) : options.inverse(this);
          case '&&':
            return v1 && v2 ? options.fn(this) : options.inverse(this);
          case '||':
            return v1 || v2 ? options.fn(this) : options.inverse(this);
          default:
            return options.inverse(this);
        }
      });

      Handlebars.registerHelper('renderUnitTypePropertyTypesOptions', function (options) {
        var _this = this;

        var html = '';
        _.each(UnitTypePropertyModel.prototype.types, function (label, value) {
          var selected = '';
          if (_this.propertyType === value) {
            selected = 'selected';
          }
          html += '<option ' + selected + ' value="' + value + '">' + label + '</option>';
        });
        return new Handlebars.SafeString(html);
      });

      getUnitPropertyInputHtml = function getUnitPropertyInputHtml(data, options) {
        var html = '';
        var value = null;
        var unitPropertyIdData = '';
        if (options.hash.useUnitPropertyId) {
          unitPropertyIdData = 'data-unit-property-id="' + data.id + '"';
        }
        if (data.unitTypeProperty.get('propertyType') === UnitTypePropertyModel.prototype.TYPE_INTEGER) {
          value = data.integerValue === null ? '' : data.integerValue + '';
          html = '<input ' + unitPropertyIdData + ' data-unit-type-property-id="' + data.unitTypeProperty.id + '" data-value-name="integerValue" type="number" value="' + value + '" step="1"/>';
        } else if (data.unitTypeProperty.get('propertyType') === UnitTypePropertyModel.prototype.TYPE_FLOAT) {
          value = data.floatValue === null ? '' : data.floatValue + '';
          html = '<input ' + unitPropertyIdData + ' data-unit-type-property-id="' + data.unitTypeProperty.id + '" data-value-name="floatValue" type="number" value="' + value + '" step=".01" />';
        } else if (data.unitTypeProperty.get('propertyType') === UnitTypePropertyModel.prototype.TYPE_BOOLEAN) {
          html = '<select ' + unitPropertyIdData + ' data-unit-type-property-id="' + data.unitTypeProperty.id + '" data-value-name="booleanValue" class="select">';
          if (data.booleanValue) {
            html += '<option value="0">False</option><option selected value="1">True</option>';
          } else {
            html = '<option selected value="0">False</option><option value="1">True</option>';
          }
          html += '</select>';
        } else {
          value = data.stringValue === null ? '' : data.stringValue + '';
          html = '<input ' + unitPropertyIdData + ' data-unit-type-property-id="' + data.unitTypeProperty.id + '" data-value-name="stringValue" type="text" value="' + value + '" />';
        }
        return html;
      };

      Handlebars.registerHelper('renderUnitTypePropertyValidValueInput', function (data, options) {
        return new Handlebars.SafeString(getUnitPropertyInputHtml(data, options));
      });

      Handlebars.registerHelper('renderUnitPropertyInput', function (data, options) {
        return new Handlebars.SafeString(getUnitPropertyInputHtml(data, options));
      });
    }
  };
});
"use strict";

System.register('lib/main.js', ['./globalNamespace', 'backbone.stickit', 'lib/shims/marionette.stickit.shim', 'lib/util.js', 'lib/app.js', 'lib/common/behaviors/behaviors.js', 'lib/common/handlebarsHelpers/helpers.js'], function (_export, _context) {
  "use strict";

  var util, App, app;
  return {
    setters: [function (_globalNamespace) {}, function (_backboneStickit) {}, function (_libShimsMarionetteStickitShim) {}, function (_libUtilJs) {
      util = _libUtilJs.default;
    }, function (_libAppJs) {
      App = _libAppJs.default;
    }, function (_libCommonBehaviorsBehaviorsJs) {}, function (_libCommonHandlebarsHelpersHelpersJs) {}],
    execute: function () {
      app = new App();

      app.start();
    }
  };
});
(function(c){if (typeof document == 'undefined') return; var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[a](d.createTextNode(c));})
("/*! jQuery UI - v1.12.1 - 2016-09-14\n* http://jqueryui.com\n* Includes: core.css, accordion.css, autocomplete.css, menu.css, button.css, controlgroup.css, checkboxradio.css, datepicker.css, dialog.css, draggable.css, resizable.css, progressbar.css, selectable.css, selectmenu.css, slider.css, sortable.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?ffDefault=Arial%2CHelvetica%2Csans-serif&fsDefault=1em&fwDefault=normal&cornerRadius=3px&bgColorHeader=e9e9e9&bgTextureHeader=flat&borderColorHeader=dddddd&fcHeader=333333&iconColorHeader=444444&bgColorContent=ffffff&bgTextureContent=flat&borderColorContent=dddddd&fcContent=333333&iconColorContent=444444&bgColorDefault=f6f6f6&bgTextureDefault=flat&borderColorDefault=c5c5c5&fcDefault=454545&iconColorDefault=777777&bgColorHover=ededed&bgTextureHover=flat&borderColorHover=cccccc&fcHover=2b2b2b&iconColorHover=555555&bgColorActive=007fff&bgTextureActive=flat&borderColorActive=003eff&fcActive=ffffff&iconColorActive=ffffff&bgColorHighlight=fffa90&bgTextureHighlight=flat&borderColorHighlight=dad55e&fcHighlight=777620&iconColorHighlight=777620&bgColorError=fddfdf&bgTextureError=flat&borderColorError=f1a899&fcError=5f3f3f&iconColorError=cc0000&bgColorOverlay=aaaaaa&bgTextureOverlay=flat&bgImgOpacityOverlay=0&opacityOverlay=30&bgColorShadow=666666&bgTextureShadow=flat&bgImgOpacityShadow=0&opacityShadow=30&thicknessShadow=5px&offsetTopShadow=0px&offsetLeftShadow=0px&cornerRadiusShadow=8px\n* Copyright jQuery Foundation and other contributors; Licensed MIT */.ui-helper-hidden{display:none}.ui-helper-hidden-accessible{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.ui-helper-reset{margin:0;padding:0;border:0;outline:0;line-height:1.3;text-decoration:none;font-size:100%;list-style:none}.ui-helper-clearfix:after,.ui-helper-clearfix:before{content:\"\";display:table;border-collapse:collapse}.ui-helper-clearfix:after{clear:both}.ui-helper-zfix{width:100%;height:100%;top:0;left:0;position:absolute;opacity:0;filter:Alpha(Opacity=0)}.ui-front{z-index:100}.ui-state-disabled{cursor:default!important;pointer-events:none}.ui-icon{display:inline-block;vertical-align:middle;margin-top:-.25em;position:relative;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat}.ui-widget-icon-block{left:50%;margin-left:-8px;display:block}.ui-widget-overlay{position:fixed;top:0;left:0;width:100%;height:100%}.ui-accordion .ui-accordion-header{display:block;cursor:pointer;position:relative;margin:2px 0 0;padding:.5em .5em .5em .7em;font-size:100%}.ui-accordion .ui-accordion-content{padding:1em 2.2em;border-top:0;overflow:auto}.ui-autocomplete{position:absolute;top:0;left:0;cursor:default}.ui-menu{list-style:none;padding:0;margin:0;display:block;outline:0}.ui-menu .ui-menu{position:absolute}.ui-menu .ui-menu-item{margin:0;cursor:pointer;list-style-image:url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\")}.ui-menu .ui-menu-item-wrapper{position:relative;padding:3px 1em 3px .4em}.ui-menu .ui-menu-divider{margin:5px 0;height:0;font-size:0;line-height:0;border-width:1px 0 0}.ui-menu .ui-state-active,.ui-menu .ui-state-focus{margin:-1px}.ui-menu-icons{position:relative}.ui-menu-icons .ui-menu-item-wrapper{padding-left:2em}.ui-menu .ui-icon{position:absolute;top:0;bottom:0;left:.2em;margin:auto 0}.ui-menu .ui-menu-icon{left:auto;right:0}.ui-button{padding:.4em 1em;display:inline-block;position:relative;line-height:normal;margin-right:.1em;cursor:pointer;vertical-align:middle;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:visible}.ui-button,.ui-button:active,.ui-button:hover,.ui-button:link,.ui-button:visited{text-decoration:none}.ui-button-icon-only{width:2em;box-sizing:border-box;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-button-icon-only{text-indent:0}.ui-button-icon-only .ui-icon{position:absolute;top:50%;left:50%;margin-top:-8px;margin-left:-8px}.ui-button.ui-icon-notext .ui-icon{padding:0;width:2.1em;height:2.1em;text-indent:-9999px;white-space:nowrap}input.ui-button.ui-icon-notext .ui-icon{width:auto;height:auto;text-indent:0;white-space:normal;padding:.4em 1em}button.ui-button::-moz-focus-inner,input.ui-button::-moz-focus-inner{border:0;padding:0}.ui-controlgroup{vertical-align:middle;display:inline-block}.ui-controlgroup>.ui-controlgroup-item{float:left;margin-left:0;margin-right:0}.ui-controlgroup>.ui-controlgroup-item.ui-visual-focus,.ui-controlgroup>.ui-controlgroup-item:focus{z-index:9999}.ui-controlgroup-vertical>.ui-controlgroup-item{display:block;float:none;width:100%;margin-top:0;margin-bottom:0;text-align:left}.ui-controlgroup-vertical .ui-controlgroup-item{box-sizing:border-box}.ui-controlgroup .ui-controlgroup-label{padding:.4em 1em}.ui-controlgroup .ui-controlgroup-label span{font-size:80%}.ui-controlgroup-horizontal .ui-controlgroup-label+.ui-controlgroup-item{border-left:none}.ui-controlgroup-vertical .ui-controlgroup-label+.ui-controlgroup-item{border-top:none}.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content{border-right:none}.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content{border-bottom:none}.ui-controlgroup-vertical .ui-spinner-input{width:75%;width:calc(100% - 2.4em)}.ui-controlgroup-vertical .ui-spinner .ui-spinner-up{border-top-style:solid}.ui-checkboxradio-label .ui-icon-background{box-shadow:inset 1px 1px 1px #ccc;border-radius:.12em;border:none}.ui-checkboxradio-radio-label .ui-icon-background{width:16px;height:16px;border-radius:1em;overflow:visible;border:none}.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon{background-image:none;width:8px;height:8px;border-width:4px;border-style:solid}.ui-checkboxradio-disabled{pointer-events:none}.ui-datepicker{width:17em;padding:.2em .2em 0;display:none}.ui-datepicker .ui-datepicker-header{position:relative;padding:.2em 0}.ui-datepicker .ui-datepicker-next,.ui-datepicker .ui-datepicker-prev{position:absolute;top:2px;width:1.8em;height:1.8em}.ui-datepicker .ui-datepicker-next-hover,.ui-datepicker .ui-datepicker-prev-hover{top:1px}.ui-datepicker .ui-datepicker-prev{left:2px}.ui-datepicker .ui-datepicker-next{right:2px}.ui-datepicker .ui-datepicker-prev-hover{left:1px}.ui-datepicker .ui-datepicker-next-hover{right:1px}.ui-datepicker .ui-datepicker-next span,.ui-datepicker .ui-datepicker-prev span{display:block;position:absolute;left:50%;margin-left:-8px;top:50%;margin-top:-8px}.ui-datepicker .ui-datepicker-title{margin:0 2.3em;line-height:1.8em;text-align:center}.ui-datepicker .ui-datepicker-title select{font-size:1em;margin:1px 0}.ui-datepicker select.ui-datepicker-month,.ui-datepicker select.ui-datepicker-year{width:45%}.ui-datepicker table{width:100%;font-size:.9em;border-collapse:collapse;margin:0 0 .4em}.ui-datepicker th{padding:.7em .3em;text-align:center;font-weight:700;border:0}.ui-datepicker td{border:0;padding:1px}.ui-datepicker td a,.ui-datepicker td span{display:block;padding:.2em;text-align:right;text-decoration:none}.ui-datepicker .ui-datepicker-buttonpane{background-image:none;margin:.7em 0 0;padding:0 .2em;border-left:0;border-right:0;border-bottom:0}.ui-datepicker .ui-datepicker-buttonpane button{float:right;margin:.5em .2em .4em;cursor:pointer;padding:.2em .6em .3em;width:auto;overflow:visible}.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current{float:left}.ui-datepicker.ui-datepicker-multi{width:auto}.ui-datepicker-multi .ui-datepicker-group{float:left}.ui-datepicker-multi .ui-datepicker-group table{width:95%;margin:0 auto .4em}.ui-datepicker-multi-2 .ui-datepicker-group{width:50%}.ui-datepicker-multi-3 .ui-datepicker-group{width:33.3%}.ui-datepicker-multi-4 .ui-datepicker-group{width:25%}.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header{border-left-width:0}.ui-datepicker-multi .ui-datepicker-buttonpane{clear:left}.ui-datepicker-row-break{clear:both;width:100%;font-size:0}.ui-datepicker-rtl{direction:rtl}.ui-datepicker-rtl .ui-datepicker-prev{right:2px;left:auto}.ui-datepicker-rtl .ui-datepicker-next{left:2px;right:auto}.ui-datepicker-rtl .ui-datepicker-prev:hover{right:1px;left:auto}.ui-datepicker-rtl .ui-datepicker-next:hover{left:1px;right:auto}.ui-datepicker-rtl .ui-datepicker-buttonpane{clear:right}.ui-datepicker-rtl .ui-datepicker-buttonpane button{float:left}.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,.ui-datepicker-rtl .ui-datepicker-group{float:right}.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header{border-right-width:0;border-left-width:1px}.ui-datepicker .ui-icon{display:block;text-indent:-99999px;overflow:hidden;background-repeat:no-repeat;left:.5em;top:.3em}.ui-dialog{position:absolute;top:0;left:0;padding:.2em;outline:0}.ui-dialog .ui-dialog-titlebar{padding:.4em 1em;position:relative}.ui-dialog .ui-dialog-title{float:left;margin:.1em 0;white-space:nowrap;width:90%;overflow:hidden;text-overflow:ellipsis}.ui-dialog .ui-dialog-titlebar-close{position:absolute;right:.3em;top:50%;width:20px;margin:-10px 0 0;padding:1px;height:20px}.ui-dialog .ui-dialog-content{position:relative;border:0;padding:.5em 1em;background:none;overflow:auto}.ui-dialog .ui-dialog-buttonpane{text-align:left;border-width:1px 0 0;background-image:none;margin-top:.5em;padding:.3em 1em .5em .4em}.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{float:right}.ui-dialog .ui-dialog-buttonpane button{margin:.5em .4em .5em 0;cursor:pointer}.ui-dialog .ui-resizable-n{height:2px;top:0}.ui-dialog .ui-resizable-e{width:2px;right:0}.ui-dialog .ui-resizable-s{height:2px;bottom:0}.ui-dialog .ui-resizable-w{width:2px;left:0}.ui-dialog .ui-resizable-ne,.ui-dialog .ui-resizable-nw,.ui-dialog .ui-resizable-se,.ui-dialog .ui-resizable-sw{width:7px;height:7px}.ui-dialog .ui-resizable-se{right:0;bottom:0}.ui-dialog .ui-resizable-sw{left:0;bottom:0}.ui-dialog .ui-resizable-ne{right:0;top:0}.ui-dialog .ui-resizable-nw{left:0;top:0}.ui-draggable .ui-dialog-titlebar{cursor:move}.ui-draggable-handle{-ms-touch-action:none;touch-action:none}.ui-resizable{position:relative}.ui-resizable-handle{position:absolute;font-size:.1px;display:block;-ms-touch-action:none;touch-action:none}.ui-resizable-autohide .ui-resizable-handle,.ui-resizable-disabled .ui-resizable-handle{display:none}.ui-resizable-n{cursor:n-resize;height:7px;width:100%;top:-5px;left:0}.ui-resizable-s{cursor:s-resize;height:7px;width:100%;bottom:-5px;left:0}.ui-resizable-e{cursor:e-resize;width:7px;right:-5px;top:0;height:100%}.ui-resizable-w{cursor:w-resize;width:7px;left:-5px;top:0;height:100%}.ui-resizable-se{cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.ui-resizable-sw{cursor:sw-resize;width:9px;height:9px;left:-5px;bottom:-5px}.ui-resizable-nw{cursor:nw-resize;width:9px;height:9px;left:-5px;top:-5px}.ui-resizable-ne{cursor:ne-resize;width:9px;height:9px;right:-5px;top:-5px}.ui-progressbar{height:2em;text-align:left;overflow:hidden}.ui-progressbar .ui-progressbar-value{margin:-1px;height:100%}.ui-progressbar .ui-progressbar-overlay{background:url(\"data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==\");height:100%;filter:alpha(opacity=25);opacity:.25}.ui-progressbar-indeterminate .ui-progressbar-value{background-image:none}.ui-selectable{-ms-touch-action:none;touch-action:none}.ui-selectable-helper{position:absolute;z-index:100;border:1px dotted #000}.ui-selectmenu-menu{padding:0;margin:0;position:absolute;top:0;left:0;display:none}.ui-selectmenu-menu .ui-menu{overflow:auto;overflow-x:hidden;padding-bottom:1px}.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup{font-size:1em;font-weight:700;line-height:1.5;padding:2px .4em;margin:.5em 0 0;height:auto;border:0}.ui-selectmenu-open{display:block}.ui-selectmenu-text{display:block;margin-right:20px;overflow:hidden;text-overflow:ellipsis}.ui-selectmenu-button.ui-button{text-align:left;white-space:nowrap;width:14em}.ui-selectmenu-icon.ui-icon{float:right;margin-top:0}.ui-slider{position:relative;text-align:left}.ui-slider .ui-slider-handle{position:absolute;z-index:2;width:1.2em;height:1.2em;cursor:default;-ms-touch-action:none;touch-action:none}.ui-slider .ui-slider-range{position:absolute;z-index:1;font-size:.7em;display:block;border:0;background-position:0 0}.ui-slider.ui-state-disabled .ui-slider-handle,.ui-slider.ui-state-disabled .ui-slider-range{-webkit-filter:inherit;filter:inherit}.ui-slider-horizontal{height:.8em}.ui-slider-horizontal .ui-slider-handle{top:-.3em;margin-left:-.6em}.ui-slider-horizontal .ui-slider-range{top:0;height:100%}.ui-slider-horizontal .ui-slider-range-min{left:0}.ui-slider-horizontal .ui-slider-range-max{right:0}.ui-slider-vertical{width:.8em;height:100px}.ui-slider-vertical .ui-slider-handle{left:-.3em;margin-left:0;margin-bottom:-.6em}.ui-slider-vertical .ui-slider-range{left:0;width:100%}.ui-slider-vertical .ui-slider-range-min{bottom:0}.ui-slider-vertical .ui-slider-range-max{top:0}.ui-sortable-handle{-ms-touch-action:none;touch-action:none}.ui-spinner{position:relative;display:inline-block;overflow:hidden;padding:0;vertical-align:middle}.ui-spinner-input{border:none;background:none;color:inherit;padding:.222em 0;margin:.2em 0;vertical-align:middle;margin-left:.4em;margin-right:2em}.ui-spinner-button{width:1.6em;height:50%;font-size:.5em;padding:0;margin:0;text-align:center;position:absolute;cursor:default;display:block;overflow:hidden;right:0}.ui-spinner a.ui-spinner-button{border-top-style:none;border-bottom-style:none;border-right-style:none}.ui-spinner-up{top:0}.ui-spinner-down{bottom:0}.ui-tabs{position:relative;padding:.2em}.ui-tabs .ui-tabs-nav{margin:0;padding:.2em .2em 0}.ui-tabs .ui-tabs-nav li{list-style:none;float:left;position:relative;top:0;margin:1px .2em 0 0;border-bottom-width:0;padding:0;white-space:nowrap}.ui-tabs .ui-tabs-nav .ui-tabs-anchor{float:left;padding:.5em 1em;text-decoration:none}.ui-tabs .ui-tabs-nav li.ui-tabs-active{margin-bottom:-1px;padding-bottom:1px}.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor{cursor:text}.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor{cursor:pointer}.ui-tabs .ui-tabs-panel{display:block;border-width:0;padding:1em 1.4em;background:none}.ui-tooltip{padding:8px;position:absolute;z-index:9999;max-width:300px}body .ui-tooltip{border-width:2px}.ui-widget{font-family:Arial,Helvetica,sans-serif}.ui-widget,.ui-widget .ui-widget{font-size:1em}.ui-widget button,.ui-widget input,.ui-widget select,.ui-widget textarea{font-family:Arial,Helvetica,sans-serif;font-size:1em}.ui-widget.ui-widget-content{border:1px solid #c5c5c5}.ui-widget-content{border:1px solid #ddd;background:#fff;color:#333}.ui-widget-content a{color:#333}.ui-widget-header{border:1px solid #ddd;background:#e9e9e9;color:#333;font-weight:700}.ui-widget-header a{color:#333}.ui-button,.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default,html .ui-button.ui-state-disabled:active,html .ui-button.ui-state-disabled:hover{border:1px solid #c5c5c5;background:#f6f6f6;font-weight:400;color:#454545}.ui-button,.ui-state-default a,.ui-state-default a:link,.ui-state-default a:visited,a.ui-button,a:link.ui-button,a:visited.ui-button{color:#454545;text-decoration:none}.ui-button:focus,.ui-button:hover,.ui-state-focus,.ui-state-hover,.ui-widget-content .ui-state-focus,.ui-widget-content .ui-state-hover,.ui-widget-header .ui-state-focus,.ui-widget-header .ui-state-hover{border:1px solid #ccc;background:#ededed;font-weight:400;color:#2b2b2b}.ui-state-focus a,.ui-state-focus a:hover,.ui-state-focus a:link,.ui-state-focus a:visited,.ui-state-hover a,.ui-state-hover a:hover,.ui-state-hover a:link,.ui-state-hover a:visited,a.ui-button:focus,a.ui-button:hover{color:#2b2b2b;text-decoration:none}.ui-visual-focus{box-shadow:0 0 3px 1px #5e9ed6}.ui-button.ui-state-active:hover,.ui-button:active,.ui-state-active,.ui-widget-content .ui-state-active,.ui-widget-header .ui-state-active,a.ui-button:active{border:1px solid #003eff;background:#007fff;font-weight:400;color:#fff}.ui-icon-background,.ui-state-active .ui-icon-background{border:#003eff;background-color:#fff}.ui-state-active a,.ui-state-active a:link,.ui-state-active a:visited{color:#fff;text-decoration:none}.ui-state-highlight,.ui-widget-content .ui-state-highlight,.ui-widget-header .ui-state-highlight{border:1px solid #dad55e;background:#fffa90;color:#777620}.ui-state-checked{border:1px solid #dad55e;background:#fffa90}.ui-state-highlight a,.ui-widget-content .ui-state-highlight a,.ui-widget-header .ui-state-highlight a{color:#777620}.ui-state-error,.ui-widget-content .ui-state-error,.ui-widget-header .ui-state-error{border:1px solid #f1a899;background:#fddfdf;color:#5f3f3f}.ui-state-error-text,.ui-state-error a,.ui-widget-content .ui-state-error-text,.ui-widget-content .ui-state-error a,.ui-widget-header .ui-state-error-text,.ui-widget-header .ui-state-error a{color:#5f3f3f}.ui-priority-primary,.ui-widget-content .ui-priority-primary,.ui-widget-header .ui-priority-primary{font-weight:700}.ui-priority-secondary,.ui-widget-content .ui-priority-secondary,.ui-widget-header .ui-priority-secondary{opacity:.7;filter:Alpha(Opacity=70);font-weight:400}.ui-state-disabled,.ui-widget-content .ui-state-disabled,.ui-widget-header .ui-state-disabled{opacity:.35;filter:Alpha(Opacity=35);background-image:none}.ui-state-disabled .ui-icon{filter:Alpha(Opacity=35)}.ui-icon{width:16px;height:16px}.ui-icon,.ui-widget-content .ui-icon,.ui-widget-header .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_444444_256x240.png\")}.ui-button:focus .ui-icon,.ui-button:hover .ui-icon,.ui-state-focus .ui-icon,.ui-state-hover .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_555555_256x240.png\")}.ui-button:active .ui-icon,.ui-state-active .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_ffffff_256x240.png\")}.ui-button .ui-state-highlight.ui-icon,.ui-state-highlight .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_777620_256x240.png\")}.ui-state-error-text .ui-icon,.ui-state-error .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_cc0000_256x240.png\")}.ui-button .ui-icon{background-image:url(\"jspm_packages/github/components/jqueryui@1.12.1/themes/base/images/ui-icons_777777_256x240.png\")}.ui-icon-blank{background-position:16px 16px}.ui-icon-caret-1-n{background-position:0 0}.ui-icon-caret-1-ne{background-position:-16px 0}.ui-icon-caret-1-e{background-position:-32px 0}.ui-icon-caret-1-se{background-position:-48px 0}.ui-icon-caret-1-s{background-position:-65px 0}.ui-icon-caret-1-sw{background-position:-80px 0}.ui-icon-caret-1-w{background-position:-96px 0}.ui-icon-caret-1-nw{background-position:-112px 0}.ui-icon-caret-2-n-s{background-position:-128px 0}.ui-icon-caret-2-e-w{background-position:-144px 0}.ui-icon-triangle-1-n{background-position:0 -16px}.ui-icon-triangle-1-ne{background-position:-16px -16px}.ui-icon-triangle-1-e{background-position:-32px -16px}.ui-icon-triangle-1-se{background-position:-48px -16px}.ui-icon-triangle-1-s{background-position:-65px -16px}.ui-icon-triangle-1-sw{background-position:-80px -16px}.ui-icon-triangle-1-w{background-position:-96px -16px}.ui-icon-triangle-1-nw{background-position:-112px -16px}.ui-icon-triangle-2-n-s{background-position:-128px -16px}.ui-icon-triangle-2-e-w{background-position:-144px -16px}.ui-icon-arrow-1-n{background-position:0 -32px}.ui-icon-arrow-1-ne{background-position:-16px -32px}.ui-icon-arrow-1-e{background-position:-32px -32px}.ui-icon-arrow-1-se{background-position:-48px -32px}.ui-icon-arrow-1-s{background-position:-65px -32px}.ui-icon-arrow-1-sw{background-position:-80px -32px}.ui-icon-arrow-1-w{background-position:-96px -32px}.ui-icon-arrow-1-nw{background-position:-112px -32px}.ui-icon-arrow-2-n-s{background-position:-128px -32px}.ui-icon-arrow-2-ne-sw{background-position:-144px -32px}.ui-icon-arrow-2-e-w{background-position:-160px -32px}.ui-icon-arrow-2-se-nw{background-position:-176px -32px}.ui-icon-arrowstop-1-n{background-position:-192px -32px}.ui-icon-arrowstop-1-e{background-position:-208px -32px}.ui-icon-arrowstop-1-s{background-position:-224px -32px}.ui-icon-arrowstop-1-w{background-position:-240px -32px}.ui-icon-arrowthick-1-n{background-position:1px -48px}.ui-icon-arrowthick-1-ne{background-position:-16px -48px}.ui-icon-arrowthick-1-e{background-position:-32px -48px}.ui-icon-arrowthick-1-se{background-position:-48px -48px}.ui-icon-arrowthick-1-s{background-position:-64px -48px}.ui-icon-arrowthick-1-sw{background-position:-80px -48px}.ui-icon-arrowthick-1-w{background-position:-96px -48px}.ui-icon-arrowthick-1-nw{background-position:-112px -48px}.ui-icon-arrowthick-2-n-s{background-position:-128px -48px}.ui-icon-arrowthick-2-ne-sw{background-position:-144px -48px}.ui-icon-arrowthick-2-e-w{background-position:-160px -48px}.ui-icon-arrowthick-2-se-nw{background-position:-176px -48px}.ui-icon-arrowthickstop-1-n{background-position:-192px -48px}.ui-icon-arrowthickstop-1-e{background-position:-208px -48px}.ui-icon-arrowthickstop-1-s{background-position:-224px -48px}.ui-icon-arrowthickstop-1-w{background-position:-240px -48px}.ui-icon-arrowreturnthick-1-w{background-position:0 -64px}.ui-icon-arrowreturnthick-1-n{background-position:-16px -64px}.ui-icon-arrowreturnthick-1-e{background-position:-32px -64px}.ui-icon-arrowreturnthick-1-s{background-position:-48px -64px}.ui-icon-arrowreturn-1-w{background-position:-64px -64px}.ui-icon-arrowreturn-1-n{background-position:-80px -64px}.ui-icon-arrowreturn-1-e{background-position:-96px -64px}.ui-icon-arrowreturn-1-s{background-position:-112px -64px}.ui-icon-arrowrefresh-1-w{background-position:-128px -64px}.ui-icon-arrowrefresh-1-n{background-position:-144px -64px}.ui-icon-arrowrefresh-1-e{background-position:-160px -64px}.ui-icon-arrowrefresh-1-s{background-position:-176px -64px}.ui-icon-arrow-4{background-position:0 -80px}.ui-icon-arrow-4-diag{background-position:-16px -80px}.ui-icon-extlink{background-position:-32px -80px}.ui-icon-newwin{background-position:-48px -80px}.ui-icon-refresh{background-position:-64px -80px}.ui-icon-shuffle{background-position:-80px -80px}.ui-icon-transfer-e-w{background-position:-96px -80px}.ui-icon-transferthick-e-w{background-position:-112px -80px}.ui-icon-folder-collapsed{background-position:0 -96px}.ui-icon-folder-open{background-position:-16px -96px}.ui-icon-document{background-position:-32px -96px}.ui-icon-document-b{background-position:-48px -96px}.ui-icon-note{background-position:-64px -96px}.ui-icon-mail-closed{background-position:-80px -96px}.ui-icon-mail-open{background-position:-96px -96px}.ui-icon-suitcase{background-position:-112px -96px}.ui-icon-comment{background-position:-128px -96px}.ui-icon-person{background-position:-144px -96px}.ui-icon-print{background-position:-160px -96px}.ui-icon-trash{background-position:-176px -96px}.ui-icon-locked{background-position:-192px -96px}.ui-icon-unlocked{background-position:-208px -96px}.ui-icon-bookmark{background-position:-224px -96px}.ui-icon-tag{background-position:-240px -96px}.ui-icon-home{background-position:0 -112px}.ui-icon-flag{background-position:-16px -112px}.ui-icon-calendar{background-position:-32px -112px}.ui-icon-cart{background-position:-48px -112px}.ui-icon-pencil{background-position:-64px -112px}.ui-icon-clock{background-position:-80px -112px}.ui-icon-disk{background-position:-96px -112px}.ui-icon-calculator{background-position:-112px -112px}.ui-icon-zoomin{background-position:-128px -112px}.ui-icon-zoomout{background-position:-144px -112px}.ui-icon-search{background-position:-160px -112px}.ui-icon-wrench{background-position:-176px -112px}.ui-icon-gear{background-position:-192px -112px}.ui-icon-heart{background-position:-208px -112px}.ui-icon-star{background-position:-224px -112px}.ui-icon-link{background-position:-240px -112px}.ui-icon-cancel{background-position:0 -128px}.ui-icon-plus{background-position:-16px -128px}.ui-icon-plusthick{background-position:-32px -128px}.ui-icon-minus{background-position:-48px -128px}.ui-icon-minusthick{background-position:-64px -128px}.ui-icon-close{background-position:-80px -128px}.ui-icon-closethick{background-position:-96px -128px}.ui-icon-key{background-position:-112px -128px}.ui-icon-lightbulb{background-position:-128px -128px}.ui-icon-scissors{background-position:-144px -128px}.ui-icon-clipboard{background-position:-160px -128px}.ui-icon-copy{background-position:-176px -128px}.ui-icon-contact{background-position:-192px -128px}.ui-icon-image{background-position:-208px -128px}.ui-icon-video{background-position:-224px -128px}.ui-icon-script{background-position:-240px -128px}.ui-icon-alert{background-position:0 -144px}.ui-icon-info{background-position:-16px -144px}.ui-icon-notice{background-position:-32px -144px}.ui-icon-help{background-position:-48px -144px}.ui-icon-check{background-position:-64px -144px}.ui-icon-bullet{background-position:-80px -144px}.ui-icon-radio-on{background-position:-96px -144px}.ui-icon-radio-off{background-position:-112px -144px}.ui-icon-pin-w{background-position:-128px -144px}.ui-icon-pin-s{background-position:-144px -144px}.ui-icon-play{background-position:0 -160px}.ui-icon-pause{background-position:-16px -160px}.ui-icon-seek-next{background-position:-32px -160px}.ui-icon-seek-prev{background-position:-48px -160px}.ui-icon-seek-end{background-position:-64px -160px}.ui-icon-seek-first,.ui-icon-seek-start{background-position:-80px -160px}.ui-icon-stop{background-position:-96px -160px}.ui-icon-eject{background-position:-112px -160px}.ui-icon-volume-off{background-position:-128px -160px}.ui-icon-volume-on{background-position:-144px -160px}.ui-icon-power{background-position:0 -176px}.ui-icon-signal-diag{background-position:-16px -176px}.ui-icon-signal{background-position:-32px -176px}.ui-icon-battery-0{background-position:-48px -176px}.ui-icon-battery-1{background-position:-64px -176px}.ui-icon-battery-2{background-position:-80px -176px}.ui-icon-battery-3{background-position:-96px -176px}.ui-icon-circle-plus{background-position:0 -192px}.ui-icon-circle-minus{background-position:-16px -192px}.ui-icon-circle-close{background-position:-32px -192px}.ui-icon-circle-triangle-e{background-position:-48px -192px}.ui-icon-circle-triangle-s{background-position:-64px -192px}.ui-icon-circle-triangle-w{background-position:-80px -192px}.ui-icon-circle-triangle-n{background-position:-96px -192px}.ui-icon-circle-arrow-e{background-position:-112px -192px}.ui-icon-circle-arrow-s{background-position:-128px -192px}.ui-icon-circle-arrow-w{background-position:-144px -192px}.ui-icon-circle-arrow-n{background-position:-160px -192px}.ui-icon-circle-zoomin{background-position:-176px -192px}.ui-icon-circle-zoomout{background-position:-192px -192px}.ui-icon-circle-check{background-position:-208px -192px}.ui-icon-circlesmall-plus{background-position:0 -208px}.ui-icon-circlesmall-minus{background-position:-16px -208px}.ui-icon-circlesmall-close{background-position:-32px -208px}.ui-icon-squaresmall-plus{background-position:-48px -208px}.ui-icon-squaresmall-minus{background-position:-64px -208px}.ui-icon-squaresmall-close{background-position:-80px -208px}.ui-icon-grip-dotted-vertical{background-position:0 -224px}.ui-icon-grip-dotted-horizontal{background-position:-16px -224px}.ui-icon-grip-solid-vertical{background-position:-32px -224px}.ui-icon-grip-solid-horizontal{background-position:-48px -224px}.ui-icon-gripsmall-diagonal-se{background-position:-64px -224px}.ui-icon-grip-diagonal-se{background-position:-80px -224px}.ui-corner-all,.ui-corner-left,.ui-corner-tl,.ui-corner-top{border-top-left-radius:3px}.ui-corner-all,.ui-corner-right,.ui-corner-top,.ui-corner-tr{border-top-right-radius:3px}.ui-corner-all,.ui-corner-bl,.ui-corner-bottom,.ui-corner-left{border-bottom-left-radius:3px}.ui-corner-all,.ui-corner-bottom,.ui-corner-br,.ui-corner-right{border-bottom-right-radius:3px}.ui-widget-overlay{background:#aaa;opacity:.3;filter:Alpha(Opacity=30)}.ui-widget-shadow{box-shadow:0 0 5px #666}.select2-container{box-sizing:border-box;display:inline-block;margin:0;position:relative;vertical-align:middle}.select2-container .select2-selection--single{box-sizing:border-box;cursor:pointer;display:block;height:28px;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--single .select2-selection__rendered{display:block;padding-left:8px;padding-right:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-selection--single .select2-selection__clear{position:relative}.select2-container[dir=rtl] .select2-selection--single .select2-selection__rendered{padding-right:8px;padding-left:20px}.select2-container .select2-selection--multiple{box-sizing:border-box;cursor:pointer;display:block;min-height:32px;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.select2-container .select2-selection--multiple .select2-selection__rendered{display:inline-block;overflow:hidden;padding-left:8px;text-overflow:ellipsis;white-space:nowrap}.select2-container .select2-search--inline{float:left}.select2-container .select2-search--inline .select2-search__field{box-sizing:border-box;border:none;font-size:100%;margin-top:5px;padding:0}.select2-container .select2-search--inline .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-dropdown{background-color:#fff;border:1px solid #aaa;border-radius:4px;box-sizing:border-box;display:block;position:absolute;left:-100000px;width:100%;z-index:1051}.select2-results{display:block}.select2-results__options{list-style:none;margin:0;padding:0}.select2-results__option{padding:6px;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.select2-results__option[aria-selected]{cursor:pointer}.select2-container--open .select2-dropdown{left:0}.select2-container--open .select2-dropdown--above{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--open .select2-dropdown--below{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-search--dropdown{display:block;padding:4px}.select2-search--dropdown .select2-search__field{padding:4px;width:100%;box-sizing:border-box}.select2-search--dropdown .select2-search__field::-webkit-search-cancel-button{-webkit-appearance:none}.select2-search--dropdown.select2-search--hide{display:none}.select2-close-mask{border:0;margin:0;padding:0;display:block;position:fixed;left:0;top:0;min-height:100%;min-width:100%;height:auto;width:auto;opacity:0;z-index:99;background-color:#fff;filter:alpha(opacity=0)}.select2-hidden-accessible{border:0!important;clip:rect(0 0 0 0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;width:1px!important}.select2-container--default .select2-selection--single{background-color:#fff;border:1px solid #aaa;border-radius:4px}.select2-container--default .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--default .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:700}.select2-container--default .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--default .select2-selection--single .select2-selection__arrow{height:26px;position:absolute;top:1px;right:1px;width:20px}.select2-container--default .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection__clear{float:left}.select2-container--default[dir=rtl] .select2-selection--single .select2-selection__arrow{left:1px;right:auto}.select2-container--default.select2-container--disabled .select2-selection--single{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection--single .select2-selection__clear{display:none}.select2-container--default.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--default .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text}.select2-container--default .select2-selection--multiple .select2-selection__rendered{box-sizing:border-box;list-style:none;margin:0;padding:0 5px;width:100%}.select2-container--default .select2-selection--multiple .select2-selection__rendered li{list-style:none}.select2-container--default .select2-selection--multiple .select2-selection__placeholder{color:#999;margin-top:5px;float:left}.select2-container--default .select2-selection--multiple .select2-selection__clear{cursor:pointer;float:right;font-weight:700;margin-top:5px;margin-right:10px}.select2-container--default .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove{color:#999;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover{color:#333}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-search--inline,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice,.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__placeholder{float:right}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice{margin-left:5px;margin-right:auto}.select2-container--default[dir=rtl] .select2-selection--multiple .select2-selection__choice__remove{margin-left:2px;margin-right:auto}.select2-container--default.select2-container--focus .select2-selection--multiple{border:1px solid #000;outline:0}.select2-container--default.select2-container--disabled .select2-selection--multiple{background-color:#eee;cursor:default}.select2-container--default.select2-container--disabled .select2-selection__choice__remove{display:none}.select2-container--default.select2-container--open.select2-container--above .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--above .select2-selection--single{border-top-left-radius:0;border-top-right-radius:0}.select2-container--default.select2-container--open.select2-container--below .select2-selection--multiple,.select2-container--default.select2-container--open.select2-container--below .select2-selection--single{border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--default .select2-search--dropdown .select2-search__field{border:1px solid #aaa}.select2-container--default .select2-search--inline .select2-search__field{background:transparent;border:none;outline:0;box-shadow:none;-webkit-appearance:textfield}.select2-container--default .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--default .select2-results__option[role=group]{padding:0}.select2-container--default .select2-results__option[aria-disabled=true]{color:#999}.select2-container--default .select2-results__option[aria-selected=true]{background-color:#ddd}.select2-container--default .select2-results__option .select2-results__option{padding-left:1em}.select2-container--default .select2-results__option .select2-results__option .select2-results__group{padding-left:0}.select2-container--default .select2-results__option .select2-results__option .select2-results__option{margin-left:-1em;padding-left:2em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-2em;padding-left:3em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-3em;padding-left:4em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-4em;padding-left:5em}.select2-container--default .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option .select2-results__option{margin-left:-5em;padding-left:6em}.select2-container--default .select2-results__option--highlighted[aria-selected]{background-color:#5897fb;color:#fff}.select2-container--default .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic .select2-selection--single{background-color:#f7f7f7;border:1px solid #aaa;border-radius:4px;outline:0;background-image:-webkit-linear-gradient(top,#fff 50%,#eee);background-image:linear-gradient(180deg,#fff 50%,#eee);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF',endColorstr='#FFEEEEEE',GradientType=0)}.select2-container--classic .select2-selection--single:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--single .select2-selection__rendered{color:#444;line-height:28px}.select2-container--classic .select2-selection--single .select2-selection__clear{cursor:pointer;float:right;font-weight:700;margin-right:10px}.select2-container--classic .select2-selection--single .select2-selection__placeholder{color:#999}.select2-container--classic .select2-selection--single .select2-selection__arrow{background-color:#ddd;border:none;border-left:1px solid #aaa;border-top-right-radius:4px;border-bottom-right-radius:4px;height:26px;position:absolute;top:1px;right:1px;width:20px;background-image:-webkit-linear-gradient(top,#eee 50%,#ccc);background-image:linear-gradient(180deg,#eee 50%,#ccc);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE',endColorstr='#FFCCCCCC',GradientType=0)}.select2-container--classic .select2-selection--single .select2-selection__arrow b{border-color:#888 transparent transparent;border-style:solid;border-width:5px 4px 0;height:0;left:50%;margin-left:-4px;margin-top:-2px;position:absolute;top:50%;width:0}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection__clear{float:left}.select2-container--classic[dir=rtl] .select2-selection--single .select2-selection__arrow{border:none;border-right:1px solid #aaa;border-radius:0;border-top-left-radius:4px;border-bottom-left-radius:4px;left:1px;right:auto}.select2-container--classic.select2-container--open .select2-selection--single{border:1px solid #5897fb}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow{background:transparent;border:none}.select2-container--classic.select2-container--open .select2-selection--single .select2-selection__arrow b{border-color:transparent transparent #888;border-width:0 4px 5px}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--single{border-top:none;border-top-left-radius:0;border-top-right-radius:0;background-image:-webkit-linear-gradient(top,#fff,#eee 50%);background-image:linear-gradient(180deg,#fff 0,#eee 50%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF',endColorstr='#FFEEEEEE',GradientType=0)}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--single{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0;background-image:-webkit-linear-gradient(top,#eee 50%,#fff);background-image:linear-gradient(180deg,#eee 50%,#fff);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFEEEEEE',endColorstr='#FFFFFFFF',GradientType=0)}.select2-container--classic .select2-selection--multiple{background-color:#fff;border:1px solid #aaa;border-radius:4px;cursor:text;outline:0}.select2-container--classic .select2-selection--multiple:focus{border:1px solid #5897fb}.select2-container--classic .select2-selection--multiple .select2-selection__rendered{list-style:none;margin:0;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection__clear{display:none}.select2-container--classic .select2-selection--multiple .select2-selection__choice{background-color:#e4e4e4;border:1px solid #aaa;border-radius:4px;cursor:default;float:left;margin-right:5px;margin-top:5px;padding:0 5px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove{color:#888;cursor:pointer;display:inline-block;font-weight:700;margin-right:2px}.select2-container--classic .select2-selection--multiple .select2-selection__choice__remove:hover{color:#555}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection__choice{float:right;margin-left:5px;margin-right:auto}.select2-container--classic[dir=rtl] .select2-selection--multiple .select2-selection__choice__remove{margin-left:2px;margin-right:auto}.select2-container--classic.select2-container--open .select2-selection--multiple{border:1px solid #5897fb}.select2-container--classic.select2-container--open.select2-container--above .select2-selection--multiple{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.select2-container--classic.select2-container--open.select2-container--below .select2-selection--multiple{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.select2-container--classic .select2-search--dropdown .select2-search__field{border:1px solid #aaa;outline:0}.select2-container--classic .select2-search--inline .select2-search__field{outline:0;box-shadow:none}.select2-container--classic .select2-dropdown{background-color:#fff;border:1px solid transparent}.select2-container--classic .select2-dropdown--above{border-bottom:none}.select2-container--classic .select2-dropdown--below{border-top:none}.select2-container--classic .select2-results>.select2-results__options{max-height:200px;overflow-y:auto}.select2-container--classic .select2-results__option[role=group]{padding:0}.select2-container--classic .select2-results__option[aria-disabled=true]{color:grey}.select2-container--classic .select2-results__option--highlighted[aria-selected]{background-color:#3875d7;color:#fff}.select2-container--classic .select2-results__group{cursor:default;display:block;padding:6px}.select2-container--classic.select2-container--open .select2-dropdown{border-color:#5897fb}\n/*# sourceMappingURL=__.css.map */");